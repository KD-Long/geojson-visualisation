var KV=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var Jme=KV((Oe,no)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function W2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var aL={exports:{}},f7={},lL={exports:{}},nn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x4=Symbol.for("react.element"),JV=Symbol.for("react.portal"),$V=Symbol.for("react.fragment"),ZV=Symbol.for("react.strict_mode"),eW=Symbol.for("react.profiler"),tW=Symbol.for("react.provider"),nW=Symbol.for("react.context"),iW=Symbol.for("react.forward_ref"),rW=Symbol.for("react.suspense"),sW=Symbol.for("react.memo"),oW=Symbol.for("react.lazy"),LM=Symbol.iterator;function aW(n){return n===null||typeof n!="object"?null:(n=LM&&n[LM]||n["@@iterator"],typeof n=="function"?n:null)}var cL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uL=Object.assign,hL={};function j2(n,e,t){this.props=n,this.context=e,this.refs=hL,this.updater=t||cL}j2.prototype.isReactComponent={};j2.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};j2.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function fL(){}fL.prototype=j2.prototype;function uE(n,e,t){this.props=n,this.context=e,this.refs=hL,this.updater=t||cL}var hE=uE.prototype=new fL;hE.constructor=uE;uL(hE,j2.prototype);hE.isPureReactComponent=!0;var DM=Array.isArray,dL=Object.prototype.hasOwnProperty,fE={current:null},pL={key:!0,ref:!0,__self:!0,__source:!0};function gL(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)dL.call(e,i)&&!pL.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:x4,type:n,key:s,ref:o,props:r,_owner:fE.current}}function lW(n,e){return{$$typeof:x4,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function dE(n){return typeof n=="object"&&n!==null&&n.$$typeof===x4}function cW(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var OM=/\/+/g;function Pm(n,e){return typeof n=="object"&&n!==null&&n.key!=null?cW(""+n.key):e.toString(36)}function $6(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case x4:case JV:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+Pm(o,0):i,DM(r)?(t="",n!=null&&(t=n.replace(OM,"$&/")+"/"),$6(r,e,t,"",function(c){return c})):r!=null&&(dE(r)&&(r=lW(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(OM,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",DM(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+Pm(s,a);o+=$6(s,e,t,l,r)}else if(l=aW(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+Pm(s,a++),o+=$6(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function rp(n,e,t){if(n==null)return n;var i=[],r=0;return $6(n,i,"","",function(s){return e.call(t,s,r++)}),i}function uW(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var cs={current:null},Z6={transition:null},hW={ReactCurrentDispatcher:cs,ReactCurrentBatchConfig:Z6,ReactCurrentOwner:fE};nn.Children={map:rp,forEach:function(n,e,t){rp(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return rp(n,function(){e++}),e},toArray:function(n){return rp(n,function(e){return e})||[]},only:function(n){if(!dE(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};nn.Component=j2;nn.Fragment=$V;nn.Profiler=eW;nn.PureComponent=uE;nn.StrictMode=ZV;nn.Suspense=rW;nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hW;nn.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=uL({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=fE.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)dL.call(e,l)&&!pL.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:x4,type:n.type,key:r,ref:s,props:i,_owner:o}};nn.createContext=function(n){return n={$$typeof:nW,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:tW,_context:n},n.Consumer=n};nn.createElement=gL;nn.createFactory=function(n){var e=gL.bind(null,n);return e.type=n,e};nn.createRef=function(){return{current:null}};nn.forwardRef=function(n){return{$$typeof:iW,render:n}};nn.isValidElement=dE;nn.lazy=function(n){return{$$typeof:oW,_payload:{_status:-1,_result:n},_init:uW}};nn.memo=function(n,e){return{$$typeof:sW,type:n,compare:e===void 0?null:e}};nn.startTransition=function(n){var e=Z6.transition;Z6.transition={};try{n()}finally{Z6.transition=e}};nn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};nn.useCallback=function(n,e){return cs.current.useCallback(n,e)};nn.useContext=function(n){return cs.current.useContext(n)};nn.useDebugValue=function(){};nn.useDeferredValue=function(n){return cs.current.useDeferredValue(n)};nn.useEffect=function(n,e){return cs.current.useEffect(n,e)};nn.useId=function(){return cs.current.useId()};nn.useImperativeHandle=function(n,e,t){return cs.current.useImperativeHandle(n,e,t)};nn.useInsertionEffect=function(n,e){return cs.current.useInsertionEffect(n,e)};nn.useLayoutEffect=function(n,e){return cs.current.useLayoutEffect(n,e)};nn.useMemo=function(n,e){return cs.current.useMemo(n,e)};nn.useReducer=function(n,e,t){return cs.current.useReducer(n,e,t)};nn.useRef=function(n){return cs.current.useRef(n)};nn.useState=function(n){return cs.current.useState(n)};nn.useSyncExternalStore=function(n,e,t){return cs.current.useSyncExternalStore(n,e,t)};nn.useTransition=function(){return cs.current.useTransition()};nn.version="18.2.0";lL.exports=nn;var ne=lL.exports;const ns=W2(ne);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fW=ne,dW=Symbol.for("react.element"),pW=Symbol.for("react.fragment"),gW=Object.prototype.hasOwnProperty,mW=fW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AW={key:!0,ref:!0,__self:!0,__source:!0};function mL(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)gW.call(e,i)&&!AW.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:dW,type:n,key:s,ref:o,props:r,_owner:mW.current}}f7.Fragment=pW;f7.jsx=mL;f7.jsxs=mL;aL.exports=f7;var te=aL.exports,Kv={},AL={exports:{}},fo={},vL={exports:{}},yL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(L,D){var F=L.length;L.push(D);e:for(;0<F;){var z=F-1>>>1,U=L[z];if(0<r(U,D))L[z]=D,L[F]=U,F=z;else break e}}function t(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var D=L[0],F=L.pop();if(F!==D){L[0]=F;e:for(var z=0,U=L.length,$=U>>>1;z<$;){var ee=2*(z+1)-1,ie=L[ee],se=ee+1,re=L[se];if(0>r(ie,F))se<U&&0>r(re,ie)?(L[z]=re,L[se]=F,z=se):(L[z]=ie,L[ee]=F,z=ee);else if(se<U&&0>r(re,F))L[z]=re,L[se]=F,z=se;else break e}}return D}function r(L,D){var F=L.sortIndex-D.sortIndex;return F!==0?F:L.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,p=!1,m=!1,S=!1,v=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var D=t(c);D!==null;){if(D.callback===null)i(c);else if(D.startTime<=L)i(c),D.sortIndex=D.expirationTime,e(l,D);else break;D=t(c)}}function C(L){if(S=!1,x(L),!m)if(t(l)!==null)m=!0,q(w);else{var D=t(c);D!==null&&J(C,D.startTime-L)}}function w(L,D){m=!1,S&&(S=!1,A(R),R=-1),p=!0;var F=f;try{for(x(D),h=t(l);h!==null&&(!(h.expirationTime>D)||L&&!P());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var U=z(h.expirationTime<=D);D=n.unstable_now(),typeof U=="function"?h.callback=U:h===t(l)&&i(l),x(D)}else i(l);h=t(l)}if(h!==null)var $=!0;else{var ee=t(c);ee!==null&&J(C,ee.startTime-D),$=!1}return $}finally{h=null,f=F,p=!1}}var M=!1,T=null,R=-1,b=5,B=-1;function P(){return!(n.unstable_now()-B<b)}function O(){if(T!==null){var L=n.unstable_now();B=L;var D=!0;try{D=T(!0,L)}finally{D?G():(M=!1,T=null)}}else M=!1}var G;if(typeof y=="function")G=function(){y(O)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,j=H.port2;H.port1.onmessage=O,G=function(){j.postMessage(null)}}else G=function(){v(O,0)};function q(L){T=L,M||(M=!0,G())}function J(L,D){R=v(function(){L(n.unstable_now())},D)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){m||p||(m=!0,q(w))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(L){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var F=f;f=D;try{return L()}finally{f=F}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,D){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var F=f;f=L;try{return D()}finally{f=F}},n.unstable_scheduleCallback=function(L,D,F){var z=n.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?z+F:z):F=z,L){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=F+U,L={id:u++,callback:D,priorityLevel:L,startTime:F,expirationTime:U,sortIndex:-1},F>z?(L.sortIndex=F,e(c,L),t(l)===null&&L===t(c)&&(S?(A(R),R=-1):S=!0,J(C,F-z))):(L.sortIndex=U,e(l,L),m||p||(m=!0,q(w))),L},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(L){var D=f;return function(){var F=f;f=D;try{return L.apply(this,arguments)}finally{f=F}}}})(yL);vL.exports=yL;var vW=vL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xL=ne,oo=vW;function Ye(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var SL=new Set,cd={};function x3(n,e){y2(n,e),y2(n+"Capture",e)}function y2(n,e){for(cd[n]=e,n=0;n<e.length;n++)SL.add(e[n])}var i1=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jv=Object.prototype.hasOwnProperty,yW=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,NM={},FM={};function xW(n){return Jv.call(FM,n)?!0:Jv.call(NM,n)?!1:yW.test(n)?FM[n]=!0:(NM[n]=!0,!1)}function SW(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function EW(n,e,t,i){if(e===null||typeof e>"u"||SW(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function us(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){vr[n]=new us(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];vr[e]=new us(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){vr[n]=new us(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){vr[n]=new us(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){vr[n]=new us(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){vr[n]=new us(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){vr[n]=new us(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){vr[n]=new us(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){vr[n]=new us(n,5,!1,n.toLowerCase(),null,!1,!1)});var pE=/[\-:]([a-z])/g;function gE(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(pE,gE);vr[e]=new us(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(pE,gE);vr[e]=new us(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(pE,gE);vr[e]=new us(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){vr[n]=new us(n,1,!1,n.toLowerCase(),null,!1,!1)});vr.xlinkHref=new us("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){vr[n]=new us(n,1,!1,n.toLowerCase(),null,!0,!0)});function mE(n,e,t,i){var r=vr.hasOwnProperty(e)?vr[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(EW(e,t,r,i)&&(t=null),i||r===null?xW(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var p1=xL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sp=Symbol.for("react.element"),Ih=Symbol.for("react.portal"),Rh=Symbol.for("react.fragment"),AE=Symbol.for("react.strict_mode"),$v=Symbol.for("react.profiler"),EL=Symbol.for("react.provider"),CL=Symbol.for("react.context"),vE=Symbol.for("react.forward_ref"),Zv=Symbol.for("react.suspense"),ey=Symbol.for("react.suspense_list"),yE=Symbol.for("react.memo"),H1=Symbol.for("react.lazy"),wL=Symbol.for("react.offscreen"),UM=Symbol.iterator;function O0(n){return n===null||typeof n!="object"?null:(n=UM&&n[UM]||n["@@iterator"],typeof n=="function"?n:null)}var ai=Object.assign,Lm;function yf(n){if(Lm===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Lm=e&&e[1]||""}return`
`+Lm+n}var Dm=!1;function Om(n,e){if(!n||Dm)return"";Dm=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Dm=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?yf(n):""}function CW(n){switch(n.tag){case 5:return yf(n.type);case 16:return yf("Lazy");case 13:return yf("Suspense");case 19:return yf("SuspenseList");case 0:case 2:case 15:return n=Om(n.type,!1),n;case 11:return n=Om(n.type.render,!1),n;case 1:return n=Om(n.type,!0),n;default:return""}}function ty(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Rh:return"Fragment";case Ih:return"Portal";case $v:return"Profiler";case AE:return"StrictMode";case Zv:return"Suspense";case ey:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case CL:return(n.displayName||"Context")+".Consumer";case EL:return(n._context.displayName||"Context")+".Provider";case vE:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case yE:return e=n.displayName||null,e!==null?e:ty(n.type)||"Memo";case H1:e=n._payload,n=n._init;try{return ty(n(e))}catch{}}return null}function wW(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ty(e);case 8:return e===AE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vc(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function _L(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _W(n){var e=_L(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function op(n){n._valueTracker||(n._valueTracker=_W(n))}function ML(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=_L(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function G8(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function ny(n,e){var t=e.checked;return ai({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function GM(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=vc(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function TL(n,e){e=e.checked,e!=null&&mE(n,"checked",e,!1)}function iy(n,e){TL(n,e);var t=vc(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?ry(n,e.type,t):e.hasOwnProperty("defaultValue")&&ry(n,e.type,vc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function zM(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function ry(n,e,t){(e!=="number"||G8(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var xf=Array.isArray;function e2(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+vc(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function sy(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ye(91));return ai({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function QM(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ye(92));if(xf(t)){if(1<t.length)throw Error(Ye(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:vc(t)}}function bL(n,e){var t=vc(e.value),i=vc(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function HM(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function IL(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oy(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?IL(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ap,RL=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(ap=ap||document.createElement("div"),ap.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ap.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function ud(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Of={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MW=["Webkit","ms","Moz","O"];Object.keys(Of).forEach(function(n){MW.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Of[e]=Of[n]})});function BL(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Of.hasOwnProperty(n)&&Of[n]?(""+e).trim():e+"px"}function kL(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=BL(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var TW=ai({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ay(n,e){if(e){if(TW[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ye(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ye(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ye(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ye(62))}}function ly(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cy=null;function xE(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var uy=null,t2=null,n2=null;function VM(n){if(n=C4(n)){if(typeof uy!="function")throw Error(Ye(280));var e=n.stateNode;e&&(e=A7(e),uy(n.stateNode,n.type,e))}}function PL(n){t2?n2?n2.push(n):n2=[n]:t2=n}function LL(){if(t2){var n=t2,e=n2;if(n2=t2=null,VM(n),e)for(n=0;n<e.length;n++)VM(e[n])}}function DL(n,e){return n(e)}function OL(){}var Nm=!1;function NL(n,e,t){if(Nm)return n(e,t);Nm=!0;try{return DL(n,e,t)}finally{Nm=!1,(t2!==null||n2!==null)&&(OL(),LL())}}function hd(n,e){var t=n.stateNode;if(t===null)return null;var i=A7(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ye(231,e,typeof t));return t}var hy=!1;if(i1)try{var N0={};Object.defineProperty(N0,"passive",{get:function(){hy=!0}}),window.addEventListener("test",N0,N0),window.removeEventListener("test",N0,N0)}catch{hy=!1}function bW(n,e,t,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Nf=!1,z8=null,Q8=!1,fy=null,IW={onError:function(n){Nf=!0,z8=n}};function RW(n,e,t,i,r,s,o,a,l){Nf=!1,z8=null,bW.apply(IW,arguments)}function BW(n,e,t,i,r,s,o,a,l){if(RW.apply(this,arguments),Nf){if(Nf){var c=z8;Nf=!1,z8=null}else throw Error(Ye(198));Q8||(Q8=!0,fy=c)}}function S3(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function FL(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function WM(n){if(S3(n)!==n)throw Error(Ye(188))}function kW(n){var e=n.alternate;if(!e){if(e=S3(n),e===null)throw Error(Ye(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return WM(r),n;if(s===i)return WM(r),e;s=s.sibling}throw Error(Ye(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(Ye(189))}}if(t.alternate!==i)throw Error(Ye(190))}if(t.tag!==3)throw Error(Ye(188));return t.stateNode.current===t?n:e}function UL(n){return n=kW(n),n!==null?GL(n):null}function GL(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=GL(n);if(e!==null)return e;n=n.sibling}return null}var zL=oo.unstable_scheduleCallback,jM=oo.unstable_cancelCallback,PW=oo.unstable_shouldYield,LW=oo.unstable_requestPaint,wi=oo.unstable_now,DW=oo.unstable_getCurrentPriorityLevel,SE=oo.unstable_ImmediatePriority,QL=oo.unstable_UserBlockingPriority,H8=oo.unstable_NormalPriority,OW=oo.unstable_LowPriority,HL=oo.unstable_IdlePriority,d7=null,il=null;function NW(n){if(il&&typeof il.onCommitFiberRoot=="function")try{il.onCommitFiberRoot(d7,n,void 0,(n.current.flags&128)===128)}catch{}}var pa=Math.clz32?Math.clz32:GW,FW=Math.log,UW=Math.LN2;function GW(n){return n>>>=0,n===0?32:31-(FW(n)/UW|0)|0}var lp=64,cp=4194304;function Sf(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function V8(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=Sf(a):(s&=o,s!==0&&(i=Sf(s)))}else o=t&~r,o!==0?i=Sf(o):s!==0&&(i=Sf(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-pa(e),r=1<<t,i|=n[t],e&=~r;return i}function zW(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QW(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-pa(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=zW(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function dy(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function VL(){var n=lp;return lp<<=1,!(lp&4194240)&&(lp=64),n}function Fm(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function S4(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-pa(e),n[e]=t}function HW(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-pa(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function EE(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-pa(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var En=0;function WL(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var jL,CE,XL,qL,YL,py=!1,up=[],rc=null,sc=null,oc=null,fd=new Map,dd=new Map,X1=[],VW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function XM(n,e){switch(n){case"focusin":case"focusout":rc=null;break;case"dragenter":case"dragleave":sc=null;break;case"mouseover":case"mouseout":oc=null;break;case"pointerover":case"pointerout":fd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":dd.delete(e.pointerId)}}function F0(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=C4(e),e!==null&&CE(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function WW(n,e,t,i,r){switch(e){case"focusin":return rc=F0(rc,n,e,t,i,r),!0;case"dragenter":return sc=F0(sc,n,e,t,i,r),!0;case"mouseover":return oc=F0(oc,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return fd.set(s,F0(fd.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,dd.set(s,F0(dd.get(s)||null,n,e,t,i,r)),!0}return!1}function KL(n){var e=ku(n.target);if(e!==null){var t=S3(e);if(t!==null){if(e=t.tag,e===13){if(e=FL(t),e!==null){n.blockedOn=e,YL(n.priority,function(){XL(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function e8(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=gy(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);cy=i,t.target.dispatchEvent(i),cy=null}else return e=C4(t),e!==null&&CE(e),n.blockedOn=t,!1;e.shift()}return!0}function qM(n,e,t){e8(n)&&t.delete(e)}function jW(){py=!1,rc!==null&&e8(rc)&&(rc=null),sc!==null&&e8(sc)&&(sc=null),oc!==null&&e8(oc)&&(oc=null),fd.forEach(qM),dd.forEach(qM)}function U0(n,e){n.blockedOn===e&&(n.blockedOn=null,py||(py=!0,oo.unstable_scheduleCallback(oo.unstable_NormalPriority,jW)))}function pd(n){function e(r){return U0(r,n)}if(0<up.length){U0(up[0],n);for(var t=1;t<up.length;t++){var i=up[t];i.blockedOn===n&&(i.blockedOn=null)}}for(rc!==null&&U0(rc,n),sc!==null&&U0(sc,n),oc!==null&&U0(oc,n),fd.forEach(e),dd.forEach(e),t=0;t<X1.length;t++)i=X1[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<X1.length&&(t=X1[0],t.blockedOn===null);)KL(t),t.blockedOn===null&&X1.shift()}var i2=p1.ReactCurrentBatchConfig,W8=!0;function XW(n,e,t,i){var r=En,s=i2.transition;i2.transition=null;try{En=1,wE(n,e,t,i)}finally{En=r,i2.transition=s}}function qW(n,e,t,i){var r=En,s=i2.transition;i2.transition=null;try{En=4,wE(n,e,t,i)}finally{En=r,i2.transition=s}}function wE(n,e,t,i){if(W8){var r=gy(n,e,t,i);if(r===null)qm(n,e,i,j8,t),XM(n,i);else if(WW(r,n,e,t,i))i.stopPropagation();else if(XM(n,i),e&4&&-1<VW.indexOf(n)){for(;r!==null;){var s=C4(r);if(s!==null&&jL(s),s=gy(n,e,t,i),s===null&&qm(n,e,i,j8,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else qm(n,e,i,null,t)}}var j8=null;function gy(n,e,t,i){if(j8=null,n=xE(i),n=ku(n),n!==null)if(e=S3(n),e===null)n=null;else if(t=e.tag,t===13){if(n=FL(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return j8=n,null}function JL(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DW()){case SE:return 1;case QL:return 4;case H8:case OW:return 16;case HL:return 536870912;default:return 16}default:return 16}}var K1=null,_E=null,t8=null;function $L(){if(t8)return t8;var n,e=_E,t=e.length,i,r="value"in K1?K1.value:K1.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return t8=r.slice(n,1<i?1-i:void 0)}function n8(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function hp(){return!0}function YM(){return!1}function po(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?hp:YM,this.isPropagationStopped=YM,this}return ai(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=hp)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=hp)},persist:function(){},isPersistent:hp}),e}var X2={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ME=po(X2),E4=ai({},X2,{view:0,detail:0}),YW=po(E4),Um,Gm,G0,p7=ai({},E4,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:TE,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==G0&&(G0&&n.type==="mousemove"?(Um=n.screenX-G0.screenX,Gm=n.screenY-G0.screenY):Gm=Um=0,G0=n),Um)},movementY:function(n){return"movementY"in n?n.movementY:Gm}}),KM=po(p7),KW=ai({},p7,{dataTransfer:0}),JW=po(KW),$W=ai({},E4,{relatedTarget:0}),zm=po($W),ZW=ai({},X2,{animationName:0,elapsedTime:0,pseudoElement:0}),ej=po(ZW),tj=ai({},X2,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),nj=po(tj),ij=ai({},X2,{data:0}),JM=po(ij),rj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aj(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=oj[n])?!!e[n]:!1}function TE(){return aj}var lj=ai({},E4,{key:function(n){if(n.key){var e=rj[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=n8(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?sj[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:TE,charCode:function(n){return n.type==="keypress"?n8(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?n8(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),cj=po(lj),uj=ai({},p7,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$M=po(uj),hj=ai({},E4,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:TE}),fj=po(hj),dj=ai({},X2,{propertyName:0,elapsedTime:0,pseudoElement:0}),pj=po(dj),gj=ai({},p7,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),mj=po(gj),Aj=[9,13,27,32],bE=i1&&"CompositionEvent"in window,Ff=null;i1&&"documentMode"in document&&(Ff=document.documentMode);var vj=i1&&"TextEvent"in window&&!Ff,ZL=i1&&(!bE||Ff&&8<Ff&&11>=Ff),ZM=String.fromCharCode(32),eT=!1;function eD(n,e){switch(n){case"keyup":return Aj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tD(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Bh=!1;function yj(n,e){switch(n){case"compositionend":return tD(e);case"keypress":return e.which!==32?null:(eT=!0,ZM);case"textInput":return n=e.data,n===ZM&&eT?null:n;default:return null}}function xj(n,e){if(Bh)return n==="compositionend"||!bE&&eD(n,e)?(n=$L(),t8=_E=K1=null,Bh=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ZL&&e.locale!=="ko"?null:e.data;default:return null}}var Sj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tT(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!Sj[n.type]:e==="textarea"}function nD(n,e,t,i){PL(i),e=X8(e,"onChange"),0<e.length&&(t=new ME("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Uf=null,gd=null;function Ej(n){dD(n,0)}function g7(n){var e=Lh(n);if(ML(e))return n}function Cj(n,e){if(n==="change")return e}var iD=!1;if(i1){var Qm;if(i1){var Hm="oninput"in document;if(!Hm){var nT=document.createElement("div");nT.setAttribute("oninput","return;"),Hm=typeof nT.oninput=="function"}Qm=Hm}else Qm=!1;iD=Qm&&(!document.documentMode||9<document.documentMode)}function iT(){Uf&&(Uf.detachEvent("onpropertychange",rD),gd=Uf=null)}function rD(n){if(n.propertyName==="value"&&g7(gd)){var e=[];nD(e,gd,n,xE(n)),NL(Ej,e)}}function wj(n,e,t){n==="focusin"?(iT(),Uf=e,gd=t,Uf.attachEvent("onpropertychange",rD)):n==="focusout"&&iT()}function _j(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return g7(gd)}function Mj(n,e){if(n==="click")return g7(e)}function Tj(n,e){if(n==="input"||n==="change")return g7(e)}function bj(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var va=typeof Object.is=="function"?Object.is:bj;function md(n,e){if(va(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!Jv.call(e,r)||!va(n[r],e[r]))return!1}return!0}function rT(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function sT(n,e){var t=rT(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=rT(t)}}function sD(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?sD(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function oD(){for(var n=window,e=G8();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=G8(n.document)}return e}function IE(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function Ij(n){var e=oD(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&sD(t.ownerDocument.documentElement,t)){if(i!==null&&IE(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=sT(t,s);var o=sT(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Rj=i1&&"documentMode"in document&&11>=document.documentMode,kh=null,my=null,Gf=null,Ay=!1;function oT(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Ay||kh==null||kh!==G8(i)||(i=kh,"selectionStart"in i&&IE(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Gf&&md(Gf,i)||(Gf=i,i=X8(my,"onSelect"),0<i.length&&(e=new ME("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=kh)))}function fp(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Ph={animationend:fp("Animation","AnimationEnd"),animationiteration:fp("Animation","AnimationIteration"),animationstart:fp("Animation","AnimationStart"),transitionend:fp("Transition","TransitionEnd")},Vm={},aD={};i1&&(aD=document.createElement("div").style,"AnimationEvent"in window||(delete Ph.animationend.animation,delete Ph.animationiteration.animation,delete Ph.animationstart.animation),"TransitionEvent"in window||delete Ph.transitionend.transition);function m7(n){if(Vm[n])return Vm[n];if(!Ph[n])return n;var e=Ph[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in aD)return Vm[n]=e[t];return n}var lD=m7("animationend"),cD=m7("animationiteration"),uD=m7("animationstart"),hD=m7("transitionend"),fD=new Map,aT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lc(n,e){fD.set(n,e),x3(e,[n])}for(var Wm=0;Wm<aT.length;Wm++){var jm=aT[Wm],Bj=jm.toLowerCase(),kj=jm[0].toUpperCase()+jm.slice(1);Lc(Bj,"on"+kj)}Lc(lD,"onAnimationEnd");Lc(cD,"onAnimationIteration");Lc(uD,"onAnimationStart");Lc("dblclick","onDoubleClick");Lc("focusin","onFocus");Lc("focusout","onBlur");Lc(hD,"onTransitionEnd");y2("onMouseEnter",["mouseout","mouseover"]);y2("onMouseLeave",["mouseout","mouseover"]);y2("onPointerEnter",["pointerout","pointerover"]);y2("onPointerLeave",["pointerout","pointerover"]);x3("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));x3("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));x3("onBeforeInput",["compositionend","keypress","textInput","paste"]);x3("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));x3("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));x3("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ef="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ef));function lT(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,BW(i,e,void 0,n),n.currentTarget=null}function dD(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;lT(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;lT(r,a,c),s=l}}}if(Q8)throw n=fy,Q8=!1,fy=null,n}function Fn(n,e){var t=e[Ey];t===void 0&&(t=e[Ey]=new Set);var i=n+"__bubble";t.has(i)||(pD(e,n,2,!1),t.add(i))}function Xm(n,e,t){var i=0;e&&(i|=4),pD(t,n,i,e)}var dp="_reactListening"+Math.random().toString(36).slice(2);function Ad(n){if(!n[dp]){n[dp]=!0,SL.forEach(function(t){t!=="selectionchange"&&(Pj.has(t)||Xm(t,!1,n),Xm(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[dp]||(e[dp]=!0,Xm("selectionchange",!1,e))}}function pD(n,e,t,i){switch(JL(e)){case 1:var r=XW;break;case 4:r=qW;break;default:r=wE}t=r.bind(null,e,t,n),r=void 0,!hy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function qm(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=ku(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}NL(function(){var c=s,u=xE(t),h=[];e:{var f=fD.get(n);if(f!==void 0){var p=ME,m=n;switch(n){case"keypress":if(n8(t)===0)break e;case"keydown":case"keyup":p=cj;break;case"focusin":m="focus",p=zm;break;case"focusout":m="blur",p=zm;break;case"beforeblur":case"afterblur":p=zm;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=KM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=JW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=fj;break;case lD:case cD:case uD:p=ej;break;case hD:p=pj;break;case"scroll":p=YW;break;case"wheel":p=mj;break;case"copy":case"cut":case"paste":p=nj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=$M}var S=(e&4)!==0,v=!S&&n==="scroll",A=S?f!==null?f+"Capture":null:f;S=[];for(var y=c,x;y!==null;){x=y;var C=x.stateNode;if(x.tag===5&&C!==null&&(x=C,A!==null&&(C=hd(y,A),C!=null&&S.push(vd(y,C,x)))),v)break;y=y.return}0<S.length&&(f=new p(f,m,null,t,u),h.push({event:f,listeners:S}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==cy&&(m=t.relatedTarget||t.fromElement)&&(ku(m)||m[r1]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=t.relatedTarget||t.toElement,p=c,m=m?ku(m):null,m!==null&&(v=S3(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(S=KM,C="onMouseLeave",A="onMouseEnter",y="mouse",(n==="pointerout"||n==="pointerover")&&(S=$M,C="onPointerLeave",A="onPointerEnter",y="pointer"),v=p==null?f:Lh(p),x=m==null?f:Lh(m),f=new S(C,y+"leave",p,t,u),f.target=v,f.relatedTarget=x,C=null,ku(u)===c&&(S=new S(A,y+"enter",m,t,u),S.target=x,S.relatedTarget=v,C=S),v=C,p&&m)t:{for(S=p,A=m,y=0,x=S;x;x=q3(x))y++;for(x=0,C=A;C;C=q3(C))x++;for(;0<y-x;)S=q3(S),y--;for(;0<x-y;)A=q3(A),x--;for(;y--;){if(S===A||A!==null&&S===A.alternate)break t;S=q3(S),A=q3(A)}S=null}else S=null;p!==null&&cT(h,f,p,S,!1),m!==null&&v!==null&&cT(h,v,m,S,!0)}}e:{if(f=c?Lh(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var w=Cj;else if(tT(f))if(iD)w=Tj;else{w=_j;var M=wj}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=Mj);if(w&&(w=w(n,c))){nD(h,w,t,u);break e}M&&M(n,f,c),n==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&ry(f,"number",f.value)}switch(M=c?Lh(c):window,n){case"focusin":(tT(M)||M.contentEditable==="true")&&(kh=M,my=c,Gf=null);break;case"focusout":Gf=my=kh=null;break;case"mousedown":Ay=!0;break;case"contextmenu":case"mouseup":case"dragend":Ay=!1,oT(h,t,u);break;case"selectionchange":if(Rj)break;case"keydown":case"keyup":oT(h,t,u)}var T;if(bE)e:{switch(n){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Bh?eD(n,t)&&(R="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(R="onCompositionStart");R&&(ZL&&t.locale!=="ko"&&(Bh||R!=="onCompositionStart"?R==="onCompositionEnd"&&Bh&&(T=$L()):(K1=u,_E="value"in K1?K1.value:K1.textContent,Bh=!0)),M=X8(c,R),0<M.length&&(R=new JM(R,n,null,t,u),h.push({event:R,listeners:M}),T?R.data=T:(T=tD(t),T!==null&&(R.data=T)))),(T=vj?yj(n,t):xj(n,t))&&(c=X8(c,"onBeforeInput"),0<c.length&&(u=new JM("onBeforeInput","beforeinput",null,t,u),h.push({event:u,listeners:c}),u.data=T))}dD(h,e)})}function vd(n,e,t){return{instance:n,listener:e,currentTarget:t}}function X8(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=hd(n,t),s!=null&&i.unshift(vd(n,s,r)),s=hd(n,e),s!=null&&i.push(vd(n,s,r))),n=n.return}return i}function q3(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function cT(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=hd(t,s),l!=null&&o.unshift(vd(t,l,a))):r||(l=hd(t,s),l!=null&&o.push(vd(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var Lj=/\r\n?/g,Dj=/\u0000|\uFFFD/g;function uT(n){return(typeof n=="string"?n:""+n).replace(Lj,`
`).replace(Dj,"")}function pp(n,e,t){if(e=uT(e),uT(n)!==e&&t)throw Error(Ye(425))}function q8(){}var vy=null,yy=null;function xy(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sy=typeof setTimeout=="function"?setTimeout:void 0,Oj=typeof clearTimeout=="function"?clearTimeout:void 0,hT=typeof Promise=="function"?Promise:void 0,Nj=typeof queueMicrotask=="function"?queueMicrotask:typeof hT<"u"?function(n){return hT.resolve(null).then(n).catch(Fj)}:Sy;function Fj(n){setTimeout(function(){throw n})}function Ym(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),pd(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);pd(e)}function ac(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function fT(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var q2=Math.random().toString(36).slice(2),Ka="__reactFiber$"+q2,yd="__reactProps$"+q2,r1="__reactContainer$"+q2,Ey="__reactEvents$"+q2,Uj="__reactListeners$"+q2,Gj="__reactHandles$"+q2;function ku(n){var e=n[Ka];if(e)return e;for(var t=n.parentNode;t;){if(e=t[r1]||t[Ka]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=fT(n);n!==null;){if(t=n[Ka])return t;n=fT(n)}return e}n=t,t=n.parentNode}return null}function C4(n){return n=n[Ka]||n[r1],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Lh(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ye(33))}function A7(n){return n[yd]||null}var Cy=[],Dh=-1;function Dc(n){return{current:n}}function Qn(n){0>Dh||(n.current=Cy[Dh],Cy[Dh]=null,Dh--)}function Dn(n,e){Dh++,Cy[Dh]=n.current,n.current=e}var yc={},Fr=Dc(yc),Ts=Dc(!1),t3=yc;function x2(n,e){var t=n.type.contextTypes;if(!t)return yc;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function bs(n){return n=n.childContextTypes,n!=null}function Y8(){Qn(Ts),Qn(Fr)}function dT(n,e,t){if(Fr.current!==yc)throw Error(Ye(168));Dn(Fr,e),Dn(Ts,t)}function gD(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Ye(108,wW(n)||"Unknown",r));return ai({},t,i)}function K8(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||yc,t3=Fr.current,Dn(Fr,n),Dn(Ts,Ts.current),!0}function pT(n,e,t){var i=n.stateNode;if(!i)throw Error(Ye(169));t?(n=gD(n,e,t3),i.__reactInternalMemoizedMergedChildContext=n,Qn(Ts),Qn(Fr),Dn(Fr,n)):Qn(Ts),Dn(Ts,t)}var Wl=null,v7=!1,Km=!1;function mD(n){Wl===null?Wl=[n]:Wl.push(n)}function zj(n){v7=!0,mD(n)}function Oc(){if(!Km&&Wl!==null){Km=!0;var n=0,e=En;try{var t=Wl;for(En=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Wl=null,v7=!1}catch(r){throw Wl!==null&&(Wl=Wl.slice(n+1)),zL(SE,Oc),r}finally{En=e,Km=!1}}return null}var Oh=[],Nh=0,J8=null,$8=0,ko=[],Po=0,n3=null,ql=1,Yl="";function yu(n,e){Oh[Nh++]=$8,Oh[Nh++]=J8,J8=n,$8=e}function AD(n,e,t){ko[Po++]=ql,ko[Po++]=Yl,ko[Po++]=n3,n3=n;var i=ql;n=Yl;var r=32-pa(i)-1;i&=~(1<<r),t+=1;var s=32-pa(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,ql=1<<32-pa(e)+r|t<<r|i,Yl=s+n}else ql=1<<s|t<<r|i,Yl=n}function RE(n){n.return!==null&&(yu(n,1),AD(n,1,0))}function BE(n){for(;n===J8;)J8=Oh[--Nh],Oh[Nh]=null,$8=Oh[--Nh],Oh[Nh]=null;for(;n===n3;)n3=ko[--Po],ko[Po]=null,Yl=ko[--Po],ko[Po]=null,ql=ko[--Po],ko[Po]=null}var io=null,$s=null,jn=!1,ha=null;function vD(n,e){var t=No(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function gT(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,io=n,$s=ac(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,io=n,$s=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=n3!==null?{id:ql,overflow:Yl}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=No(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,io=n,$s=null,!0):!1;default:return!1}}function wy(n){return(n.mode&1)!==0&&(n.flags&128)===0}function _y(n){if(jn){var e=$s;if(e){var t=e;if(!gT(n,e)){if(wy(n))throw Error(Ye(418));e=ac(t.nextSibling);var i=io;e&&gT(n,e)?vD(i,t):(n.flags=n.flags&-4097|2,jn=!1,io=n)}}else{if(wy(n))throw Error(Ye(418));n.flags=n.flags&-4097|2,jn=!1,io=n}}}function mT(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;io=n}function gp(n){if(n!==io)return!1;if(!jn)return mT(n),jn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!xy(n.type,n.memoizedProps)),e&&(e=$s)){if(wy(n))throw yD(),Error(Ye(418));for(;e;)vD(n,e),e=ac(e.nextSibling)}if(mT(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ye(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){$s=ac(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}$s=null}}else $s=io?ac(n.stateNode.nextSibling):null;return!0}function yD(){for(var n=$s;n;)n=ac(n.nextSibling)}function S2(){$s=io=null,jn=!1}function kE(n){ha===null?ha=[n]:ha.push(n)}var Qj=p1.ReactCurrentBatchConfig;function aa(n,e){if(n&&n.defaultProps){e=ai({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Z8=Dc(null),e9=null,Fh=null,PE=null;function LE(){PE=Fh=e9=null}function DE(n){var e=Z8.current;Qn(Z8),n._currentValue=e}function My(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function r2(n,e){e9=n,PE=Fh=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(ws=!0),n.firstContext=null)}function jo(n){var e=n._currentValue;if(PE!==n)if(n={context:n,memoizedValue:e,next:null},Fh===null){if(e9===null)throw Error(Ye(308));Fh=n,e9.dependencies={lanes:0,firstContext:n}}else Fh=Fh.next=n;return e}var Pu=null;function OE(n){Pu===null?Pu=[n]:Pu.push(n)}function xD(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,OE(e)):(t.next=r.next,r.next=t),e.interleaved=t,s1(n,i)}function s1(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var V1=!1;function NE(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SD(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function $l(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function lc(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,cn&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,s1(n,t)}return r=i.interleaved,r===null?(e.next=e,OE(i)):(e.next=r.next,r.next=e),i.interleaved=e,s1(n,t)}function i8(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,EE(n,t)}}function AT(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function t9(n,e,t,i){var r=n.updateQueue;V1=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((i&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=n,S=a;switch(f=e,p=t,S.tag){case 1:if(m=S.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=S.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=ai({},h,f);break e;case 2:V1=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(1);if(u===null&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);r3|=o,n.lanes=o,n.memoizedState=h}}function vT(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Ye(191,r));r.call(i)}}}var ED=new xL.Component().refs;function Ty(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:ai({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var y7={isMounted:function(n){return(n=n._reactInternals)?S3(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=ss(),r=uc(n),s=$l(i,r);s.payload=e,t!=null&&(s.callback=t),e=lc(n,s,r),e!==null&&(ga(e,n,r,i),i8(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=ss(),r=uc(n),s=$l(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=lc(n,s,r),e!==null&&(ga(e,n,r,i),i8(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=ss(),i=uc(n),r=$l(t,i);r.tag=2,e!=null&&(r.callback=e),e=lc(n,r,i),e!==null&&(ga(e,n,i,t),i8(e,n,i))}};function yT(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!md(t,i)||!md(r,s):!0}function CD(n,e,t){var i=!1,r=yc,s=e.contextType;return typeof s=="object"&&s!==null?s=jo(s):(r=bs(e)?t3:Fr.current,i=e.contextTypes,s=(i=i!=null)?x2(n,r):yc),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=y7,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function xT(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&y7.enqueueReplaceState(e,e.state,null)}function by(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs=ED,NE(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=jo(s):(s=bs(e)?t3:Fr.current,r.context=x2(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ty(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&y7.enqueueReplaceState(r,r.state,null),t9(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function z0(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ye(309));var i=t.stateNode}if(!i)throw Error(Ye(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===ED&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ye(284));if(!t._owner)throw Error(Ye(290,n))}return n}function mp(n,e){throw n=Object.prototype.toString.call(e),Error(Ye(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function ST(n){var e=n._init;return e(n._payload)}function wD(n){function e(A,y){if(n){var x=A.deletions;x===null?(A.deletions=[y],A.flags|=16):x.push(y)}}function t(A,y){if(!n)return null;for(;y!==null;)e(A,y),y=y.sibling;return null}function i(A,y){for(A=new Map;y!==null;)y.key!==null?A.set(y.key,y):A.set(y.index,y),y=y.sibling;return A}function r(A,y){return A=hc(A,y),A.index=0,A.sibling=null,A}function s(A,y,x){return A.index=x,n?(x=A.alternate,x!==null?(x=x.index,x<y?(A.flags|=2,y):x):(A.flags|=2,y)):(A.flags|=1048576,y)}function o(A){return n&&A.alternate===null&&(A.flags|=2),A}function a(A,y,x,C){return y===null||y.tag!==6?(y=iA(x,A.mode,C),y.return=A,y):(y=r(y,x),y.return=A,y)}function l(A,y,x,C){var w=x.type;return w===Rh?u(A,y,x.props.children,C,x.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===H1&&ST(w)===y.type)?(C=r(y,x.props),C.ref=z0(A,y,x),C.return=A,C):(C=c8(x.type,x.key,x.props,null,A.mode,C),C.ref=z0(A,y,x),C.return=A,C)}function c(A,y,x,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=rA(x,A.mode,C),y.return=A,y):(y=r(y,x.children||[]),y.return=A,y)}function u(A,y,x,C,w){return y===null||y.tag!==7?(y=Wu(x,A.mode,C,w),y.return=A,y):(y=r(y,x),y.return=A,y)}function h(A,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=iA(""+y,A.mode,x),y.return=A,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case sp:return x=c8(y.type,y.key,y.props,null,A.mode,x),x.ref=z0(A,null,y),x.return=A,x;case Ih:return y=rA(y,A.mode,x),y.return=A,y;case H1:var C=y._init;return h(A,C(y._payload),x)}if(xf(y)||O0(y))return y=Wu(y,A.mode,x,null),y.return=A,y;mp(A,y)}return null}function f(A,y,x,C){var w=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:a(A,y,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case sp:return x.key===w?l(A,y,x,C):null;case Ih:return x.key===w?c(A,y,x,C):null;case H1:return w=x._init,f(A,y,w(x._payload),C)}if(xf(x)||O0(x))return w!==null?null:u(A,y,x,C,null);mp(A,x)}return null}function p(A,y,x,C,w){if(typeof C=="string"&&C!==""||typeof C=="number")return A=A.get(x)||null,a(y,A,""+C,w);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case sp:return A=A.get(C.key===null?x:C.key)||null,l(y,A,C,w);case Ih:return A=A.get(C.key===null?x:C.key)||null,c(y,A,C,w);case H1:var M=C._init;return p(A,y,x,M(C._payload),w)}if(xf(C)||O0(C))return A=A.get(x)||null,u(y,A,C,w,null);mp(y,C)}return null}function m(A,y,x,C){for(var w=null,M=null,T=y,R=y=0,b=null;T!==null&&R<x.length;R++){T.index>R?(b=T,T=null):b=T.sibling;var B=f(A,T,x[R],C);if(B===null){T===null&&(T=b);break}n&&T&&B.alternate===null&&e(A,T),y=s(B,y,R),M===null?w=B:M.sibling=B,M=B,T=b}if(R===x.length)return t(A,T),jn&&yu(A,R),w;if(T===null){for(;R<x.length;R++)T=h(A,x[R],C),T!==null&&(y=s(T,y,R),M===null?w=T:M.sibling=T,M=T);return jn&&yu(A,R),w}for(T=i(A,T);R<x.length;R++)b=p(T,A,R,x[R],C),b!==null&&(n&&b.alternate!==null&&T.delete(b.key===null?R:b.key),y=s(b,y,R),M===null?w=b:M.sibling=b,M=b);return n&&T.forEach(function(P){return e(A,P)}),jn&&yu(A,R),w}function S(A,y,x,C){var w=O0(x);if(typeof w!="function")throw Error(Ye(150));if(x=w.call(x),x==null)throw Error(Ye(151));for(var M=w=null,T=y,R=y=0,b=null,B=x.next();T!==null&&!B.done;R++,B=x.next()){T.index>R?(b=T,T=null):b=T.sibling;var P=f(A,T,B.value,C);if(P===null){T===null&&(T=b);break}n&&T&&P.alternate===null&&e(A,T),y=s(P,y,R),M===null?w=P:M.sibling=P,M=P,T=b}if(B.done)return t(A,T),jn&&yu(A,R),w;if(T===null){for(;!B.done;R++,B=x.next())B=h(A,B.value,C),B!==null&&(y=s(B,y,R),M===null?w=B:M.sibling=B,M=B);return jn&&yu(A,R),w}for(T=i(A,T);!B.done;R++,B=x.next())B=p(T,A,R,B.value,C),B!==null&&(n&&B.alternate!==null&&T.delete(B.key===null?R:B.key),y=s(B,y,R),M===null?w=B:M.sibling=B,M=B);return n&&T.forEach(function(O){return e(A,O)}),jn&&yu(A,R),w}function v(A,y,x,C){if(typeof x=="object"&&x!==null&&x.type===Rh&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case sp:e:{for(var w=x.key,M=y;M!==null;){if(M.key===w){if(w=x.type,w===Rh){if(M.tag===7){t(A,M.sibling),y=r(M,x.props.children),y.return=A,A=y;break e}}else if(M.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===H1&&ST(w)===M.type){t(A,M.sibling),y=r(M,x.props),y.ref=z0(A,M,x),y.return=A,A=y;break e}t(A,M);break}else e(A,M);M=M.sibling}x.type===Rh?(y=Wu(x.props.children,A.mode,C,x.key),y.return=A,A=y):(C=c8(x.type,x.key,x.props,null,A.mode,C),C.ref=z0(A,y,x),C.return=A,A=C)}return o(A);case Ih:e:{for(M=x.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){t(A,y.sibling),y=r(y,x.children||[]),y.return=A,A=y;break e}else{t(A,y);break}else e(A,y);y=y.sibling}y=rA(x,A.mode,C),y.return=A,A=y}return o(A);case H1:return M=x._init,v(A,y,M(x._payload),C)}if(xf(x))return m(A,y,x,C);if(O0(x))return S(A,y,x,C);mp(A,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(t(A,y.sibling),y=r(y,x),y.return=A,A=y):(t(A,y),y=iA(x,A.mode,C),y.return=A,A=y),o(A)):t(A,y)}return v}var E2=wD(!0),_D=wD(!1),w4={},rl=Dc(w4),xd=Dc(w4),Sd=Dc(w4);function Lu(n){if(n===w4)throw Error(Ye(174));return n}function FE(n,e){switch(Dn(Sd,e),Dn(xd,n),Dn(rl,w4),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:oy(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=oy(e,n)}Qn(rl),Dn(rl,e)}function C2(){Qn(rl),Qn(xd),Qn(Sd)}function MD(n){Lu(Sd.current);var e=Lu(rl.current),t=oy(e,n.type);e!==t&&(Dn(xd,n),Dn(rl,t))}function UE(n){xd.current===n&&(Qn(rl),Qn(xd))}var ei=Dc(0);function n9(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jm=[];function GE(){for(var n=0;n<Jm.length;n++)Jm[n]._workInProgressVersionPrimary=null;Jm.length=0}var r8=p1.ReactCurrentDispatcher,$m=p1.ReactCurrentBatchConfig,i3=0,ri=null,Fi=null,nr=null,i9=!1,zf=!1,Ed=0,Hj=0;function br(){throw Error(Ye(321))}function zE(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!va(n[t],e[t]))return!1;return!0}function QE(n,e,t,i,r,s){if(i3=s,ri=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,r8.current=n===null||n.memoizedState===null?Xj:qj,n=t(i,r),zf){s=0;do{if(zf=!1,Ed=0,25<=s)throw Error(Ye(301));s+=1,nr=Fi=null,e.updateQueue=null,r8.current=Yj,n=t(i,r)}while(zf)}if(r8.current=r9,e=Fi!==null&&Fi.next!==null,i3=0,nr=Fi=ri=null,i9=!1,e)throw Error(Ye(300));return n}function HE(){var n=Ed!==0;return Ed=0,n}function Xa(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?ri.memoizedState=nr=n:nr=nr.next=n,nr}function Xo(){if(Fi===null){var n=ri.alternate;n=n!==null?n.memoizedState:null}else n=Fi.next;var e=nr===null?ri.memoizedState:nr.next;if(e!==null)nr=e,Fi=n;else{if(n===null)throw Error(Ye(310));Fi=n,n={memoizedState:Fi.memoizedState,baseState:Fi.baseState,baseQueue:Fi.baseQueue,queue:Fi.queue,next:null},nr===null?ri.memoizedState=nr=n:nr=nr.next=n}return nr}function Cd(n,e){return typeof e=="function"?e(n):e}function Zm(n){var e=Xo(),t=e.queue;if(t===null)throw Error(Ye(311));t.lastRenderedReducer=n;var i=Fi,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((i3&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,ri.lanes|=u,r3|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,va(i,e.memoizedState)||(ws=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,ri.lanes|=s,r3|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function eA(n){var e=Xo(),t=e.queue;if(t===null)throw Error(Ye(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);va(s,e.memoizedState)||(ws=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function TD(){}function bD(n,e){var t=ri,i=Xo(),r=e(),s=!va(i.memoizedState,r);if(s&&(i.memoizedState=r,ws=!0),i=i.queue,VE(BD.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||nr!==null&&nr.memoizedState.tag&1){if(t.flags|=2048,wd(9,RD.bind(null,t,i,r,e),void 0,null),sr===null)throw Error(Ye(349));i3&30||ID(t,e,r)}return r}function ID(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=ri.updateQueue,e===null?(e={lastEffect:null,stores:null},ri.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function RD(n,e,t,i){e.value=t,e.getSnapshot=i,kD(e)&&PD(n)}function BD(n,e,t){return t(function(){kD(e)&&PD(n)})}function kD(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!va(n,t)}catch{return!0}}function PD(n){var e=s1(n,1);e!==null&&ga(e,n,1,-1)}function ET(n){var e=Xa();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cd,lastRenderedState:n},e.queue=n,n=n.dispatch=jj.bind(null,ri,n),[e.memoizedState,n]}function wd(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=ri.updateQueue,e===null?(e={lastEffect:null,stores:null},ri.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function LD(){return Xo().memoizedState}function s8(n,e,t,i){var r=Xa();ri.flags|=n,r.memoizedState=wd(1|e,t,void 0,i===void 0?null:i)}function x7(n,e,t,i){var r=Xo();i=i===void 0?null:i;var s=void 0;if(Fi!==null){var o=Fi.memoizedState;if(s=o.destroy,i!==null&&zE(i,o.deps)){r.memoizedState=wd(e,t,s,i);return}}ri.flags|=n,r.memoizedState=wd(1|e,t,s,i)}function CT(n,e){return s8(8390656,8,n,e)}function VE(n,e){return x7(2048,8,n,e)}function DD(n,e){return x7(4,2,n,e)}function OD(n,e){return x7(4,4,n,e)}function ND(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function FD(n,e,t){return t=t!=null?t.concat([n]):null,x7(4,4,ND.bind(null,e,n),t)}function WE(){}function UD(n,e){var t=Xo();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&zE(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function GD(n,e){var t=Xo();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&zE(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function zD(n,e,t){return i3&21?(va(t,e)||(t=VL(),ri.lanes|=t,r3|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,ws=!0),n.memoizedState=t)}function Vj(n,e){var t=En;En=t!==0&&4>t?t:4,n(!0);var i=$m.transition;$m.transition={};try{n(!1),e()}finally{En=t,$m.transition=i}}function QD(){return Xo().memoizedState}function Wj(n,e,t){var i=uc(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},HD(n))VD(e,t);else if(t=xD(n,e,t,i),t!==null){var r=ss();ga(t,n,i,r),WD(t,e,i)}}function jj(n,e,t){var i=uc(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(HD(n))VD(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,va(a,o)){var l=e.interleaved;l===null?(r.next=r,OE(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=xD(n,e,r,i),t!==null&&(r=ss(),ga(t,n,i,r),WD(t,e,i))}}function HD(n){var e=n.alternate;return n===ri||e!==null&&e===ri}function VD(n,e){zf=i9=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function WD(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,EE(n,t)}}var r9={readContext:jo,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useInsertionEffect:br,useLayoutEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useMutableSource:br,useSyncExternalStore:br,useId:br,unstable_isNewReconciler:!1},Xj={readContext:jo,useCallback:function(n,e){return Xa().memoizedState=[n,e===void 0?null:e],n},useContext:jo,useEffect:CT,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,s8(4194308,4,ND.bind(null,e,n),t)},useLayoutEffect:function(n,e){return s8(4194308,4,n,e)},useInsertionEffect:function(n,e){return s8(4,2,n,e)},useMemo:function(n,e){var t=Xa();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Xa();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=Wj.bind(null,ri,n),[i.memoizedState,n]},useRef:function(n){var e=Xa();return n={current:n},e.memoizedState=n},useState:ET,useDebugValue:WE,useDeferredValue:function(n){return Xa().memoizedState=n},useTransition:function(){var n=ET(!1),e=n[0];return n=Vj.bind(null,n[1]),Xa().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=ri,r=Xa();if(jn){if(t===void 0)throw Error(Ye(407));t=t()}else{if(t=e(),sr===null)throw Error(Ye(349));i3&30||ID(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,CT(BD.bind(null,i,s,n),[n]),i.flags|=2048,wd(9,RD.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=Xa(),e=sr.identifierPrefix;if(jn){var t=Yl,i=ql;t=(i&~(1<<32-pa(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Ed++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=Hj++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},qj={readContext:jo,useCallback:UD,useContext:jo,useEffect:VE,useImperativeHandle:FD,useInsertionEffect:DD,useLayoutEffect:OD,useMemo:GD,useReducer:Zm,useRef:LD,useState:function(){return Zm(Cd)},useDebugValue:WE,useDeferredValue:function(n){var e=Xo();return zD(e,Fi.memoizedState,n)},useTransition:function(){var n=Zm(Cd)[0],e=Xo().memoizedState;return[n,e]},useMutableSource:TD,useSyncExternalStore:bD,useId:QD,unstable_isNewReconciler:!1},Yj={readContext:jo,useCallback:UD,useContext:jo,useEffect:VE,useImperativeHandle:FD,useInsertionEffect:DD,useLayoutEffect:OD,useMemo:GD,useReducer:eA,useRef:LD,useState:function(){return eA(Cd)},useDebugValue:WE,useDeferredValue:function(n){var e=Xo();return Fi===null?e.memoizedState=n:zD(e,Fi.memoizedState,n)},useTransition:function(){var n=eA(Cd)[0],e=Xo().memoizedState;return[n,e]},useMutableSource:TD,useSyncExternalStore:bD,useId:QD,unstable_isNewReconciler:!1};function w2(n,e){try{var t="",i=e;do t+=CW(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function tA(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Iy(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var Kj=typeof WeakMap=="function"?WeakMap:Map;function jD(n,e,t){t=$l(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){o9||(o9=!0,Uy=i),Iy(n,e)},t}function XD(n,e,t){t=$l(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){Iy(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Iy(n,e),typeof i!="function"&&(cc===null?cc=new Set([this]):cc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function wT(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new Kj;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=uX.bind(null,n,e,t),e.then(n,n))}function _T(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function MT(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=$l(-1,1),e.tag=2,lc(t,e,1))),t.lanes|=1),n)}var Jj=p1.ReactCurrentOwner,ws=!1;function ts(n,e,t,i){e.child=n===null?_D(e,null,t,i):E2(e,n.child,t,i)}function TT(n,e,t,i,r){t=t.render;var s=e.ref;return r2(e,r),i=QE(n,e,t,i,s,r),t=HE(),n!==null&&!ws?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,o1(n,e,r)):(jn&&t&&RE(e),e.flags|=1,ts(n,e,i,r),e.child)}function bT(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!ZE(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,qD(n,e,s,i,r)):(n=c8(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:md,t(o,i)&&n.ref===e.ref)return o1(n,e,r)}return e.flags|=1,n=hc(s,i),n.ref=e.ref,n.return=e,e.child=n}function qD(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(md(s,i)&&n.ref===e.ref)if(ws=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(ws=!0);else return e.lanes=n.lanes,o1(n,e,r)}return Ry(n,e,t,i,r)}function YD(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dn(Gh,Xs),Xs|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Dn(Gh,Xs),Xs|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Dn(Gh,Xs),Xs|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Dn(Gh,Xs),Xs|=i;return ts(n,e,r,t),e.child}function KD(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Ry(n,e,t,i,r){var s=bs(t)?t3:Fr.current;return s=x2(e,s),r2(e,r),t=QE(n,e,t,i,s,r),i=HE(),n!==null&&!ws?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,o1(n,e,r)):(jn&&i&&RE(e),e.flags|=1,ts(n,e,t,r),e.child)}function IT(n,e,t,i,r){if(bs(t)){var s=!0;K8(e)}else s=!1;if(r2(e,r),e.stateNode===null)o8(n,e),CD(e,t,i),by(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=jo(c):(c=bs(t)?t3:Fr.current,c=x2(e,c));var u=t.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&xT(e,o,i,c),V1=!1;var f=e.memoizedState;o.state=f,t9(e,i,o,r),l=e.memoizedState,a!==i||f!==l||Ts.current||V1?(typeof u=="function"&&(Ty(e,t,u,i),l=e.memoizedState),(a=V1||yT(e,t,a,i,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,SD(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:aa(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=jo(l):(l=bs(t)?t3:Fr.current,l=x2(e,l));var p=t.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&xT(e,o,i,l),V1=!1,f=e.memoizedState,o.state=f,t9(e,i,o,r);var m=e.memoizedState;a!==h||f!==m||Ts.current||V1?(typeof p=="function"&&(Ty(e,t,p,i),m=e.memoizedState),(c=V1||yT(e,t,c,i,f,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=m),o.props=i,o.state=m,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),i=!1)}return By(n,e,t,i,s,r)}function By(n,e,t,i,r,s){KD(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&pT(e,t,!1),o1(n,e,s);i=e.stateNode,Jj.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=E2(e,n.child,null,s),e.child=E2(e,null,a,s)):ts(n,e,a,s),e.memoizedState=i.state,r&&pT(e,t,!0),e.child}function JD(n){var e=n.stateNode;e.pendingContext?dT(n,e.pendingContext,e.pendingContext!==e.context):e.context&&dT(n,e.context,!1),FE(n,e.containerInfo)}function RT(n,e,t,i,r){return S2(),kE(r),e.flags|=256,ts(n,e,t,i),e.child}var ky={dehydrated:null,treeContext:null,retryLane:0};function Py(n){return{baseLanes:n,cachePool:null,transitions:null}}function $D(n,e,t){var i=e.pendingProps,r=ei.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Dn(ei,r&1),n===null)return _y(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=C7(o,i,0,null),n=Wu(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=Py(t),e.memoizedState=ky,n):jE(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return $j(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=hc(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=hc(a,s):(s=Wu(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?Py(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=ky,i}return s=n.child,n=s.sibling,i=hc(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function jE(n,e){return e=C7({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Ap(n,e,t,i){return i!==null&&kE(i),E2(e,n.child,null,t),n=jE(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function $j(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=tA(Error(Ye(422))),Ap(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=C7({mode:"visible",children:i.children},r,0,null),s=Wu(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&E2(e,n.child,null,o),e.child.memoizedState=Py(o),e.memoizedState=ky,s);if(!(e.mode&1))return Ap(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Ye(419)),i=tA(s,i,void 0),Ap(n,e,o,i)}if(a=(o&n.childLanes)!==0,ws||a){if(i=sr,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,s1(n,r),ga(i,n,r,-1))}return $E(),i=tA(Error(Ye(421))),Ap(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=hX.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,$s=ac(r.nextSibling),io=e,jn=!0,ha=null,n!==null&&(ko[Po++]=ql,ko[Po++]=Yl,ko[Po++]=n3,ql=n.id,Yl=n.overflow,n3=e),e=jE(e,i.children),e.flags|=4096,e)}function BT(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),My(n.return,e,t)}function nA(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function ZD(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(ts(n,e,i.children,t),i=ei.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&BT(n,t,e);else if(n.tag===19)BT(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Dn(ei,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&n9(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),nA(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&n9(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}nA(e,!0,t,null,s);break;case"together":nA(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function o8(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function o1(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),r3|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Ye(153));if(e.child!==null){for(n=e.child,t=hc(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=hc(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function Zj(n,e,t){switch(e.tag){case 3:JD(e),S2();break;case 5:MD(e);break;case 1:bs(e.type)&&K8(e);break;case 4:FE(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Dn(Z8,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Dn(ei,ei.current&1),e.flags|=128,null):t&e.child.childLanes?$D(n,e,t):(Dn(ei,ei.current&1),n=o1(n,e,t),n!==null?n.sibling:null);Dn(ei,ei.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return ZD(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Dn(ei,ei.current),i)break;return null;case 22:case 23:return e.lanes=0,YD(n,e,t)}return o1(n,e,t)}var eO,Ly,tO,nO;eO=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Ly=function(){};tO=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,Lu(rl.current);var s=null;switch(t){case"input":r=ny(n,r),i=ny(n,i),s=[];break;case"select":r=ai({},r,{value:void 0}),i=ai({},i,{value:void 0}),s=[];break;case"textarea":r=sy(n,r),i=sy(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=q8)}ay(t,i);var o;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(cd.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(cd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Fn("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};nO=function(n,e,t,i){t!==i&&(e.flags|=4)};function Q0(n,e){if(!jn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Ir(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function eX(n,e,t){var i=e.pendingProps;switch(BE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ir(e),null;case 1:return bs(e.type)&&Y8(),Ir(e),null;case 3:return i=e.stateNode,C2(),Qn(Ts),Qn(Fr),GE(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(gp(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ha!==null&&(Qy(ha),ha=null))),Ly(n,e),Ir(e),null;case 5:UE(e);var r=Lu(Sd.current);if(t=e.type,n!==null&&e.stateNode!=null)tO(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Ye(166));return Ir(e),null}if(n=Lu(rl.current),gp(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[Ka]=e,i[yd]=s,n=(e.mode&1)!==0,t){case"dialog":Fn("cancel",i),Fn("close",i);break;case"iframe":case"object":case"embed":Fn("load",i);break;case"video":case"audio":for(r=0;r<Ef.length;r++)Fn(Ef[r],i);break;case"source":Fn("error",i);break;case"img":case"image":case"link":Fn("error",i),Fn("load",i);break;case"details":Fn("toggle",i);break;case"input":GM(i,s),Fn("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Fn("invalid",i);break;case"textarea":QM(i,s),Fn("invalid",i)}ay(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&pp(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&pp(i.textContent,a,n),r=["children",""+a]):cd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Fn("scroll",i)}switch(t){case"input":op(i),zM(i,s,!0);break;case"textarea":op(i),HM(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=q8)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=IL(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[Ka]=e,n[yd]=i,eO(n,e,!1,!1),e.stateNode=n;e:{switch(o=ly(t,i),t){case"dialog":Fn("cancel",n),Fn("close",n),r=i;break;case"iframe":case"object":case"embed":Fn("load",n),r=i;break;case"video":case"audio":for(r=0;r<Ef.length;r++)Fn(Ef[r],n);r=i;break;case"source":Fn("error",n),r=i;break;case"img":case"image":case"link":Fn("error",n),Fn("load",n),r=i;break;case"details":Fn("toggle",n),r=i;break;case"input":GM(n,i),r=ny(n,i),Fn("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=ai({},i,{value:void 0}),Fn("invalid",n);break;case"textarea":QM(n,i),r=sy(n,i),Fn("invalid",n);break;default:r=i}ay(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?kL(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&RL(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&ud(n,l):typeof l=="number"&&ud(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(cd.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Fn("scroll",n):l!=null&&mE(n,s,l,o))}switch(t){case"input":op(n),zM(n,i,!1);break;case"textarea":op(n),HM(n);break;case"option":i.value!=null&&n.setAttribute("value",""+vc(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?e2(n,!!i.multiple,s,!1):i.defaultValue!=null&&e2(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=q8)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ir(e),null;case 6:if(n&&e.stateNode!=null)nO(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Ye(166));if(t=Lu(Sd.current),Lu(rl.current),gp(e)){if(i=e.stateNode,t=e.memoizedProps,i[Ka]=e,(s=i.nodeValue!==t)&&(n=io,n!==null))switch(n.tag){case 3:pp(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&pp(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Ka]=e,e.stateNode=i}return Ir(e),null;case 13:if(Qn(ei),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(jn&&$s!==null&&e.mode&1&&!(e.flags&128))yD(),S2(),e.flags|=98560,s=!1;else if(s=gp(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Ye(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ye(317));s[Ka]=e}else S2(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ir(e),s=!1}else ha!==null&&(Qy(ha),ha=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||ei.current&1?Hi===0&&(Hi=3):$E())),e.updateQueue!==null&&(e.flags|=4),Ir(e),null);case 4:return C2(),Ly(n,e),n===null&&Ad(e.stateNode.containerInfo),Ir(e),null;case 10:return DE(e.type._context),Ir(e),null;case 17:return bs(e.type)&&Y8(),Ir(e),null;case 19:if(Qn(ei),s=e.memoizedState,s===null)return Ir(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Q0(s,!1);else{if(Hi!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=n9(n),o!==null){for(e.flags|=128,Q0(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Dn(ei,ei.current&1|2),e.child}n=n.sibling}s.tail!==null&&wi()>_2&&(e.flags|=128,i=!0,Q0(s,!1),e.lanes=4194304)}else{if(!i)if(n=n9(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Q0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!jn)return Ir(e),null}else 2*wi()-s.renderingStartTime>_2&&t!==1073741824&&(e.flags|=128,i=!0,Q0(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=wi(),e.sibling=null,t=ei.current,Dn(ei,i?t&1|2:t&1),e):(Ir(e),null);case 22:case 23:return JE(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Xs&1073741824&&(Ir(e),e.subtreeFlags&6&&(e.flags|=8192)):Ir(e),null;case 24:return null;case 25:return null}throw Error(Ye(156,e.tag))}function tX(n,e){switch(BE(e),e.tag){case 1:return bs(e.type)&&Y8(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return C2(),Qn(Ts),Qn(Fr),GE(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return UE(e),null;case 13:if(Qn(ei),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ye(340));S2()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Qn(ei),null;case 4:return C2(),null;case 10:return DE(e.type._context),null;case 22:case 23:return JE(),null;case 24:return null;default:return null}}var vp=!1,Pr=!1,nX=typeof WeakSet=="function"?WeakSet:Set,lt=null;function Uh(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){hi(n,e,i)}else t.current=null}function Dy(n,e,t){try{t()}catch(i){hi(n,e,i)}}var kT=!1;function iX(n,e){if(vy=W8,n=oD(),IE(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=n,f=null;t:for(;;){for(var p;h!==t||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===n)break t;if(f===t&&++c===r&&(a=o),f===s&&++u===i&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(yy={focusedElem:n,selectionRange:t},W8=!1,lt=e;lt!==null;)if(e=lt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,lt=n;else for(;lt!==null;){e=lt;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var S=m.memoizedProps,v=m.memoizedState,A=e.stateNode,y=A.getSnapshotBeforeUpdate(e.elementType===e.type?S:aa(e.type,S),v);A.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ye(163))}}catch(C){hi(e,e.return,C)}if(n=e.sibling,n!==null){n.return=e.return,lt=n;break}lt=e.return}return m=kT,kT=!1,m}function Qf(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&Dy(e,t,s)}r=r.next}while(r!==i)}}function S7(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function Oy(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function iO(n){var e=n.alternate;e!==null&&(n.alternate=null,iO(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Ka],delete e[yd],delete e[Ey],delete e[Uj],delete e[Gj])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function rO(n){return n.tag===5||n.tag===3||n.tag===4}function PT(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||rO(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ny(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=q8));else if(i!==4&&(n=n.child,n!==null))for(Ny(n,e,t),n=n.sibling;n!==null;)Ny(n,e,t),n=n.sibling}function Fy(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(Fy(n,e,t),n=n.sibling;n!==null;)Fy(n,e,t),n=n.sibling}var ur=null,ca=!1;function k1(n,e,t){for(t=t.child;t!==null;)sO(n,e,t),t=t.sibling}function sO(n,e,t){if(il&&typeof il.onCommitFiberUnmount=="function")try{il.onCommitFiberUnmount(d7,t)}catch{}switch(t.tag){case 5:Pr||Uh(t,e);case 6:var i=ur,r=ca;ur=null,k1(n,e,t),ur=i,ca=r,ur!==null&&(ca?(n=ur,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):ur.removeChild(t.stateNode));break;case 18:ur!==null&&(ca?(n=ur,t=t.stateNode,n.nodeType===8?Ym(n.parentNode,t):n.nodeType===1&&Ym(n,t),pd(n)):Ym(ur,t.stateNode));break;case 4:i=ur,r=ca,ur=t.stateNode.containerInfo,ca=!0,k1(n,e,t),ur=i,ca=r;break;case 0:case 11:case 14:case 15:if(!Pr&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Dy(t,e,o),r=r.next}while(r!==i)}k1(n,e,t);break;case 1:if(!Pr&&(Uh(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){hi(t,e,a)}k1(n,e,t);break;case 21:k1(n,e,t);break;case 22:t.mode&1?(Pr=(i=Pr)||t.memoizedState!==null,k1(n,e,t),Pr=i):k1(n,e,t);break;default:k1(n,e,t)}}function LT(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new nX),e.forEach(function(i){var r=fX.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function ia(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ur=a.stateNode,ca=!1;break e;case 3:ur=a.stateNode.containerInfo,ca=!0;break e;case 4:ur=a.stateNode.containerInfo,ca=!0;break e}a=a.return}if(ur===null)throw Error(Ye(160));sO(s,o,r),ur=null,ca=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){hi(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)oO(e,n),e=e.sibling}function oO(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ia(e,n),za(n),i&4){try{Qf(3,n,n.return),S7(3,n)}catch(S){hi(n,n.return,S)}try{Qf(5,n,n.return)}catch(S){hi(n,n.return,S)}}break;case 1:ia(e,n),za(n),i&512&&t!==null&&Uh(t,t.return);break;case 5:if(ia(e,n),za(n),i&512&&t!==null&&Uh(t,t.return),n.flags&32){var r=n.stateNode;try{ud(r,"")}catch(S){hi(n,n.return,S)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&TL(r,s),ly(a,o);var c=ly(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?kL(r,h):u==="dangerouslySetInnerHTML"?RL(r,h):u==="children"?ud(r,h):mE(r,u,h,c)}switch(a){case"input":iy(r,s);break;case"textarea":bL(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?e2(r,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?e2(r,!!s.multiple,s.defaultValue,!0):e2(r,!!s.multiple,s.multiple?[]:"",!1))}r[yd]=s}catch(S){hi(n,n.return,S)}}break;case 6:if(ia(e,n),za(n),i&4){if(n.stateNode===null)throw Error(Ye(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(S){hi(n,n.return,S)}}break;case 3:if(ia(e,n),za(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{pd(e.containerInfo)}catch(S){hi(n,n.return,S)}break;case 4:ia(e,n),za(n);break;case 13:ia(e,n),za(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(YE=wi())),i&4&&LT(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Pr=(c=Pr)||u,ia(e,n),Pr=c):ia(e,n),za(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(lt=n,u=n.child;u!==null;){for(h=lt=u;lt!==null;){switch(f=lt,p=f.child,f.tag){case 0:case 11:case 14:case 15:Qf(4,f,f.return);break;case 1:Uh(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){i=f,t=f.return;try{e=i,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(S){hi(i,t,S)}}break;case 5:Uh(f,f.return);break;case 22:if(f.memoizedState!==null){OT(h);continue}}p!==null?(p.return=f,lt=p):OT(h)}u=u.sibling}e:for(u=null,h=n;;){if(h.tag===5){if(u===null){u=h;try{r=h.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=BL("display",o))}catch(S){hi(n,n.return,S)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(S){hi(n,n.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ia(e,n),za(n),i&4&&LT(n);break;case 21:break;default:ia(e,n),za(n)}}function za(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(rO(t)){var i=t;break e}t=t.return}throw Error(Ye(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(ud(r,""),i.flags&=-33);var s=PT(n);Fy(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=PT(n);Ny(n,a,o);break;default:throw Error(Ye(161))}}catch(l){hi(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function rX(n,e,t){lt=n,aO(n)}function aO(n,e,t){for(var i=(n.mode&1)!==0;lt!==null;){var r=lt,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||vp;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Pr;a=vp;var c=Pr;if(vp=o,(Pr=l)&&!c)for(lt=r;lt!==null;)o=lt,l=o.child,o.tag===22&&o.memoizedState!==null?NT(r):l!==null?(l.return=o,lt=l):NT(r);for(;s!==null;)lt=s,aO(s),s=s.sibling;lt=r,vp=a,Pr=c}DT(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,lt=s):DT(n)}}function DT(n){for(;lt!==null;){var e=lt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pr||S7(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Pr)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:aa(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&vT(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}vT(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&pd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ye(163))}Pr||e.flags&512&&Oy(e)}catch(f){hi(e,e.return,f)}}if(e===n){lt=null;break}if(t=e.sibling,t!==null){t.return=e.return,lt=t;break}lt=e.return}}function OT(n){for(;lt!==null;){var e=lt;if(e===n){lt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,lt=t;break}lt=e.return}}function NT(n){for(;lt!==null;){var e=lt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{S7(4,e)}catch(l){hi(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){hi(e,r,l)}}var s=e.return;try{Oy(e)}catch(l){hi(e,s,l)}break;case 5:var o=e.return;try{Oy(e)}catch(l){hi(e,o,l)}}}catch(l){hi(e,e.return,l)}if(e===n){lt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,lt=a;break}lt=e.return}}var sX=Math.ceil,s9=p1.ReactCurrentDispatcher,XE=p1.ReactCurrentOwner,Go=p1.ReactCurrentBatchConfig,cn=0,sr=null,Bi=null,gr=0,Xs=0,Gh=Dc(0),Hi=0,_d=null,r3=0,E7=0,qE=0,Hf=null,xs=null,YE=0,_2=1/0,Vl=null,o9=!1,Uy=null,cc=null,yp=!1,J1=null,a9=0,Vf=0,Gy=null,a8=-1,l8=0;function ss(){return cn&6?wi():a8!==-1?a8:a8=wi()}function uc(n){return n.mode&1?cn&2&&gr!==0?gr&-gr:Qj.transition!==null?(l8===0&&(l8=VL()),l8):(n=En,n!==0||(n=window.event,n=n===void 0?16:JL(n.type)),n):1}function ga(n,e,t,i){if(50<Vf)throw Vf=0,Gy=null,Error(Ye(185));S4(n,t,i),(!(cn&2)||n!==sr)&&(n===sr&&(!(cn&2)&&(E7|=t),Hi===4&&q1(n,gr)),Is(n,i),t===1&&cn===0&&!(e.mode&1)&&(_2=wi()+500,v7&&Oc()))}function Is(n,e){var t=n.callbackNode;QW(n,e);var i=V8(n,n===sr?gr:0);if(i===0)t!==null&&jM(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&jM(t),e===1)n.tag===0?zj(FT.bind(null,n)):mD(FT.bind(null,n)),Nj(function(){!(cn&6)&&Oc()}),t=null;else{switch(WL(i)){case 1:t=SE;break;case 4:t=QL;break;case 16:t=H8;break;case 536870912:t=HL;break;default:t=H8}t=gO(t,lO.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function lO(n,e){if(a8=-1,l8=0,cn&6)throw Error(Ye(327));var t=n.callbackNode;if(s2()&&n.callbackNode!==t)return null;var i=V8(n,n===sr?gr:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=l9(n,i);else{e=i;var r=cn;cn|=2;var s=uO();(sr!==n||gr!==e)&&(Vl=null,_2=wi()+500,Vu(n,e));do try{lX();break}catch(a){cO(n,a)}while(1);LE(),s9.current=s,cn=r,Bi!==null?e=0:(sr=null,gr=0,e=Hi)}if(e!==0){if(e===2&&(r=dy(n),r!==0&&(i=r,e=zy(n,r))),e===1)throw t=_d,Vu(n,0),q1(n,i),Is(n,wi()),t;if(e===6)q1(n,i);else{if(r=n.current.alternate,!(i&30)&&!oX(r)&&(e=l9(n,i),e===2&&(s=dy(n),s!==0&&(i=s,e=zy(n,s))),e===1))throw t=_d,Vu(n,0),q1(n,i),Is(n,wi()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Ye(345));case 2:xu(n,xs,Vl);break;case 3:if(q1(n,i),(i&130023424)===i&&(e=YE+500-wi(),10<e)){if(V8(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){ss(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=Sy(xu.bind(null,n,xs,Vl),e);break}xu(n,xs,Vl);break;case 4:if(q1(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-pa(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=wi()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*sX(i/1960))-i,10<i){n.timeoutHandle=Sy(xu.bind(null,n,xs,Vl),i);break}xu(n,xs,Vl);break;case 5:xu(n,xs,Vl);break;default:throw Error(Ye(329))}}}return Is(n,wi()),n.callbackNode===t?lO.bind(null,n):null}function zy(n,e){var t=Hf;return n.current.memoizedState.isDehydrated&&(Vu(n,e).flags|=256),n=l9(n,e),n!==2&&(e=xs,xs=t,e!==null&&Qy(e)),n}function Qy(n){xs===null?xs=n:xs.push.apply(xs,n)}function oX(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!va(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function q1(n,e){for(e&=~qE,e&=~E7,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-pa(e),i=1<<t;n[t]=-1,e&=~i}}function FT(n){if(cn&6)throw Error(Ye(327));s2();var e=V8(n,0);if(!(e&1))return Is(n,wi()),null;var t=l9(n,e);if(n.tag!==0&&t===2){var i=dy(n);i!==0&&(e=i,t=zy(n,i))}if(t===1)throw t=_d,Vu(n,0),q1(n,e),Is(n,wi()),t;if(t===6)throw Error(Ye(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,xu(n,xs,Vl),Is(n,wi()),null}function KE(n,e){var t=cn;cn|=1;try{return n(e)}finally{cn=t,cn===0&&(_2=wi()+500,v7&&Oc())}}function s3(n){J1!==null&&J1.tag===0&&!(cn&6)&&s2();var e=cn;cn|=1;var t=Go.transition,i=En;try{if(Go.transition=null,En=1,n)return n()}finally{En=i,Go.transition=t,cn=e,!(cn&6)&&Oc()}}function JE(){Xs=Gh.current,Qn(Gh)}function Vu(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,Oj(t)),Bi!==null)for(t=Bi.return;t!==null;){var i=t;switch(BE(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Y8();break;case 3:C2(),Qn(Ts),Qn(Fr),GE();break;case 5:UE(i);break;case 4:C2();break;case 13:Qn(ei);break;case 19:Qn(ei);break;case 10:DE(i.type._context);break;case 22:case 23:JE()}t=t.return}if(sr=n,Bi=n=hc(n.current,null),gr=Xs=e,Hi=0,_d=null,qE=E7=r3=0,xs=Hf=null,Pu!==null){for(e=0;e<Pu.length;e++)if(t=Pu[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}Pu=null}return n}function cO(n,e){do{var t=Bi;try{if(LE(),r8.current=r9,i9){for(var i=ri.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}i9=!1}if(i3=0,nr=Fi=ri=null,zf=!1,Ed=0,XE.current=null,t===null||t.return===null){Hi=1,_d=e,Bi=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=gr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=_T(o);if(p!==null){p.flags&=-257,MT(p,o,a,s,e),p.mode&1&&wT(s,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var S=new Set;S.add(l),e.updateQueue=S}else m.add(l);break e}else{if(!(e&1)){wT(s,c,e),$E();break e}l=Error(Ye(426))}}else if(jn&&a.mode&1){var v=_T(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),MT(v,o,a,s,e),kE(w2(l,a));break e}}s=l=w2(l,a),Hi!==4&&(Hi=2),Hf===null?Hf=[s]:Hf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var A=jD(s,l,e);AT(s,A);break e;case 1:a=l;var y=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(cc===null||!cc.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=XD(s,a,e);AT(s,C);break e}}s=s.return}while(s!==null)}fO(t)}catch(w){e=w,Bi===t&&t!==null&&(Bi=t=t.return);continue}break}while(1)}function uO(){var n=s9.current;return s9.current=r9,n===null?r9:n}function $E(){(Hi===0||Hi===3||Hi===2)&&(Hi=4),sr===null||!(r3&268435455)&&!(E7&268435455)||q1(sr,gr)}function l9(n,e){var t=cn;cn|=2;var i=uO();(sr!==n||gr!==e)&&(Vl=null,Vu(n,e));do try{aX();break}catch(r){cO(n,r)}while(1);if(LE(),cn=t,s9.current=i,Bi!==null)throw Error(Ye(261));return sr=null,gr=0,Hi}function aX(){for(;Bi!==null;)hO(Bi)}function lX(){for(;Bi!==null&&!PW();)hO(Bi)}function hO(n){var e=pO(n.alternate,n,Xs);n.memoizedProps=n.pendingProps,e===null?fO(n):Bi=e,XE.current=null}function fO(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=tX(t,e),t!==null){t.flags&=32767,Bi=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Hi=6,Bi=null;return}}else if(t=eX(t,e,Xs),t!==null){Bi=t;return}if(e=e.sibling,e!==null){Bi=e;return}Bi=e=n}while(e!==null);Hi===0&&(Hi=5)}function xu(n,e,t){var i=En,r=Go.transition;try{Go.transition=null,En=1,cX(n,e,t,i)}finally{Go.transition=r,En=i}return null}function cX(n,e,t,i){do s2();while(J1!==null);if(cn&6)throw Error(Ye(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ye(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(HW(n,s),n===sr&&(Bi=sr=null,gr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||yp||(yp=!0,gO(H8,function(){return s2(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Go.transition,Go.transition=null;var o=En;En=1;var a=cn;cn|=4,XE.current=null,iX(n,t),oO(t,n),Ij(yy),W8=!!vy,yy=vy=null,n.current=t,rX(t),LW(),cn=a,En=o,Go.transition=s}else n.current=t;if(yp&&(yp=!1,J1=n,a9=r),s=n.pendingLanes,s===0&&(cc=null),NW(t.stateNode),Is(n,wi()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(o9)throw o9=!1,n=Uy,Uy=null,n;return a9&1&&n.tag!==0&&s2(),s=n.pendingLanes,s&1?n===Gy?Vf++:(Vf=0,Gy=n):Vf=0,Oc(),null}function s2(){if(J1!==null){var n=WL(a9),e=Go.transition,t=En;try{if(Go.transition=null,En=16>n?16:n,J1===null)var i=!1;else{if(n=J1,J1=null,a9=0,cn&6)throw Error(Ye(331));var r=cn;for(cn|=4,lt=n.current;lt!==null;){var s=lt,o=s.child;if(lt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(lt=c;lt!==null;){var u=lt;switch(u.tag){case 0:case 11:case 15:Qf(8,u,s)}var h=u.child;if(h!==null)h.return=u,lt=h;else for(;lt!==null;){u=lt;var f=u.sibling,p=u.return;if(iO(u),u===c){lt=null;break}if(f!==null){f.return=p,lt=f;break}lt=p}}}var m=s.alternate;if(m!==null){var S=m.child;if(S!==null){m.child=null;do{var v=S.sibling;S.sibling=null,S=v}while(S!==null)}}lt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,lt=o;else e:for(;lt!==null;){if(s=lt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Qf(9,s,s.return)}var A=s.sibling;if(A!==null){A.return=s.return,lt=A;break e}lt=s.return}}var y=n.current;for(lt=y;lt!==null;){o=lt;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,lt=x;else e:for(o=y;lt!==null;){if(a=lt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:S7(9,a)}}catch(w){hi(a,a.return,w)}if(a===o){lt=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,lt=C;break e}lt=a.return}}if(cn=r,Oc(),il&&typeof il.onPostCommitFiberRoot=="function")try{il.onPostCommitFiberRoot(d7,n)}catch{}i=!0}return i}finally{En=t,Go.transition=e}}return!1}function UT(n,e,t){e=w2(t,e),e=jD(n,e,1),n=lc(n,e,1),e=ss(),n!==null&&(S4(n,1,e),Is(n,e))}function hi(n,e,t){if(n.tag===3)UT(n,n,t);else for(;e!==null;){if(e.tag===3){UT(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(cc===null||!cc.has(i))){n=w2(t,n),n=XD(e,n,1),e=lc(e,n,1),n=ss(),e!==null&&(S4(e,1,n),Is(e,n));break}}e=e.return}}function uX(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=ss(),n.pingedLanes|=n.suspendedLanes&t,sr===n&&(gr&t)===t&&(Hi===4||Hi===3&&(gr&130023424)===gr&&500>wi()-YE?Vu(n,0):qE|=t),Is(n,e)}function dO(n,e){e===0&&(n.mode&1?(e=cp,cp<<=1,!(cp&130023424)&&(cp=4194304)):e=1);var t=ss();n=s1(n,e),n!==null&&(S4(n,e,t),Is(n,t))}function hX(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),dO(n,t)}function fX(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Ye(314))}i!==null&&i.delete(e),dO(n,t)}var pO;pO=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Ts.current)ws=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return ws=!1,Zj(n,e,t);ws=!!(n.flags&131072)}else ws=!1,jn&&e.flags&1048576&&AD(e,$8,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;o8(n,e),n=e.pendingProps;var r=x2(e,Fr.current);r2(e,t),r=QE(null,e,i,n,r,t);var s=HE();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bs(i)?(s=!0,K8(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,NE(e),r.updater=y7,e.stateNode=r,r._reactInternals=e,by(e,i,n,t),e=By(null,e,i,!0,s,t)):(e.tag=0,jn&&s&&RE(e),ts(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(o8(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=pX(i),n=aa(i,n),r){case 0:e=Ry(null,e,i,n,t);break e;case 1:e=IT(null,e,i,n,t);break e;case 11:e=TT(null,e,i,n,t);break e;case 14:e=bT(null,e,i,aa(i.type,n),t);break e}throw Error(Ye(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:aa(i,r),Ry(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:aa(i,r),IT(n,e,i,r,t);case 3:e:{if(JD(e),n===null)throw Error(Ye(387));i=e.pendingProps,s=e.memoizedState,r=s.element,SD(n,e),t9(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=w2(Error(Ye(423)),e),e=RT(n,e,i,t,r);break e}else if(i!==r){r=w2(Error(Ye(424)),e),e=RT(n,e,i,t,r);break e}else for($s=ac(e.stateNode.containerInfo.firstChild),io=e,jn=!0,ha=null,t=_D(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(S2(),i===r){e=o1(n,e,t);break e}ts(n,e,i,t)}e=e.child}return e;case 5:return MD(e),n===null&&_y(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,xy(i,r)?o=null:s!==null&&xy(i,s)&&(e.flags|=32),KD(n,e),ts(n,e,o,t),e.child;case 6:return n===null&&_y(e),null;case 13:return $D(n,e,t);case 4:return FE(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=E2(e,null,i,t):ts(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:aa(i,r),TT(n,e,i,r,t);case 7:return ts(n,e,e.pendingProps,t),e.child;case 8:return ts(n,e,e.pendingProps.children,t),e.child;case 12:return ts(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Dn(Z8,i._currentValue),i._currentValue=o,s!==null)if(va(s.value,o)){if(s.children===r.children&&!Ts.current){e=o1(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=$l(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),My(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ye(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),My(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ts(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,r2(e,t),r=jo(r),i=i(r),e.flags|=1,ts(n,e,i,t),e.child;case 14:return i=e.type,r=aa(i,e.pendingProps),r=aa(i.type,r),bT(n,e,i,r,t);case 15:return qD(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:aa(i,r),o8(n,e),e.tag=1,bs(i)?(n=!0,K8(e)):n=!1,r2(e,t),CD(e,i,r),by(e,i,r,t),By(null,e,i,!0,n,t);case 19:return ZD(n,e,t);case 22:return YD(n,e,t)}throw Error(Ye(156,e.tag))};function gO(n,e){return zL(n,e)}function dX(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function No(n,e,t,i){return new dX(n,e,t,i)}function ZE(n){return n=n.prototype,!(!n||!n.isReactComponent)}function pX(n){if(typeof n=="function")return ZE(n)?1:0;if(n!=null){if(n=n.$$typeof,n===vE)return 11;if(n===yE)return 14}return 2}function hc(n,e){var t=n.alternate;return t===null?(t=No(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function c8(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")ZE(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Rh:return Wu(t.children,r,s,e);case AE:o=8,r|=8;break;case $v:return n=No(12,t,e,r|2),n.elementType=$v,n.lanes=s,n;case Zv:return n=No(13,t,e,r),n.elementType=Zv,n.lanes=s,n;case ey:return n=No(19,t,e,r),n.elementType=ey,n.lanes=s,n;case wL:return C7(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case EL:o=10;break e;case CL:o=9;break e;case vE:o=11;break e;case yE:o=14;break e;case H1:o=16,i=null;break e}throw Error(Ye(130,n==null?n:typeof n,""))}return e=No(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function Wu(n,e,t,i){return n=No(7,n,i,e),n.lanes=t,n}function C7(n,e,t,i){return n=No(22,n,i,e),n.elementType=wL,n.lanes=t,n.stateNode={isHidden:!1},n}function iA(n,e,t){return n=No(6,n,null,e),n.lanes=t,n}function rA(n,e,t){return e=No(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function gX(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fm(0),this.expirationTimes=Fm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fm(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function eC(n,e,t,i,r,s,o,a,l){return n=new gX(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=No(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},NE(s),n}function mX(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ih,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function mO(n){if(!n)return yc;n=n._reactInternals;e:{if(S3(n)!==n||n.tag!==1)throw Error(Ye(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ye(171))}if(n.tag===1){var t=n.type;if(bs(t))return gD(n,t,e)}return e}function AO(n,e,t,i,r,s,o,a,l){return n=eC(t,i,!0,n,r,s,o,a,l),n.context=mO(null),t=n.current,i=ss(),r=uc(t),s=$l(i,r),s.callback=e??null,lc(t,s,r),n.current.lanes=r,S4(n,r,i),Is(n,i),n}function w7(n,e,t,i){var r=e.current,s=ss(),o=uc(r);return t=mO(t),e.context===null?e.context=t:e.pendingContext=t,e=$l(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=lc(r,e,o),n!==null&&(ga(n,r,o,s),i8(n,r,o)),o}function c9(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function GT(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function tC(n,e){GT(n,e),(n=n.alternate)&&GT(n,e)}function AX(){return null}var vO=typeof reportError=="function"?reportError:function(n){console.error(n)};function nC(n){this._internalRoot=n}_7.prototype.render=nC.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ye(409));w7(n,e,null,null)};_7.prototype.unmount=nC.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;s3(function(){w7(null,n,null,null)}),e[r1]=null}};function _7(n){this._internalRoot=n}_7.prototype.unstable_scheduleHydration=function(n){if(n){var e=qL();n={blockedOn:null,target:n,priority:e};for(var t=0;t<X1.length&&e!==0&&e<X1[t].priority;t++);X1.splice(t,0,n),t===0&&KL(n)}};function iC(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function M7(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function zT(){}function vX(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=c9(o);s.call(c)}}var o=AO(e,i,n,0,null,!1,!1,"",zT);return n._reactRootContainer=o,n[r1]=o.current,Ad(n.nodeType===8?n.parentNode:n),s3(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=c9(l);a.call(c)}}var l=eC(n,0,!1,null,null,!1,!1,"",zT);return n._reactRootContainer=l,n[r1]=l.current,Ad(n.nodeType===8?n.parentNode:n),s3(function(){w7(e,l,t,i)}),l}function T7(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=c9(o);a.call(l)}}w7(e,o,n,r)}else o=vX(t,e,n,r,i);return c9(o)}jL=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Sf(e.pendingLanes);t!==0&&(EE(e,t|1),Is(e,wi()),!(cn&6)&&(_2=wi()+500,Oc()))}break;case 13:s3(function(){var i=s1(n,1);if(i!==null){var r=ss();ga(i,n,1,r)}}),tC(n,1)}};CE=function(n){if(n.tag===13){var e=s1(n,134217728);if(e!==null){var t=ss();ga(e,n,134217728,t)}tC(n,134217728)}};XL=function(n){if(n.tag===13){var e=uc(n),t=s1(n,e);if(t!==null){var i=ss();ga(t,n,e,i)}tC(n,e)}};qL=function(){return En};YL=function(n,e){var t=En;try{return En=n,e()}finally{En=t}};uy=function(n,e,t){switch(e){case"input":if(iy(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=A7(i);if(!r)throw Error(Ye(90));ML(i),iy(i,r)}}}break;case"textarea":bL(n,t);break;case"select":e=t.value,e!=null&&e2(n,!!t.multiple,e,!1)}};DL=KE;OL=s3;var yX={usingClientEntryPoint:!1,Events:[C4,Lh,A7,PL,LL,KE]},H0={findFiberByHostInstance:ku,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},xX={bundleType:H0.bundleType,version:H0.version,rendererPackageName:H0.rendererPackageName,rendererConfig:H0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:p1.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=UL(n),n===null?null:n.stateNode},findFiberByHostInstance:H0.findFiberByHostInstance||AX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xp.isDisabled&&xp.supportsFiber)try{d7=xp.inject(xX),il=xp}catch{}}fo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yX;fo.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iC(e))throw Error(Ye(200));return mX(n,e,null,t)};fo.createRoot=function(n,e){if(!iC(n))throw Error(Ye(299));var t=!1,i="",r=vO;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=eC(n,1,!1,null,null,t,!1,i,r),n[r1]=e.current,Ad(n.nodeType===8?n.parentNode:n),new nC(e)};fo.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ye(188)):(n=Object.keys(n).join(","),Error(Ye(268,n)));return n=UL(e),n=n===null?null:n.stateNode,n};fo.flushSync=function(n){return s3(n)};fo.hydrate=function(n,e,t){if(!M7(e))throw Error(Ye(200));return T7(null,n,e,!0,t)};fo.hydrateRoot=function(n,e,t){if(!iC(n))throw Error(Ye(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=vO;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=AO(e,null,n,1,t??null,r,!1,s,o),n[r1]=e.current,Ad(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new _7(e)};fo.render=function(n,e,t){if(!M7(e))throw Error(Ye(200));return T7(null,n,e,!1,t)};fo.unmountComponentAtNode=function(n){if(!M7(n))throw Error(Ye(40));return n._reactRootContainer?(s3(function(){T7(null,null,n,!1,function(){n._reactRootContainer=null,n[r1]=null})}),!0):!1};fo.unstable_batchedUpdates=KE;fo.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!M7(t))throw Error(Ye(200));if(n==null||n._reactInternals===void 0)throw Error(Ye(38));return T7(n,e,t,!1,i)};fo.version="18.2.0-next-9e3b772b8-20220608";function yO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yO)}catch(n){console.error(n)}}yO(),AL.exports=fo;var SX=AL.exports,xO,QT=SX;xO=Kv.createRoot=QT.createRoot,Kv.hydrateRoot=QT.hydrateRoot;/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Nc="153",Su={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Eu={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},SO=0,Hy=1,EO=2,EX=3,CO=0,b7=1,Wf=2,la=3,hl=0,mr=1,Do=2,CX=2,Zt=0,zo=1,Md=2,Vy=3,Wy=4,Td=5,Ks=100,wO=101,_O=102,jy=103,Xy=104,M2=200,MO=201,TO=202,bO=203,bd=204,Id=205,I7=206,IO=207,R7=208,RO=209,BO=210,kO=0,PO=1,LO=2,u9=3,DO=4,OO=5,NO=6,FO=7,_4=0,UO=1,GO=2,ro=0,zO=1,QO=2,HO=3,rC=4,VO=5,B7=300,xc=301,Sc=302,Rd=303,Bd=304,Y2=306,a1=1e3,pi=1001,kd=1002,Pt=1003,h9=1004,wX=1004,jf=1005,_X=1005,bn=1006,sC=1007,MX=1007,fl=1008,TX=1008,zi=1009,WO=1010,jO=1011,E3=1012,oC=1013,Kl=1014,rs=1015,_i=1016,aC=1017,lC=1018,Zl=1020,XO=1021,gi=1023,cC=1024,qO=1025,fc=1026,Ec=1027,Du=1028,uC=1029,zh=1030,hC=1031,fC=1033,o2=33776,u8=33777,h8=33778,a2=33779,Pd=35840,qy=35841,Ld=35842,Yy=35843,k7=36196,Dd=37492,Od=37496,Nd=37808,Ky=37809,Jy=37810,$y=37811,Zy=37812,ex=37813,tx=37814,nx=37815,ix=37816,rx=37817,sx=37818,ox=37819,ax=37820,lx=37821,l2=36492,YO=36283,cx=36284,ux=36285,hx=36286,KO=2200,JO=2201,$O=2202,Fd=2300,Ud=2301,f8=2302,Ou=2400,Nu=2401,Gd=2402,P7=2500,dC=2501,bX=0,IX=1,RX=2,pC=3e3,dc=3001,ZO=3200,L7=3201,Fc=0,eN=1,pc="",Gt="srgb",ya="srgb-linear",gC="display-p3",BX=0,d8=7680,kX=7681,PX=7682,LX=7683,DX=34055,OX=34056,NX=5386,FX=512,UX=513,GX=514,zX=515,QX=516,HX=517,VX=518,tN=519,nN=512,iN=513,rN=514,sN=515,oN=516,aN=517,lN=518,cN=519,zd=35044,ju=35048,WX=35040,jX=35045,XX=35049,qX=35041,YX=35046,KX=35050,JX=35042,$X="100",fx="300 es",f9=1035,Za=2e3,Qd=2001;class dl{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const Rr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let HT=1234567;const Xu=Math.PI/180,T2=180/Math.PI;function so(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Rr[n&255]+Rr[n>>8&255]+Rr[n>>16&255]+Rr[n>>24&255]+"-"+Rr[e&255]+Rr[e>>8&255]+"-"+Rr[e>>16&15|64]+Rr[e>>24&255]+"-"+Rr[t&63|128]+Rr[t>>8&255]+"-"+Rr[t>>16&255]+Rr[t>>24&255]+Rr[i&255]+Rr[i>>8&255]+Rr[i>>16&255]+Rr[i>>24&255]).toLowerCase()}function fi(n,e,t){return Math.max(e,Math.min(t,n))}function mC(n,e){return(n%e+e)%e}function ZX(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function eq(n,e,t){return n!==e?(t-n)/(e-n):0}function Xf(n,e,t){return(1-t)*n+t*e}function tq(n,e,t,i){return Xf(n,e,1-Math.exp(-t*i))}function nq(n,e=1){return e-Math.abs(mC(n,e*2)-e)}function iq(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function rq(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function sq(n,e){return n+Math.floor(Math.random()*(e-n+1))}function oq(n,e){return n+Math.random()*(e-n)}function aq(n){return n*(.5-Math.random())}function lq(n){n!==void 0&&(HT=n);let e=HT+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function cq(n){return n*Xu}function uq(n){return n*T2}function dx(n){return(n&n-1)===0&&n!==0}function uN(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function d9(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function hq(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+i)/2),u=o((e+i)/2),h=s((e-i)/2),f=o((e-i)/2),p=s((i-e)/2),m=o((i-e)/2);switch(r){case"XYX":n.set(a*u,l*h,l*f,a*c);break;case"YZY":n.set(l*f,a*u,l*h,a*c);break;case"ZXZ":n.set(l*h,l*f,a*u,a*c);break;case"XZX":n.set(a*u,l*m,l*p,a*c);break;case"YXY":n.set(l*p,a*u,l*m,a*c);break;case"ZYZ":n.set(l*m,l*p,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Zs(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function jt(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const c2={DEG2RAD:Xu,RAD2DEG:T2,generateUUID:so,clamp:fi,euclideanModulo:mC,mapLinear:ZX,inverseLerp:eq,lerp:Xf,damp:tq,pingpong:nq,smoothstep:iq,smootherstep:rq,randInt:sq,randFloat:oq,randFloatSpread:aq,seededRandom:lq,degToRad:cq,radToDeg:uq,isPowerOfTwo:dx,ceilPowerOfTwo:uN,floorPowerOfTwo:d9,setQuaternionFromProperEuler:hq,normalize:jt,denormalize:Zs};class _e{constructor(e=0,t=0){_e.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(fi(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ht{constructor(e,t,i,r,s,o,a,l,c){Ht.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c)}set(e,t,i,r,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],u=i[4],h=i[7],f=i[2],p=i[5],m=i[8],S=r[0],v=r[3],A=r[6],y=r[1],x=r[4],C=r[7],w=r[2],M=r[5],T=r[8];return s[0]=o*S+a*y+l*w,s[3]=o*v+a*x+l*M,s[6]=o*A+a*C+l*T,s[1]=c*S+u*y+h*w,s[4]=c*v+u*x+h*M,s[7]=c*A+u*C+h*T,s[2]=f*S+p*y+m*w,s[5]=f*v+p*x+m*M,s[8]=f*A+p*C+m*T,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-i*s*u+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=u*o-a*c,f=a*l-u*s,p=c*s-o*l,m=t*h+i*f+r*p;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/m;return e[0]=h*S,e[1]=(r*c-u*i)*S,e[2]=(a*i-r*o)*S,e[3]=f*S,e[4]=(u*t-r*l)*S,e[5]=(r*s-a*t)*S,e[6]=p*S,e[7]=(i*l-c*t)*S,e[8]=(o*t-i*s)*S,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(sA.makeScale(e,t)),this}rotate(e){return this.premultiply(sA.makeRotation(-e)),this}translate(e,t){return this.premultiply(sA.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const sA=new Ht;function hN(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const fq={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Qh(n,e){return new fq[n](e)}function Hd(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}const VT={};function qf(n){n in VT||(VT[n]=!0,console.warn(n))}function u2(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function oA(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const dq=new Ht().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),pq=new Ht().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function gq(n){return n.convertSRGBToLinear().applyMatrix3(pq)}function mq(n){return n.applyMatrix3(dq).convertLinearToSRGB()}const Aq={[ya]:n=>n,[Gt]:n=>n.convertSRGBToLinear(),[gC]:gq},vq={[ya]:n=>n,[Gt]:n=>n.convertLinearToSRGB(),[gC]:mq},bo={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return ya},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const i=Aq[e],r=vq[t];if(i===void 0||r===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let Y3;class AC{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Y3===void 0&&(Y3=Hd("canvas")),Y3.width=e.width,Y3.height=e.height;const i=Y3.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Y3}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Hd("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=u2(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(u2(t[i]/255)*255):t[i]=u2(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let yq=0;class Fu{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:yq++}),this.uuid=so(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(aA(r[o].image)):s.push(aA(r[o]))}else s=aA(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function aA(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?AC.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let xq=0;class Kn extends dl{constructor(e=Kn.DEFAULT_IMAGE,t=Kn.DEFAULT_MAPPING,i=pi,r=pi,s=bn,o=fl,a=gi,l=zi,c=Kn.DEFAULT_ANISOTROPY,u=pc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:xq++}),this.uuid=so(),this.name="",this.source=new Fu(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new _e(0,0),this.repeat=new _e(1,1),this.center=new _e(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ht,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(qf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===dc?Gt:pc),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==B7)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case a1:e.x=e.x-Math.floor(e.x);break;case pi:e.x=e.x<0?0:1;break;case kd:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case a1:e.y=e.y-Math.floor(e.y);break;case pi:e.y=e.y<0?0:1;break;case kd:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return qf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Gt?dc:pC}set encoding(e){qf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===dc?Gt:pc}}Kn.DEFAULT_IMAGE=null;Kn.DEFAULT_MAPPING=B7;Kn.DEFAULT_ANISOTROPY=1;class en{constructor(e=0,t=0,i=0,r=1){en.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],u=l[4],h=l[8],f=l[1],p=l[5],m=l[9],S=l[2],v=l[6],A=l[10];if(Math.abs(u-f)<.01&&Math.abs(h-S)<.01&&Math.abs(m-v)<.01){if(Math.abs(u+f)<.1&&Math.abs(h+S)<.1&&Math.abs(m+v)<.1&&Math.abs(c+p+A-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const x=(c+1)/2,C=(p+1)/2,w=(A+1)/2,M=(u+f)/4,T=(h+S)/4,R=(m+v)/4;return x>C&&x>w?x<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(x),r=M/i,s=T/i):C>w?C<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(C),i=M/r,s=R/r):w<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(w),i=T/s,r=R/s),this.set(i,r,s,t),this}let y=Math.sqrt((v-m)*(v-m)+(h-S)*(h-S)+(f-u)*(f-u));return Math.abs(y)<.001&&(y=1),this.x=(v-m)/y,this.y=(h-S)/y,this.z=(f-u)/y,this.w=Math.acos((c+p+A-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class In extends dl{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new en(0,0,e,t),this.scissorTest=!1,this.viewport=new en(0,0,e,t);const r={width:e,height:t,depth:1};i.encoding!==void 0&&(qf("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===dc?Gt:pc),this.texture=new Kn(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:bn,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Fu(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class D7 extends Kn{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Pt,this.minFilter=Pt,this.wrapR=pi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Sq extends In{constructor(e=1,t=1,i=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new D7(null,e,t,i),this.texture.isRenderTargetTexture=!0}}let vC=class extends Kn{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Pt,this.minFilter=Pt,this.wrapR=pi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};class Eq extends In{constructor(e=1,t=1,i=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new vC(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class Cq extends In{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Ar{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],u=i[r+2],h=i[r+3];const f=s[o+0],p=s[o+1],m=s[o+2],S=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h;return}if(a===1){e[t+0]=f,e[t+1]=p,e[t+2]=m,e[t+3]=S;return}if(h!==S||l!==f||c!==p||u!==m){let v=1-a;const A=l*f+c*p+u*m+h*S,y=A>=0?1:-1,x=1-A*A;if(x>Number.EPSILON){const w=Math.sqrt(x),M=Math.atan2(w,A*y);v=Math.sin(v*M)/w,a=Math.sin(a*M)/w}const C=a*y;if(l=l*v+f*C,c=c*v+p*C,u=u*v+m*C,h=h*v+S*C,v===1-a){const w=1/Math.sqrt(l*l+c*c+u*u+h*h);l*=w,c*=w,u*=w,h*=w}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=h}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],u=i[r+3],h=s[o],f=s[o+1],p=s[o+2],m=s[o+3];return e[t]=a*m+u*h+l*p-c*f,e[t+1]=l*m+u*f+c*h-a*p,e[t+2]=c*m+u*p+a*f-l*h,e[t+3]=u*m-a*h-l*f-c*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),u=a(r/2),h=a(s/2),f=l(i/2),p=l(r/2),m=l(s/2);switch(o){case"XYZ":this._x=f*u*h+c*p*m,this._y=c*p*h-f*u*m,this._z=c*u*m+f*p*h,this._w=c*u*h-f*p*m;break;case"YXZ":this._x=f*u*h+c*p*m,this._y=c*p*h-f*u*m,this._z=c*u*m-f*p*h,this._w=c*u*h+f*p*m;break;case"ZXY":this._x=f*u*h-c*p*m,this._y=c*p*h+f*u*m,this._z=c*u*m+f*p*h,this._w=c*u*h-f*p*m;break;case"ZYX":this._x=f*u*h-c*p*m,this._y=c*p*h+f*u*m,this._z=c*u*m-f*p*h,this._w=c*u*h+f*p*m;break;case"YZX":this._x=f*u*h+c*p*m,this._y=c*p*h+f*u*m,this._z=c*u*m-f*p*h,this._w=c*u*h-f*p*m;break;case"XZY":this._x=f*u*h-c*p*m,this._y=c*p*h-f*u*m,this._z=c*u*m+f*p*h,this._w=c*u*h+f*p*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],h=t[10],f=i+a+h;if(f>0){const p=.5/Math.sqrt(f+1);this._w=.25/p,this._x=(u-l)*p,this._y=(s-c)*p,this._z=(o-r)*p}else if(i>a&&i>h){const p=2*Math.sqrt(1+i-a-h);this._w=(u-l)/p,this._x=.25*p,this._y=(r+o)/p,this._z=(s+c)/p}else if(a>h){const p=2*Math.sqrt(1+a-i-h);this._w=(s-c)/p,this._x=(r+o)/p,this._y=.25*p,this._z=(l+u)/p}else{const p=2*Math.sqrt(1+h-i-a);this._w=(o-r)/p,this._x=(s+c)/p,this._y=(l+u)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(fi(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=i*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-i*c,this._z=s*u+o*c+i*l-r*a,this._w=o*u-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const p=1-t;return this._w=p*o+t*this._w,this._x=p*i+t*this._x,this._y=p*r+t*this._y,this._z=p*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),h=Math.sin((1-t)*u)/c,f=Math.sin(t*u)/c;return this._w=o*h+this._w*f,this._x=i*h+this._x*f,this._y=r*h+this._y*f,this._z=s*h+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Q{constructor(e=0,t=0,i=0){Q.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(WT.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(WT.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*r-a*i,u=l*i+a*t-s*r,h=l*r+s*i-o*t,f=-s*t-o*i-a*r;return this.x=c*l+f*-s+u*-a-h*-o,this.y=u*l+f*-o+h*-s-c*-a,this.z=h*l+f*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return lA.copy(this).projectOnVector(e),this.sub(lA)}reflect(e){return this.sub(lA.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(fi(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const lA=new Q,WT=new Ar;class wa{constructor(e=new Q(1/0,1/0,1/0),t=new Q(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Nl.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Nl.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Nl.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),K3.copy(e.boundingBox),K3.applyMatrix4(e.matrixWorld),this.union(K3);else{const r=e.geometry;if(r!==void 0)if(t&&r.attributes!==void 0&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)Nl.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Nl)}else r.boundingBox===null&&r.computeBoundingBox(),K3.copy(r.boundingBox),K3.applyMatrix4(e.matrixWorld),this.union(K3)}const i=e.children;for(let r=0,s=i.length;r<s;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Nl),Nl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(V0),Sp.subVectors(this.max,V0),J3.subVectors(e.a,V0),$3.subVectors(e.b,V0),Z3.subVectors(e.c,V0),P1.subVectors($3,J3),L1.subVectors(Z3,$3),au.subVectors(J3,Z3);let t=[0,-P1.z,P1.y,0,-L1.z,L1.y,0,-au.z,au.y,P1.z,0,-P1.x,L1.z,0,-L1.x,au.z,0,-au.x,-P1.y,P1.x,0,-L1.y,L1.x,0,-au.y,au.x,0];return!cA(t,J3,$3,Z3,Sp)||(t=[1,0,0,0,1,0,0,0,1],!cA(t,J3,$3,Z3,Sp))?!1:(Ep.crossVectors(P1,L1),t=[Ep.x,Ep.y,Ep.z],cA(t,J3,$3,Z3,Sp))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Nl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Nl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ol[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ol[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ol[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ol[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ol[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ol[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ol[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ol[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ol),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ol=[new Q,new Q,new Q,new Q,new Q,new Q,new Q,new Q],Nl=new Q,K3=new wa,J3=new Q,$3=new Q,Z3=new Q,P1=new Q,L1=new Q,au=new Q,V0=new Q,Sp=new Q,Ep=new Q,lu=new Q;function cA(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){lu.fromArray(n,s);const a=r.x*Math.abs(lu.x)+r.y*Math.abs(lu.y)+r.z*Math.abs(lu.z),l=e.dot(lu),c=t.dot(lu),u=i.dot(lu);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const wq=new wa,W0=new Q,uA=new Q;let Jo=class{constructor(e=new Q,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):wq.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;W0.subVectors(e,this.center);const t=W0.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(W0,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(uA.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(W0.copy(e.center).add(uA)),this.expandByPoint(W0.copy(e.center).sub(uA))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const Fl=new Q,hA=new Q,Cp=new Q,D1=new Q,fA=new Q,wp=new Q,dA=new Q;class K2{constructor(e=new Q,t=new Q(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Fl)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Fl.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Fl.copy(this.origin).addScaledVector(this.direction,t),Fl.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){hA.copy(e).add(t).multiplyScalar(.5),Cp.copy(t).sub(e).normalize(),D1.copy(this.origin).sub(hA);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Cp),a=D1.dot(this.direction),l=-D1.dot(Cp),c=D1.lengthSq(),u=Math.abs(1-o*o);let h,f,p,m;if(u>0)if(h=o*l-a,f=o*a-l,m=s*u,h>=0)if(f>=-m)if(f<=m){const S=1/u;h*=S,f*=S,p=h*(h+o*f+2*a)+f*(o*h+f+2*l)+c}else f=s,h=Math.max(0,-(o*f+a)),p=-h*h+f*(f+2*l)+c;else f=-s,h=Math.max(0,-(o*f+a)),p=-h*h+f*(f+2*l)+c;else f<=-m?(h=Math.max(0,-(-o*s+a)),f=h>0?-s:Math.min(Math.max(-s,-l),s),p=-h*h+f*(f+2*l)+c):f<=m?(h=0,f=Math.min(Math.max(-s,-l),s),p=f*(f+2*l)+c):(h=Math.max(0,-(o*s+a)),f=h>0?s:Math.min(Math.max(-s,-l),s),p=-h*h+f*(f+2*l)+c);else f=o>0?-s:s,h=Math.max(0,-(o*f+a)),p=-h*h+f*(f+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,h),r&&r.copy(hA).addScaledVector(Cp,f),p}intersectSphere(e,t){Fl.subVectors(e.center,this.origin);const i=Fl.dot(this.direction),r=Fl.dot(Fl)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,f=this.origin;return c>=0?(i=(e.min.x-f.x)*c,r=(e.max.x-f.x)*c):(i=(e.max.x-f.x)*c,r=(e.min.x-f.x)*c),u>=0?(s=(e.min.y-f.y)*u,o=(e.max.y-f.y)*u):(s=(e.max.y-f.y)*u,o=(e.min.y-f.y)*u),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),h>=0?(a=(e.min.z-f.z)*h,l=(e.max.z-f.z)*h):(a=(e.max.z-f.z)*h,l=(e.min.z-f.z)*h),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Fl)!==null}intersectTriangle(e,t,i,r,s){fA.subVectors(t,e),wp.subVectors(i,e),dA.crossVectors(fA,wp);let o=this.direction.dot(dA),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;D1.subVectors(this.origin,e);const l=a*this.direction.dot(wp.crossVectors(D1,wp));if(l<0)return null;const c=a*this.direction.dot(fA.cross(D1));if(c<0||l+c>o)return null;const u=-a*D1.dot(dA);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class At{constructor(e,t,i,r,s,o,a,l,c,u,h,f,p,m,S,v){At.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c,u,h,f,p,m,S,v)}set(e,t,i,r,s,o,a,l,c,u,h,f,p,m,S,v){const A=this.elements;return A[0]=e,A[4]=t,A[8]=i,A[12]=r,A[1]=s,A[5]=o,A[9]=a,A[13]=l,A[2]=c,A[6]=u,A[10]=h,A[14]=f,A[3]=p,A[7]=m,A[11]=S,A[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new At().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/eh.setFromMatrixColumn(e,0).length(),s=1/eh.setFromMatrixColumn(e,1).length(),o=1/eh.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const f=o*u,p=o*h,m=a*u,S=a*h;t[0]=l*u,t[4]=-l*h,t[8]=c,t[1]=p+m*c,t[5]=f-S*c,t[9]=-a*l,t[2]=S-f*c,t[6]=m+p*c,t[10]=o*l}else if(e.order==="YXZ"){const f=l*u,p=l*h,m=c*u,S=c*h;t[0]=f+S*a,t[4]=m*a-p,t[8]=o*c,t[1]=o*h,t[5]=o*u,t[9]=-a,t[2]=p*a-m,t[6]=S+f*a,t[10]=o*l}else if(e.order==="ZXY"){const f=l*u,p=l*h,m=c*u,S=c*h;t[0]=f-S*a,t[4]=-o*h,t[8]=m+p*a,t[1]=p+m*a,t[5]=o*u,t[9]=S-f*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const f=o*u,p=o*h,m=a*u,S=a*h;t[0]=l*u,t[4]=m*c-p,t[8]=f*c+S,t[1]=l*h,t[5]=S*c+f,t[9]=p*c-m,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const f=o*l,p=o*c,m=a*l,S=a*c;t[0]=l*u,t[4]=S-f*h,t[8]=m*h+p,t[1]=h,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=p*h+m,t[10]=f-S*h}else if(e.order==="XZY"){const f=o*l,p=o*c,m=a*l,S=a*c;t[0]=l*u,t[4]=-h,t[8]=c*u,t[1]=f*h+S,t[5]=o*u,t[9]=p*h-m,t[2]=m*h-p,t[6]=a*u,t[10]=S*h+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(_q,e,Mq)}lookAt(e,t,i){const r=this.elements;return Qs.subVectors(e,t),Qs.lengthSq()===0&&(Qs.z=1),Qs.normalize(),O1.crossVectors(i,Qs),O1.lengthSq()===0&&(Math.abs(i.z)===1?Qs.x+=1e-4:Qs.z+=1e-4,Qs.normalize(),O1.crossVectors(i,Qs)),O1.normalize(),_p.crossVectors(Qs,O1),r[0]=O1.x,r[4]=_p.x,r[8]=Qs.x,r[1]=O1.y,r[5]=_p.y,r[9]=Qs.y,r[2]=O1.z,r[6]=_p.z,r[10]=Qs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],u=i[1],h=i[5],f=i[9],p=i[13],m=i[2],S=i[6],v=i[10],A=i[14],y=i[3],x=i[7],C=i[11],w=i[15],M=r[0],T=r[4],R=r[8],b=r[12],B=r[1],P=r[5],O=r[9],G=r[13],H=r[2],j=r[6],q=r[10],J=r[14],L=r[3],D=r[7],F=r[11],z=r[15];return s[0]=o*M+a*B+l*H+c*L,s[4]=o*T+a*P+l*j+c*D,s[8]=o*R+a*O+l*q+c*F,s[12]=o*b+a*G+l*J+c*z,s[1]=u*M+h*B+f*H+p*L,s[5]=u*T+h*P+f*j+p*D,s[9]=u*R+h*O+f*q+p*F,s[13]=u*b+h*G+f*J+p*z,s[2]=m*M+S*B+v*H+A*L,s[6]=m*T+S*P+v*j+A*D,s[10]=m*R+S*O+v*q+A*F,s[14]=m*b+S*G+v*J+A*z,s[3]=y*M+x*B+C*H+w*L,s[7]=y*T+x*P+C*j+w*D,s[11]=y*R+x*O+C*q+w*F,s[15]=y*b+x*G+C*J+w*z,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],h=e[6],f=e[10],p=e[14],m=e[3],S=e[7],v=e[11],A=e[15];return m*(+s*l*h-r*c*h-s*a*f+i*c*f+r*a*p-i*l*p)+S*(+t*l*p-t*c*f+s*o*f-r*o*p+r*c*u-s*l*u)+v*(+t*c*h-t*a*p-s*o*h+i*o*p+s*a*u-i*c*u)+A*(-r*a*u-t*l*h+t*a*f+r*o*h-i*o*f+i*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=e[9],f=e[10],p=e[11],m=e[12],S=e[13],v=e[14],A=e[15],y=h*v*c-S*f*c+S*l*p-a*v*p-h*l*A+a*f*A,x=m*f*c-u*v*c-m*l*p+o*v*p+u*l*A-o*f*A,C=u*S*c-m*h*c+m*a*p-o*S*p-u*a*A+o*h*A,w=m*h*l-u*S*l-m*a*f+o*S*f+u*a*v-o*h*v,M=t*y+i*x+r*C+s*w;if(M===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/M;return e[0]=y*T,e[1]=(S*f*s-h*v*s-S*r*p+i*v*p+h*r*A-i*f*A)*T,e[2]=(a*v*s-S*l*s+S*r*c-i*v*c-a*r*A+i*l*A)*T,e[3]=(h*l*s-a*f*s-h*r*c+i*f*c+a*r*p-i*l*p)*T,e[4]=x*T,e[5]=(u*v*s-m*f*s+m*r*p-t*v*p-u*r*A+t*f*A)*T,e[6]=(m*l*s-o*v*s-m*r*c+t*v*c+o*r*A-t*l*A)*T,e[7]=(o*f*s-u*l*s+u*r*c-t*f*c-o*r*p+t*l*p)*T,e[8]=C*T,e[9]=(m*h*s-u*S*s-m*i*p+t*S*p+u*i*A-t*h*A)*T,e[10]=(o*S*s-m*a*s+m*i*c-t*S*c-o*i*A+t*a*A)*T,e[11]=(u*a*s-o*h*s-u*i*c+t*h*c+o*i*p-t*a*p)*T,e[12]=w*T,e[13]=(u*S*r-m*h*r+m*i*f-t*S*f-u*i*v+t*h*v)*T,e[14]=(m*a*r-o*S*r-m*i*l+t*S*l+o*i*v-t*a*v)*T,e[15]=(o*h*r-u*a*r+u*i*l-t*h*l-o*i*f+t*a*f)*T,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+i,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,h=a+a,f=s*c,p=s*u,m=s*h,S=o*u,v=o*h,A=a*h,y=l*c,x=l*u,C=l*h,w=i.x,M=i.y,T=i.z;return r[0]=(1-(S+A))*w,r[1]=(p+C)*w,r[2]=(m-x)*w,r[3]=0,r[4]=(p-C)*M,r[5]=(1-(f+A))*M,r[6]=(v+y)*M,r[7]=0,r[8]=(m+x)*T,r[9]=(v-y)*T,r[10]=(1-(f+S))*T,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=eh.set(r[0],r[1],r[2]).length();const o=eh.set(r[4],r[5],r[6]).length(),a=eh.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],ra.copy(this);const c=1/s,u=1/o,h=1/a;return ra.elements[0]*=c,ra.elements[1]*=c,ra.elements[2]*=c,ra.elements[4]*=u,ra.elements[5]*=u,ra.elements[6]*=u,ra.elements[8]*=h,ra.elements[9]*=h,ra.elements[10]*=h,t.setFromRotationMatrix(ra),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o,a=Za){const l=this.elements,c=2*s/(t-e),u=2*s/(i-r),h=(t+e)/(t-e),f=(i+r)/(i-r);let p,m;if(a===Za)p=-(o+s)/(o-s),m=-2*o*s/(o-s);else if(a===Qd)p=-o/(o-s),m=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=p,l[14]=m,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,o,a=Za){const l=this.elements,c=1/(t-e),u=1/(i-r),h=1/(o-s),f=(t+e)*c,p=(i+r)*u;let m,S;if(a===Za)m=(o+s)*h,S=-2*h;else if(a===Qd)m=s*h,S=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-p,l[2]=0,l[6]=0,l[10]=S,l[14]=-m,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const eh=new Q,ra=new At,_q=new Q(0,0,0),Mq=new Q(1,1,1),O1=new Q,_p=new Q,Qs=new Q,jT=new At,XT=new Ar;class M4{constructor(e=0,t=0,i=0,r=M4.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],h=r[2],f=r[6],p=r[10];switch(t){case"XYZ":this._y=Math.asin(fi(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-fi(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(fi(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-fi(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(f,p),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(fi(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-fi(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return jT.makeRotationFromQuaternion(e),this.setFromRotationMatrix(jT,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return XT.setFromEuler(this),this.setFromQuaternion(XT,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}M4.DEFAULT_ORDER="XYZ";class qu{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Tq=0;const qT=new Q,th=new Ar,Ul=new At,Mp=new Q,j0=new Q,bq=new Q,Iq=new Ar,YT=new Q(1,0,0),KT=new Q(0,1,0),JT=new Q(0,0,1),Rq={type:"added"},$T={type:"removed"};class Yt extends dl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Tq++}),this.uuid=so(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Yt.DEFAULT_UP.clone();const e=new Q,t=new M4,i=new Ar,r=new Q(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new At},normalMatrix:{value:new Ht}}),this.matrix=new At,this.matrixWorld=new At,this.matrixAutoUpdate=Yt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Yt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new qu,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return th.setFromAxisAngle(e,t),this.quaternion.multiply(th),this}rotateOnWorldAxis(e,t){return th.setFromAxisAngle(e,t),this.quaternion.premultiply(th),this}rotateX(e){return this.rotateOnAxis(YT,e)}rotateY(e){return this.rotateOnAxis(KT,e)}rotateZ(e){return this.rotateOnAxis(JT,e)}translateOnAxis(e,t){return qT.copy(e).applyQuaternion(this.quaternion),this.position.add(qT.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(YT,e)}translateY(e){return this.translateOnAxis(KT,e)}translateZ(e){return this.translateOnAxis(JT,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ul.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Mp.copy(e):Mp.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),j0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ul.lookAt(j0,Mp,this.up):Ul.lookAt(Mp,j0,this.up),this.quaternion.setFromRotationMatrix(Ul),r&&(Ul.extractRotation(r.matrixWorld),th.setFromRotationMatrix(Ul),this.quaternion.premultiply(th.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Rq)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent($T)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent($T)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Ul.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ul.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ul),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let i=[];this[e]===t&&i.push(this);for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectsByProperty(e,t);o.length>0&&(i=i.concat(o))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(j0,e,bq),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(j0,Iq,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),h=o(e.shapes),f=o(e.skeletons),p=o(e.animations),m=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),h.length>0&&(i.shapes=h),f.length>0&&(i.skeletons=f),p.length>0&&(i.animations=p),m.length>0&&(i.nodes=m)}return i.object=r,i;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Yt.DEFAULT_UP=new Q(0,1,0);Yt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Yt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const sa=new Q,Gl=new Q,pA=new Q,zl=new Q,nh=new Q,ih=new Q,ZT=new Q,gA=new Q,mA=new Q,AA=new Q;let Tp=!1;class Ss{constructor(e=new Q,t=new Q,i=new Q){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),sa.subVectors(e,t),r.cross(sa);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){sa.subVectors(r,t),Gl.subVectors(i,t),pA.subVectors(e,t);const o=sa.dot(sa),a=sa.dot(Gl),l=sa.dot(pA),c=Gl.dot(Gl),u=Gl.dot(pA),h=o*c-a*a;if(h===0)return s.set(-2,-1,-1);const f=1/h,p=(c*l-a*u)*f,m=(o*u-a*l)*f;return s.set(1-p-m,m,p)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,zl),zl.x>=0&&zl.y>=0&&zl.x+zl.y<=1}static getUV(e,t,i,r,s,o,a,l){return Tp===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Tp=!0),this.getInterpolation(e,t,i,r,s,o,a,l)}static getInterpolation(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,zl),l.setScalar(0),l.addScaledVector(s,zl.x),l.addScaledVector(o,zl.y),l.addScaledVector(a,zl.z),l}static isFrontFacing(e,t,i,r){return sa.subVectors(i,t),Gl.subVectors(e,t),sa.cross(Gl).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return sa.subVectors(this.c,this.b),Gl.subVectors(this.a,this.b),sa.cross(Gl).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ss.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ss.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return Tp===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Tp=!0),Ss.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}getInterpolation(e,t,i,r,s){return Ss.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Ss.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ss.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;nh.subVectors(r,i),ih.subVectors(s,i),gA.subVectors(e,i);const l=nh.dot(gA),c=ih.dot(gA);if(l<=0&&c<=0)return t.copy(i);mA.subVectors(e,r);const u=nh.dot(mA),h=ih.dot(mA);if(u>=0&&h<=u)return t.copy(r);const f=l*h-u*c;if(f<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(i).addScaledVector(nh,o);AA.subVectors(e,s);const p=nh.dot(AA),m=ih.dot(AA);if(m>=0&&p<=m)return t.copy(s);const S=p*c-l*m;if(S<=0&&c>=0&&m<=0)return a=c/(c-m),t.copy(i).addScaledVector(ih,a);const v=u*m-p*h;if(v<=0&&h-u>=0&&p-m>=0)return ZT.subVectors(s,r),a=(h-u)/(h-u+(p-m)),t.copy(r).addScaledVector(ZT,a);const A=1/(v+S+f);return o=S*A,a=f*A,t.copy(i).addScaledVector(nh,o).addScaledVector(ih,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Bq=0;class yr extends dl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Bq++}),this.uuid=so(),this.name="",this.type="Material",this.blending=zo,this.side=hl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=bd,this.blendDst=Id,this.blendEquation=Ks,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=u9,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=tN,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=d8,this.stencilZFail=d8,this.stencilZPass=d8,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==zo&&(i.blending=this.blending),this.side!==hl&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const fN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},oa={h:0,s:0,l:0},bp={h:0,s:0,l:0};function vA(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Je{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Gt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,bo.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=bo.workingColorSpace){return this.r=e,this.g=t,this.b=i,bo.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=bo.workingColorSpace){if(e=mC(e,1),t=fi(t,0,1),i=fi(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=vA(o,s,e+1/3),this.g=vA(o,s,e),this.b=vA(o,s,e-1/3)}return bo.toWorkingColorSpace(this,r),this}setStyle(e,t=Gt){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Gt){const i=fN[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=u2(e.r),this.g=u2(e.g),this.b=u2(e.b),this}copyLinearToSRGB(e){return this.r=oA(e.r),this.g=oA(e.g),this.b=oA(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Gt){return bo.fromWorkingColorSpace(Br.copy(this),e),Math.round(fi(Br.r*255,0,255))*65536+Math.round(fi(Br.g*255,0,255))*256+Math.round(fi(Br.b*255,0,255))}getHexString(e=Gt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=bo.workingColorSpace){bo.fromWorkingColorSpace(Br.copy(this),t);const i=Br.r,r=Br.g,s=Br.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=u<=.5?h/(o+a):h/(2-o-a),o){case i:l=(r-s)/h+(r<s?6:0);break;case r:l=(s-i)/h+2;break;case s:l=(i-r)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=bo.workingColorSpace){return bo.fromWorkingColorSpace(Br.copy(this),t),e.r=Br.r,e.g=Br.g,e.b=Br.b,e}getStyle(e=Gt){bo.fromWorkingColorSpace(Br.copy(this),e);const t=Br.r,i=Br.g,r=Br.b;return e!==Gt?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(oa),oa.h+=e,oa.s+=t,oa.l+=i,this.setHSL(oa.h,oa.s,oa.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(oa),e.getHSL(bp);const i=Xf(oa.h,bp.h,t),r=Xf(oa.s,bp.s,t),s=Xf(oa.l,bp.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Br=new Je;Je.NAMES=fN;class ao extends yr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Je(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=_4,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Xl=kq();function kq(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function ys(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=fi(n,-65504,65504),Xl.floatView[0]=n;const e=Xl.uint32View[0],t=e>>23&511;return Xl.baseTable[t]+((e&8388607)>>Xl.shiftTable[t])}function Cf(n){const e=n>>10;return Xl.uint32View[0]=Xl.mantissaTable[Xl.offsetTable[e]+(n&1023)]+Xl.exponentTable[e],Xl.floatView[0]}const Pq={toHalfFloat:ys,fromHalfFloat:Cf},Ri=new Q,Ip=new _e;class Rn{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=zd,this.updateRange={offset:0,count:-1},this.gpuType=rs,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Ip.fromBufferAttribute(this,t),Ip.applyMatrix3(e),this.setXY(t,Ip.x,Ip.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Ri.fromBufferAttribute(this,t),Ri.applyMatrix3(e),this.setXYZ(t,Ri.x,Ri.y,Ri.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Ri.fromBufferAttribute(this,t),Ri.applyMatrix4(e),this.setXYZ(t,Ri.x,Ri.y,Ri.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Ri.fromBufferAttribute(this,t),Ri.applyNormalMatrix(e),this.setXYZ(t,Ri.x,Ri.y,Ri.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Ri.fromBufferAttribute(this,t),Ri.transformDirection(e),this.setXYZ(t,Ri.x,Ri.y,Ri.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Zs(t,this.array)),t}setX(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Zs(t,this.array)),t}setY(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Zs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Zs(t,this.array)),t}setW(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array),r=jt(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array),r=jt(r,this.array),s=jt(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==zd&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Lq extends Rn{constructor(e,t,i){super(new Int8Array(e),t,i)}}class Dq extends Rn{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class Oq extends Rn{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class Nq extends Rn{constructor(e,t,i){super(new Int16Array(e),t,i)}}class yC extends Rn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class Fq extends Rn{constructor(e,t,i){super(new Int32Array(e),t,i)}}class O7 extends Rn{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class Uq extends Rn{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=Cf(this.array[e*this.itemSize]);return this.normalized&&(t=Zs(t,this.array)),t}setX(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize]=ys(t),this}getY(e){let t=Cf(this.array[e*this.itemSize+1]);return this.normalized&&(t=Zs(t,this.array)),t}setY(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize+1]=ys(t),this}getZ(e){let t=Cf(this.array[e*this.itemSize+2]);return this.normalized&&(t=Zs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize+2]=ys(t),this}getW(e){let t=Cf(this.array[e*this.itemSize+3]);return this.normalized&&(t=Zs(t,this.array)),t}setW(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize+3]=ys(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array)),this.array[e+0]=ys(t),this.array[e+1]=ys(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array),r=jt(r,this.array)),this.array[e+0]=ys(t),this.array[e+1]=ys(i),this.array[e+2]=ys(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array),r=jt(r,this.array),s=jt(s,this.array)),this.array[e+0]=ys(t),this.array[e+1]=ys(i),this.array[e+2]=ys(r),this.array[e+3]=ys(s),this}}class ht extends Rn{constructor(e,t,i){super(new Float32Array(e),t,i)}}class Gq extends Rn{constructor(e,t,i){super(new Float64Array(e),t,i)}}let zq=0;const Mo=new At,yA=new Yt,rh=new Q,Hs=new wa,X0=new wa,tr=new Q;class Lt extends dl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:zq++}),this.uuid=so(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(hN(e)?O7:yC)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Ht().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Mo.makeRotationFromQuaternion(e),this.applyMatrix4(Mo),this}rotateX(e){return Mo.makeRotationX(e),this.applyMatrix4(Mo),this}rotateY(e){return Mo.makeRotationY(e),this.applyMatrix4(Mo),this}rotateZ(e){return Mo.makeRotationZ(e),this.applyMatrix4(Mo),this}translate(e,t,i){return Mo.makeTranslation(e,t,i),this.applyMatrix4(Mo),this}scale(e,t,i){return Mo.makeScale(e,t,i),this.applyMatrix4(Mo),this}lookAt(e){return yA.lookAt(e),yA.updateMatrix(),this.applyMatrix4(yA.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(rh).negate(),this.translate(rh.x,rh.y,rh.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new ht(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new wa);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Q(-1/0,-1/0,-1/0),new Q(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Hs.setFromBufferAttribute(s),this.morphTargetsRelative?(tr.addVectors(this.boundingBox.min,Hs.min),this.boundingBox.expandByPoint(tr),tr.addVectors(this.boundingBox.max,Hs.max),this.boundingBox.expandByPoint(tr)):(this.boundingBox.expandByPoint(Hs.min),this.boundingBox.expandByPoint(Hs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Jo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Q,1/0);return}if(e){const i=this.boundingSphere.center;if(Hs.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];X0.setFromBufferAttribute(a),this.morphTargetsRelative?(tr.addVectors(Hs.min,X0.min),Hs.expandByPoint(tr),tr.addVectors(Hs.max,X0.max),Hs.expandByPoint(tr)):(Hs.expandByPoint(X0.min),Hs.expandByPoint(X0.max))}Hs.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)tr.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(tr));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)tr.fromBufferAttribute(a,c),l&&(rh.fromBufferAttribute(e,c),tr.add(rh)),r=Math.max(r,i.distanceToSquared(tr))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Rn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let B=0;B<a;B++)c[B]=new Q,u[B]=new Q;const h=new Q,f=new Q,p=new Q,m=new _e,S=new _e,v=new _e,A=new Q,y=new Q;function x(B,P,O){h.fromArray(r,B*3),f.fromArray(r,P*3),p.fromArray(r,O*3),m.fromArray(o,B*2),S.fromArray(o,P*2),v.fromArray(o,O*2),f.sub(h),p.sub(h),S.sub(m),v.sub(m);const G=1/(S.x*v.y-v.x*S.y);isFinite(G)&&(A.copy(f).multiplyScalar(v.y).addScaledVector(p,-S.y).multiplyScalar(G),y.copy(p).multiplyScalar(S.x).addScaledVector(f,-v.x).multiplyScalar(G),c[B].add(A),c[P].add(A),c[O].add(A),u[B].add(y),u[P].add(y),u[O].add(y))}let C=this.groups;C.length===0&&(C=[{start:0,count:i.length}]);for(let B=0,P=C.length;B<P;++B){const O=C[B],G=O.start,H=O.count;for(let j=G,q=G+H;j<q;j+=3)x(i[j+0],i[j+1],i[j+2])}const w=new Q,M=new Q,T=new Q,R=new Q;function b(B){T.fromArray(s,B*3),R.copy(T);const P=c[B];w.copy(P),w.sub(T.multiplyScalar(T.dot(P))).normalize(),M.crossVectors(R,P);const G=M.dot(u[B])<0?-1:1;l[B*4]=w.x,l[B*4+1]=w.y,l[B*4+2]=w.z,l[B*4+3]=G}for(let B=0,P=C.length;B<P;++B){const O=C[B],G=O.start,H=O.count;for(let j=G,q=G+H;j<q;j+=3)b(i[j+0]),b(i[j+1]),b(i[j+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Rn(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let f=0,p=i.count;f<p;f++)i.setXYZ(f,0,0,0);const r=new Q,s=new Q,o=new Q,a=new Q,l=new Q,c=new Q,u=new Q,h=new Q;if(e)for(let f=0,p=e.count;f<p;f+=3){const m=e.getX(f+0),S=e.getX(f+1),v=e.getX(f+2);r.fromBufferAttribute(t,m),s.fromBufferAttribute(t,S),o.fromBufferAttribute(t,v),u.subVectors(o,s),h.subVectors(r,s),u.cross(h),a.fromBufferAttribute(i,m),l.fromBufferAttribute(i,S),c.fromBufferAttribute(i,v),a.add(u),l.add(u),c.add(u),i.setXYZ(m,a.x,a.y,a.z),i.setXYZ(S,l.x,l.y,l.z),i.setXYZ(v,c.x,c.y,c.z)}else for(let f=0,p=t.count;f<p;f+=3)r.fromBufferAttribute(t,f+0),s.fromBufferAttribute(t,f+1),o.fromBufferAttribute(t,f+2),u.subVectors(o,s),h.subVectors(r,s),u.cross(h),i.setXYZ(f+0,u.x,u.y,u.z),i.setXYZ(f+1,u.x,u.y,u.z),i.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)tr.fromBufferAttribute(e,t),tr.normalize(),e.setXYZ(t,tr.x,tr.y,tr.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,h=a.normalized,f=new c.constructor(l.length*u);let p=0,m=0;for(let S=0,v=l.length;S<v;S++){a.isInterleavedBufferAttribute?p=l[S]*a.data.stride+a.offset:p=l[S]*u;for(let A=0;A<u;A++)f[m++]=c[p++]}return new Rn(f,u,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Lt,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,h=c.length;u<h;u++){const f=c[u],p=e(f,i);l.push(p)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let h=0,f=c.length;h<f;h++){const p=c[h];u.push(p.toJSON(e.data))}u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],h=s[c];for(let f=0,p=h.length;f<p;f++)u.push(h[f].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const eb=new At,cu=new K2,Rp=new Jo,tb=new Q,sh=new Q,oh=new Q,ah=new Q,xA=new Q,Bp=new Q,kp=new _e,Pp=new _e,Lp=new _e,nb=new Q,ib=new Q,rb=new Q,Dp=new Q,Op=new Q;class mn extends Yt{constructor(e=new Lt,t=new ao){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){Bp.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],h=s[l];u!==0&&(xA.fromBufferAttribute(h,e),o?Bp.addScaledVector(xA,u):Bp.addScaledVector(xA.sub(t),u))}t.add(Bp)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Rp.copy(i.boundingSphere),Rp.applyMatrix4(s),cu.copy(e.ray).recast(e.near),!(Rp.containsPoint(cu.origin)===!1&&(cu.intersectSphere(Rp,tb)===null||cu.origin.distanceToSquared(tb)>(e.far-e.near)**2))&&(eb.copy(s).invert(),cu.copy(e.ray).applyMatrix4(eb),!(i.boundingBox!==null&&cu.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,cu)))}_computeIntersections(e,t,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,h=s.attributes.normal,f=s.groups,p=s.drawRange;if(a!==null)if(Array.isArray(o))for(let m=0,S=f.length;m<S;m++){const v=f[m],A=o[v.materialIndex],y=Math.max(v.start,p.start),x=Math.min(a.count,Math.min(v.start+v.count,p.start+p.count));for(let C=y,w=x;C<w;C+=3){const M=a.getX(C),T=a.getX(C+1),R=a.getX(C+2);r=Np(this,A,e,i,c,u,h,M,T,R),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=v.materialIndex,t.push(r))}}else{const m=Math.max(0,p.start),S=Math.min(a.count,p.start+p.count);for(let v=m,A=S;v<A;v+=3){const y=a.getX(v),x=a.getX(v+1),C=a.getX(v+2);r=Np(this,o,e,i,c,u,h,y,x,C),r&&(r.faceIndex=Math.floor(v/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let m=0,S=f.length;m<S;m++){const v=f[m],A=o[v.materialIndex],y=Math.max(v.start,p.start),x=Math.min(l.count,Math.min(v.start+v.count,p.start+p.count));for(let C=y,w=x;C<w;C+=3){const M=C,T=C+1,R=C+2;r=Np(this,A,e,i,c,u,h,M,T,R),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=v.materialIndex,t.push(r))}}else{const m=Math.max(0,p.start),S=Math.min(l.count,p.start+p.count);for(let v=m,A=S;v<A;v+=3){const y=v,x=v+1,C=v+2;r=Np(this,o,e,i,c,u,h,y,x,C),r&&(r.faceIndex=Math.floor(v/3),t.push(r))}}}}function Qq(n,e,t,i,r,s,o,a){let l;if(e.side===mr?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===hl,a),l===null)return null;Op.copy(a),Op.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(Op);return c<t.near||c>t.far?null:{distance:c,point:Op.clone(),object:n}}function Np(n,e,t,i,r,s,o,a,l,c){n.getVertexPosition(a,sh),n.getVertexPosition(l,oh),n.getVertexPosition(c,ah);const u=Qq(n,e,t,i,sh,oh,ah,Dp);if(u){r&&(kp.fromBufferAttribute(r,a),Pp.fromBufferAttribute(r,l),Lp.fromBufferAttribute(r,c),u.uv=Ss.getInterpolation(Dp,sh,oh,ah,kp,Pp,Lp,new _e)),s&&(kp.fromBufferAttribute(s,a),Pp.fromBufferAttribute(s,l),Lp.fromBufferAttribute(s,c),u.uv1=Ss.getInterpolation(Dp,sh,oh,ah,kp,Pp,Lp,new _e),u.uv2=u.uv1),o&&(nb.fromBufferAttribute(o,a),ib.fromBufferAttribute(o,l),rb.fromBufferAttribute(o,c),u.normal=Ss.getInterpolation(Dp,sh,oh,ah,nb,ib,rb,new Q),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const h={a,b:l,c,normal:new Q,materialIndex:0};Ss.getNormal(sh,oh,ah,h.normal),u.face=h}return u}class g1 extends Lt{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],h=[];let f=0,p=0;m("z","y","x",-1,-1,i,t,e,o,s,0),m("z","y","x",1,-1,i,t,-e,o,s,1),m("x","z","y",1,1,e,i,t,r,o,2),m("x","z","y",1,-1,e,i,-t,r,o,3),m("x","y","z",1,-1,e,t,i,r,s,4),m("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new ht(c,3)),this.setAttribute("normal",new ht(u,3)),this.setAttribute("uv",new ht(h,2));function m(S,v,A,y,x,C,w,M,T,R,b){const B=C/T,P=w/R,O=C/2,G=w/2,H=M/2,j=T+1,q=R+1;let J=0,L=0;const D=new Q;for(let F=0;F<q;F++){const z=F*P-G;for(let U=0;U<j;U++){const $=U*B-O;D[S]=$*y,D[v]=z*x,D[A]=H,c.push(D.x,D.y,D.z),D[S]=0,D[v]=0,D[A]=M>0?1:-1,u.push(D.x,D.y,D.z),h.push(U/T),h.push(1-F/R),J+=1}}for(let F=0;F<R;F++)for(let z=0;z<T;z++){const U=f+z+j*F,$=f+z+j*(F+1),ee=f+(z+1)+j*(F+1),ie=f+(z+1)+j*F;l.push(U,$,ie),l.push($,ee,ie),L+=6}a.addGroup(p,L,b),p+=L,f+=J}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new g1(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function b2(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function es(n){const e={};for(let t=0;t<n.length;t++){const i=b2(n[t]);for(const r in i)e[r]=i[r]}return e}function Hq(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function dN(n){return n.getRenderTarget()===null?n.outputColorSpace:ya}const qn={clone:b2,merge:es};var Vq=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Wq=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class un extends yr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Vq,this.fragmentShader=Wq,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=b2(e.uniforms),this.uniformsGroups=Hq(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class T4 extends Yt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new At,this.projectionMatrix=new At,this.projectionMatrixInverse=new At,this.coordinateSystem=Za}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Xn extends T4{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=T2*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Xu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return T2*2*Math.atan(Math.tan(Xu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Xu*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const lh=-90,ch=1;class pN extends Yt{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null;const r=new Xn(lh,ch,e,t);r.layers=this.layers,this.add(r);const s=new Xn(lh,ch,e,t);s.layers=this.layers,this.add(s);const o=new Xn(lh,ch,e,t);o.layers=this.layers,this.add(o);const a=new Xn(lh,ch,e,t);a.layers=this.layers,this.add(a);const l=new Xn(lh,ch,e,t);l.layers=this.layers,this.add(l);const c=new Xn(lh,ch,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===Za)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Qd)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,s,o,a,l,c]=this.children,u=e.getRenderTarget(),h=e.toneMapping,f=e.xr.enabled;e.toneMapping=ro,e.xr.enabled=!1;const p=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=p,e.setRenderTarget(i,5),e.render(t,c),e.setRenderTarget(u),e.toneMapping=h,e.xr.enabled=f,i.texture.needsPMREMUpdate=!0}}class b4 extends Kn{constructor(e,t,i,r,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:xc,super(e,t,i,r,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class gN extends In{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];t.encoding!==void 0&&(qf("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===dc?Gt:pc),this.texture=new b4(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:bn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new g1(5,5,5),s=new un({name:"CubemapFromEquirect",uniforms:b2(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:mr,blending:Zt});s.uniforms.tEquirect.value=t;const o=new mn(r,s),a=t.minFilter;return t.minFilter===fl&&(t.minFilter=bn),new pN(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const SA=new Q,jq=new Q,Xq=new Ht;class Lo{constructor(e=new Q(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=SA.subVectors(i,t).cross(jq.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(SA),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||Xq.getNormalMatrix(e),r=this.coplanarPoint(SA).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const uu=new Jo,Fp=new Q;class N7{constructor(e=new Lo,t=new Lo,i=new Lo,r=new Lo,s=new Lo,o=new Lo){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Za){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],u=r[5],h=r[6],f=r[7],p=r[8],m=r[9],S=r[10],v=r[11],A=r[12],y=r[13],x=r[14],C=r[15];if(i[0].setComponents(l-s,f-c,v-p,C-A).normalize(),i[1].setComponents(l+s,f+c,v+p,C+A).normalize(),i[2].setComponents(l+o,f+u,v+m,C+y).normalize(),i[3].setComponents(l-o,f-u,v-m,C-y).normalize(),i[4].setComponents(l-a,f-h,v-S,C-x).normalize(),t===Za)i[5].setComponents(l+a,f+h,v+S,C+x).normalize();else if(t===Qd)i[5].setComponents(a,h,S,x).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),uu.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),uu.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(uu)}intersectsSprite(e){return uu.center.set(0,0,0),uu.radius=.7071067811865476,uu.applyMatrix4(e.matrixWorld),this.intersectsSphere(uu)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Fp.x=r.normal.x>0?e.max.x:e.min.x,Fp.y=r.normal.y>0?e.max.y:e.min.y,Fp.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Fp)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function mN(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function qq(n,e){const t=e.isWebGL2,i=new WeakMap;function r(c,u){const h=c.array,f=c.usage,p=n.createBuffer();n.bindBuffer(u,p),n.bufferData(u,h,f),c.onUploadCallback();let m;if(h instanceof Float32Array)m=n.FLOAT;else if(h instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)m=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else m=n.UNSIGNED_SHORT;else if(h instanceof Int16Array)m=n.SHORT;else if(h instanceof Uint32Array)m=n.UNSIGNED_INT;else if(h instanceof Int32Array)m=n.INT;else if(h instanceof Int8Array)m=n.BYTE;else if(h instanceof Uint8Array)m=n.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)m=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:p,type:m,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,h){const f=u.array,p=u.updateRange;n.bindBuffer(h,c),p.count===-1?n.bufferSubData(h,0,f):(t?n.bufferSubData(h,p.offset*f.BYTES_PER_ELEMENT,f,p.offset,p.count):n.bufferSubData(h,p.offset*f.BYTES_PER_ELEMENT,f.subarray(p.offset,p.offset+p.count)),p.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);u&&(n.deleteBuffer(u.buffer),i.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const f=i.get(c);(!f||f.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const h=i.get(c);h===void 0?i.set(c,r(c,u)):h.version<c.version&&(s(h.buffer,c,u),h.version=c.version)}return{get:o,remove:a,update:l}}class pl extends Lt{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,u=l+1,h=e/a,f=t/l,p=[],m=[],S=[],v=[];for(let A=0;A<u;A++){const y=A*f-o;for(let x=0;x<c;x++){const C=x*h-s;m.push(C,-y,0),S.push(0,0,1),v.push(x/a),v.push(1-A/l)}}for(let A=0;A<l;A++)for(let y=0;y<a;y++){const x=y+c*A,C=y+c*(A+1),w=y+1+c*(A+1),M=y+1+c*A;p.push(x,C,M),p.push(C,w,M)}this.setIndex(p),this.setAttribute("position",new ht(m,3)),this.setAttribute("normal",new ht(S,3)),this.setAttribute("uv",new ht(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pl(e.width,e.height,e.widthSegments,e.heightSegments)}}var Yq=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Kq=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Jq=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,$q=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Zq=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,eY=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,tY="vec3 transformed = vec3( position );",nY=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,iY=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,rY=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,sY=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,oY=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,aY=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,lY=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,cY=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,uY=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,hY=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,fY=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,dY=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,pY=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,gY=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,mY=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,AY=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,vY=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,yY=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,xY=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,SY="gl_FragColor = linearToOutputTexel( gl_FragColor );",EY=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,CY=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,wY=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,_Y=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,MY=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,TY=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,bY=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,IY=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,RY=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,BY=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,kY=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,PY=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,LY=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,DY=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,OY=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,NY=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,FY=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,UY=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,GY=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,zY=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,QY=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,HY=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,VY=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,WY=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,jY=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,XY=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,qY=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,YY=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,KY=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,JY=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,$Y=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,ZY=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,eK=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,tK=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,nK=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,iK=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,rK=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,sK=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,oK=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,aK=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,lK=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,cK=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,uK=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,hK=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,fK=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,dK=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,pK=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,gK=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,mK=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,AK=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,vK=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,yK=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,xK=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,SK=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,EK=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,CK=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,wK=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,_K=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,MK=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,TK=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,bK=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,IK=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,RK=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,BK=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,kK=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,PK=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,LK=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,DK=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,OK=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,NK=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,FK=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,UK=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,GK=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,zK=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,QK=`#ifdef USE_UV
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,HK=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const VK=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,WK=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,jK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,XK=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,qK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,YK=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,KK=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,JK=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,$K=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,ZK=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,eJ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,tJ=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,nJ=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,iJ=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,rJ=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,sJ=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,oJ=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,aJ=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lJ=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,cJ=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,uJ=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,hJ=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,fJ=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,dJ=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pJ=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,gJ=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mJ=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,AJ=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vJ=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,yJ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,xJ=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,SJ=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,EJ=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,CJ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Qt={alphamap_fragment:Yq,alphamap_pars_fragment:Kq,alphatest_fragment:Jq,alphatest_pars_fragment:$q,aomap_fragment:Zq,aomap_pars_fragment:eY,begin_vertex:tY,beginnormal_vertex:nY,bsdfs:iY,iridescence_fragment:rY,bumpmap_pars_fragment:sY,clipping_planes_fragment:oY,clipping_planes_pars_fragment:aY,clipping_planes_pars_vertex:lY,clipping_planes_vertex:cY,color_fragment:uY,color_pars_fragment:hY,color_pars_vertex:fY,color_vertex:dY,common:pY,cube_uv_reflection_fragment:gY,defaultnormal_vertex:mY,displacementmap_pars_vertex:AY,displacementmap_vertex:vY,emissivemap_fragment:yY,emissivemap_pars_fragment:xY,encodings_fragment:SY,encodings_pars_fragment:EY,envmap_fragment:CY,envmap_common_pars_fragment:wY,envmap_pars_fragment:_Y,envmap_pars_vertex:MY,envmap_physical_pars_fragment:FY,envmap_vertex:TY,fog_vertex:bY,fog_pars_vertex:IY,fog_fragment:RY,fog_pars_fragment:BY,gradientmap_pars_fragment:kY,lightmap_fragment:PY,lightmap_pars_fragment:LY,lights_lambert_fragment:DY,lights_lambert_pars_fragment:OY,lights_pars_begin:NY,lights_toon_fragment:UY,lights_toon_pars_fragment:GY,lights_phong_fragment:zY,lights_phong_pars_fragment:QY,lights_physical_fragment:HY,lights_physical_pars_fragment:VY,lights_fragment_begin:WY,lights_fragment_maps:jY,lights_fragment_end:XY,logdepthbuf_fragment:qY,logdepthbuf_pars_fragment:YY,logdepthbuf_pars_vertex:KY,logdepthbuf_vertex:JY,map_fragment:$Y,map_pars_fragment:ZY,map_particle_fragment:eK,map_particle_pars_fragment:tK,metalnessmap_fragment:nK,metalnessmap_pars_fragment:iK,morphcolor_vertex:rK,morphnormal_vertex:sK,morphtarget_pars_vertex:oK,morphtarget_vertex:aK,normal_fragment_begin:lK,normal_fragment_maps:cK,normal_pars_fragment:uK,normal_pars_vertex:hK,normal_vertex:fK,normalmap_pars_fragment:dK,clearcoat_normal_fragment_begin:pK,clearcoat_normal_fragment_maps:gK,clearcoat_pars_fragment:mK,iridescence_pars_fragment:AK,output_fragment:vK,packing:yK,premultiplied_alpha_fragment:xK,project_vertex:SK,dithering_fragment:EK,dithering_pars_fragment:CK,roughnessmap_fragment:wK,roughnessmap_pars_fragment:_K,shadowmap_pars_fragment:MK,shadowmap_pars_vertex:TK,shadowmap_vertex:bK,shadowmask_pars_fragment:IK,skinbase_vertex:RK,skinning_pars_vertex:BK,skinning_vertex:kK,skinnormal_vertex:PK,specularmap_fragment:LK,specularmap_pars_fragment:DK,tonemapping_fragment:OK,tonemapping_pars_fragment:NK,transmission_fragment:FK,transmission_pars_fragment:UK,uv_pars_fragment:GK,uv_pars_vertex:zK,uv_vertex:QK,worldpos_vertex:HK,background_vert:VK,background_frag:WK,backgroundCube_vert:jK,backgroundCube_frag:XK,cube_vert:qK,cube_frag:YK,depth_vert:KK,depth_frag:JK,distanceRGBA_vert:$K,distanceRGBA_frag:ZK,equirect_vert:eJ,equirect_frag:tJ,linedashed_vert:nJ,linedashed_frag:iJ,meshbasic_vert:rJ,meshbasic_frag:sJ,meshlambert_vert:oJ,meshlambert_frag:aJ,meshmatcap_vert:lJ,meshmatcap_frag:cJ,meshnormal_vert:uJ,meshnormal_frag:hJ,meshphong_vert:fJ,meshphong_frag:dJ,meshphysical_vert:pJ,meshphysical_frag:gJ,meshtoon_vert:mJ,meshtoon_frag:AJ,points_vert:vJ,points_frag:yJ,shadow_vert:xJ,shadow_frag:SJ,sprite_vert:EJ,sprite_frag:CJ},et={common:{diffuse:{value:new Je(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ht},alphaMap:{value:null},alphaMapTransform:{value:new Ht},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ht}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ht}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ht}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ht},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ht},normalScale:{value:new _e(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ht},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ht}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ht}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ht}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Je(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Je(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ht},alphaTest:{value:0},uvTransform:{value:new Ht}},sprite:{diffuse:{value:new Je(16777215)},opacity:{value:1},center:{value:new _e(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ht},alphaMap:{value:null},alphaMapTransform:{value:new Ht},alphaTest:{value:0}}},fa={basic:{uniforms:es([et.common,et.specularmap,et.envmap,et.aomap,et.lightmap,et.fog]),vertexShader:Qt.meshbasic_vert,fragmentShader:Qt.meshbasic_frag},lambert:{uniforms:es([et.common,et.specularmap,et.envmap,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.fog,et.lights,{emissive:{value:new Je(0)}}]),vertexShader:Qt.meshlambert_vert,fragmentShader:Qt.meshlambert_frag},phong:{uniforms:es([et.common,et.specularmap,et.envmap,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.fog,et.lights,{emissive:{value:new Je(0)},specular:{value:new Je(1118481)},shininess:{value:30}}]),vertexShader:Qt.meshphong_vert,fragmentShader:Qt.meshphong_frag},standard:{uniforms:es([et.common,et.envmap,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.roughnessmap,et.metalnessmap,et.fog,et.lights,{emissive:{value:new Je(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Qt.meshphysical_vert,fragmentShader:Qt.meshphysical_frag},toon:{uniforms:es([et.common,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.gradientmap,et.fog,et.lights,{emissive:{value:new Je(0)}}]),vertexShader:Qt.meshtoon_vert,fragmentShader:Qt.meshtoon_frag},matcap:{uniforms:es([et.common,et.bumpmap,et.normalmap,et.displacementmap,et.fog,{matcap:{value:null}}]),vertexShader:Qt.meshmatcap_vert,fragmentShader:Qt.meshmatcap_frag},points:{uniforms:es([et.points,et.fog]),vertexShader:Qt.points_vert,fragmentShader:Qt.points_frag},dashed:{uniforms:es([et.common,et.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Qt.linedashed_vert,fragmentShader:Qt.linedashed_frag},depth:{uniforms:es([et.common,et.displacementmap]),vertexShader:Qt.depth_vert,fragmentShader:Qt.depth_frag},normal:{uniforms:es([et.common,et.bumpmap,et.normalmap,et.displacementmap,{opacity:{value:1}}]),vertexShader:Qt.meshnormal_vert,fragmentShader:Qt.meshnormal_frag},sprite:{uniforms:es([et.sprite,et.fog]),vertexShader:Qt.sprite_vert,fragmentShader:Qt.sprite_frag},background:{uniforms:{uvTransform:{value:new Ht},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Qt.background_vert,fragmentShader:Qt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Qt.backgroundCube_vert,fragmentShader:Qt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Qt.cube_vert,fragmentShader:Qt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Qt.equirect_vert,fragmentShader:Qt.equirect_frag},distanceRGBA:{uniforms:es([et.common,et.displacementmap,{referencePosition:{value:new Q},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Qt.distanceRGBA_vert,fragmentShader:Qt.distanceRGBA_frag},shadow:{uniforms:es([et.lights,et.fog,{color:{value:new Je(0)},opacity:{value:1}}]),vertexShader:Qt.shadow_vert,fragmentShader:Qt.shadow_frag}};fa.physical={uniforms:es([fa.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ht},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ht},clearcoatNormalScale:{value:new _e(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ht},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ht},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ht},sheen:{value:0},sheenColor:{value:new Je(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ht},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ht},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ht},transmissionSamplerSize:{value:new _e},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ht},attenuationDistance:{value:0},attenuationColor:{value:new Je(0)},specularColor:{value:new Je(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ht},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ht},anisotropyVector:{value:new _e},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ht}}]),vertexShader:Qt.meshphysical_vert,fragmentShader:Qt.meshphysical_frag};const Up={r:0,b:0,g:0};function wJ(n,e,t,i,r,s,o){const a=new Je(0);let l=s===!0?0:1,c,u,h=null,f=0,p=null;function m(v,A){let y=!1,x=A.isScene===!0?A.background:null;switch(x&&x.isTexture&&(x=(A.backgroundBlurriness>0?t:e).get(x)),x===null?S(a,l):x&&x.isColor&&(S(x,1),y=!0),n.xr.getEnvironmentBlendMode()){case"opaque":y=!0;break;case"additive":i.buffers.color.setClear(0,0,0,1,o),y=!0;break;case"alpha-blend":i.buffers.color.setClear(0,0,0,0,o),y=!0;break}(n.autoClear||y)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),x&&(x.isCubeTexture||x.mapping===Y2)?(u===void 0&&(u=new mn(new g1(1,1,1),new un({name:"BackgroundCubeMaterial",uniforms:b2(fa.backgroundCube.uniforms),vertexShader:fa.backgroundCube.vertexShader,fragmentShader:fa.backgroundCube.fragmentShader,side:mr,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(M,T,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=x,u.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=A.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,u.material.toneMapped=x.colorSpace!==Gt,(h!==x||f!==x.version||p!==n.toneMapping)&&(u.material.needsUpdate=!0,h=x,f=x.version,p=n.toneMapping),u.layers.enableAll(),v.unshift(u,u.geometry,u.material,0,0,null)):x&&x.isTexture&&(c===void 0&&(c=new mn(new pl(2,2),new un({name:"BackgroundMaterial",uniforms:b2(fa.background.uniforms),vertexShader:fa.background.vertexShader,fragmentShader:fa.background.fragmentShader,side:hl,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=x,c.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,c.material.toneMapped=x.colorSpace!==Gt,x.matrixAutoUpdate===!0&&x.updateMatrix(),c.material.uniforms.uvTransform.value.copy(x.matrix),(h!==x||f!==x.version||p!==n.toneMapping)&&(c.material.needsUpdate=!0,h=x,f=x.version,p=n.toneMapping),c.layers.enableAll(),v.unshift(c,c.geometry,c.material,0,0,null))}function S(v,A){v.getRGB(Up,dN(n)),i.buffers.color.setClear(Up.r,Up.g,Up.b,A,o)}return{getClearColor:function(){return a},setClearColor:function(v,A=1){a.set(v),l=A,S(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(v){l=v,S(a,l)},render:m}}function _J(n,e,t,i){const r=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=v(null);let c=l,u=!1;function h(H,j,q,J,L){let D=!1;if(o){const F=S(J,q,j);c!==F&&(c=F,p(c.object)),D=A(H,J,q,L),D&&y(H,J,q,L)}else{const F=j.wireframe===!0;(c.geometry!==J.id||c.program!==q.id||c.wireframe!==F)&&(c.geometry=J.id,c.program=q.id,c.wireframe=F,D=!0)}L!==null&&t.update(L,n.ELEMENT_ARRAY_BUFFER),(D||u)&&(u=!1,R(H,j,q,J),L!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(L).buffer))}function f(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function p(H){return i.isWebGL2?n.bindVertexArray(H):s.bindVertexArrayOES(H)}function m(H){return i.isWebGL2?n.deleteVertexArray(H):s.deleteVertexArrayOES(H)}function S(H,j,q){const J=q.wireframe===!0;let L=a[H.id];L===void 0&&(L={},a[H.id]=L);let D=L[j.id];D===void 0&&(D={},L[j.id]=D);let F=D[J];return F===void 0&&(F=v(f()),D[J]=F),F}function v(H){const j=[],q=[],J=[];for(let L=0;L<r;L++)j[L]=0,q[L]=0,J[L]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:j,enabledAttributes:q,attributeDivisors:J,object:H,attributes:{},index:null}}function A(H,j,q,J){const L=c.attributes,D=j.attributes;let F=0;const z=q.getAttributes();for(const U in z)if(z[U].location>=0){const ee=L[U];let ie=D[U];if(ie===void 0&&(U==="instanceMatrix"&&H.instanceMatrix&&(ie=H.instanceMatrix),U==="instanceColor"&&H.instanceColor&&(ie=H.instanceColor)),ee===void 0||ee.attribute!==ie||ie&&ee.data!==ie.data)return!0;F++}return c.attributesNum!==F||c.index!==J}function y(H,j,q,J){const L={},D=j.attributes;let F=0;const z=q.getAttributes();for(const U in z)if(z[U].location>=0){let ee=D[U];ee===void 0&&(U==="instanceMatrix"&&H.instanceMatrix&&(ee=H.instanceMatrix),U==="instanceColor"&&H.instanceColor&&(ee=H.instanceColor));const ie={};ie.attribute=ee,ee&&ee.data&&(ie.data=ee.data),L[U]=ie,F++}c.attributes=L,c.attributesNum=F,c.index=J}function x(){const H=c.newAttributes;for(let j=0,q=H.length;j<q;j++)H[j]=0}function C(H){w(H,0)}function w(H,j){const q=c.newAttributes,J=c.enabledAttributes,L=c.attributeDivisors;q[H]=1,J[H]===0&&(n.enableVertexAttribArray(H),J[H]=1),L[H]!==j&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](H,j),L[H]=j)}function M(){const H=c.newAttributes,j=c.enabledAttributes;for(let q=0,J=j.length;q<J;q++)j[q]!==H[q]&&(n.disableVertexAttribArray(q),j[q]=0)}function T(H,j,q,J,L,D,F){F===!0?n.vertexAttribIPointer(H,j,q,L,D):n.vertexAttribPointer(H,j,q,J,L,D)}function R(H,j,q,J){if(i.isWebGL2===!1&&(H.isInstancedMesh||J.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;x();const L=J.attributes,D=q.getAttributes(),F=j.defaultAttributeValues;for(const z in D){const U=D[z];if(U.location>=0){let $=L[z];if($===void 0&&(z==="instanceMatrix"&&H.instanceMatrix&&($=H.instanceMatrix),z==="instanceColor"&&H.instanceColor&&($=H.instanceColor)),$!==void 0){const ee=$.normalized,ie=$.itemSize,se=t.get($);if(se===void 0)continue;const re=se.buffer,he=se.type,Ce=se.bytesPerElement,ze=i.isWebGL2===!0&&(he===n.INT||he===n.UNSIGNED_INT||$.gpuType===oC);if($.isInterleavedBufferAttribute){const Se=$.data,V=Se.stride,ye=$.offset;if(Se.isInstancedInterleavedBuffer){for(let fe=0;fe<U.locationSize;fe++)w(U.location+fe,Se.meshPerAttribute);H.isInstancedMesh!==!0&&J._maxInstanceCount===void 0&&(J._maxInstanceCount=Se.meshPerAttribute*Se.count)}else for(let fe=0;fe<U.locationSize;fe++)C(U.location+fe);n.bindBuffer(n.ARRAY_BUFFER,re);for(let fe=0;fe<U.locationSize;fe++)T(U.location+fe,ie/U.locationSize,he,ee,V*Ce,(ye+ie/U.locationSize*fe)*Ce,ze)}else{if($.isInstancedBufferAttribute){for(let Se=0;Se<U.locationSize;Se++)w(U.location+Se,$.meshPerAttribute);H.isInstancedMesh!==!0&&J._maxInstanceCount===void 0&&(J._maxInstanceCount=$.meshPerAttribute*$.count)}else for(let Se=0;Se<U.locationSize;Se++)C(U.location+Se);n.bindBuffer(n.ARRAY_BUFFER,re);for(let Se=0;Se<U.locationSize;Se++)T(U.location+Se,ie/U.locationSize,he,ee,ie*Ce,ie/U.locationSize*Se*Ce,ze)}}else if(F!==void 0){const ee=F[z];if(ee!==void 0)switch(ee.length){case 2:n.vertexAttrib2fv(U.location,ee);break;case 3:n.vertexAttrib3fv(U.location,ee);break;case 4:n.vertexAttrib4fv(U.location,ee);break;default:n.vertexAttrib1fv(U.location,ee)}}}}M()}function b(){O();for(const H in a){const j=a[H];for(const q in j){const J=j[q];for(const L in J)m(J[L].object),delete J[L];delete j[q]}delete a[H]}}function B(H){if(a[H.id]===void 0)return;const j=a[H.id];for(const q in j){const J=j[q];for(const L in J)m(J[L].object),delete J[L];delete j[q]}delete a[H.id]}function P(H){for(const j in a){const q=a[j];if(q[H.id]===void 0)continue;const J=q[H.id];for(const L in J)m(J[L].object),delete J[L];delete q[H.id]}}function O(){G(),u=!0,c!==l&&(c=l,p(c.object))}function G(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:O,resetDefaultState:G,dispose:b,releaseStatesOfGeometry:B,releaseStatesOfProgram:P,initAttributes:x,enableAttribute:C,disableUnusedAttributes:M}}function MJ(n,e,t,i){const r=i.isWebGL2;let s;function o(c){s=c}function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)}function l(c,u,h){if(h===0)return;let f,p;if(r)f=n,p="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[p](s,c,u,h),t.update(u,s,h)}this.setMode=o,this.render=a,this.renderInstances=l}function TJ(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(T){if(T==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";T="mediump"}return T==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,h=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),f=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_TEXTURE_SIZE),m=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),S=n.getParameter(n.MAX_VERTEX_ATTRIBS),v=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),A=n.getParameter(n.MAX_VARYING_VECTORS),y=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),x=f>0,C=o||e.has("OES_texture_float"),w=x&&C,M=o?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:h,maxVertexTextures:f,maxTextureSize:p,maxCubemapSize:m,maxAttributes:S,maxVertexUniforms:v,maxVaryings:A,maxFragmentUniforms:y,vertexTextures:x,floatFragmentTextures:C,floatVertexTextures:w,maxSamples:M}}function bJ(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new Lo,a=new Ht,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,f){const p=h.length!==0||f||i!==0||r;return r=f,i=h.length,p},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,f){t=u(h,f,0)},this.setState=function(h,f,p){const m=h.clippingPlanes,S=h.clipIntersection,v=h.clipShadows,A=n.get(h);if(!r||m===null||m.length===0||s&&!v)s?u(null):c();else{const y=s?0:i,x=y*4;let C=A.clippingState||null;l.value=C,C=u(m,f,x,p);for(let w=0;w!==x;++w)C[w]=t[w];A.clippingState=C,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=y}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(h,f,p,m){const S=h!==null?h.length:0;let v=null;if(S!==0){if(v=l.value,m!==!0||v===null){const A=p+S*4,y=f.matrixWorldInverse;a.getNormalMatrix(y),(v===null||v.length<A)&&(v=new Float32Array(A));for(let x=0,C=p;x!==S;++x,C+=4)o.copy(h[x]).applyMatrix4(y,a),o.normal.toArray(v,C),v[C+3]=o.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,v}}function IJ(n){let e=new WeakMap;function t(o,a){return a===Rd?o.mapping=xc:a===Bd&&(o.mapping=Sc),o}function i(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Rd||a===Bd)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new gN(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class e1 extends T4{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Hh=4,sb=[.125,.215,.35,.446,.526,.582],bu=20,EA=new e1,ob=new Je;let CA=null;const Cu=(1+Math.sqrt(5))/2,uh=1/Cu,ab=[new Q(1,1,1),new Q(-1,1,1),new Q(1,1,-1),new Q(-1,1,-1),new Q(0,Cu,uh),new Q(0,Cu,-uh),new Q(uh,0,Cu),new Q(-uh,0,Cu),new Q(Cu,uh,0),new Q(-Cu,uh,0)];class px{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){CA=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=ub(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=cb(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(CA),e.scissorTest=!1,Gp(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===xc||e.mapping===Sc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),CA=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:bn,minFilter:bn,generateMipmaps:!1,type:_i,format:gi,colorSpace:ya,depthBuffer:!1},r=lb(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=lb(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=RJ(s)),this._blurMaterial=BJ(s,e,t)}return r}_compileMaterial(e){const t=new mn(this._lodPlanes[0],e);this._renderer.compile(t,EA)}_sceneToCubeUV(e,t,i,r){const a=new Xn(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,f=u.toneMapping;u.getClearColor(ob),u.toneMapping=ro,u.autoClear=!1;const p=new ao({name:"PMREM.Background",side:mr,depthWrite:!1,depthTest:!1}),m=new mn(new g1,p);let S=!1;const v=e.background;v?v.isColor&&(p.color.copy(v),e.background=null,S=!0):(p.color.copy(ob),S=!0);for(let A=0;A<6;A++){const y=A%3;y===0?(a.up.set(0,l[A],0),a.lookAt(c[A],0,0)):y===1?(a.up.set(0,0,l[A]),a.lookAt(0,c[A],0)):(a.up.set(0,l[A],0),a.lookAt(0,0,c[A]));const x=this._cubeSize;Gp(r,y*x,A>2?x:0,x,x),u.setRenderTarget(r),S&&u.render(m,a),u.render(e,a)}m.geometry.dispose(),m.material.dispose(),u.toneMapping=f,u.autoClear=h,e.background=v}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===xc||e.mapping===Sc;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=ub()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=cb());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new mn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Gp(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,EA)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=ab[(r-1)%ab.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,h=new mn(this._lodPlanes[r],c),f=c.uniforms,p=this._sizeLods[i]-1,m=isFinite(s)?Math.PI/(2*p):2*Math.PI/(2*bu-1),S=s/m,v=isFinite(s)?1+Math.floor(u*S):bu;v>bu&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${bu}`);const A=[];let y=0;for(let T=0;T<bu;++T){const R=T/S,b=Math.exp(-R*R/2);A.push(b),T===0?y+=b:T<v&&(y+=2*b)}for(let T=0;T<A.length;T++)A[T]=A[T]/y;f.envMap.value=e.texture,f.samples.value=v,f.weights.value=A,f.latitudinal.value=o==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:x}=this;f.dTheta.value=m,f.mipInt.value=x-i;const C=this._sizeLods[r],w=3*C*(r>x-Hh?r-x+Hh:0),M=4*(this._cubeSize-C);Gp(t,w,M,3*C,2*C),l.setRenderTarget(t),l.render(h,EA)}}function RJ(n){const e=[],t=[],i=[];let r=n;const s=n-Hh+1+sb.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-Hh?l=sb[o-n+Hh-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),u=-c,h=1+c,f=[u,u,h,u,h,h,u,u,h,h,u,h],p=6,m=6,S=3,v=2,A=1,y=new Float32Array(S*m*p),x=new Float32Array(v*m*p),C=new Float32Array(A*m*p);for(let M=0;M<p;M++){const T=M%3*2/3-1,R=M>2?0:-1,b=[T,R,0,T+2/3,R,0,T+2/3,R+1,0,T,R,0,T+2/3,R+1,0,T,R+1,0];y.set(b,S*m*M),x.set(f,v*m*M);const B=[M,M,M,M,M,M];C.set(B,A*m*M)}const w=new Lt;w.setAttribute("position",new Rn(y,S)),w.setAttribute("uv",new Rn(x,v)),w.setAttribute("faceIndex",new Rn(C,A)),e.push(w),r>Hh&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function lb(n,e,t){const i=new In(n,e,t);return i.texture.mapping=Y2,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Gp(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function BJ(n,e,t){const i=new Float32Array(bu),r=new Q(0,1,0);return new un({name:"SphericalGaussianBlur",defines:{n:bu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:xC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Zt,depthTest:!1,depthWrite:!1})}function cb(){return new un({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:xC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Zt,depthTest:!1,depthWrite:!1})}function ub(){return new un({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:xC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Zt,depthTest:!1,depthWrite:!1})}function xC(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function kJ(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===Rd||l===Bd,u=l===xc||l===Sc;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return t===null&&(t=new px(n)),h=c?t.fromEquirectangular(a,h):t.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(c&&h&&h.height>0||u&&h&&r(h)){t===null&&(t=new px(n));const f=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,f),a.addEventListener("dispose",s),f.texture}else return null}}}return a}function r(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function PJ(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function LJ(n,e,t,i){const r={},s=new WeakMap;function o(h){const f=h.target;f.index!==null&&e.remove(f.index);for(const m in f.attributes)e.remove(f.attributes[m]);for(const m in f.morphAttributes){const S=f.morphAttributes[m];for(let v=0,A=S.length;v<A;v++)e.remove(S[v])}f.removeEventListener("dispose",o),delete r[f.id];const p=s.get(f);p&&(e.remove(p),s.delete(f)),i.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,t.memory.geometries--}function a(h,f){return r[f.id]===!0||(f.addEventListener("dispose",o),r[f.id]=!0,t.memory.geometries++),f}function l(h){const f=h.attributes;for(const m in f)e.update(f[m],n.ARRAY_BUFFER);const p=h.morphAttributes;for(const m in p){const S=p[m];for(let v=0,A=S.length;v<A;v++)e.update(S[v],n.ARRAY_BUFFER)}}function c(h){const f=[],p=h.index,m=h.attributes.position;let S=0;if(p!==null){const y=p.array;S=p.version;for(let x=0,C=y.length;x<C;x+=3){const w=y[x+0],M=y[x+1],T=y[x+2];f.push(w,M,M,T,T,w)}}else{const y=m.array;S=m.version;for(let x=0,C=y.length/3-1;x<C;x+=3){const w=x+0,M=x+1,T=x+2;f.push(w,M,M,T,T,w)}}const v=new(hN(f)?O7:yC)(f,1);v.version=S;const A=s.get(h);A&&e.remove(A),s.set(h,v)}function u(h){const f=s.get(h);if(f){const p=h.index;p!==null&&f.version<p.version&&c(h)}else c(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:u}}function DJ(n,e,t,i){const r=i.isWebGL2;let s;function o(f){s=f}let a,l;function c(f){a=f.type,l=f.bytesPerElement}function u(f,p){n.drawElements(s,p,a,f*l),t.update(p,s,1)}function h(f,p,m){if(m===0)return;let S,v;if(r)S=n,v="drawElementsInstanced";else if(S=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",S===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}S[v](s,p,a,f*l,m),t.update(p,s,m)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=h}function OJ(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function NJ(n,e){return n[0]-e[0]}function FJ(n,e){return Math.abs(e[1])-Math.abs(n[1])}function UJ(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new en,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,h){const f=c.morphTargetInfluences;if(e.isWebGL2===!0){const m=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,S=m!==void 0?m.length:0;let v=s.get(u);if(v===void 0||v.count!==S){let j=function(){G.dispose(),s.delete(u),u.removeEventListener("dispose",j)};var p=j;v!==void 0&&v.texture.dispose();const x=u.morphAttributes.position!==void 0,C=u.morphAttributes.normal!==void 0,w=u.morphAttributes.color!==void 0,M=u.morphAttributes.position||[],T=u.morphAttributes.normal||[],R=u.morphAttributes.color||[];let b=0;x===!0&&(b=1),C===!0&&(b=2),w===!0&&(b=3);let B=u.attributes.position.count*b,P=1;B>e.maxTextureSize&&(P=Math.ceil(B/e.maxTextureSize),B=e.maxTextureSize);const O=new Float32Array(B*P*4*S),G=new D7(O,B,P,S);G.type=rs,G.needsUpdate=!0;const H=b*4;for(let q=0;q<S;q++){const J=M[q],L=T[q],D=R[q],F=B*P*4*q;for(let z=0;z<J.count;z++){const U=z*H;x===!0&&(o.fromBufferAttribute(J,z),O[F+U+0]=o.x,O[F+U+1]=o.y,O[F+U+2]=o.z,O[F+U+3]=0),C===!0&&(o.fromBufferAttribute(L,z),O[F+U+4]=o.x,O[F+U+5]=o.y,O[F+U+6]=o.z,O[F+U+7]=0),w===!0&&(o.fromBufferAttribute(D,z),O[F+U+8]=o.x,O[F+U+9]=o.y,O[F+U+10]=o.z,O[F+U+11]=D.itemSize===4?o.w:1)}}v={count:S,texture:G,size:new _e(B,P)},s.set(u,v),u.addEventListener("dispose",j)}let A=0;for(let x=0;x<f.length;x++)A+=f[x];const y=u.morphTargetsRelative?1:1-A;h.getUniforms().setValue(n,"morphTargetBaseInfluence",y),h.getUniforms().setValue(n,"morphTargetInfluences",f),h.getUniforms().setValue(n,"morphTargetsTexture",v.texture,t),h.getUniforms().setValue(n,"morphTargetsTextureSize",v.size)}else{const m=f===void 0?0:f.length;let S=i[u.id];if(S===void 0||S.length!==m){S=[];for(let C=0;C<m;C++)S[C]=[C,0];i[u.id]=S}for(let C=0;C<m;C++){const w=S[C];w[0]=C,w[1]=f[C]}S.sort(FJ);for(let C=0;C<8;C++)C<m&&S[C][1]?(a[C][0]=S[C][0],a[C][1]=S[C][1]):(a[C][0]=Number.MAX_SAFE_INTEGER,a[C][1]=0);a.sort(NJ);const v=u.morphAttributes.position,A=u.morphAttributes.normal;let y=0;for(let C=0;C<8;C++){const w=a[C],M=w[0],T=w[1];M!==Number.MAX_SAFE_INTEGER&&T?(v&&u.getAttribute("morphTarget"+C)!==v[M]&&u.setAttribute("morphTarget"+C,v[M]),A&&u.getAttribute("morphNormal"+C)!==A[M]&&u.setAttribute("morphNormal"+C,A[M]),r[C]=T,y+=T):(v&&u.hasAttribute("morphTarget"+C)===!0&&u.deleteAttribute("morphTarget"+C),A&&u.hasAttribute("morphNormal"+C)===!0&&u.deleteAttribute("morphNormal"+C),r[C]=0)}const x=u.morphTargetsRelative?1:1-y;h.getUniforms().setValue(n,"morphTargetBaseInfluence",x),h.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function GJ(n,e,t,i){let r=new WeakMap;function s(l){const c=i.render.frame,u=l.geometry,h=e.get(l,u);return r.get(h)!==c&&(e.update(h),r.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER)),h}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const AN=new Kn,vN=new D7,yN=new vC,xN=new b4,hb=[],fb=[],db=new Float32Array(16),pb=new Float32Array(9),gb=new Float32Array(4);function J2(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=hb[r];if(s===void 0&&(s=new Float32Array(r),hb[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Wi(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function ji(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function F7(n,e){let t=fb[e];t===void 0&&(t=new Int32Array(e),fb[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function zJ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function QJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Wi(t,e))return;n.uniform2fv(this.addr,e),ji(t,e)}}function HJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Wi(t,e))return;n.uniform3fv(this.addr,e),ji(t,e)}}function VJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Wi(t,e))return;n.uniform4fv(this.addr,e),ji(t,e)}}function WJ(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Wi(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),ji(t,e)}else{if(Wi(t,i))return;gb.set(i),n.uniformMatrix2fv(this.addr,!1,gb),ji(t,i)}}function jJ(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Wi(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),ji(t,e)}else{if(Wi(t,i))return;pb.set(i),n.uniformMatrix3fv(this.addr,!1,pb),ji(t,i)}}function XJ(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Wi(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),ji(t,e)}else{if(Wi(t,i))return;db.set(i),n.uniformMatrix4fv(this.addr,!1,db),ji(t,i)}}function qJ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function YJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Wi(t,e))return;n.uniform2iv(this.addr,e),ji(t,e)}}function KJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Wi(t,e))return;n.uniform3iv(this.addr,e),ji(t,e)}}function JJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Wi(t,e))return;n.uniform4iv(this.addr,e),ji(t,e)}}function $J(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function ZJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Wi(t,e))return;n.uniform2uiv(this.addr,e),ji(t,e)}}function e$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Wi(t,e))return;n.uniform3uiv(this.addr,e),ji(t,e)}}function t$(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Wi(t,e))return;n.uniform4uiv(this.addr,e),ji(t,e)}}function n$(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||AN,r)}function i$(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||yN,r)}function r$(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||xN,r)}function s$(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||vN,r)}function o$(n){switch(n){case 5126:return zJ;case 35664:return QJ;case 35665:return HJ;case 35666:return VJ;case 35674:return WJ;case 35675:return jJ;case 35676:return XJ;case 5124:case 35670:return qJ;case 35667:case 35671:return YJ;case 35668:case 35672:return KJ;case 35669:case 35673:return JJ;case 5125:return $J;case 36294:return ZJ;case 36295:return e$;case 36296:return t$;case 35678:case 36198:case 36298:case 36306:case 35682:return n$;case 35679:case 36299:case 36307:return i$;case 35680:case 36300:case 36308:case 36293:return r$;case 36289:case 36303:case 36311:case 36292:return s$}}function a$(n,e){n.uniform1fv(this.addr,e)}function l$(n,e){const t=J2(e,this.size,2);n.uniform2fv(this.addr,t)}function c$(n,e){const t=J2(e,this.size,3);n.uniform3fv(this.addr,t)}function u$(n,e){const t=J2(e,this.size,4);n.uniform4fv(this.addr,t)}function h$(n,e){const t=J2(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function f$(n,e){const t=J2(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function d$(n,e){const t=J2(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function p$(n,e){n.uniform1iv(this.addr,e)}function g$(n,e){n.uniform2iv(this.addr,e)}function m$(n,e){n.uniform3iv(this.addr,e)}function A$(n,e){n.uniform4iv(this.addr,e)}function v$(n,e){n.uniform1uiv(this.addr,e)}function y$(n,e){n.uniform2uiv(this.addr,e)}function x$(n,e){n.uniform3uiv(this.addr,e)}function S$(n,e){n.uniform4uiv(this.addr,e)}function E$(n,e,t){const i=this.cache,r=e.length,s=F7(t,r);Wi(i,s)||(n.uniform1iv(this.addr,s),ji(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||AN,s[o])}function C$(n,e,t){const i=this.cache,r=e.length,s=F7(t,r);Wi(i,s)||(n.uniform1iv(this.addr,s),ji(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||yN,s[o])}function w$(n,e,t){const i=this.cache,r=e.length,s=F7(t,r);Wi(i,s)||(n.uniform1iv(this.addr,s),ji(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||xN,s[o])}function _$(n,e,t){const i=this.cache,r=e.length,s=F7(t,r);Wi(i,s)||(n.uniform1iv(this.addr,s),ji(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||vN,s[o])}function M$(n){switch(n){case 5126:return a$;case 35664:return l$;case 35665:return c$;case 35666:return u$;case 35674:return h$;case 35675:return f$;case 35676:return d$;case 5124:case 35670:return p$;case 35667:case 35671:return g$;case 35668:case 35672:return m$;case 35669:case 35673:return A$;case 5125:return v$;case 36294:return y$;case 36295:return x$;case 36296:return S$;case 35678:case 36198:case 36298:case 36306:case 35682:return E$;case 35679:case 36299:case 36307:return C$;case 35680:case 36300:case 36308:case 36293:return w$;case 36289:case 36303:case 36311:case 36292:return _$}}class T${constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=o$(t.type)}}class b${constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=M$(t.type)}}class I${constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const wA=/(\w+)(\])?(\[|\.)?/g;function mb(n,e){n.seq.push(e),n.map[e.id]=e}function R$(n,e,t){const i=n.name,r=i.length;for(wA.lastIndex=0;;){const s=wA.exec(i),o=wA.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){mb(t,c===void 0?new T$(a,n,e):new b$(a,n,e));break}else{let h=t.map[a];h===void 0&&(h=new I$(a),mb(t,h)),t=h}}}class p8{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);R$(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function Ab(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let B$=0;function k$(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function P$(n){switch(n){case ya:return["Linear","( value )"];case Gt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),["Linear","( value )"]}}function vb(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+k$(n.getShaderSource(e),o)}else return r}function L$(n,e){const t=P$(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function D$(n,e){let t;switch(e){case zO:t="Linear";break;case QO:t="Reinhard";break;case HO:t="OptimizedCineon";break;case rC:t="ACESFilmic";break;case VO:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function O$(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(wf).join(`
`)}function N$(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function F$(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function wf(n){return n!==""}function yb(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function xb(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const U$=/^[ \t]*#include +<([\w\d./]+)>/gm;function gx(n){return n.replace(U$,G$)}function G$(n,e){const t=Qt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return gx(t)}const z$=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Sb(n){return n.replace(z$,Q$)}function Q$(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function Eb(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function H$(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===b7?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Wf?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===la&&(e="SHADOWMAP_TYPE_VSM"),e}function V$(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case xc:case Sc:e="ENVMAP_TYPE_CUBE";break;case Y2:e="ENVMAP_TYPE_CUBE_UV";break}return e}function W$(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Sc:e="ENVMAP_MODE_REFRACTION";break}return e}function j$(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case _4:e="ENVMAP_BLENDING_MULTIPLY";break;case UO:e="ENVMAP_BLENDING_MIX";break;case GO:e="ENVMAP_BLENDING_ADD";break}return e}function X$(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function q$(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=H$(t),c=V$(t),u=W$(t),h=j$(t),f=X$(t),p=t.isWebGL2?"":O$(t),m=N$(s),S=r.createProgram();let v,A,y=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(v=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,m].filter(wf).join(`
`),v.length>0&&(v+=`
`),A=[p,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,m].filter(wf).join(`
`),A.length>0&&(A+=`
`)):(v=[Eb(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,m,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(wf).join(`
`),A=[p,Eb(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,m,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+h:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==ro?"#define TONE_MAPPING":"",t.toneMapping!==ro?Qt.tonemapping_pars_fragment:"",t.toneMapping!==ro?D$("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Qt.encodings_pars_fragment,L$("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(wf).join(`
`)),o=gx(o),o=yb(o,t),o=xb(o,t),a=gx(a),a=yb(a,t),a=xb(a,t),o=Sb(o),a=Sb(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,v=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,A=["#define varying in",t.glslVersion===fx?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===fx?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+A);const x=y+v+o,C=y+A+a,w=Ab(r,r.VERTEX_SHADER,x),M=Ab(r,r.FRAGMENT_SHADER,C);if(r.attachShader(S,w),r.attachShader(S,M),t.index0AttributeName!==void 0?r.bindAttribLocation(S,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(S,0,"position"),r.linkProgram(S),n.debug.checkShaderErrors){const b=r.getProgramInfoLog(S).trim(),B=r.getShaderInfoLog(w).trim(),P=r.getShaderInfoLog(M).trim();let O=!0,G=!0;if(r.getProgramParameter(S,r.LINK_STATUS)===!1)if(O=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,S,w,M);else{const H=vb(r,w,"vertex"),j=vb(r,M,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(S,r.VALIDATE_STATUS)+`

Program Info Log: `+b+`
`+H+`
`+j)}else b!==""?console.warn("THREE.WebGLProgram: Program Info Log:",b):(B===""||P==="")&&(G=!1);G&&(this.diagnostics={runnable:O,programLog:b,vertexShader:{log:B,prefix:v},fragmentShader:{log:P,prefix:A}})}r.deleteShader(w),r.deleteShader(M);let T;this.getUniforms=function(){return T===void 0&&(T=new p8(r,S)),T};let R;return this.getAttributes=function(){return R===void 0&&(R=F$(r,S)),R},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(S),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=B$++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=w,this.fragmentShader=M,this}let Y$=0;class K${constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new J$(e),t.set(e,i)),i}}class J${constructor(e){this.id=Y$++,this.code=e,this.usedTimes=0}}function $$(n,e,t,i,r,s,o){const a=new qu,l=new K$,c=[],u=r.isWebGL2,h=r.logarithmicDepthBuffer,f=r.vertexTextures;let p=r.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(b){return b===0?"uv":`uv${b}`}function v(b,B,P,O,G){const H=O.fog,j=G.geometry,q=b.isMeshStandardMaterial?O.environment:null,J=(b.isMeshStandardMaterial?t:e).get(b.envMap||q),L=J&&J.mapping===Y2?J.image.height:null,D=m[b.type];b.precision!==null&&(p=r.getMaxPrecision(b.precision),p!==b.precision&&console.warn("THREE.WebGLProgram.getParameters:",b.precision,"not supported, using",p,"instead."));const F=j.morphAttributes.position||j.morphAttributes.normal||j.morphAttributes.color,z=F!==void 0?F.length:0;let U=0;j.morphAttributes.position!==void 0&&(U=1),j.morphAttributes.normal!==void 0&&(U=2),j.morphAttributes.color!==void 0&&(U=3);let $,ee,ie,se;if(D){const tn=fa[D];$=tn.vertexShader,ee=tn.fragmentShader}else $=b.vertexShader,ee=b.fragmentShader,l.update(b),ie=l.getVertexShaderID(b),se=l.getFragmentShaderID(b);const re=n.getRenderTarget(),he=G.isInstancedMesh===!0,Ce=!!b.map,ze=!!b.matcap,Se=!!J,V=!!b.aoMap,ye=!!b.lightMap,fe=!!b.bumpMap,xe=!!b.normalMap,ge=!!b.displacementMap,qe=!!b.emissiveMap,me=!!b.metalnessMap,Pe=!!b.roughnessMap,Ue=b.anisotropy>0,we=b.clearcoat>0,Ke=b.iridescence>0,W=b.sheen>0,N=b.transmission>0,oe=Ue&&!!b.anisotropyMap,Ne=we&&!!b.clearcoatMap,Ie=we&&!!b.clearcoatNormalMap,Re=we&&!!b.clearcoatRoughnessMap,je=Ke&&!!b.iridescenceMap,Qe=Ke&&!!b.iridescenceThicknessMap,pe=W&&!!b.sheenColorMap,Y=W&&!!b.sheenRoughnessMap,de=!!b.specularMap,Me=!!b.specularColorMap,Ee=!!b.specularIntensityMap,Fe=N&&!!b.transmissionMap,nt=N&&!!b.thicknessMap,ft=!!b.gradientMap,Z=!!b.alphaMap,He=b.alphaTest>0,ce=!!b.extensions,We=!!j.attributes.uv1,Ze=!!j.attributes.uv2,Dt=!!j.attributes.uv3;return{isWebGL2:u,shaderID:D,shaderType:b.type,shaderName:b.name,vertexShader:$,fragmentShader:ee,defines:b.defines,customVertexShaderID:ie,customFragmentShaderID:se,isRawShaderMaterial:b.isRawShaderMaterial===!0,glslVersion:b.glslVersion,precision:p,instancing:he,instancingColor:he&&G.instanceColor!==null,supportsVertexTextures:f,outputColorSpace:re===null?n.outputColorSpace:re.isXRRenderTarget===!0?re.texture.colorSpace:ya,map:Ce,matcap:ze,envMap:Se,envMapMode:Se&&J.mapping,envMapCubeUVHeight:L,aoMap:V,lightMap:ye,bumpMap:fe,normalMap:xe,displacementMap:f&&ge,emissiveMap:qe,normalMapObjectSpace:xe&&b.normalMapType===eN,normalMapTangentSpace:xe&&b.normalMapType===Fc,metalnessMap:me,roughnessMap:Pe,anisotropy:Ue,anisotropyMap:oe,clearcoat:we,clearcoatMap:Ne,clearcoatNormalMap:Ie,clearcoatRoughnessMap:Re,iridescence:Ke,iridescenceMap:je,iridescenceThicknessMap:Qe,sheen:W,sheenColorMap:pe,sheenRoughnessMap:Y,specularMap:de,specularColorMap:Me,specularIntensityMap:Ee,transmission:N,transmissionMap:Fe,thicknessMap:nt,gradientMap:ft,opaque:b.transparent===!1&&b.blending===zo,alphaMap:Z,alphaTest:He,combine:b.combine,mapUv:Ce&&S(b.map.channel),aoMapUv:V&&S(b.aoMap.channel),lightMapUv:ye&&S(b.lightMap.channel),bumpMapUv:fe&&S(b.bumpMap.channel),normalMapUv:xe&&S(b.normalMap.channel),displacementMapUv:ge&&S(b.displacementMap.channel),emissiveMapUv:qe&&S(b.emissiveMap.channel),metalnessMapUv:me&&S(b.metalnessMap.channel),roughnessMapUv:Pe&&S(b.roughnessMap.channel),anisotropyMapUv:oe&&S(b.anisotropyMap.channel),clearcoatMapUv:Ne&&S(b.clearcoatMap.channel),clearcoatNormalMapUv:Ie&&S(b.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Re&&S(b.clearcoatRoughnessMap.channel),iridescenceMapUv:je&&S(b.iridescenceMap.channel),iridescenceThicknessMapUv:Qe&&S(b.iridescenceThicknessMap.channel),sheenColorMapUv:pe&&S(b.sheenColorMap.channel),sheenRoughnessMapUv:Y&&S(b.sheenRoughnessMap.channel),specularMapUv:de&&S(b.specularMap.channel),specularColorMapUv:Me&&S(b.specularColorMap.channel),specularIntensityMapUv:Ee&&S(b.specularIntensityMap.channel),transmissionMapUv:Fe&&S(b.transmissionMap.channel),thicknessMapUv:nt&&S(b.thicknessMap.channel),alphaMapUv:Z&&S(b.alphaMap.channel),vertexTangents:!!j.attributes.tangent&&(xe||Ue),vertexColors:b.vertexColors,vertexAlphas:b.vertexColors===!0&&!!j.attributes.color&&j.attributes.color.itemSize===4,vertexUv1s:We,vertexUv2s:Ze,vertexUv3s:Dt,pointsUvs:G.isPoints===!0&&!!j.attributes.uv&&(Ce||Z),fog:!!H,useFog:b.fog===!0,fogExp2:H&&H.isFogExp2,flatShading:b.flatShading===!0,sizeAttenuation:b.sizeAttenuation===!0,logarithmicDepthBuffer:h,skinning:G.isSkinnedMesh===!0,morphTargets:j.morphAttributes.position!==void 0,morphNormals:j.morphAttributes.normal!==void 0,morphColors:j.morphAttributes.color!==void 0,morphTargetsCount:z,morphTextureStride:U,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:b.dithering,shadowMapEnabled:n.shadowMap.enabled&&P.length>0,shadowMapType:n.shadowMap.type,toneMapping:b.toneMapped?n.toneMapping:ro,useLegacyLights:n.useLegacyLights,premultipliedAlpha:b.premultipliedAlpha,doubleSided:b.side===Do,flipSided:b.side===mr,useDepthPacking:b.depthPacking>=0,depthPacking:b.depthPacking||0,index0AttributeName:b.index0AttributeName,extensionDerivatives:ce&&b.extensions.derivatives===!0,extensionFragDepth:ce&&b.extensions.fragDepth===!0,extensionDrawBuffers:ce&&b.extensions.drawBuffers===!0,extensionShaderTextureLOD:ce&&b.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:u||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||i.has("EXT_shader_texture_lod"),customProgramCacheKey:b.customProgramCacheKey()}}function A(b){const B=[];if(b.shaderID?B.push(b.shaderID):(B.push(b.customVertexShaderID),B.push(b.customFragmentShaderID)),b.defines!==void 0)for(const P in b.defines)B.push(P),B.push(b.defines[P]);return b.isRawShaderMaterial===!1&&(y(B,b),x(B,b),B.push(n.outputColorSpace)),B.push(b.customProgramCacheKey),B.join()}function y(b,B){b.push(B.precision),b.push(B.outputColorSpace),b.push(B.envMapMode),b.push(B.envMapCubeUVHeight),b.push(B.mapUv),b.push(B.alphaMapUv),b.push(B.lightMapUv),b.push(B.aoMapUv),b.push(B.bumpMapUv),b.push(B.normalMapUv),b.push(B.displacementMapUv),b.push(B.emissiveMapUv),b.push(B.metalnessMapUv),b.push(B.roughnessMapUv),b.push(B.anisotropyMapUv),b.push(B.clearcoatMapUv),b.push(B.clearcoatNormalMapUv),b.push(B.clearcoatRoughnessMapUv),b.push(B.iridescenceMapUv),b.push(B.iridescenceThicknessMapUv),b.push(B.sheenColorMapUv),b.push(B.sheenRoughnessMapUv),b.push(B.specularMapUv),b.push(B.specularColorMapUv),b.push(B.specularIntensityMapUv),b.push(B.transmissionMapUv),b.push(B.thicknessMapUv),b.push(B.combine),b.push(B.fogExp2),b.push(B.sizeAttenuation),b.push(B.morphTargetsCount),b.push(B.morphAttributeCount),b.push(B.numDirLights),b.push(B.numPointLights),b.push(B.numSpotLights),b.push(B.numSpotLightMaps),b.push(B.numHemiLights),b.push(B.numRectAreaLights),b.push(B.numDirLightShadows),b.push(B.numPointLightShadows),b.push(B.numSpotLightShadows),b.push(B.numSpotLightShadowsWithMaps),b.push(B.shadowMapType),b.push(B.toneMapping),b.push(B.numClippingPlanes),b.push(B.numClipIntersection),b.push(B.depthPacking)}function x(b,B){a.disableAll(),B.isWebGL2&&a.enable(0),B.supportsVertexTextures&&a.enable(1),B.instancing&&a.enable(2),B.instancingColor&&a.enable(3),B.matcap&&a.enable(4),B.envMap&&a.enable(5),B.normalMapObjectSpace&&a.enable(6),B.normalMapTangentSpace&&a.enable(7),B.clearcoat&&a.enable(8),B.iridescence&&a.enable(9),B.alphaTest&&a.enable(10),B.vertexColors&&a.enable(11),B.vertexAlphas&&a.enable(12),B.vertexUv1s&&a.enable(13),B.vertexUv2s&&a.enable(14),B.vertexUv3s&&a.enable(15),B.vertexTangents&&a.enable(16),B.anisotropy&&a.enable(17),b.push(a.mask),a.disableAll(),B.fog&&a.enable(0),B.useFog&&a.enable(1),B.flatShading&&a.enable(2),B.logarithmicDepthBuffer&&a.enable(3),B.skinning&&a.enable(4),B.morphTargets&&a.enable(5),B.morphNormals&&a.enable(6),B.morphColors&&a.enable(7),B.premultipliedAlpha&&a.enable(8),B.shadowMapEnabled&&a.enable(9),B.useLegacyLights&&a.enable(10),B.doubleSided&&a.enable(11),B.flipSided&&a.enable(12),B.useDepthPacking&&a.enable(13),B.dithering&&a.enable(14),B.transmission&&a.enable(15),B.sheen&&a.enable(16),B.opaque&&a.enable(17),B.pointsUvs&&a.enable(18),b.push(a.mask)}function C(b){const B=m[b.type];let P;if(B){const O=fa[B];P=qn.clone(O.uniforms)}else P=b.uniforms;return P}function w(b,B){let P;for(let O=0,G=c.length;O<G;O++){const H=c[O];if(H.cacheKey===B){P=H,++P.usedTimes;break}}return P===void 0&&(P=new q$(n,B,b,s),c.push(P)),P}function M(b){if(--b.usedTimes===0){const B=c.indexOf(b);c[B]=c[c.length-1],c.pop(),b.destroy()}}function T(b){l.remove(b)}function R(){l.dispose()}return{getParameters:v,getProgramCacheKey:A,getUniforms:C,acquireProgram:w,releaseProgram:M,releaseShaderCache:T,programs:c,dispose:R}}function Z$(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function eZ(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Cb(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function wb(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(h,f,p,m,S,v){let A=n[e];return A===void 0?(A={id:h.id,object:h,geometry:f,material:p,groupOrder:m,renderOrder:h.renderOrder,z:S,group:v},n[e]=A):(A.id=h.id,A.object=h,A.geometry=f,A.material=p,A.groupOrder=m,A.renderOrder=h.renderOrder,A.z=S,A.group=v),e++,A}function a(h,f,p,m,S,v){const A=o(h,f,p,m,S,v);p.transmission>0?i.push(A):p.transparent===!0?r.push(A):t.push(A)}function l(h,f,p,m,S,v){const A=o(h,f,p,m,S,v);p.transmission>0?i.unshift(A):p.transparent===!0?r.unshift(A):t.unshift(A)}function c(h,f){t.length>1&&t.sort(h||eZ),i.length>1&&i.sort(f||Cb),r.length>1&&r.sort(f||Cb)}function u(){for(let h=e,f=n.length;h<f;h++){const p=n[h];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:u,sort:c}}function tZ(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new wb,n.set(i,[o])):r>=s.length?(o=new wb,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function nZ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Q,color:new Je};break;case"SpotLight":t={position:new Q,direction:new Q,color:new Je,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Q,color:new Je,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Q,skyColor:new Je,groundColor:new Je};break;case"RectAreaLight":t={color:new Je,position:new Q,halfWidth:new Q,halfHeight:new Q};break}return n[e.id]=t,t}}}function iZ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _e};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _e};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _e,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let rZ=0;function sZ(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function oZ(n,e){const t=new nZ,i=iZ(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)r.probe.push(new Q);const s=new Q,o=new At,a=new At;function l(u,h){let f=0,p=0,m=0;for(let P=0;P<9;P++)r.probe[P].set(0,0,0);let S=0,v=0,A=0,y=0,x=0,C=0,w=0,M=0,T=0,R=0;u.sort(sZ);const b=h===!0?Math.PI:1;for(let P=0,O=u.length;P<O;P++){const G=u[P],H=G.color,j=G.intensity,q=G.distance,J=G.shadow&&G.shadow.map?G.shadow.map.texture:null;if(G.isAmbientLight)f+=H.r*j*b,p+=H.g*j*b,m+=H.b*j*b;else if(G.isLightProbe)for(let L=0;L<9;L++)r.probe[L].addScaledVector(G.sh.coefficients[L],j);else if(G.isDirectionalLight){const L=t.get(G);if(L.color.copy(G.color).multiplyScalar(G.intensity*b),G.castShadow){const D=G.shadow,F=i.get(G);F.shadowBias=D.bias,F.shadowNormalBias=D.normalBias,F.shadowRadius=D.radius,F.shadowMapSize=D.mapSize,r.directionalShadow[S]=F,r.directionalShadowMap[S]=J,r.directionalShadowMatrix[S]=G.shadow.matrix,C++}r.directional[S]=L,S++}else if(G.isSpotLight){const L=t.get(G);L.position.setFromMatrixPosition(G.matrixWorld),L.color.copy(H).multiplyScalar(j*b),L.distance=q,L.coneCos=Math.cos(G.angle),L.penumbraCos=Math.cos(G.angle*(1-G.penumbra)),L.decay=G.decay,r.spot[A]=L;const D=G.shadow;if(G.map&&(r.spotLightMap[T]=G.map,T++,D.updateMatrices(G),G.castShadow&&R++),r.spotLightMatrix[A]=D.matrix,G.castShadow){const F=i.get(G);F.shadowBias=D.bias,F.shadowNormalBias=D.normalBias,F.shadowRadius=D.radius,F.shadowMapSize=D.mapSize,r.spotShadow[A]=F,r.spotShadowMap[A]=J,M++}A++}else if(G.isRectAreaLight){const L=t.get(G);L.color.copy(H).multiplyScalar(j),L.halfWidth.set(G.width*.5,0,0),L.halfHeight.set(0,G.height*.5,0),r.rectArea[y]=L,y++}else if(G.isPointLight){const L=t.get(G);if(L.color.copy(G.color).multiplyScalar(G.intensity*b),L.distance=G.distance,L.decay=G.decay,G.castShadow){const D=G.shadow,F=i.get(G);F.shadowBias=D.bias,F.shadowNormalBias=D.normalBias,F.shadowRadius=D.radius,F.shadowMapSize=D.mapSize,F.shadowCameraNear=D.camera.near,F.shadowCameraFar=D.camera.far,r.pointShadow[v]=F,r.pointShadowMap[v]=J,r.pointShadowMatrix[v]=G.shadow.matrix,w++}r.point[v]=L,v++}else if(G.isHemisphereLight){const L=t.get(G);L.skyColor.copy(G.color).multiplyScalar(j*b),L.groundColor.copy(G.groundColor).multiplyScalar(j*b),r.hemi[x]=L,x++}}y>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=et.LTC_FLOAT_1,r.rectAreaLTC2=et.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=et.LTC_HALF_1,r.rectAreaLTC2=et.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=f,r.ambient[1]=p,r.ambient[2]=m;const B=r.hash;(B.directionalLength!==S||B.pointLength!==v||B.spotLength!==A||B.rectAreaLength!==y||B.hemiLength!==x||B.numDirectionalShadows!==C||B.numPointShadows!==w||B.numSpotShadows!==M||B.numSpotMaps!==T)&&(r.directional.length=S,r.spot.length=A,r.rectArea.length=y,r.point.length=v,r.hemi.length=x,r.directionalShadow.length=C,r.directionalShadowMap.length=C,r.pointShadow.length=w,r.pointShadowMap.length=w,r.spotShadow.length=M,r.spotShadowMap.length=M,r.directionalShadowMatrix.length=C,r.pointShadowMatrix.length=w,r.spotLightMatrix.length=M+T-R,r.spotLightMap.length=T,r.numSpotLightShadowsWithMaps=R,B.directionalLength=S,B.pointLength=v,B.spotLength=A,B.rectAreaLength=y,B.hemiLength=x,B.numDirectionalShadows=C,B.numPointShadows=w,B.numSpotShadows=M,B.numSpotMaps=T,r.version=rZ++)}function c(u,h){let f=0,p=0,m=0,S=0,v=0;const A=h.matrixWorldInverse;for(let y=0,x=u.length;y<x;y++){const C=u[y];if(C.isDirectionalLight){const w=r.directional[f];w.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(A),f++}else if(C.isSpotLight){const w=r.spot[m];w.position.setFromMatrixPosition(C.matrixWorld),w.position.applyMatrix4(A),w.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(A),m++}else if(C.isRectAreaLight){const w=r.rectArea[S];w.position.setFromMatrixPosition(C.matrixWorld),w.position.applyMatrix4(A),a.identity(),o.copy(C.matrixWorld),o.premultiply(A),a.extractRotation(o),w.halfWidth.set(C.width*.5,0,0),w.halfHeight.set(0,C.height*.5,0),w.halfWidth.applyMatrix4(a),w.halfHeight.applyMatrix4(a),S++}else if(C.isPointLight){const w=r.point[p];w.position.setFromMatrixPosition(C.matrixWorld),w.position.applyMatrix4(A),p++}else if(C.isHemisphereLight){const w=r.hemi[v];w.direction.setFromMatrixPosition(C.matrixWorld),w.direction.transformDirection(A),v++}}}return{setup:l,setupView:c,state:r}}function _b(n,e){const t=new oZ(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(h){i.push(h)}function a(h){r.push(h)}function l(h){t.setup(i,h)}function c(h){t.setupView(i,h)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function aZ(n,e){let t=new WeakMap;function i(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new _b(n,e),t.set(s,[l])):o>=a.length?(l=new _b(n,e),a.push(l)):l=a[o],l}function r(){t=new WeakMap}return{get:i,dispose:r}}class I4 extends yr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=ZO,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class U7 extends yr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const lZ=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,cZ=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function uZ(n,e,t){let i=new N7;const r=new _e,s=new _e,o=new en,a=new I4({depthPacking:L7}),l=new U7,c={},u=t.maxTextureSize,h={[hl]:mr,[mr]:hl,[Do]:Do},f=new un({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new _e},radius:{value:4}},vertexShader:lZ,fragmentShader:cZ}),p=f.clone();p.defines.HORIZONTAL_PASS=1;const m=new Lt;m.setAttribute("position",new Rn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new mn(m,f),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=b7;let A=this.type;this.render=function(w,M,T){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||w.length===0)return;const R=n.getRenderTarget(),b=n.getActiveCubeFace(),B=n.getActiveMipmapLevel(),P=n.state;P.setBlending(Zt),P.buffers.color.setClear(1,1,1,1),P.buffers.depth.setTest(!0),P.setScissorTest(!1);const O=A!==la&&this.type===la,G=A===la&&this.type!==la;for(let H=0,j=w.length;H<j;H++){const q=w[H],J=q.shadow;if(J===void 0){console.warn("THREE.WebGLShadowMap:",q,"has no shadow.");continue}if(J.autoUpdate===!1&&J.needsUpdate===!1)continue;r.copy(J.mapSize);const L=J.getFrameExtents();if(r.multiply(L),s.copy(J.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/L.x),r.x=s.x*L.x,J.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/L.y),r.y=s.y*L.y,J.mapSize.y=s.y)),J.map===null||O===!0||G===!0){const F=this.type!==la?{minFilter:Pt,magFilter:Pt}:{};J.map!==null&&J.map.dispose(),J.map=new In(r.x,r.y,F),J.map.texture.name=q.name+".shadowMap",J.camera.updateProjectionMatrix()}n.setRenderTarget(J.map),n.clear();const D=J.getViewportCount();for(let F=0;F<D;F++){const z=J.getViewport(F);o.set(s.x*z.x,s.y*z.y,s.x*z.z,s.y*z.w),P.viewport(o),J.updateMatrices(q,F),i=J.getFrustum(),C(M,T,J.camera,q,this.type)}J.isPointLightShadow!==!0&&this.type===la&&y(J,T),J.needsUpdate=!1}A=this.type,v.needsUpdate=!1,n.setRenderTarget(R,b,B)};function y(w,M){const T=e.update(S);f.defines.VSM_SAMPLES!==w.blurSamples&&(f.defines.VSM_SAMPLES=w.blurSamples,p.defines.VSM_SAMPLES=w.blurSamples,f.needsUpdate=!0,p.needsUpdate=!0),w.mapPass===null&&(w.mapPass=new In(r.x,r.y)),f.uniforms.shadow_pass.value=w.map.texture,f.uniforms.resolution.value=w.mapSize,f.uniforms.radius.value=w.radius,n.setRenderTarget(w.mapPass),n.clear(),n.renderBufferDirect(M,null,T,f,S,null),p.uniforms.shadow_pass.value=w.mapPass.texture,p.uniforms.resolution.value=w.mapSize,p.uniforms.radius.value=w.radius,n.setRenderTarget(w.map),n.clear(),n.renderBufferDirect(M,null,T,p,S,null)}function x(w,M,T,R){let b=null;const B=T.isPointLight===!0?w.customDistanceMaterial:w.customDepthMaterial;if(B!==void 0)b=B;else if(b=T.isPointLight===!0?l:a,n.localClippingEnabled&&M.clipShadows===!0&&Array.isArray(M.clippingPlanes)&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0||M.map&&M.alphaTest>0){const P=b.uuid,O=M.uuid;let G=c[P];G===void 0&&(G={},c[P]=G);let H=G[O];H===void 0&&(H=b.clone(),G[O]=H),b=H}if(b.visible=M.visible,b.wireframe=M.wireframe,R===la?b.side=M.shadowSide!==null?M.shadowSide:M.side:b.side=M.shadowSide!==null?M.shadowSide:h[M.side],b.alphaMap=M.alphaMap,b.alphaTest=M.alphaTest,b.map=M.map,b.clipShadows=M.clipShadows,b.clippingPlanes=M.clippingPlanes,b.clipIntersection=M.clipIntersection,b.displacementMap=M.displacementMap,b.displacementScale=M.displacementScale,b.displacementBias=M.displacementBias,b.wireframeLinewidth=M.wireframeLinewidth,b.linewidth=M.linewidth,T.isPointLight===!0&&b.isMeshDistanceMaterial===!0){const P=n.properties.get(b);P.light=T}return b}function C(w,M,T,R,b){if(w.visible===!1)return;if(w.layers.test(M.layers)&&(w.isMesh||w.isLine||w.isPoints)&&(w.castShadow||w.receiveShadow&&b===la)&&(!w.frustumCulled||i.intersectsObject(w))){w.modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,w.matrixWorld);const O=e.update(w),G=w.material;if(Array.isArray(G)){const H=O.groups;for(let j=0,q=H.length;j<q;j++){const J=H[j],L=G[J.materialIndex];if(L&&L.visible){const D=x(w,L,R,b);n.renderBufferDirect(T,null,O,D,w,J)}}}else if(G.visible){const H=x(w,G,R,b);n.renderBufferDirect(T,null,O,H,w,null)}}const P=w.children;for(let O=0,G=P.length;O<G;O++)C(P[O],M,T,R,b)}}function hZ(n,e,t){const i=t.isWebGL2;function r(){let Z=!1;const He=new en;let ce=null;const We=new en(0,0,0,0);return{setMask:function(Ze){ce!==Ze&&!Z&&(n.colorMask(Ze,Ze,Ze,Ze),ce=Ze)},setLocked:function(Ze){Z=Ze},setClear:function(Ze,Dt,Kt,tn,an){an===!0&&(Ze*=tn,Dt*=tn,Kt*=tn),He.set(Ze,Dt,Kt,tn),We.equals(He)===!1&&(n.clearColor(Ze,Dt,Kt,tn),We.copy(He))},reset:function(){Z=!1,ce=null,We.set(-1,0,0,0)}}}function s(){let Z=!1,He=null,ce=null,We=null;return{setTest:function(Ze){Ze?re(n.DEPTH_TEST):he(n.DEPTH_TEST)},setMask:function(Ze){He!==Ze&&!Z&&(n.depthMask(Ze),He=Ze)},setFunc:function(Ze){if(ce!==Ze){switch(Ze){case kO:n.depthFunc(n.NEVER);break;case PO:n.depthFunc(n.ALWAYS);break;case LO:n.depthFunc(n.LESS);break;case u9:n.depthFunc(n.LEQUAL);break;case DO:n.depthFunc(n.EQUAL);break;case OO:n.depthFunc(n.GEQUAL);break;case NO:n.depthFunc(n.GREATER);break;case FO:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}ce=Ze}},setLocked:function(Ze){Z=Ze},setClear:function(Ze){We!==Ze&&(n.clearDepth(Ze),We=Ze)},reset:function(){Z=!1,He=null,ce=null,We=null}}}function o(){let Z=!1,He=null,ce=null,We=null,Ze=null,Dt=null,Kt=null,tn=null,an=null;return{setTest:function(An){Z||(An?re(n.STENCIL_TEST):he(n.STENCIL_TEST))},setMask:function(An){He!==An&&!Z&&(n.stencilMask(An),He=An)},setFunc:function(An,rn,Vt){(ce!==An||We!==rn||Ze!==Vt)&&(n.stencilFunc(An,rn,Vt),ce=An,We=rn,Ze=Vt)},setOp:function(An,rn,Vt){(Dt!==An||Kt!==rn||tn!==Vt)&&(n.stencilOp(An,rn,Vt),Dt=An,Kt=rn,tn=Vt)},setLocked:function(An){Z=An},setClear:function(An){an!==An&&(n.clearStencil(An),an=An)},reset:function(){Z=!1,He=null,ce=null,We=null,Ze=null,Dt=null,Kt=null,tn=null,an=null}}}const a=new r,l=new s,c=new o,u=new WeakMap,h=new WeakMap;let f={},p={},m=new WeakMap,S=[],v=null,A=!1,y=null,x=null,C=null,w=null,M=null,T=null,R=null,b=!1,B=null,P=null,O=null,G=null,H=null;const j=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let q=!1,J=0;const L=n.getParameter(n.VERSION);L.indexOf("WebGL")!==-1?(J=parseFloat(/^WebGL (\d)/.exec(L)[1]),q=J>=1):L.indexOf("OpenGL ES")!==-1&&(J=parseFloat(/^OpenGL ES (\d)/.exec(L)[1]),q=J>=2);let D=null,F={};const z=n.getParameter(n.SCISSOR_BOX),U=n.getParameter(n.VIEWPORT),$=new en().fromArray(z),ee=new en().fromArray(U);function ie(Z,He,ce,We){const Ze=new Uint8Array(4),Dt=n.createTexture();n.bindTexture(Z,Dt),n.texParameteri(Z,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Z,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Kt=0;Kt<ce;Kt++)i&&(Z===n.TEXTURE_3D||Z===n.TEXTURE_2D_ARRAY)?n.texImage3D(He,0,n.RGBA,1,1,We,0,n.RGBA,n.UNSIGNED_BYTE,Ze):n.texImage2D(He+Kt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Ze);return Dt}const se={};se[n.TEXTURE_2D]=ie(n.TEXTURE_2D,n.TEXTURE_2D,1),se[n.TEXTURE_CUBE_MAP]=ie(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(se[n.TEXTURE_2D_ARRAY]=ie(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),se[n.TEXTURE_3D]=ie(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),re(n.DEPTH_TEST),l.setFunc(u9),ge(!1),qe(Hy),re(n.CULL_FACE),fe(Zt);function re(Z){f[Z]!==!0&&(n.enable(Z),f[Z]=!0)}function he(Z){f[Z]!==!1&&(n.disable(Z),f[Z]=!1)}function Ce(Z,He){return p[Z]!==He?(n.bindFramebuffer(Z,He),p[Z]=He,i&&(Z===n.DRAW_FRAMEBUFFER&&(p[n.FRAMEBUFFER]=He),Z===n.FRAMEBUFFER&&(p[n.DRAW_FRAMEBUFFER]=He)),!0):!1}function ze(Z,He){let ce=S,We=!1;if(Z)if(ce=m.get(He),ce===void 0&&(ce=[],m.set(He,ce)),Z.isWebGLMultipleRenderTargets){const Ze=Z.texture;if(ce.length!==Ze.length||ce[0]!==n.COLOR_ATTACHMENT0){for(let Dt=0,Kt=Ze.length;Dt<Kt;Dt++)ce[Dt]=n.COLOR_ATTACHMENT0+Dt;ce.length=Ze.length,We=!0}}else ce[0]!==n.COLOR_ATTACHMENT0&&(ce[0]=n.COLOR_ATTACHMENT0,We=!0);else ce[0]!==n.BACK&&(ce[0]=n.BACK,We=!0);We&&(t.isWebGL2?n.drawBuffers(ce):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ce))}function Se(Z){return v!==Z?(n.useProgram(Z),v=Z,!0):!1}const V={[Ks]:n.FUNC_ADD,[wO]:n.FUNC_SUBTRACT,[_O]:n.FUNC_REVERSE_SUBTRACT};if(i)V[jy]=n.MIN,V[Xy]=n.MAX;else{const Z=e.get("EXT_blend_minmax");Z!==null&&(V[jy]=Z.MIN_EXT,V[Xy]=Z.MAX_EXT)}const ye={[M2]:n.ZERO,[MO]:n.ONE,[TO]:n.SRC_COLOR,[bd]:n.SRC_ALPHA,[BO]:n.SRC_ALPHA_SATURATE,[R7]:n.DST_COLOR,[I7]:n.DST_ALPHA,[bO]:n.ONE_MINUS_SRC_COLOR,[Id]:n.ONE_MINUS_SRC_ALPHA,[RO]:n.ONE_MINUS_DST_COLOR,[IO]:n.ONE_MINUS_DST_ALPHA};function fe(Z,He,ce,We,Ze,Dt,Kt,tn){if(Z===Zt){A===!0&&(he(n.BLEND),A=!1);return}if(A===!1&&(re(n.BLEND),A=!0),Z!==Td){if(Z!==y||tn!==b){if((x!==Ks||M!==Ks)&&(n.blendEquation(n.FUNC_ADD),x=Ks,M=Ks),tn)switch(Z){case zo:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Md:n.blendFunc(n.ONE,n.ONE);break;case Vy:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Wy:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}else switch(Z){case zo:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Md:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case Vy:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Wy:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}C=null,w=null,T=null,R=null,y=Z,b=tn}return}Ze=Ze||He,Dt=Dt||ce,Kt=Kt||We,(He!==x||Ze!==M)&&(n.blendEquationSeparate(V[He],V[Ze]),x=He,M=Ze),(ce!==C||We!==w||Dt!==T||Kt!==R)&&(n.blendFuncSeparate(ye[ce],ye[We],ye[Dt],ye[Kt]),C=ce,w=We,T=Dt,R=Kt),y=Z,b=!1}function xe(Z,He){Z.side===Do?he(n.CULL_FACE):re(n.CULL_FACE);let ce=Z.side===mr;He&&(ce=!ce),ge(ce),Z.blending===zo&&Z.transparent===!1?fe(Zt):fe(Z.blending,Z.blendEquation,Z.blendSrc,Z.blendDst,Z.blendEquationAlpha,Z.blendSrcAlpha,Z.blendDstAlpha,Z.premultipliedAlpha),l.setFunc(Z.depthFunc),l.setTest(Z.depthTest),l.setMask(Z.depthWrite),a.setMask(Z.colorWrite);const We=Z.stencilWrite;c.setTest(We),We&&(c.setMask(Z.stencilWriteMask),c.setFunc(Z.stencilFunc,Z.stencilRef,Z.stencilFuncMask),c.setOp(Z.stencilFail,Z.stencilZFail,Z.stencilZPass)),Pe(Z.polygonOffset,Z.polygonOffsetFactor,Z.polygonOffsetUnits),Z.alphaToCoverage===!0?re(n.SAMPLE_ALPHA_TO_COVERAGE):he(n.SAMPLE_ALPHA_TO_COVERAGE)}function ge(Z){B!==Z&&(Z?n.frontFace(n.CW):n.frontFace(n.CCW),B=Z)}function qe(Z){Z!==SO?(re(n.CULL_FACE),Z!==P&&(Z===Hy?n.cullFace(n.BACK):Z===EO?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):he(n.CULL_FACE),P=Z}function me(Z){Z!==O&&(q&&n.lineWidth(Z),O=Z)}function Pe(Z,He,ce){Z?(re(n.POLYGON_OFFSET_FILL),(G!==He||H!==ce)&&(n.polygonOffset(He,ce),G=He,H=ce)):he(n.POLYGON_OFFSET_FILL)}function Ue(Z){Z?re(n.SCISSOR_TEST):he(n.SCISSOR_TEST)}function we(Z){Z===void 0&&(Z=n.TEXTURE0+j-1),D!==Z&&(n.activeTexture(Z),D=Z)}function Ke(Z,He,ce){ce===void 0&&(D===null?ce=n.TEXTURE0+j-1:ce=D);let We=F[ce];We===void 0&&(We={type:void 0,texture:void 0},F[ce]=We),(We.type!==Z||We.texture!==He)&&(D!==ce&&(n.activeTexture(ce),D=ce),n.bindTexture(Z,He||se[Z]),We.type=Z,We.texture=He)}function W(){const Z=F[D];Z!==void 0&&Z.type!==void 0&&(n.bindTexture(Z.type,null),Z.type=void 0,Z.texture=void 0)}function N(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function oe(){try{n.compressedTexImage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Ne(){try{n.texSubImage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Ie(){try{n.texSubImage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Re(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function je(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Qe(){try{n.texStorage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function pe(){try{n.texStorage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Y(){try{n.texImage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function de(){try{n.texImage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Me(Z){$.equals(Z)===!1&&(n.scissor(Z.x,Z.y,Z.z,Z.w),$.copy(Z))}function Ee(Z){ee.equals(Z)===!1&&(n.viewport(Z.x,Z.y,Z.z,Z.w),ee.copy(Z))}function Fe(Z,He){let ce=h.get(He);ce===void 0&&(ce=new WeakMap,h.set(He,ce));let We=ce.get(Z);We===void 0&&(We=n.getUniformBlockIndex(He,Z.name),ce.set(Z,We))}function nt(Z,He){const We=h.get(He).get(Z);u.get(He)!==We&&(n.uniformBlockBinding(He,We,Z.__bindingPointIndex),u.set(He,We))}function ft(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),i===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),f={},D=null,F={},p={},m=new WeakMap,S=[],v=null,A=!1,y=null,x=null,C=null,w=null,M=null,T=null,R=null,b=!1,B=null,P=null,O=null,G=null,H=null,$.set(0,0,n.canvas.width,n.canvas.height),ee.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:re,disable:he,bindFramebuffer:Ce,drawBuffers:ze,useProgram:Se,setBlending:fe,setMaterial:xe,setFlipSided:ge,setCullFace:qe,setLineWidth:me,setPolygonOffset:Pe,setScissorTest:Ue,activeTexture:we,bindTexture:Ke,unbindTexture:W,compressedTexImage2D:N,compressedTexImage3D:oe,texImage2D:Y,texImage3D:de,updateUBOMapping:Fe,uniformBlockBinding:nt,texStorage2D:Qe,texStorage3D:pe,texSubImage2D:Ne,texSubImage3D:Ie,compressedTexSubImage2D:Re,compressedTexSubImage3D:je,scissor:Me,viewport:Ee,reset:ft}}function fZ(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,h=r.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,p=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap;let S;const v=new WeakMap;let A=!1;try{A=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(W,N){return A?new OffscreenCanvas(W,N):Hd("canvas")}function x(W,N,oe,Ne){let Ie=1;if((W.width>Ne||W.height>Ne)&&(Ie=Ne/Math.max(W.width,W.height)),Ie<1||N===!0)if(typeof HTMLImageElement<"u"&&W instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&W instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&W instanceof ImageBitmap){const Re=N?d9:Math.floor,je=Re(Ie*W.width),Qe=Re(Ie*W.height);S===void 0&&(S=y(je,Qe));const pe=oe?y(je,Qe):S;return pe.width=je,pe.height=Qe,pe.getContext("2d").drawImage(W,0,0,je,Qe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+W.width+"x"+W.height+") to ("+je+"x"+Qe+")."),pe}else return"data"in W&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+W.width+"x"+W.height+")."),W;return W}function C(W){return dx(W.width)&&dx(W.height)}function w(W){return a?!1:W.wrapS!==pi||W.wrapT!==pi||W.minFilter!==Pt&&W.minFilter!==bn}function M(W,N){return W.generateMipmaps&&N&&W.minFilter!==Pt&&W.minFilter!==bn}function T(W){n.generateMipmap(W)}function R(W,N,oe,Ne,Ie=!1){if(a===!1)return N;if(W!==null){if(n[W]!==void 0)return n[W];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+W+"'")}let Re=N;return N===n.RED&&(oe===n.FLOAT&&(Re=n.R32F),oe===n.HALF_FLOAT&&(Re=n.R16F),oe===n.UNSIGNED_BYTE&&(Re=n.R8)),N===n.RG&&(oe===n.FLOAT&&(Re=n.RG32F),oe===n.HALF_FLOAT&&(Re=n.RG16F),oe===n.UNSIGNED_BYTE&&(Re=n.RG8)),N===n.RGBA&&(oe===n.FLOAT&&(Re=n.RGBA32F),oe===n.HALF_FLOAT&&(Re=n.RGBA16F),oe===n.UNSIGNED_BYTE&&(Re=Ne===Gt&&Ie===!1?n.SRGB8_ALPHA8:n.RGBA8),oe===n.UNSIGNED_SHORT_4_4_4_4&&(Re=n.RGBA4),oe===n.UNSIGNED_SHORT_5_5_5_1&&(Re=n.RGB5_A1)),(Re===n.R16F||Re===n.R32F||Re===n.RG16F||Re===n.RG32F||Re===n.RGBA16F||Re===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Re}function b(W,N,oe){return M(W,oe)===!0||W.isFramebufferTexture&&W.minFilter!==Pt&&W.minFilter!==bn?Math.log2(Math.max(N.width,N.height))+1:W.mipmaps!==void 0&&W.mipmaps.length>0?W.mipmaps.length:W.isCompressedTexture&&Array.isArray(W.image)?N.mipmaps.length:1}function B(W){return W===Pt||W===h9||W===jf?n.NEAREST:n.LINEAR}function P(W){const N=W.target;N.removeEventListener("dispose",P),G(N),N.isVideoTexture&&m.delete(N)}function O(W){const N=W.target;N.removeEventListener("dispose",O),j(N)}function G(W){const N=i.get(W);if(N.__webglInit===void 0)return;const oe=W.source,Ne=v.get(oe);if(Ne){const Ie=Ne[N.__cacheKey];Ie.usedTimes--,Ie.usedTimes===0&&H(W),Object.keys(Ne).length===0&&v.delete(oe)}i.remove(W)}function H(W){const N=i.get(W);n.deleteTexture(N.__webglTexture);const oe=W.source,Ne=v.get(oe);delete Ne[N.__cacheKey],o.memory.textures--}function j(W){const N=W.texture,oe=i.get(W),Ne=i.get(N);if(Ne.__webglTexture!==void 0&&(n.deleteTexture(Ne.__webglTexture),o.memory.textures--),W.depthTexture&&W.depthTexture.dispose(),W.isWebGLCubeRenderTarget)for(let Ie=0;Ie<6;Ie++)n.deleteFramebuffer(oe.__webglFramebuffer[Ie]),oe.__webglDepthbuffer&&n.deleteRenderbuffer(oe.__webglDepthbuffer[Ie]);else{if(n.deleteFramebuffer(oe.__webglFramebuffer),oe.__webglDepthbuffer&&n.deleteRenderbuffer(oe.__webglDepthbuffer),oe.__webglMultisampledFramebuffer&&n.deleteFramebuffer(oe.__webglMultisampledFramebuffer),oe.__webglColorRenderbuffer)for(let Ie=0;Ie<oe.__webglColorRenderbuffer.length;Ie++)oe.__webglColorRenderbuffer[Ie]&&n.deleteRenderbuffer(oe.__webglColorRenderbuffer[Ie]);oe.__webglDepthRenderbuffer&&n.deleteRenderbuffer(oe.__webglDepthRenderbuffer)}if(W.isWebGLMultipleRenderTargets)for(let Ie=0,Re=N.length;Ie<Re;Ie++){const je=i.get(N[Ie]);je.__webglTexture&&(n.deleteTexture(je.__webglTexture),o.memory.textures--),i.remove(N[Ie])}i.remove(N),i.remove(W)}let q=0;function J(){q=0}function L(){const W=q;return W>=l&&console.warn("THREE.WebGLTextures: Trying to use "+W+" texture units while this GPU supports only "+l),q+=1,W}function D(W){const N=[];return N.push(W.wrapS),N.push(W.wrapT),N.push(W.wrapR||0),N.push(W.magFilter),N.push(W.minFilter),N.push(W.anisotropy),N.push(W.internalFormat),N.push(W.format),N.push(W.type),N.push(W.generateMipmaps),N.push(W.premultiplyAlpha),N.push(W.flipY),N.push(W.unpackAlignment),N.push(W.colorSpace),N.join()}function F(W,N){const oe=i.get(W);if(W.isVideoTexture&&we(W),W.isRenderTargetTexture===!1&&W.version>0&&oe.__version!==W.version){const Ne=W.image;if(Ne===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ne.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ce(oe,W,N);return}}t.bindTexture(n.TEXTURE_2D,oe.__webglTexture,n.TEXTURE0+N)}function z(W,N){const oe=i.get(W);if(W.version>0&&oe.__version!==W.version){Ce(oe,W,N);return}t.bindTexture(n.TEXTURE_2D_ARRAY,oe.__webglTexture,n.TEXTURE0+N)}function U(W,N){const oe=i.get(W);if(W.version>0&&oe.__version!==W.version){Ce(oe,W,N);return}t.bindTexture(n.TEXTURE_3D,oe.__webglTexture,n.TEXTURE0+N)}function $(W,N){const oe=i.get(W);if(W.version>0&&oe.__version!==W.version){ze(oe,W,N);return}t.bindTexture(n.TEXTURE_CUBE_MAP,oe.__webglTexture,n.TEXTURE0+N)}const ee={[a1]:n.REPEAT,[pi]:n.CLAMP_TO_EDGE,[kd]:n.MIRRORED_REPEAT},ie={[Pt]:n.NEAREST,[h9]:n.NEAREST_MIPMAP_NEAREST,[jf]:n.NEAREST_MIPMAP_LINEAR,[bn]:n.LINEAR,[sC]:n.LINEAR_MIPMAP_NEAREST,[fl]:n.LINEAR_MIPMAP_LINEAR},se={[nN]:n.NEVER,[cN]:n.ALWAYS,[iN]:n.LESS,[sN]:n.LEQUAL,[rN]:n.EQUAL,[lN]:n.GEQUAL,[oN]:n.GREATER,[aN]:n.NOTEQUAL};function re(W,N,oe){if(oe?(n.texParameteri(W,n.TEXTURE_WRAP_S,ee[N.wrapS]),n.texParameteri(W,n.TEXTURE_WRAP_T,ee[N.wrapT]),(W===n.TEXTURE_3D||W===n.TEXTURE_2D_ARRAY)&&n.texParameteri(W,n.TEXTURE_WRAP_R,ee[N.wrapR]),n.texParameteri(W,n.TEXTURE_MAG_FILTER,ie[N.magFilter]),n.texParameteri(W,n.TEXTURE_MIN_FILTER,ie[N.minFilter])):(n.texParameteri(W,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(W,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(W===n.TEXTURE_3D||W===n.TEXTURE_2D_ARRAY)&&n.texParameteri(W,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(N.wrapS!==pi||N.wrapT!==pi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(W,n.TEXTURE_MAG_FILTER,B(N.magFilter)),n.texParameteri(W,n.TEXTURE_MIN_FILTER,B(N.minFilter)),N.minFilter!==Pt&&N.minFilter!==bn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),N.compareFunction&&(n.texParameteri(W,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(W,n.TEXTURE_COMPARE_FUNC,se[N.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Ne=e.get("EXT_texture_filter_anisotropic");if(N.magFilter===Pt||N.minFilter!==jf&&N.minFilter!==fl||N.type===rs&&e.has("OES_texture_float_linear")===!1||a===!1&&N.type===_i&&e.has("OES_texture_half_float_linear")===!1)return;(N.anisotropy>1||i.get(N).__currentAnisotropy)&&(n.texParameterf(W,Ne.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(N.anisotropy,r.getMaxAnisotropy())),i.get(N).__currentAnisotropy=N.anisotropy)}}function he(W,N){let oe=!1;W.__webglInit===void 0&&(W.__webglInit=!0,N.addEventListener("dispose",P));const Ne=N.source;let Ie=v.get(Ne);Ie===void 0&&(Ie={},v.set(Ne,Ie));const Re=D(N);if(Re!==W.__cacheKey){Ie[Re]===void 0&&(Ie[Re]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,oe=!0),Ie[Re].usedTimes++;const je=Ie[W.__cacheKey];je!==void 0&&(Ie[W.__cacheKey].usedTimes--,je.usedTimes===0&&H(N)),W.__cacheKey=Re,W.__webglTexture=Ie[Re].texture}return oe}function Ce(W,N,oe){let Ne=n.TEXTURE_2D;(N.isDataArrayTexture||N.isCompressedArrayTexture)&&(Ne=n.TEXTURE_2D_ARRAY),N.isData3DTexture&&(Ne=n.TEXTURE_3D);const Ie=he(W,N),Re=N.source;t.bindTexture(Ne,W.__webglTexture,n.TEXTURE0+oe);const je=i.get(Re);if(Re.version!==je.__version||Ie===!0){t.activeTexture(n.TEXTURE0+oe),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,N.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,N.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,N.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const Qe=w(N)&&C(N.image)===!1;let pe=x(N.image,Qe,!1,u);pe=Ke(N,pe);const Y=C(pe)||a,de=s.convert(N.format,N.colorSpace);let Me=s.convert(N.type),Ee=R(N.internalFormat,de,Me,N.colorSpace);re(Ne,N,Y);let Fe;const nt=N.mipmaps,ft=a&&N.isVideoTexture!==!0,Z=je.__version===void 0||Ie===!0,He=b(N,pe,Y);if(N.isDepthTexture)Ee=n.DEPTH_COMPONENT,a?N.type===rs?Ee=n.DEPTH_COMPONENT32F:N.type===Kl?Ee=n.DEPTH_COMPONENT24:N.type===Zl?Ee=n.DEPTH24_STENCIL8:Ee=n.DEPTH_COMPONENT16:N.type===rs&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),N.format===fc&&Ee===n.DEPTH_COMPONENT&&N.type!==E3&&N.type!==Kl&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),N.type=Kl,Me=s.convert(N.type)),N.format===Ec&&Ee===n.DEPTH_COMPONENT&&(Ee=n.DEPTH_STENCIL,N.type!==Zl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),N.type=Zl,Me=s.convert(N.type))),Z&&(ft?t.texStorage2D(n.TEXTURE_2D,1,Ee,pe.width,pe.height):t.texImage2D(n.TEXTURE_2D,0,Ee,pe.width,pe.height,0,de,Me,null));else if(N.isDataTexture)if(nt.length>0&&Y){ft&&Z&&t.texStorage2D(n.TEXTURE_2D,He,Ee,nt[0].width,nt[0].height);for(let ce=0,We=nt.length;ce<We;ce++)Fe=nt[ce],ft?t.texSubImage2D(n.TEXTURE_2D,ce,0,0,Fe.width,Fe.height,de,Me,Fe.data):t.texImage2D(n.TEXTURE_2D,ce,Ee,Fe.width,Fe.height,0,de,Me,Fe.data);N.generateMipmaps=!1}else ft?(Z&&t.texStorage2D(n.TEXTURE_2D,He,Ee,pe.width,pe.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,pe.width,pe.height,de,Me,pe.data)):t.texImage2D(n.TEXTURE_2D,0,Ee,pe.width,pe.height,0,de,Me,pe.data);else if(N.isCompressedTexture)if(N.isCompressedArrayTexture){ft&&Z&&t.texStorage3D(n.TEXTURE_2D_ARRAY,He,Ee,nt[0].width,nt[0].height,pe.depth);for(let ce=0,We=nt.length;ce<We;ce++)Fe=nt[ce],N.format!==gi?de!==null?ft?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,ce,0,0,0,Fe.width,Fe.height,pe.depth,de,Fe.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,ce,Ee,Fe.width,Fe.height,pe.depth,0,Fe.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ft?t.texSubImage3D(n.TEXTURE_2D_ARRAY,ce,0,0,0,Fe.width,Fe.height,pe.depth,de,Me,Fe.data):t.texImage3D(n.TEXTURE_2D_ARRAY,ce,Ee,Fe.width,Fe.height,pe.depth,0,de,Me,Fe.data)}else{ft&&Z&&t.texStorage2D(n.TEXTURE_2D,He,Ee,nt[0].width,nt[0].height);for(let ce=0,We=nt.length;ce<We;ce++)Fe=nt[ce],N.format!==gi?de!==null?ft?t.compressedTexSubImage2D(n.TEXTURE_2D,ce,0,0,Fe.width,Fe.height,de,Fe.data):t.compressedTexImage2D(n.TEXTURE_2D,ce,Ee,Fe.width,Fe.height,0,Fe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ft?t.texSubImage2D(n.TEXTURE_2D,ce,0,0,Fe.width,Fe.height,de,Me,Fe.data):t.texImage2D(n.TEXTURE_2D,ce,Ee,Fe.width,Fe.height,0,de,Me,Fe.data)}else if(N.isDataArrayTexture)ft?(Z&&t.texStorage3D(n.TEXTURE_2D_ARRAY,He,Ee,pe.width,pe.height,pe.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,pe.width,pe.height,pe.depth,de,Me,pe.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,Ee,pe.width,pe.height,pe.depth,0,de,Me,pe.data);else if(N.isData3DTexture)ft?(Z&&t.texStorage3D(n.TEXTURE_3D,He,Ee,pe.width,pe.height,pe.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,pe.width,pe.height,pe.depth,de,Me,pe.data)):t.texImage3D(n.TEXTURE_3D,0,Ee,pe.width,pe.height,pe.depth,0,de,Me,pe.data);else if(N.isFramebufferTexture){if(Z)if(ft)t.texStorage2D(n.TEXTURE_2D,He,Ee,pe.width,pe.height);else{let ce=pe.width,We=pe.height;for(let Ze=0;Ze<He;Ze++)t.texImage2D(n.TEXTURE_2D,Ze,Ee,ce,We,0,de,Me,null),ce>>=1,We>>=1}}else if(nt.length>0&&Y){ft&&Z&&t.texStorage2D(n.TEXTURE_2D,He,Ee,nt[0].width,nt[0].height);for(let ce=0,We=nt.length;ce<We;ce++)Fe=nt[ce],ft?t.texSubImage2D(n.TEXTURE_2D,ce,0,0,de,Me,Fe):t.texImage2D(n.TEXTURE_2D,ce,Ee,de,Me,Fe);N.generateMipmaps=!1}else ft?(Z&&t.texStorage2D(n.TEXTURE_2D,He,Ee,pe.width,pe.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,de,Me,pe)):t.texImage2D(n.TEXTURE_2D,0,Ee,de,Me,pe);M(N,Y)&&T(Ne),je.__version=Re.version,N.onUpdate&&N.onUpdate(N)}W.__version=N.version}function ze(W,N,oe){if(N.image.length!==6)return;const Ne=he(W,N),Ie=N.source;t.bindTexture(n.TEXTURE_CUBE_MAP,W.__webglTexture,n.TEXTURE0+oe);const Re=i.get(Ie);if(Ie.version!==Re.__version||Ne===!0){t.activeTexture(n.TEXTURE0+oe),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,N.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,N.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,N.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const je=N.isCompressedTexture||N.image[0].isCompressedTexture,Qe=N.image[0]&&N.image[0].isDataTexture,pe=[];for(let ce=0;ce<6;ce++)!je&&!Qe?pe[ce]=x(N.image[ce],!1,!0,c):pe[ce]=Qe?N.image[ce].image:N.image[ce],pe[ce]=Ke(N,pe[ce]);const Y=pe[0],de=C(Y)||a,Me=s.convert(N.format,N.colorSpace),Ee=s.convert(N.type),Fe=R(N.internalFormat,Me,Ee,N.colorSpace),nt=a&&N.isVideoTexture!==!0,ft=Re.__version===void 0||Ne===!0;let Z=b(N,Y,de);re(n.TEXTURE_CUBE_MAP,N,de);let He;if(je){nt&&ft&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Z,Fe,Y.width,Y.height);for(let ce=0;ce<6;ce++){He=pe[ce].mipmaps;for(let We=0;We<He.length;We++){const Ze=He[We];N.format!==gi?Me!==null?nt?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ce,We,0,0,Ze.width,Ze.height,Me,Ze.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ce,We,Fe,Ze.width,Ze.height,0,Ze.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):nt?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ce,We,0,0,Ze.width,Ze.height,Me,Ee,Ze.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ce,We,Fe,Ze.width,Ze.height,0,Me,Ee,Ze.data)}}}else{He=N.mipmaps,nt&&ft&&(He.length>0&&Z++,t.texStorage2D(n.TEXTURE_CUBE_MAP,Z,Fe,pe[0].width,pe[0].height));for(let ce=0;ce<6;ce++)if(Qe){nt?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ce,0,0,0,pe[ce].width,pe[ce].height,Me,Ee,pe[ce].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ce,0,Fe,pe[ce].width,pe[ce].height,0,Me,Ee,pe[ce].data);for(let We=0;We<He.length;We++){const Dt=He[We].image[ce].image;nt?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ce,We+1,0,0,Dt.width,Dt.height,Me,Ee,Dt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ce,We+1,Fe,Dt.width,Dt.height,0,Me,Ee,Dt.data)}}else{nt?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ce,0,0,0,Me,Ee,pe[ce]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ce,0,Fe,Me,Ee,pe[ce]);for(let We=0;We<He.length;We++){const Ze=He[We];nt?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ce,We+1,0,0,Me,Ee,Ze.image[ce]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+ce,We+1,Fe,Me,Ee,Ze.image[ce])}}}M(N,de)&&T(n.TEXTURE_CUBE_MAP),Re.__version=Ie.version,N.onUpdate&&N.onUpdate(N)}W.__version=N.version}function Se(W,N,oe,Ne,Ie){const Re=s.convert(oe.format,oe.colorSpace),je=s.convert(oe.type),Qe=R(oe.internalFormat,Re,je,oe.colorSpace);i.get(N).__hasExternalTextures||(Ie===n.TEXTURE_3D||Ie===n.TEXTURE_2D_ARRAY?t.texImage3D(Ie,0,Qe,N.width,N.height,N.depth,0,Re,je,null):t.texImage2D(Ie,0,Qe,N.width,N.height,0,Re,je,null)),t.bindFramebuffer(n.FRAMEBUFFER,W),Ue(N)?f.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ne,Ie,i.get(oe).__webglTexture,0,Pe(N)):(Ie===n.TEXTURE_2D||Ie>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ie<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ne,Ie,i.get(oe).__webglTexture,0),t.bindFramebuffer(n.FRAMEBUFFER,null)}function V(W,N,oe){if(n.bindRenderbuffer(n.RENDERBUFFER,W),N.depthBuffer&&!N.stencilBuffer){let Ne=n.DEPTH_COMPONENT16;if(oe||Ue(N)){const Ie=N.depthTexture;Ie&&Ie.isDepthTexture&&(Ie.type===rs?Ne=n.DEPTH_COMPONENT32F:Ie.type===Kl&&(Ne=n.DEPTH_COMPONENT24));const Re=Pe(N);Ue(N)?f.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Re,Ne,N.width,N.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,Re,Ne,N.width,N.height)}else n.renderbufferStorage(n.RENDERBUFFER,Ne,N.width,N.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,W)}else if(N.depthBuffer&&N.stencilBuffer){const Ne=Pe(N);oe&&Ue(N)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ne,n.DEPTH24_STENCIL8,N.width,N.height):Ue(N)?f.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ne,n.DEPTH24_STENCIL8,N.width,N.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,N.width,N.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,W)}else{const Ne=N.isWebGLMultipleRenderTargets===!0?N.texture:[N.texture];for(let Ie=0;Ie<Ne.length;Ie++){const Re=Ne[Ie],je=s.convert(Re.format,Re.colorSpace),Qe=s.convert(Re.type),pe=R(Re.internalFormat,je,Qe,Re.colorSpace),Y=Pe(N);oe&&Ue(N)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Y,pe,N.width,N.height):Ue(N)?f.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Y,pe,N.width,N.height):n.renderbufferStorage(n.RENDERBUFFER,pe,N.width,N.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ye(W,N){if(N&&N.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,W),!(N.depthTexture&&N.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(N.depthTexture).__webglTexture||N.depthTexture.image.width!==N.width||N.depthTexture.image.height!==N.height)&&(N.depthTexture.image.width=N.width,N.depthTexture.image.height=N.height,N.depthTexture.needsUpdate=!0),F(N.depthTexture,0);const Ne=i.get(N.depthTexture).__webglTexture,Ie=Pe(N);if(N.depthTexture.format===fc)Ue(N)?f.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ne,0,Ie):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ne,0);else if(N.depthTexture.format===Ec)Ue(N)?f.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ne,0,Ie):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ne,0);else throw new Error("Unknown depthTexture format")}function fe(W){const N=i.get(W),oe=W.isWebGLCubeRenderTarget===!0;if(W.depthTexture&&!N.__autoAllocateDepthBuffer){if(oe)throw new Error("target.depthTexture not supported in Cube render targets");ye(N.__webglFramebuffer,W)}else if(oe){N.__webglDepthbuffer=[];for(let Ne=0;Ne<6;Ne++)t.bindFramebuffer(n.FRAMEBUFFER,N.__webglFramebuffer[Ne]),N.__webglDepthbuffer[Ne]=n.createRenderbuffer(),V(N.__webglDepthbuffer[Ne],W,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,N.__webglFramebuffer),N.__webglDepthbuffer=n.createRenderbuffer(),V(N.__webglDepthbuffer,W,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function xe(W,N,oe){const Ne=i.get(W);N!==void 0&&Se(Ne.__webglFramebuffer,W,W.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D),oe!==void 0&&fe(W)}function ge(W){const N=W.texture,oe=i.get(W),Ne=i.get(N);W.addEventListener("dispose",O),W.isWebGLMultipleRenderTargets!==!0&&(Ne.__webglTexture===void 0&&(Ne.__webglTexture=n.createTexture()),Ne.__version=N.version,o.memory.textures++);const Ie=W.isWebGLCubeRenderTarget===!0,Re=W.isWebGLMultipleRenderTargets===!0,je=C(W)||a;if(Ie){oe.__webglFramebuffer=[];for(let Qe=0;Qe<6;Qe++)oe.__webglFramebuffer[Qe]=n.createFramebuffer()}else{if(oe.__webglFramebuffer=n.createFramebuffer(),Re)if(r.drawBuffers){const Qe=W.texture;for(let pe=0,Y=Qe.length;pe<Y;pe++){const de=i.get(Qe[pe]);de.__webglTexture===void 0&&(de.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&W.samples>0&&Ue(W)===!1){const Qe=Re?N:[N];oe.__webglMultisampledFramebuffer=n.createFramebuffer(),oe.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,oe.__webglMultisampledFramebuffer);for(let pe=0;pe<Qe.length;pe++){const Y=Qe[pe];oe.__webglColorRenderbuffer[pe]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,oe.__webglColorRenderbuffer[pe]);const de=s.convert(Y.format,Y.colorSpace),Me=s.convert(Y.type),Ee=R(Y.internalFormat,de,Me,Y.colorSpace,W.isXRRenderTarget===!0),Fe=Pe(W);n.renderbufferStorageMultisample(n.RENDERBUFFER,Fe,Ee,W.width,W.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+pe,n.RENDERBUFFER,oe.__webglColorRenderbuffer[pe])}n.bindRenderbuffer(n.RENDERBUFFER,null),W.depthBuffer&&(oe.__webglDepthRenderbuffer=n.createRenderbuffer(),V(oe.__webglDepthRenderbuffer,W,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Ie){t.bindTexture(n.TEXTURE_CUBE_MAP,Ne.__webglTexture),re(n.TEXTURE_CUBE_MAP,N,je);for(let Qe=0;Qe<6;Qe++)Se(oe.__webglFramebuffer[Qe],W,N,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe);M(N,je)&&T(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Re){const Qe=W.texture;for(let pe=0,Y=Qe.length;pe<Y;pe++){const de=Qe[pe],Me=i.get(de);t.bindTexture(n.TEXTURE_2D,Me.__webglTexture),re(n.TEXTURE_2D,de,je),Se(oe.__webglFramebuffer,W,de,n.COLOR_ATTACHMENT0+pe,n.TEXTURE_2D),M(de,je)&&T(n.TEXTURE_2D)}t.unbindTexture()}else{let Qe=n.TEXTURE_2D;(W.isWebGL3DRenderTarget||W.isWebGLArrayRenderTarget)&&(a?Qe=W.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Qe,Ne.__webglTexture),re(Qe,N,je),Se(oe.__webglFramebuffer,W,N,n.COLOR_ATTACHMENT0,Qe),M(N,je)&&T(Qe),t.unbindTexture()}W.depthBuffer&&fe(W)}function qe(W){const N=C(W)||a,oe=W.isWebGLMultipleRenderTargets===!0?W.texture:[W.texture];for(let Ne=0,Ie=oe.length;Ne<Ie;Ne++){const Re=oe[Ne];if(M(Re,N)){const je=W.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,Qe=i.get(Re).__webglTexture;t.bindTexture(je,Qe),T(je),t.unbindTexture()}}}function me(W){if(a&&W.samples>0&&Ue(W)===!1){const N=W.isWebGLMultipleRenderTargets?W.texture:[W.texture],oe=W.width,Ne=W.height;let Ie=n.COLOR_BUFFER_BIT;const Re=[],je=W.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Qe=i.get(W),pe=W.isWebGLMultipleRenderTargets===!0;if(pe)for(let Y=0;Y<N.length;Y++)t.bindFramebuffer(n.FRAMEBUFFER,Qe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Y,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Qe.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Y,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Qe.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Qe.__webglFramebuffer);for(let Y=0;Y<N.length;Y++){Re.push(n.COLOR_ATTACHMENT0+Y),W.depthBuffer&&Re.push(je);const de=Qe.__ignoreDepthValues!==void 0?Qe.__ignoreDepthValues:!1;if(de===!1&&(W.depthBuffer&&(Ie|=n.DEPTH_BUFFER_BIT),W.stencilBuffer&&(Ie|=n.STENCIL_BUFFER_BIT)),pe&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Qe.__webglColorRenderbuffer[Y]),de===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[je]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[je])),pe){const Me=i.get(N[Y]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Me,0)}n.blitFramebuffer(0,0,oe,Ne,0,0,oe,Ne,Ie,n.NEAREST),p&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Re)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),pe)for(let Y=0;Y<N.length;Y++){t.bindFramebuffer(n.FRAMEBUFFER,Qe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Y,n.RENDERBUFFER,Qe.__webglColorRenderbuffer[Y]);const de=i.get(N[Y]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Qe.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Y,n.TEXTURE_2D,de,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Qe.__webglMultisampledFramebuffer)}}function Pe(W){return Math.min(h,W.samples)}function Ue(W){const N=i.get(W);return a&&W.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&N.__useRenderToTexture!==!1}function we(W){const N=o.render.frame;m.get(W)!==N&&(m.set(W,N),W.update())}function Ke(W,N){const oe=W.colorSpace,Ne=W.format,Ie=W.type;return W.isCompressedTexture===!0||W.format===f9||oe!==ya&&oe!==pc&&(oe===Gt?a===!1?e.has("EXT_sRGB")===!0&&Ne===gi?(W.format=f9,W.minFilter=bn,W.generateMipmaps=!1):N=AC.sRGBToLinear(N):(Ne!==gi||Ie!==zi)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",oe)),N}this.allocateTextureUnit=L,this.resetTextureUnits=J,this.setTexture2D=F,this.setTexture2DArray=z,this.setTexture3D=U,this.setTextureCube=$,this.rebindTextures=xe,this.setupRenderTarget=ge,this.updateRenderTargetMipmap=qe,this.updateMultisampleRenderTarget=me,this.setupDepthRenderbuffer=fe,this.setupFrameBufferTexture=Se,this.useMultisampledRTT=Ue}function SN(n,e,t){const i=t.isWebGL2;function r(s,o=pc){let a;if(s===zi)return n.UNSIGNED_BYTE;if(s===aC)return n.UNSIGNED_SHORT_4_4_4_4;if(s===lC)return n.UNSIGNED_SHORT_5_5_5_1;if(s===WO)return n.BYTE;if(s===jO)return n.SHORT;if(s===E3)return n.UNSIGNED_SHORT;if(s===oC)return n.INT;if(s===Kl)return n.UNSIGNED_INT;if(s===rs)return n.FLOAT;if(s===_i)return i?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===XO)return n.ALPHA;if(s===gi)return n.RGBA;if(s===cC)return n.LUMINANCE;if(s===qO)return n.LUMINANCE_ALPHA;if(s===fc)return n.DEPTH_COMPONENT;if(s===Ec)return n.DEPTH_STENCIL;if(s===f9)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===Du)return n.RED;if(s===uC)return n.RED_INTEGER;if(s===zh)return n.RG;if(s===hC)return n.RG_INTEGER;if(s===fC)return n.RGBA_INTEGER;if(s===o2||s===u8||s===h8||s===a2)if(o===Gt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===o2)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===u8)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===h8)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===a2)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===o2)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===u8)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===h8)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===a2)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===Pd||s===qy||s===Ld||s===Yy)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===Pd)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===qy)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===Ld)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Yy)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===k7)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===Dd||s===Od)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===Dd)return o===Gt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===Od)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===Nd||s===Ky||s===Jy||s===$y||s===Zy||s===ex||s===tx||s===nx||s===ix||s===rx||s===sx||s===ox||s===ax||s===lx)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===Nd)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===Ky)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===Jy)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===$y)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===Zy)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===ex)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===tx)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===nx)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===ix)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===rx)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===sx)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===ox)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===ax)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===lx)return o===Gt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===l2)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===l2)return o===Gt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===YO||s===cx||s===ux||s===hx)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===l2)return a.COMPRESSED_RED_RGTC1_EXT;if(s===cx)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===ux)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===hx)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Zl?i?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class EN extends Xn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Vh extends Yt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const dZ={type:"move"};class _A{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Vh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Vh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Q,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Q),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Vh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Q,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Q),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const S of e.hand.values()){const v=t.getJointPose(S,i),A=this._getHandJoint(c,S);v!==null&&(A.matrix.fromArray(v.transform.matrix),A.matrix.decompose(A.position,A.rotation,A.scale),A.matrixWorldNeedsUpdate=!0,A.jointRadius=v.radius),A.visible=v!==null}const u=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],f=u.position.distanceTo(h.position),p=.02,m=.005;c.inputState.pinching&&f>p+m?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=p-m&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(dZ)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Vh;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class $2 extends Kn{constructor(e,t,i,r,s,o,a,l,c,u){if(u=u!==void 0?u:fc,u!==fc&&u!==Ec)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&u===fc&&(i=Kl),i===void 0&&u===Ec&&(i=Zl),super(null,r,s,o,a,l,u,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Pt,this.minFilter=l!==void 0?l:Pt,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class pZ extends dl{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,h=null,f=null,p=null,m=null;const S=t.getContextAttributes();let v=null,A=null;const y=[],x=[];let C=null;const w=new Xn;w.layers.enable(1),w.viewport=new en;const M=new Xn;M.layers.enable(2),M.viewport=new en;const T=[w,M],R=new EN;R.layers.enable(1),R.layers.enable(2);let b=null,B=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getCamera=function(){},this.setUserCamera=function(U){C=U},this.getController=function(U){let $=y[U];return $===void 0&&($=new _A,y[U]=$),$.getTargetRaySpace()},this.getControllerGrip=function(U){let $=y[U];return $===void 0&&($=new _A,y[U]=$),$.getGripSpace()},this.getHand=function(U){let $=y[U];return $===void 0&&($=new _A,y[U]=$),$.getHandSpace()};function P(U){const $=x.indexOf(U.inputSource);if($===-1)return;const ee=y[$];ee!==void 0&&(ee.update(U.inputSource,U.frame,c||o),ee.dispatchEvent({type:U.type,data:U.inputSource}))}function O(){r.removeEventListener("select",P),r.removeEventListener("selectstart",P),r.removeEventListener("selectend",P),r.removeEventListener("squeeze",P),r.removeEventListener("squeezestart",P),r.removeEventListener("squeezeend",P),r.removeEventListener("end",O),r.removeEventListener("inputsourceschange",G);for(let U=0;U<y.length;U++){const $=x[U];$!==null&&(x[U]=null,y[U].disconnect($))}b=null,B=null,e.setRenderTarget(v),p=null,f=null,h=null,r=null,A=null,z.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(U){s=U,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(U){a=U,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(U){c=U},this.getBaseLayer=function(){return f!==null?f:p},this.getBinding=function(){return h},this.getFrame=function(){return m},this.getSession=function(){return r},this.setSession=async function(U){if(r=U,r!==null){if(v=e.getRenderTarget(),r.addEventListener("select",P),r.addEventListener("selectstart",P),r.addEventListener("selectend",P),r.addEventListener("squeeze",P),r.addEventListener("squeezestart",P),r.addEventListener("squeezeend",P),r.addEventListener("end",O),r.addEventListener("inputsourceschange",G),S.xrCompatible!==!0&&await t.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const $={antialias:r.renderState.layers===void 0?S.antialias:!0,alpha:!0,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:s};p=new XRWebGLLayer(r,t,$),r.updateRenderState({baseLayer:p}),A=new In(p.framebufferWidth,p.framebufferHeight,{format:gi,type:zi,colorSpace:e.outputColorSpace,stencilBuffer:S.stencil})}else{let $=null,ee=null,ie=null;S.depth&&(ie=S.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,$=S.stencil?Ec:fc,ee=S.stencil?Zl:Kl);const se={colorFormat:t.RGBA8,depthFormat:ie,scaleFactor:s};h=new XRWebGLBinding(r,t),f=h.createProjectionLayer(se),r.updateRenderState({layers:[f]}),A=new In(f.textureWidth,f.textureHeight,{format:gi,type:zi,depthTexture:new $2(f.textureWidth,f.textureHeight,ee,void 0,void 0,void 0,void 0,void 0,void 0,$),stencilBuffer:S.stencil,colorSpace:e.outputColorSpace,samples:S.antialias?4:0});const re=e.properties.get(A);re.__ignoreDepthValues=f.ignoreDepthValues}A.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),z.setContext(r),z.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function G(U){for(let $=0;$<U.removed.length;$++){const ee=U.removed[$],ie=x.indexOf(ee);ie>=0&&(x[ie]=null,y[ie].disconnect(ee))}for(let $=0;$<U.added.length;$++){const ee=U.added[$];let ie=x.indexOf(ee);if(ie===-1){for(let re=0;re<y.length;re++)if(re>=x.length){x.push(ee),ie=re;break}else if(x[re]===null){x[re]=ee,ie=re;break}if(ie===-1)break}const se=y[ie];se&&se.connect(ee)}}const H=new Q,j=new Q;function q(U,$,ee){H.setFromMatrixPosition($.matrixWorld),j.setFromMatrixPosition(ee.matrixWorld);const ie=H.distanceTo(j),se=$.projectionMatrix.elements,re=ee.projectionMatrix.elements,he=se[14]/(se[10]-1),Ce=se[14]/(se[10]+1),ze=(se[9]+1)/se[5],Se=(se[9]-1)/se[5],V=(se[8]-1)/se[0],ye=(re[8]+1)/re[0],fe=he*V,xe=he*ye,ge=ie/(-V+ye),qe=ge*-V;$.matrixWorld.decompose(U.position,U.quaternion,U.scale),U.translateX(qe),U.translateZ(ge),U.matrixWorld.compose(U.position,U.quaternion,U.scale),U.matrixWorldInverse.copy(U.matrixWorld).invert();const me=he+ge,Pe=Ce+ge,Ue=fe-qe,we=xe+(ie-qe),Ke=ze*Ce/Pe*me,W=Se*Ce/Pe*me;U.projectionMatrix.makePerspective(Ue,we,Ke,W,me,Pe),U.projectionMatrixInverse.copy(U.projectionMatrix).invert()}function J(U,$){$===null?U.matrixWorld.copy(U.matrix):U.matrixWorld.multiplyMatrices($.matrixWorld,U.matrix),U.matrixWorldInverse.copy(U.matrixWorld).invert()}this.updateCameraXR=function(U){if(r===null)return U;C&&(U=C),R.near=M.near=w.near=U.near,R.far=M.far=w.far=U.far,(b!==R.near||B!==R.far)&&(r.updateRenderState({depthNear:R.near,depthFar:R.far}),b=R.near,B=R.far);const $=U.parent,ee=R.cameras;J(R,$);for(let ie=0;ie<ee.length;ie++)J(ee[ie],$);return ee.length===2?q(R,w,M):R.projectionMatrix.copy(w.projectionMatrix),C&&L(R,$),R};function L(U,$){const ee=C;$===null?ee.matrix.copy(U.matrixWorld):(ee.matrix.copy($.matrixWorld),ee.matrix.invert(),ee.matrix.multiply(U.matrixWorld)),ee.matrix.decompose(ee.position,ee.quaternion,ee.scale),ee.updateMatrixWorld(!0);const ie=ee.children;for(let se=0,re=ie.length;se<re;se++)ie[se].updateMatrixWorld(!0);ee.projectionMatrix.copy(U.projectionMatrix),ee.projectionMatrixInverse.copy(U.projectionMatrixInverse),ee.isPerspectiveCamera&&(ee.fov=T2*2*Math.atan(1/ee.projectionMatrix.elements[5]),ee.zoom=1)}this.getFoveation=function(){if(!(f===null&&p===null))return l},this.setFoveation=function(U){l=U,f!==null&&(f.fixedFoveation=U),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=U)};let D=null;function F(U,$){if(u=$.getViewerPose(c||o),m=$,u!==null){const ee=u.views;p!==null&&(e.setRenderTargetFramebuffer(A,p.framebuffer),e.setRenderTarget(A));let ie=!1;ee.length!==R.cameras.length&&(R.cameras.length=0,ie=!0);for(let se=0;se<ee.length;se++){const re=ee[se];let he=null;if(p!==null)he=p.getViewport(re);else{const ze=h.getViewSubImage(f,re);he=ze.viewport,se===0&&(e.setRenderTargetTextures(A,ze.colorTexture,f.ignoreDepthValues?void 0:ze.depthStencilTexture),e.setRenderTarget(A))}let Ce=T[se];Ce===void 0&&(Ce=new Xn,Ce.layers.enable(se),Ce.viewport=new en,T[se]=Ce),Ce.matrix.fromArray(re.transform.matrix),Ce.matrix.decompose(Ce.position,Ce.quaternion,Ce.scale),Ce.projectionMatrix.fromArray(re.projectionMatrix),Ce.projectionMatrixInverse.copy(Ce.projectionMatrix).invert(),Ce.viewport.set(he.x,he.y,he.width,he.height),se===0&&(R.matrix.copy(Ce.matrix),R.matrix.decompose(R.position,R.quaternion,R.scale)),ie===!0&&R.cameras.push(Ce)}}for(let ee=0;ee<y.length;ee++){const ie=x[ee],se=y[ee];ie!==null&&se!==void 0&&se.update(ie,$,c||o)}D&&D(U,$),$.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:$}),m=null}const z=new mN;z.setAnimationLoop(F),this.setAnimationLoop=function(U){D=U},this.dispose=function(){}}}function gZ(n,e){function t(v,A){v.matrixAutoUpdate===!0&&v.updateMatrix(),A.value.copy(v.matrix)}function i(v,A){A.color.getRGB(v.fogColor.value,dN(n)),A.isFog?(v.fogNear.value=A.near,v.fogFar.value=A.far):A.isFogExp2&&(v.fogDensity.value=A.density)}function r(v,A,y,x,C){A.isMeshBasicMaterial||A.isMeshLambertMaterial?s(v,A):A.isMeshToonMaterial?(s(v,A),h(v,A)):A.isMeshPhongMaterial?(s(v,A),u(v,A)):A.isMeshStandardMaterial?(s(v,A),f(v,A),A.isMeshPhysicalMaterial&&p(v,A,C)):A.isMeshMatcapMaterial?(s(v,A),m(v,A)):A.isMeshDepthMaterial?s(v,A):A.isMeshDistanceMaterial?(s(v,A),S(v,A)):A.isMeshNormalMaterial?s(v,A):A.isLineBasicMaterial?(o(v,A),A.isLineDashedMaterial&&a(v,A)):A.isPointsMaterial?l(v,A,y,x):A.isSpriteMaterial?c(v,A):A.isShadowMaterial?(v.color.value.copy(A.color),v.opacity.value=A.opacity):A.isShaderMaterial&&(A.uniformsNeedUpdate=!1)}function s(v,A){v.opacity.value=A.opacity,A.color&&v.diffuse.value.copy(A.color),A.emissive&&v.emissive.value.copy(A.emissive).multiplyScalar(A.emissiveIntensity),A.map&&(v.map.value=A.map,t(A.map,v.mapTransform)),A.alphaMap&&(v.alphaMap.value=A.alphaMap,t(A.alphaMap,v.alphaMapTransform)),A.bumpMap&&(v.bumpMap.value=A.bumpMap,t(A.bumpMap,v.bumpMapTransform),v.bumpScale.value=A.bumpScale,A.side===mr&&(v.bumpScale.value*=-1)),A.normalMap&&(v.normalMap.value=A.normalMap,t(A.normalMap,v.normalMapTransform),v.normalScale.value.copy(A.normalScale),A.side===mr&&v.normalScale.value.negate()),A.displacementMap&&(v.displacementMap.value=A.displacementMap,t(A.displacementMap,v.displacementMapTransform),v.displacementScale.value=A.displacementScale,v.displacementBias.value=A.displacementBias),A.emissiveMap&&(v.emissiveMap.value=A.emissiveMap,t(A.emissiveMap,v.emissiveMapTransform)),A.specularMap&&(v.specularMap.value=A.specularMap,t(A.specularMap,v.specularMapTransform)),A.alphaTest>0&&(v.alphaTest.value=A.alphaTest);const y=e.get(A).envMap;if(y&&(v.envMap.value=y,v.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=A.reflectivity,v.ior.value=A.ior,v.refractionRatio.value=A.refractionRatio),A.lightMap){v.lightMap.value=A.lightMap;const x=n.useLegacyLights===!0?Math.PI:1;v.lightMapIntensity.value=A.lightMapIntensity*x,t(A.lightMap,v.lightMapTransform)}A.aoMap&&(v.aoMap.value=A.aoMap,v.aoMapIntensity.value=A.aoMapIntensity,t(A.aoMap,v.aoMapTransform))}function o(v,A){v.diffuse.value.copy(A.color),v.opacity.value=A.opacity,A.map&&(v.map.value=A.map,t(A.map,v.mapTransform))}function a(v,A){v.dashSize.value=A.dashSize,v.totalSize.value=A.dashSize+A.gapSize,v.scale.value=A.scale}function l(v,A,y,x){v.diffuse.value.copy(A.color),v.opacity.value=A.opacity,v.size.value=A.size*y,v.scale.value=x*.5,A.map&&(v.map.value=A.map,t(A.map,v.uvTransform)),A.alphaMap&&(v.alphaMap.value=A.alphaMap,t(A.alphaMap,v.alphaMapTransform)),A.alphaTest>0&&(v.alphaTest.value=A.alphaTest)}function c(v,A){v.diffuse.value.copy(A.color),v.opacity.value=A.opacity,v.rotation.value=A.rotation,A.map&&(v.map.value=A.map,t(A.map,v.mapTransform)),A.alphaMap&&(v.alphaMap.value=A.alphaMap,t(A.alphaMap,v.alphaMapTransform)),A.alphaTest>0&&(v.alphaTest.value=A.alphaTest)}function u(v,A){v.specular.value.copy(A.specular),v.shininess.value=Math.max(A.shininess,1e-4)}function h(v,A){A.gradientMap&&(v.gradientMap.value=A.gradientMap)}function f(v,A){v.metalness.value=A.metalness,A.metalnessMap&&(v.metalnessMap.value=A.metalnessMap,t(A.metalnessMap,v.metalnessMapTransform)),v.roughness.value=A.roughness,A.roughnessMap&&(v.roughnessMap.value=A.roughnessMap,t(A.roughnessMap,v.roughnessMapTransform)),e.get(A).envMap&&(v.envMapIntensity.value=A.envMapIntensity)}function p(v,A,y){v.ior.value=A.ior,A.sheen>0&&(v.sheenColor.value.copy(A.sheenColor).multiplyScalar(A.sheen),v.sheenRoughness.value=A.sheenRoughness,A.sheenColorMap&&(v.sheenColorMap.value=A.sheenColorMap,t(A.sheenColorMap,v.sheenColorMapTransform)),A.sheenRoughnessMap&&(v.sheenRoughnessMap.value=A.sheenRoughnessMap,t(A.sheenRoughnessMap,v.sheenRoughnessMapTransform))),A.clearcoat>0&&(v.clearcoat.value=A.clearcoat,v.clearcoatRoughness.value=A.clearcoatRoughness,A.clearcoatMap&&(v.clearcoatMap.value=A.clearcoatMap,t(A.clearcoatMap,v.clearcoatMapTransform)),A.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=A.clearcoatRoughnessMap,t(A.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),A.clearcoatNormalMap&&(v.clearcoatNormalMap.value=A.clearcoatNormalMap,t(A.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(A.clearcoatNormalScale),A.side===mr&&v.clearcoatNormalScale.value.negate())),A.iridescence>0&&(v.iridescence.value=A.iridescence,v.iridescenceIOR.value=A.iridescenceIOR,v.iridescenceThicknessMinimum.value=A.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=A.iridescenceThicknessRange[1],A.iridescenceMap&&(v.iridescenceMap.value=A.iridescenceMap,t(A.iridescenceMap,v.iridescenceMapTransform)),A.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=A.iridescenceThicknessMap,t(A.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),A.transmission>0&&(v.transmission.value=A.transmission,v.transmissionSamplerMap.value=y.texture,v.transmissionSamplerSize.value.set(y.width,y.height),A.transmissionMap&&(v.transmissionMap.value=A.transmissionMap,t(A.transmissionMap,v.transmissionMapTransform)),v.thickness.value=A.thickness,A.thicknessMap&&(v.thicknessMap.value=A.thicknessMap,t(A.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=A.attenuationDistance,v.attenuationColor.value.copy(A.attenuationColor)),A.anisotropy>0&&(v.anisotropyVector.value.set(A.anisotropy*Math.cos(A.anisotropyRotation),A.anisotropy*Math.sin(A.anisotropyRotation)),A.anisotropyMap&&(v.anisotropyMap.value=A.anisotropyMap,t(A.anisotropyMap,v.anisotropyMapTransform))),v.specularIntensity.value=A.specularIntensity,v.specularColor.value.copy(A.specularColor),A.specularColorMap&&(v.specularColorMap.value=A.specularColorMap,t(A.specularColorMap,v.specularColorMapTransform)),A.specularIntensityMap&&(v.specularIntensityMap.value=A.specularIntensityMap,t(A.specularIntensityMap,v.specularIntensityMapTransform))}function m(v,A){A.matcap&&(v.matcap.value=A.matcap)}function S(v,A){const y=e.get(A).light;v.referencePosition.value.setFromMatrixPosition(y.matrixWorld),v.nearDistance.value=y.shadow.camera.near,v.farDistance.value=y.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function mZ(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(y,x){const C=x.program;i.uniformBlockBinding(y,C)}function c(y,x){let C=r[y.id];C===void 0&&(m(y),C=u(y),r[y.id]=C,y.addEventListener("dispose",v));const w=x.program;i.updateUBOMapping(y,w);const M=e.render.frame;s[y.id]!==M&&(f(y),s[y.id]=M)}function u(y){const x=h();y.__bindingPointIndex=x;const C=n.createBuffer(),w=y.__size,M=y.usage;return n.bindBuffer(n.UNIFORM_BUFFER,C),n.bufferData(n.UNIFORM_BUFFER,w,M),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,x,C),C}function h(){for(let y=0;y<a;y++)if(o.indexOf(y)===-1)return o.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(y){const x=r[y.id],C=y.uniforms,w=y.__cache;n.bindBuffer(n.UNIFORM_BUFFER,x);for(let M=0,T=C.length;M<T;M++){const R=C[M];if(p(R,M,w)===!0){const b=R.__offset,B=Array.isArray(R.value)?R.value:[R.value];let P=0;for(let O=0;O<B.length;O++){const G=B[O],H=S(G);typeof G=="number"?(R.__data[0]=G,n.bufferSubData(n.UNIFORM_BUFFER,b+P,R.__data)):G.isMatrix3?(R.__data[0]=G.elements[0],R.__data[1]=G.elements[1],R.__data[2]=G.elements[2],R.__data[3]=G.elements[0],R.__data[4]=G.elements[3],R.__data[5]=G.elements[4],R.__data[6]=G.elements[5],R.__data[7]=G.elements[0],R.__data[8]=G.elements[6],R.__data[9]=G.elements[7],R.__data[10]=G.elements[8],R.__data[11]=G.elements[0]):(G.toArray(R.__data,P),P+=H.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,b,R.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function p(y,x,C){const w=y.value;if(C[x]===void 0){if(typeof w=="number")C[x]=w;else{const M=Array.isArray(w)?w:[w],T=[];for(let R=0;R<M.length;R++)T.push(M[R].clone());C[x]=T}return!0}else if(typeof w=="number"){if(C[x]!==w)return C[x]=w,!0}else{const M=Array.isArray(C[x])?C[x]:[C[x]],T=Array.isArray(w)?w:[w];for(let R=0;R<M.length;R++){const b=M[R];if(b.equals(T[R])===!1)return b.copy(T[R]),!0}}return!1}function m(y){const x=y.uniforms;let C=0;const w=16;let M=0;for(let T=0,R=x.length;T<R;T++){const b=x[T],B={boundary:0,storage:0},P=Array.isArray(b.value)?b.value:[b.value];for(let O=0,G=P.length;O<G;O++){const H=P[O],j=S(H);B.boundary+=j.boundary,B.storage+=j.storage}if(b.__data=new Float32Array(B.storage/Float32Array.BYTES_PER_ELEMENT),b.__offset=C,T>0){M=C%w;const O=w-M;M!==0&&O-B.boundary<0&&(C+=w-M,b.__offset=C)}C+=B.storage}return M=C%w,M>0&&(C+=w-M),y.__size=C,y.__cache={},this}function S(y){const x={boundary:0,storage:0};return typeof y=="number"?(x.boundary=4,x.storage=4):y.isVector2?(x.boundary=8,x.storage=8):y.isVector3||y.isColor?(x.boundary=16,x.storage=12):y.isVector4?(x.boundary=16,x.storage=16):y.isMatrix3?(x.boundary=48,x.storage=48):y.isMatrix4?(x.boundary=64,x.storage=64):y.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",y),x}function v(y){const x=y.target;x.removeEventListener("dispose",v);const C=o.indexOf(x.__bindingPointIndex);o.splice(C,1),n.deleteBuffer(r[x.id]),delete r[x.id],delete s[x.id]}function A(){for(const y in r)n.deleteBuffer(r[y]);o=[],r={},s={}}return{bind:l,update:c,dispose:A}}function AZ(){const n=Hd("canvas");return n.style.display="block",n}class SC{constructor(e={}){const{canvas:t=AZ(),context:i=null,depth:r=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:h=!1}=e;this.isWebGLRenderer=!0;let f;i!==null?f=i.getContextAttributes().alpha:f=o;const p=new Uint32Array(4),m=new Int32Array(4);let S=null,v=null;const A=[],y=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=Gt,this.useLegacyLights=!0,this.toneMapping=ro,this.toneMappingExposure=1;const x=this;let C=!1,w=0,M=0,T=null,R=-1,b=null;const B=new en,P=new en;let O=null;const G=new Je(0);let H=0,j=t.width,q=t.height,J=1,L=null,D=null;const F=new en(0,0,j,q),z=new en(0,0,j,q);let U=!1;const $=new N7;let ee=!1,ie=!1,se=null;const re=new At,he=new _e,Ce=new Q,ze={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Se(){return T===null?J:1}let V=i;function ye(X,Ae){for(let Le=0;Le<X.length;Le++){const ue=X[Le],De=t.getContext(ue,Ae);if(De!==null)return De}return null}try{const X={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:h};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Nc}`),t.addEventListener("webglcontextlost",He,!1),t.addEventListener("webglcontextrestored",ce,!1),t.addEventListener("webglcontextcreationerror",We,!1),V===null){const Ae=["webgl2","webgl","experimental-webgl"];if(x.isWebGL1Renderer===!0&&Ae.shift(),V=ye(Ae,X),V===null)throw ye(Ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}V instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),V.getShaderPrecisionFormat===void 0&&(V.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(X){throw console.error("THREE.WebGLRenderer: "+X.message),X}let fe,xe,ge,qe,me,Pe,Ue,we,Ke,W,N,oe,Ne,Ie,Re,je,Qe,pe,Y,de,Me,Ee,Fe,nt;function ft(){fe=new PJ(V),xe=new TJ(V,fe,e),fe.init(xe),Ee=new SN(V,fe,xe),ge=new hZ(V,fe,xe),qe=new OJ(V),me=new Z$,Pe=new fZ(V,fe,ge,me,xe,Ee,qe),Ue=new IJ(x),we=new kJ(x),Ke=new qq(V,xe),Fe=new _J(V,fe,Ke,xe),W=new LJ(V,Ke,qe,Fe),N=new GJ(V,W,Ke,qe),Y=new UJ(V,xe,Pe),je=new bJ(me),oe=new $$(x,Ue,we,fe,xe,Fe,je),Ne=new gZ(x,me),Ie=new tZ,Re=new aZ(fe,xe),pe=new wJ(x,Ue,we,ge,N,f,l),Qe=new uZ(x,N,xe),nt=new mZ(V,qe,xe,ge),de=new MJ(V,fe,qe,xe),Me=new DJ(V,fe,qe,xe),qe.programs=oe.programs,x.capabilities=xe,x.extensions=fe,x.properties=me,x.renderLists=Ie,x.shadowMap=Qe,x.state=ge,x.info=qe}ft();const Z=new pZ(x,V);this.xr=Z,this.getContext=function(){return V},this.getContextAttributes=function(){return V.getContextAttributes()},this.forceContextLoss=function(){const X=fe.get("WEBGL_lose_context");X&&X.loseContext()},this.forceContextRestore=function(){const X=fe.get("WEBGL_lose_context");X&&X.restoreContext()},this.getPixelRatio=function(){return J},this.setPixelRatio=function(X){X!==void 0&&(J=X,this.setSize(j,q,!1))},this.getSize=function(X){return X.set(j,q)},this.setSize=function(X,Ae,Le=!0){if(Z.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}j=X,q=Ae,t.width=Math.floor(X*J),t.height=Math.floor(Ae*J),Le===!0&&(t.style.width=X+"px",t.style.height=Ae+"px"),this.setViewport(0,0,X,Ae)},this.getDrawingBufferSize=function(X){return X.set(j*J,q*J).floor()},this.setDrawingBufferSize=function(X,Ae,Le){j=X,q=Ae,J=Le,t.width=Math.floor(X*Le),t.height=Math.floor(Ae*Le),this.setViewport(0,0,X,Ae)},this.getCurrentViewport=function(X){return X.copy(B)},this.getViewport=function(X){return X.copy(F)},this.setViewport=function(X,Ae,Le,ue){X.isVector4?F.set(X.x,X.y,X.z,X.w):F.set(X,Ae,Le,ue),ge.viewport(B.copy(F).multiplyScalar(J).floor())},this.getScissor=function(X){return X.copy(z)},this.setScissor=function(X,Ae,Le,ue){X.isVector4?z.set(X.x,X.y,X.z,X.w):z.set(X,Ae,Le,ue),ge.scissor(P.copy(z).multiplyScalar(J).floor())},this.getScissorTest=function(){return U},this.setScissorTest=function(X){ge.setScissorTest(U=X)},this.setOpaqueSort=function(X){L=X},this.setTransparentSort=function(X){D=X},this.getClearColor=function(X){return X.copy(pe.getClearColor())},this.setClearColor=function(){pe.setClearColor.apply(pe,arguments)},this.getClearAlpha=function(){return pe.getClearAlpha()},this.setClearAlpha=function(){pe.setClearAlpha.apply(pe,arguments)},this.clear=function(X=!0,Ae=!0,Le=!0){let ue=0;if(X){let De=!1;if(T!==null){const at=T.texture.format;De=at===fC||at===hC||at===uC}if(De){const at=T.texture.type,St=at===zi||at===Kl||at===E3||at===Zl||at===aC||at===lC,Et=pe.getClearColor(),Mt=pe.getClearAlpha(),Nt=Et.r,Xe=Et.g,Ct=Et.b,vn=me.get(T).__webglFramebuffer;St?(p[0]=Nt,p[1]=Xe,p[2]=Ct,p[3]=Mt,V.clearBufferuiv(V.COLOR,vn,p)):(m[0]=Nt,m[1]=Xe,m[2]=Ct,m[3]=Mt,V.clearBufferiv(V.COLOR,vn,m))}else ue|=V.COLOR_BUFFER_BIT}Ae&&(ue|=V.DEPTH_BUFFER_BIT),Le&&(ue|=V.STENCIL_BUFFER_BIT),V.clear(ue)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",He,!1),t.removeEventListener("webglcontextrestored",ce,!1),t.removeEventListener("webglcontextcreationerror",We,!1),Ie.dispose(),Re.dispose(),me.dispose(),Ue.dispose(),we.dispose(),N.dispose(),Fe.dispose(),nt.dispose(),oe.dispose(),Z.dispose(),Z.removeEventListener("sessionstart",An),Z.removeEventListener("sessionend",rn),se&&(se.dispose(),se=null),Vt.stop()};function He(X){X.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function ce(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const X=qe.autoReset,Ae=Qe.enabled,Le=Qe.autoUpdate,ue=Qe.needsUpdate,De=Qe.type;ft(),qe.autoReset=X,Qe.enabled=Ae,Qe.autoUpdate=Le,Qe.needsUpdate=ue,Qe.type=De}function We(X){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",X.statusMessage)}function Ze(X){const Ae=X.target;Ae.removeEventListener("dispose",Ze),Dt(Ae)}function Dt(X){Kt(X),me.remove(X)}function Kt(X){const Ae=me.get(X).programs;Ae!==void 0&&(Ae.forEach(function(Le){oe.releaseProgram(Le)}),X.isShaderMaterial&&oe.releaseShaderCache(X))}this.renderBufferDirect=function(X,Ae,Le,ue,De,at){Ae===null&&(Ae=ze);const St=De.isMesh&&De.matrixWorld.determinant()<0,Et=Di(X,Ae,Le,ue,De);ge.setMaterial(ue,St);let Mt=Le.index,Nt=1;ue.wireframe===!0&&(Mt=W.getWireframeAttribute(Le),Nt=2);const Xe=Le.drawRange,Ct=Le.attributes.position;let vn=Xe.start*Nt,dn=(Xe.start+Xe.count)*Nt;at!==null&&(vn=Math.max(vn,at.start*Nt),dn=Math.min(dn,(at.start+at.count)*Nt)),Mt!==null?(vn=Math.max(vn,0),dn=Math.min(dn,Mt.count)):Ct!=null&&(vn=Math.max(vn,0),dn=Math.min(dn,Ct.count));const Ki=dn-vn;if(Ki<0||Ki===1/0)return;Fe.setup(De,ue,Et,Le,Mt);let Er,yn=de;if(Mt!==null&&(Er=Ke.get(Mt),yn=Me,yn.setIndex(Er)),De.isMesh)ue.wireframe===!0?(ge.setLineWidth(ue.wireframeLinewidth*Se()),yn.setMode(V.LINES)):yn.setMode(V.TRIANGLES);else if(De.isLine){let It=ue.linewidth;It===void 0&&(It=1),ge.setLineWidth(It*Se()),De.isLineSegments?yn.setMode(V.LINES):De.isLineLoop?yn.setMode(V.LINE_LOOP):yn.setMode(V.LINE_STRIP)}else De.isPoints?yn.setMode(V.POINTS):De.isSprite&&yn.setMode(V.TRIANGLES);if(De.isInstancedMesh)yn.renderInstances(vn,Ki,De.count);else if(Le.isInstancedBufferGeometry){const It=Le._maxInstanceCount!==void 0?Le._maxInstanceCount:1/0,on=Math.min(Le.instanceCount,It);yn.renderInstances(vn,Ki,on)}else yn.render(vn,Ki)},this.compile=function(X,Ae){function Le(ue,De,at){ue.transparent===!0&&ue.side===Do&&ue.forceSinglePass===!1?(ue.side=mr,ue.needsUpdate=!0,_n(ue,De,at),ue.side=hl,ue.needsUpdate=!0,_n(ue,De,at),ue.side=Do):_n(ue,De,at)}v=Re.get(X),v.init(),y.push(v),X.traverseVisible(function(ue){ue.isLight&&ue.layers.test(Ae.layers)&&(v.pushLight(ue),ue.castShadow&&v.pushShadow(ue))}),v.setupLights(x.useLegacyLights),X.traverse(function(ue){const De=ue.material;if(De)if(Array.isArray(De))for(let at=0;at<De.length;at++){const St=De[at];Le(St,X,ue)}else Le(De,X,ue)}),y.pop(),v=null};let tn=null;function an(X){tn&&tn(X)}function An(){Vt.stop()}function rn(){Vt.start()}const Vt=new mN;Vt.setAnimationLoop(an),typeof self<"u"&&Vt.setContext(self),this.setAnimationLoop=function(X){tn=X,Z.setAnimationLoop(X),X===null?Vt.stop():Vt.start()},Z.addEventListener("sessionstart",An),Z.addEventListener("sessionend",rn),this.render=function(X,Ae){if(Ae!==void 0&&Ae.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(C===!0)return;X.matrixWorldAutoUpdate===!0&&X.updateMatrixWorld(),Ae.parent===null&&Ae.matrixWorldAutoUpdate===!0&&Ae.updateMatrixWorld(),Z.enabled===!0&&Z.isPresenting===!0&&(Ae=Z.updateCameraXR(Ae)),X.isScene===!0&&X.onBeforeRender(x,X,Ae,T),v=Re.get(X,y.length),v.init(),y.push(v),re.multiplyMatrices(Ae.projectionMatrix,Ae.matrixWorldInverse),$.setFromProjectionMatrix(re),ie=this.localClippingEnabled,ee=je.init(this.clippingPlanes,ie),S=Ie.get(X,A.length),S.init(),A.push(S),Sr(X,Ae,0,x.sortObjects),S.finish(),x.sortObjects===!0&&S.sort(L,D),ee===!0&&je.beginShadows();const Le=v.state.shadowsArray;if(Qe.render(Le,X,Ae),ee===!0&&je.endShadows(),this.info.autoReset===!0&&this.info.reset(),this.info.render.frame++,pe.render(S,X),v.setupLights(x.useLegacyLights),Ae.isArrayCamera){const ue=Ae.cameras;for(let De=0,at=ue.length;De<at;De++){const St=ue[De];Yi(S,X,St,St.viewport)}}else Yi(S,X,Ae);T!==null&&(Pe.updateMultisampleRenderTarget(T),Pe.updateRenderTargetMipmap(T)),X.isScene===!0&&X.onAfterRender(x,X,Ae),Fe.resetDefaultState(),R=-1,b=null,y.pop(),y.length>0?v=y[y.length-1]:v=null,A.pop(),A.length>0?S=A[A.length-1]:S=null};function Sr(X,Ae,Le,ue){if(X.visible===!1)return;if(X.layers.test(Ae.layers)){if(X.isGroup)Le=X.renderOrder;else if(X.isLOD)X.autoUpdate===!0&&X.update(Ae);else if(X.isLight)v.pushLight(X),X.castShadow&&v.pushShadow(X);else if(X.isSprite){if(!X.frustumCulled||$.intersectsSprite(X)){ue&&Ce.setFromMatrixPosition(X.matrixWorld).applyMatrix4(re);const St=N.update(X),Et=X.material;Et.visible&&S.push(X,St,Et,Le,Ce.z,null)}}else if((X.isMesh||X.isLine||X.isPoints)&&(!X.frustumCulled||$.intersectsObject(X))){X.isSkinnedMesh&&X.skeleton.frame!==qe.render.frame&&(X.skeleton.update(),X.skeleton.frame=qe.render.frame);const St=N.update(X),Et=X.material;if(ue&&(X.boundingSphere!==void 0?(X.boundingSphere===null&&X.computeBoundingSphere(),Ce.copy(X.boundingSphere.center)):(St.boundingSphere===null&&St.computeBoundingSphere(),Ce.copy(St.boundingSphere.center)),Ce.applyMatrix4(X.matrixWorld).applyMatrix4(re)),Array.isArray(Et)){const Mt=St.groups;for(let Nt=0,Xe=Mt.length;Nt<Xe;Nt++){const Ct=Mt[Nt],vn=Et[Ct.materialIndex];vn&&vn.visible&&S.push(X,St,vn,Le,Ce.z,Ct)}}else Et.visible&&S.push(X,St,Et,Le,Ce.z,null)}}const at=X.children;for(let St=0,Et=at.length;St<Et;St++)Sr(at[St],Ae,Le,ue)}function Yi(X,Ae,Le,ue){const De=X.opaque,at=X.transmissive,St=X.transparent;v.setupLightsView(Le),ee===!0&&je.setGlobalState(x.clippingPlanes,Le),at.length>0&&fn(De,at,Ae,Le),ue&&ge.viewport(B.copy(ue)),De.length>0&&Bn(De,Ae,Le),at.length>0&&Bn(at,Ae,Le),St.length>0&&Bn(St,Ae,Le),ge.buffers.depth.setTest(!0),ge.buffers.depth.setMask(!0),ge.buffers.color.setMask(!0),ge.setPolygonOffset(!1)}function fn(X,Ae,Le,ue){const De=xe.isWebGL2;se===null&&(se=new In(1,1,{generateMipmaps:!0,type:fe.has("EXT_color_buffer_half_float")?_i:zi,minFilter:fl,samples:De&&a===!0?4:0})),x.getDrawingBufferSize(he),De?se.setSize(he.x,he.y):se.setSize(d9(he.x),d9(he.y));const at=x.getRenderTarget();x.setRenderTarget(se),x.getClearColor(G),H=x.getClearAlpha(),H<1&&x.setClearColor(16777215,.5),x.clear();const St=x.toneMapping;x.toneMapping=ro,Bn(X,Le,ue),Pe.updateMultisampleRenderTarget(se),Pe.updateRenderTargetMipmap(se);let Et=!1;for(let Mt=0,Nt=Ae.length;Mt<Nt;Mt++){const Xe=Ae[Mt],Ct=Xe.object,vn=Xe.geometry,dn=Xe.material,Ki=Xe.group;if(dn.side===Do&&Ct.layers.test(ue.layers)){const Er=dn.side;dn.side=mr,dn.needsUpdate=!0,or(Ct,Le,ue,vn,dn,Ki),dn.side=Er,dn.needsUpdate=!0,Et=!0}}Et===!0&&(Pe.updateMultisampleRenderTarget(se),Pe.updateRenderTargetMipmap(se)),x.setRenderTarget(at),x.setClearColor(G,H),x.toneMapping=St}function Bn(X,Ae,Le){const ue=Ae.isScene===!0?Ae.overrideMaterial:null;for(let De=0,at=X.length;De<at;De++){const St=X[De],Et=St.object,Mt=St.geometry,Nt=ue===null?St.material:ue,Xe=St.group;Et.layers.test(Le.layers)&&or(Et,Ae,Le,Mt,Nt,Xe)}}function or(X,Ae,Le,ue,De,at){X.onBeforeRender(x,Ae,Le,ue,De,at),X.modelViewMatrix.multiplyMatrices(Le.matrixWorldInverse,X.matrixWorld),X.normalMatrix.getNormalMatrix(X.modelViewMatrix),De.onBeforeRender(x,Ae,Le,ue,X,at),De.transparent===!0&&De.side===Do&&De.forceSinglePass===!1?(De.side=mr,De.needsUpdate=!0,x.renderBufferDirect(Le,Ae,ue,De,X,at),De.side=hl,De.needsUpdate=!0,x.renderBufferDirect(Le,Ae,ue,De,X,at),De.side=Do):x.renderBufferDirect(Le,Ae,ue,De,X,at),X.onAfterRender(x,Ae,Le,ue,De,at)}function _n(X,Ae,Le){Ae.isScene!==!0&&(Ae=ze);const ue=me.get(X),De=v.state.lights,at=v.state.shadowsArray,St=De.state.version,Et=oe.getParameters(X,De.state,at,Ae,Le),Mt=oe.getProgramCacheKey(Et);let Nt=ue.programs;ue.environment=X.isMeshStandardMaterial?Ae.environment:null,ue.fog=Ae.fog,ue.envMap=(X.isMeshStandardMaterial?we:Ue).get(X.envMap||ue.environment),Nt===void 0&&(X.addEventListener("dispose",Ze),Nt=new Map,ue.programs=Nt);let Xe=Nt.get(Mt);if(Xe!==void 0){if(ue.currentProgram===Xe&&ue.lightsStateVersion===St)return Jn(X,Et),Xe}else Et.uniforms=oe.getUniforms(X),X.onBuild(Le,Et,x),X.onBeforeCompile(Et,x),Xe=oe.acquireProgram(Et,Mt),Nt.set(Mt,Xe),ue.uniforms=Et.uniforms;const Ct=ue.uniforms;(!X.isShaderMaterial&&!X.isRawShaderMaterial||X.clipping===!0)&&(Ct.clippingPlanes=je.uniform),Jn(X,Et),ue.needsLights=Qr(X),ue.lightsStateVersion=St,ue.needsLights&&(Ct.ambientLightColor.value=De.state.ambient,Ct.lightProbe.value=De.state.probe,Ct.directionalLights.value=De.state.directional,Ct.directionalLightShadows.value=De.state.directionalShadow,Ct.spotLights.value=De.state.spot,Ct.spotLightShadows.value=De.state.spotShadow,Ct.rectAreaLights.value=De.state.rectArea,Ct.ltc_1.value=De.state.rectAreaLTC1,Ct.ltc_2.value=De.state.rectAreaLTC2,Ct.pointLights.value=De.state.point,Ct.pointLightShadows.value=De.state.pointShadow,Ct.hemisphereLights.value=De.state.hemi,Ct.directionalShadowMap.value=De.state.directionalShadowMap,Ct.directionalShadowMatrix.value=De.state.directionalShadowMatrix,Ct.spotShadowMap.value=De.state.spotShadowMap,Ct.spotLightMatrix.value=De.state.spotLightMatrix,Ct.spotLightMap.value=De.state.spotLightMap,Ct.pointShadowMap.value=De.state.pointShadowMap,Ct.pointShadowMatrix.value=De.state.pointShadowMatrix);const vn=Xe.getUniforms(),dn=p8.seqWithValue(vn.seq,Ct);return ue.currentProgram=Xe,ue.uniformsList=dn,Xe}function Jn(X,Ae){const Le=me.get(X);Le.outputColorSpace=Ae.outputColorSpace,Le.instancing=Ae.instancing,Le.skinning=Ae.skinning,Le.morphTargets=Ae.morphTargets,Le.morphNormals=Ae.morphNormals,Le.morphColors=Ae.morphColors,Le.morphTargetsCount=Ae.morphTargetsCount,Le.numClippingPlanes=Ae.numClippingPlanes,Le.numIntersection=Ae.numClipIntersection,Le.vertexAlphas=Ae.vertexAlphas,Le.vertexTangents=Ae.vertexTangents,Le.toneMapping=Ae.toneMapping}function Di(X,Ae,Le,ue,De){Ae.isScene!==!0&&(Ae=ze),Pe.resetTextureUnits();const at=Ae.fog,St=ue.isMeshStandardMaterial?Ae.environment:null,Et=T===null?x.outputColorSpace:T.isXRRenderTarget===!0?T.texture.colorSpace:ya,Mt=(ue.isMeshStandardMaterial?we:Ue).get(ue.envMap||St),Nt=ue.vertexColors===!0&&!!Le.attributes.color&&Le.attributes.color.itemSize===4,Xe=!!Le.attributes.tangent&&(!!ue.normalMap||ue.anisotropy>0),Ct=!!Le.morphAttributes.position,vn=!!Le.morphAttributes.normal,dn=!!Le.morphAttributes.color,Ki=ue.toneMapped?x.toneMapping:ro,Er=Le.morphAttributes.position||Le.morphAttributes.normal||Le.morphAttributes.color,yn=Er!==void 0?Er.length:0,It=me.get(ue),on=v.state.lights;if(ee===!0&&(ie===!0||X!==b)){const Ti=X===b&&ue.id===R;je.setState(ue,X,Ti)}let Rt=!1;ue.version===It.__version?(It.needsLights&&It.lightsStateVersion!==on.state.version||It.outputColorSpace!==Et||De.isInstancedMesh&&It.instancing===!1||!De.isInstancedMesh&&It.instancing===!0||De.isSkinnedMesh&&It.skinning===!1||!De.isSkinnedMesh&&It.skinning===!0||It.envMap!==Mt||ue.fog===!0&&It.fog!==at||It.numClippingPlanes!==void 0&&(It.numClippingPlanes!==je.numPlanes||It.numIntersection!==je.numIntersection)||It.vertexAlphas!==Nt||It.vertexTangents!==Xe||It.morphTargets!==Ct||It.morphNormals!==vn||It.morphColors!==dn||It.toneMapping!==Ki||xe.isWebGL2===!0&&It.morphTargetsCount!==yn)&&(Rt=!0):(Rt=!0,It.__version=ue.version);let vi=It.currentProgram;Rt===!0&&(vi=_n(ue,Ae,De));let li=!1,Hn=!1,ps=!1;const Cn=vi.getUniforms(),kn=It.uniforms;if(ge.useProgram(vi.program)&&(li=!0,Hn=!0,ps=!0),ue.id!==R&&(R=ue.id,Hn=!0),li||b!==X){if(Cn.setValue(V,"projectionMatrix",X.projectionMatrix),xe.logarithmicDepthBuffer&&Cn.setValue(V,"logDepthBufFC",2/(Math.log(X.far+1)/Math.LN2)),b!==X&&(b=X,Hn=!0,ps=!0),ue.isShaderMaterial||ue.isMeshPhongMaterial||ue.isMeshToonMaterial||ue.isMeshStandardMaterial||ue.envMap){const Ti=Cn.map.cameraPosition;Ti!==void 0&&Ti.setValue(V,Ce.setFromMatrixPosition(X.matrixWorld))}(ue.isMeshPhongMaterial||ue.isMeshToonMaterial||ue.isMeshLambertMaterial||ue.isMeshBasicMaterial||ue.isMeshStandardMaterial||ue.isShaderMaterial)&&Cn.setValue(V,"isOrthographic",X.isOrthographicCamera===!0),(ue.isMeshPhongMaterial||ue.isMeshToonMaterial||ue.isMeshLambertMaterial||ue.isMeshBasicMaterial||ue.isMeshStandardMaterial||ue.isShaderMaterial||ue.isShadowMaterial||De.isSkinnedMesh)&&Cn.setValue(V,"viewMatrix",X.matrixWorldInverse)}if(De.isSkinnedMesh){Cn.setOptional(V,De,"bindMatrix"),Cn.setOptional(V,De,"bindMatrixInverse");const Ti=De.skeleton;Ti&&(xe.floatVertexTextures?(Ti.boneTexture===null&&Ti.computeBoneTexture(),Cn.setValue(V,"boneTexture",Ti.boneTexture,Pe),Cn.setValue(V,"boneTextureSize",Ti.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Hr=Le.morphAttributes;if((Hr.position!==void 0||Hr.normal!==void 0||Hr.color!==void 0&&xe.isWebGL2===!0)&&Y.update(De,Le,vi),(Hn||It.receiveShadow!==De.receiveShadow)&&(It.receiveShadow=De.receiveShadow,Cn.setValue(V,"receiveShadow",De.receiveShadow)),ue.isMeshGouraudMaterial&&ue.envMap!==null&&(kn.envMap.value=Mt,kn.flipEnvMap.value=Mt.isCubeTexture&&Mt.isRenderTargetTexture===!1?-1:1),Hn&&(Cn.setValue(V,"toneMappingExposure",x.toneMappingExposure),It.needsLights&&Ao(kn,ps),at&&ue.fog===!0&&Ne.refreshFogUniforms(kn,at),Ne.refreshMaterialUniforms(kn,ue,J,q,se),p8.upload(V,It.uniformsList,kn,Pe)),ue.isShaderMaterial&&ue.uniformsNeedUpdate===!0&&(p8.upload(V,It.uniformsList,kn,Pe),ue.uniformsNeedUpdate=!1),ue.isSpriteMaterial&&Cn.setValue(V,"center",De.center),Cn.setValue(V,"modelViewMatrix",De.modelViewMatrix),Cn.setValue(V,"normalMatrix",De.normalMatrix),Cn.setValue(V,"modelMatrix",De.matrixWorld),ue.isShaderMaterial||ue.isRawShaderMaterial){const Ti=ue.uniformsGroups;for(let Pa=0,La=Ti.length;Pa<La;Pa++)if(xe.isWebGL2){const Cr=Ti[Pa];nt.update(Cr,vi),nt.bind(Cr,vi)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return vi}function Ao(X,Ae){X.ambientLightColor.needsUpdate=Ae,X.lightProbe.needsUpdate=Ae,X.directionalLights.needsUpdate=Ae,X.directionalLightShadows.needsUpdate=Ae,X.pointLights.needsUpdate=Ae,X.pointLightShadows.needsUpdate=Ae,X.spotLights.needsUpdate=Ae,X.spotLightShadows.needsUpdate=Ae,X.rectAreaLights.needsUpdate=Ae,X.hemisphereLights.needsUpdate=Ae}function Qr(X){return X.isMeshLambertMaterial||X.isMeshToonMaterial||X.isMeshPhongMaterial||X.isMeshStandardMaterial||X.isShadowMaterial||X.isShaderMaterial&&X.lights===!0}this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(X,Ae,Le){me.get(X.texture).__webglTexture=Ae,me.get(X.depthTexture).__webglTexture=Le;const ue=me.get(X);ue.__hasExternalTextures=!0,ue.__hasExternalTextures&&(ue.__autoAllocateDepthBuffer=Le===void 0,ue.__autoAllocateDepthBuffer||fe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ue.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(X,Ae){const Le=me.get(X);Le.__webglFramebuffer=Ae,Le.__useDefaultFramebuffer=Ae===void 0},this.setRenderTarget=function(X,Ae=0,Le=0){T=X,w=Ae,M=Le;let ue=!0,De=null,at=!1,St=!1;if(X){const Mt=me.get(X);Mt.__useDefaultFramebuffer!==void 0?(ge.bindFramebuffer(V.FRAMEBUFFER,null),ue=!1):Mt.__webglFramebuffer===void 0?Pe.setupRenderTarget(X):Mt.__hasExternalTextures&&Pe.rebindTextures(X,me.get(X.texture).__webglTexture,me.get(X.depthTexture).__webglTexture);const Nt=X.texture;(Nt.isData3DTexture||Nt.isDataArrayTexture||Nt.isCompressedArrayTexture)&&(St=!0);const Xe=me.get(X).__webglFramebuffer;X.isWebGLCubeRenderTarget?(De=Xe[Ae],at=!0):xe.isWebGL2&&X.samples>0&&Pe.useMultisampledRTT(X)===!1?De=me.get(X).__webglMultisampledFramebuffer:De=Xe,B.copy(X.viewport),P.copy(X.scissor),O=X.scissorTest}else B.copy(F).multiplyScalar(J).floor(),P.copy(z).multiplyScalar(J).floor(),O=U;if(ge.bindFramebuffer(V.FRAMEBUFFER,De)&&xe.drawBuffers&&ue&&ge.drawBuffers(X,De),ge.viewport(B),ge.scissor(P),ge.setScissorTest(O),at){const Mt=me.get(X.texture);V.framebufferTexture2D(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Mt.__webglTexture,Le)}else if(St){const Mt=me.get(X.texture),Nt=Ae||0;V.framebufferTextureLayer(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,Mt.__webglTexture,Le||0,Nt)}R=-1},this.readRenderTargetPixels=function(X,Ae,Le,ue,De,at,St){if(!(X&&X.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Et=me.get(X).__webglFramebuffer;if(X.isWebGLCubeRenderTarget&&St!==void 0&&(Et=Et[St]),Et){ge.bindFramebuffer(V.FRAMEBUFFER,Et);try{const Mt=X.texture,Nt=Mt.format,Xe=Mt.type;if(Nt!==gi&&Ee.convert(Nt)!==V.getParameter(V.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ct=Xe===_i&&(fe.has("EXT_color_buffer_half_float")||xe.isWebGL2&&fe.has("EXT_color_buffer_float"));if(Xe!==zi&&Ee.convert(Xe)!==V.getParameter(V.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Xe===rs&&(xe.isWebGL2||fe.has("OES_texture_float")||fe.has("WEBGL_color_buffer_float")))&&!Ct){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ae>=0&&Ae<=X.width-ue&&Le>=0&&Le<=X.height-De&&V.readPixels(Ae,Le,ue,De,Ee.convert(Nt),Ee.convert(Xe),at)}finally{const Mt=T!==null?me.get(T).__webglFramebuffer:null;ge.bindFramebuffer(V.FRAMEBUFFER,Mt)}}},this.copyFramebufferToTexture=function(X,Ae,Le=0){const ue=Math.pow(2,-Le),De=Math.floor(Ae.image.width*ue),at=Math.floor(Ae.image.height*ue);Pe.setTexture2D(Ae,0),V.copyTexSubImage2D(V.TEXTURE_2D,Le,0,0,X.x,X.y,De,at),ge.unbindTexture()},this.copyTextureToTexture=function(X,Ae,Le,ue=0){const De=Ae.image.width,at=Ae.image.height,St=Ee.convert(Le.format),Et=Ee.convert(Le.type);Pe.setTexture2D(Le,0),V.pixelStorei(V.UNPACK_FLIP_Y_WEBGL,Le.flipY),V.pixelStorei(V.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Le.premultiplyAlpha),V.pixelStorei(V.UNPACK_ALIGNMENT,Le.unpackAlignment),Ae.isDataTexture?V.texSubImage2D(V.TEXTURE_2D,ue,X.x,X.y,De,at,St,Et,Ae.image.data):Ae.isCompressedTexture?V.compressedTexSubImage2D(V.TEXTURE_2D,ue,X.x,X.y,Ae.mipmaps[0].width,Ae.mipmaps[0].height,St,Ae.mipmaps[0].data):V.texSubImage2D(V.TEXTURE_2D,ue,X.x,X.y,St,Et,Ae.image),ue===0&&Le.generateMipmaps&&V.generateMipmap(V.TEXTURE_2D),ge.unbindTexture()},this.copyTextureToTexture3D=function(X,Ae,Le,ue,De=0){if(x.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const at=X.max.x-X.min.x+1,St=X.max.y-X.min.y+1,Et=X.max.z-X.min.z+1,Mt=Ee.convert(ue.format),Nt=Ee.convert(ue.type);let Xe;if(ue.isData3DTexture)Pe.setTexture3D(ue,0),Xe=V.TEXTURE_3D;else if(ue.isDataArrayTexture)Pe.setTexture2DArray(ue,0),Xe=V.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}V.pixelStorei(V.UNPACK_FLIP_Y_WEBGL,ue.flipY),V.pixelStorei(V.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ue.premultiplyAlpha),V.pixelStorei(V.UNPACK_ALIGNMENT,ue.unpackAlignment);const Ct=V.getParameter(V.UNPACK_ROW_LENGTH),vn=V.getParameter(V.UNPACK_IMAGE_HEIGHT),dn=V.getParameter(V.UNPACK_SKIP_PIXELS),Ki=V.getParameter(V.UNPACK_SKIP_ROWS),Er=V.getParameter(V.UNPACK_SKIP_IMAGES),yn=Le.isCompressedTexture?Le.mipmaps[0]:Le.image;V.pixelStorei(V.UNPACK_ROW_LENGTH,yn.width),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,yn.height),V.pixelStorei(V.UNPACK_SKIP_PIXELS,X.min.x),V.pixelStorei(V.UNPACK_SKIP_ROWS,X.min.y),V.pixelStorei(V.UNPACK_SKIP_IMAGES,X.min.z),Le.isDataTexture||Le.isData3DTexture?V.texSubImage3D(Xe,De,Ae.x,Ae.y,Ae.z,at,St,Et,Mt,Nt,yn.data):Le.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),V.compressedTexSubImage3D(Xe,De,Ae.x,Ae.y,Ae.z,at,St,Et,Mt,yn.data)):V.texSubImage3D(Xe,De,Ae.x,Ae.y,Ae.z,at,St,Et,Mt,Nt,yn),V.pixelStorei(V.UNPACK_ROW_LENGTH,Ct),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,vn),V.pixelStorei(V.UNPACK_SKIP_PIXELS,dn),V.pixelStorei(V.UNPACK_SKIP_ROWS,Ki),V.pixelStorei(V.UNPACK_SKIP_IMAGES,Er),De===0&&ue.generateMipmaps&&V.generateMipmap(Xe),ge.unbindTexture()},this.initTexture=function(X){X.isCubeTexture?Pe.setTextureCube(X,0):X.isData3DTexture?Pe.setTexture3D(X,0):X.isDataArrayTexture||X.isCompressedArrayTexture?Pe.setTexture2DArray(X,0):Pe.setTexture2D(X,0),ge.unbindTexture()},this.resetState=function(){w=0,M=0,T=null,ge.reset(),Fe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Za}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Gt?dc:pC}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===dc?Gt:ya}}class CN extends SC{}CN.prototype.isWebGL1Renderer=!0;class G7{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Je(e),this.density=t}clone(){return new G7(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class z7{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Je(e),this.near=t,this.far=i}clone(){return new z7(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class I2 extends Yt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Q7{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=zd,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=so()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=so()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=so()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Kr=new Q;class o3{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Kr.fromBufferAttribute(this,t),Kr.applyMatrix4(e),this.setXYZ(t,Kr.x,Kr.y,Kr.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Kr.fromBufferAttribute(this,t),Kr.applyNormalMatrix(e),this.setXYZ(t,Kr.x,Kr.y,Kr.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Kr.fromBufferAttribute(this,t),Kr.transformDirection(e),this.setXYZ(t,Kr.x,Kr.y,Kr.z);return this}setX(e,t){return this.normalized&&(t=jt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=jt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=jt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=jt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Zs(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Zs(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Zs(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Zs(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array),r=jt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=jt(t,this.array),i=jt(i,this.array),r=jt(r,this.array),s=jt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Rn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new o3(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class EC extends yr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Je(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let hh;const q0=new Q,fh=new Q,dh=new Q,ph=new _e,Y0=new _e,wN=new At,zp=new Q,K0=new Q,Qp=new Q,Mb=new _e,MA=new _e,Tb=new _e;class _N extends Yt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",hh===void 0){hh=new Lt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Q7(t,5);hh.setIndex([0,1,2,0,2,3]),hh.setAttribute("position",new o3(i,3,0,!1)),hh.setAttribute("uv",new o3(i,2,3,!1))}this.geometry=hh,this.material=e!==void 0?e:new EC,this.center=new _e(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),fh.setFromMatrixScale(this.matrixWorld),wN.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),dh.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&fh.multiplyScalar(-dh.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;Hp(zp.set(-.5,-.5,0),dh,o,fh,r,s),Hp(K0.set(.5,-.5,0),dh,o,fh,r,s),Hp(Qp.set(.5,.5,0),dh,o,fh,r,s),Mb.set(0,0),MA.set(1,0),Tb.set(1,1);let a=e.ray.intersectTriangle(zp,K0,Qp,!1,q0);if(a===null&&(Hp(K0.set(-.5,.5,0),dh,o,fh,r,s),MA.set(0,1),a=e.ray.intersectTriangle(zp,Qp,K0,!1,q0),a===null))return;const l=e.ray.origin.distanceTo(q0);l<e.near||l>e.far||t.push({distance:l,point:q0.clone(),uv:Ss.getInterpolation(q0,zp,K0,Qp,Mb,MA,Tb,new _e),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Hp(n,e,t,i,r,s){ph.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(Y0.x=s*ph.x-r*ph.y,Y0.y=r*ph.x+s*ph.y):Y0.copy(ph),n.copy(e),n.x+=Y0.x,n.y+=Y0.y,n.applyMatrix4(wN)}const Vp=new Q,bb=new Q;class MN extends Yt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){Vp.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Vp);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Vp.setFromMatrixPosition(e.matrixWorld),bb.setFromMatrixPosition(this.matrixWorld);const i=Vp.distanceTo(bb)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const Ib=new Q,Rb=new en,Bb=new en,vZ=new Q,kb=new At,gh=new Q,TA=new Jo,Pb=new At,bA=new K2;class TN extends mn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new At,this.bindMatrixInverse=new At,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new wa),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)gh.fromBufferAttribute(t,i),this.applyBoneTransform(i,gh),this.boundingBox.expandByPoint(gh)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Jo),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)gh.fromBufferAttribute(t,i),this.applyBoneTransform(i,gh),this.boundingSphere.expandByPoint(gh)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),TA.copy(this.boundingSphere),TA.applyMatrix4(r),e.ray.intersectsSphere(TA)!==!1&&(Pb.copy(r).invert(),bA.copy(e.ray).applyMatrix4(Pb),!(this.boundingBox!==null&&bA.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,bA)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new en,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;Rb.fromBufferAttribute(r.attributes.skinIndex,e),Bb.fromBufferAttribute(r.attributes.skinWeight,e),Ib.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=Bb.getComponent(s);if(o!==0){const a=Rb.getComponent(s);kb.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(vZ.copy(Ib).applyMatrix4(kb),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class CC extends Yt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class sl extends Kn{constructor(e=null,t=1,i=1,r,s,o,a,l,c=Pt,u=Pt,h,f){super(null,o,a,l,c,u,r,s,h,f),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Lb=new At,yZ=new At;class H7{constructor(e=[],t=[]){this.uuid=so(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new At)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new At;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:yZ;Lb.multiplyMatrices(a,t[s]),Lb.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new H7(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=uN(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new sl(t,e,e,gi,rs);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new CC),this.bones.push(o),this.boneInverses.push(new At().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class a3 extends Rn{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const mh=new At,Db=new At,Wp=[],Ob=new wa,xZ=new At,J0=new mn,$0=new Jo;class bN extends mn{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new a3(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,xZ)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new wa),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,mh),Ob.copy(e.boundingBox).applyMatrix4(mh),this.boundingBox.union(Ob)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Jo),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,mh),$0.copy(e.boundingSphere).applyMatrix4(mh),this.boundingSphere.union($0)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(J0.geometry=this.geometry,J0.material=this.material,J0.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),$0.copy(this.boundingSphere),$0.applyMatrix4(i),e.ray.intersectsSphere($0)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,mh),Db.multiplyMatrices(i,mh),J0.matrixWorld=Db,J0.raycast(e,Wp);for(let o=0,a=Wp.length;o<a;o++){const l=Wp[o];l.instanceId=s,l.object=this,t.push(l)}Wp.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new a3(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class hs extends yr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Je(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Nb=new Q,Fb=new Q,Ub=new At,IA=new K2,jp=new Jo;let Cc=class extends Yt{constructor(e=new Lt,t=new hs){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)Nb.fromBufferAttribute(t,r-1),Fb.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=Nb.distanceTo(Fb);e.setAttribute("lineDistance",new ht(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),jp.copy(i.boundingSphere),jp.applyMatrix4(r),jp.radius+=s,e.ray.intersectsSphere(jp)===!1)return;Ub.copy(r).invert(),IA.copy(e.ray).applyMatrix4(Ub);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new Q,u=new Q,h=new Q,f=new Q,p=this.isLineSegments?2:1,m=i.index,v=i.attributes.position;if(m!==null){const A=Math.max(0,o.start),y=Math.min(m.count,o.start+o.count);for(let x=A,C=y-1;x<C;x+=p){const w=m.getX(x),M=m.getX(x+1);if(c.fromBufferAttribute(v,w),u.fromBufferAttribute(v,M),IA.distanceSqToSegment(c,u,f,h)>l)continue;f.applyMatrix4(this.matrixWorld);const R=e.ray.origin.distanceTo(f);R<e.near||R>e.far||t.push({distance:R,point:h.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}else{const A=Math.max(0,o.start),y=Math.min(v.count,o.start+o.count);for(let x=A,C=y-1;x<C;x+=p){if(c.fromBufferAttribute(v,x),u.fromBufferAttribute(v,x+1),IA.distanceSqToSegment(c,u,f,h)>l)continue;f.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(f);M<e.near||M>e.far||t.push({distance:M,point:h.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}};const Gb=new Q,zb=new Q;class gl extends Cc{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)Gb.fromBufferAttribute(t,r),zb.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+Gb.distanceTo(zb);e.setAttribute("lineDistance",new ht(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class IN extends Cc{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class wC extends yr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Je(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Qb=new At,mx=new K2,Xp=new Jo,qp=new Q;class V7 extends Yt{constructor(e=new Lt,t=new wC){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Xp.copy(i.boundingSphere),Xp.applyMatrix4(r),Xp.radius+=s,e.ray.intersectsSphere(Xp)===!1)return;Qb.copy(r).invert(),mx.copy(e.ray).applyMatrix4(Qb);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,h=i.attributes.position;if(c!==null){const f=Math.max(0,o.start),p=Math.min(c.count,o.start+o.count);for(let m=f,S=p;m<S;m++){const v=c.getX(m);qp.fromBufferAttribute(h,v),Hb(qp,v,l,r,e,t,this)}}else{const f=Math.max(0,o.start),p=Math.min(h.count,o.start+o.count);for(let m=f,S=p;m<S;m++)qp.fromBufferAttribute(h,m),Hb(qp,m,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function Hb(n,e,t,i,r,s,o){const a=mx.distanceSqToPoint(n);if(a<t){const l=new Q;mx.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class SZ extends Kn{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:bn,this.magFilter=s!==void 0?s:bn,this.generateMipmaps=!1;const u=this;function h(){u.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class EZ extends Kn{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Pt,this.minFilter=Pt,this.generateMipmaps=!1,this.needsUpdate=!0}}class l3 extends Kn{constructor(e,t,i,r,s,o,a,l,c,u,h,f){super(null,o,a,l,c,u,r,s,h,f),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}let CZ=class extends l3{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=pi}};class wZ extends Kn{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class _a{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,c;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),c=i[r]-o,c<0)a=r+1;else if(c>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const u=i[r],f=i[r+1]-u,p=(o-u)/f;return(r+p)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new _e:new Q);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new Q,r=[],s=[],o=[],a=new Q,l=new At;for(let p=0;p<=e;p++){const m=p/e;r[p]=this.getTangentAt(m,new Q)}s[0]=new Q,o[0]=new Q;let c=Number.MAX_VALUE;const u=Math.abs(r[0].x),h=Math.abs(r[0].y),f=Math.abs(r[0].z);u<=c&&(c=u,i.set(1,0,0)),h<=c&&(c=h,i.set(0,1,0)),f<=c&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let p=1;p<=e;p++){if(s[p]=s[p-1].clone(),o[p]=o[p-1].clone(),a.crossVectors(r[p-1],r[p]),a.length()>Number.EPSILON){a.normalize();const m=Math.acos(fi(r[p-1].dot(r[p]),-1,1));s[p].applyMatrix4(l.makeRotationAxis(a,m))}o[p].crossVectors(r[p],s[p])}if(t===!0){let p=Math.acos(fi(s[0].dot(s[e]),-1,1));p/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(p=-p);for(let m=1;m<=e;m++)s[m].applyMatrix4(l.makeRotationAxis(r[m],p*m)),o[m].crossVectors(r[m],s[m])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class W7 extends _a{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new _e,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),h=Math.sin(this.aRotation),f=l-this.aX,p=c-this.aY;l=f*u-p*h+this.aX,c=f*h+p*u+this.aY}return i.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class RN extends W7{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function _C(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){r(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,h){let f=(o-s)/c-(a-s)/(c+u)+(a-o)/u,p=(a-o)/u-(l-o)/(u+h)+(l-a)/h;f*=u,p*=u,r(o,a,f,p)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const Yp=new Q,RA=new _C,BA=new _C,kA=new _C;class BN extends _a{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new Q){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=r[(a-1)%s]:(Yp.subVectors(r[0],r[1]).add(r[0]),c=Yp);const h=r[a%s],f=r[(a+1)%s];if(this.closed||a+2<s?u=r[(a+2)%s]:(Yp.subVectors(r[s-1],r[s-2]).add(r[s-1]),u=Yp),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let m=Math.pow(c.distanceToSquared(h),p),S=Math.pow(h.distanceToSquared(f),p),v=Math.pow(f.distanceToSquared(u),p);S<1e-4&&(S=1),m<1e-4&&(m=S),v<1e-4&&(v=S),RA.initNonuniformCatmullRom(c.x,h.x,f.x,u.x,m,S,v),BA.initNonuniformCatmullRom(c.y,h.y,f.y,u.y,m,S,v),kA.initNonuniformCatmullRom(c.z,h.z,f.z,u.z,m,S,v)}else this.curveType==="catmullrom"&&(RA.initCatmullRom(c.x,h.x,f.x,u.x,this.tension),BA.initCatmullRom(c.y,h.y,f.y,u.y,this.tension),kA.initCatmullRom(c.z,h.z,f.z,u.z,this.tension));return i.set(RA.calc(l),BA.calc(l),kA.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Q().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Vb(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function _Z(n,e){const t=1-n;return t*t*e}function MZ(n,e){return 2*(1-n)*n*e}function TZ(n,e){return n*n*e}function Yf(n,e,t,i){return _Z(n,e)+MZ(n,t)+TZ(n,i)}function bZ(n,e){const t=1-n;return t*t*t*e}function IZ(n,e){const t=1-n;return 3*t*t*n*e}function RZ(n,e){return 3*(1-n)*n*n*e}function BZ(n,e){return n*n*n*e}function Kf(n,e,t,i,r){return bZ(n,e)+IZ(n,t)+RZ(n,i)+BZ(n,r)}class MC extends _a{constructor(e=new _e,t=new _e,i=new _e,r=new _e){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new _e){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Kf(e,r.x,s.x,o.x,a.x),Kf(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class kN extends _a{constructor(e=new Q,t=new Q,i=new Q,r=new Q){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Q){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(Kf(e,r.x,s.x,o.x,a.x),Kf(e,r.y,s.y,o.y,a.y),Kf(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class j7 extends _a{constructor(e=new _e,t=new _e){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new _e){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new _e){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class PN extends _a{constructor(e=new Q,t=new Q){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Q){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Q){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class TC extends _a{constructor(e=new _e,t=new _e,i=new _e){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new _e){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Yf(e,r.x,s.x,o.x),Yf(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class bC extends _a{constructor(e=new Q,t=new Q,i=new Q){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Q){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(Yf(e,r.x,s.x,o.x),Yf(e,r.y,s.y,o.y),Yf(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class IC extends _a{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new _e){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],c=r[o],u=r[o>r.length-2?r.length-1:o+1],h=r[o>r.length-3?r.length-1:o+2];return i.set(Vb(a,l.x,c.x,u.x,h.x),Vb(a,l.y,c.y,u.y,h.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new _e().fromArray(r))}return this}}var RC=Object.freeze({__proto__:null,ArcCurve:RN,CatmullRomCurve3:BN,CubicBezierCurve:MC,CubicBezierCurve3:kN,EllipseCurve:W7,LineCurve:j7,LineCurve3:PN,QuadraticBezierCurve:TC,QuadraticBezierCurve3:bC,SplineCurve:IC});class LN extends _a{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new j7(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];i&&i.equals(u)||(t.push(u),i=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new RC[r.type]().fromJSON(r))}return this}}let Vd=class extends LN{constructor(e){super(),this.type="Path",this.currentPoint=new _e,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new j7(this.currentPoint.clone(),new _e(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new TC(this.currentPoint.clone(),new _e(e,t),new _e(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new MC(this.currentPoint.clone(),new _e(e,t),new _e(i,r),new _e(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new IC(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const c=new W7(e,t,i,r,s,o,a,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class Z2 extends Lt{constructor(e=[new _e(0,-.5),new _e(.5,0),new _e(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=fi(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,h=new Q,f=new _e,p=new Q,m=new Q,S=new Q;let v=0,A=0;for(let y=0;y<=e.length-1;y++)switch(y){case 0:v=e[y+1].x-e[y].x,A=e[y+1].y-e[y].y,p.x=A*1,p.y=-v,p.z=A*0,S.copy(p),p.normalize(),l.push(p.x,p.y,p.z);break;case e.length-1:l.push(S.x,S.y,S.z);break;default:v=e[y+1].x-e[y].x,A=e[y+1].y-e[y].y,p.x=A*1,p.y=-v,p.z=A*0,m.copy(p),p.x+=S.x,p.y+=S.y,p.z+=S.z,p.normalize(),l.push(p.x,p.y,p.z),S.copy(m)}for(let y=0;y<=t;y++){const x=i+y*u*r,C=Math.sin(x),w=Math.cos(x);for(let M=0;M<=e.length-1;M++){h.x=e[M].x*C,h.y=e[M].y,h.z=e[M].x*w,o.push(h.x,h.y,h.z),f.x=y/t,f.y=M/(e.length-1),a.push(f.x,f.y);const T=l[3*M+0]*C,R=l[3*M+1],b=l[3*M+0]*w;c.push(T,R,b)}}for(let y=0;y<t;y++)for(let x=0;x<e.length-1;x++){const C=x+y*e.length,w=C,M=C+e.length,T=C+e.length+1,R=C+1;s.push(w,M,R),s.push(T,R,M)}this.setIndex(s),this.setAttribute("position",new ht(o,3)),this.setAttribute("uv",new ht(a,2)),this.setAttribute("normal",new ht(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Z2(e.points,e.segments,e.phiStart,e.phiLength)}}class R4 extends Z2{constructor(e=1,t=1,i=4,r=8){const s=new Vd;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new R4(e.radius,e.length,e.capSegments,e.radialSegments)}}class B4 extends Lt{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new Q,u=new _e;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,f=3;h<=t;h++,f+=3){const p=i+h/t*r;c.x=e*Math.cos(p),c.y=e*Math.sin(p),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[f]/e+1)/2,u.y=(o[f+1]/e+1)/2,l.push(u.x,u.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new ht(o,3)),this.setAttribute("normal",new ht(a,3)),this.setAttribute("uv",new ht(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new B4(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class C3 extends Lt{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const u=[],h=[],f=[],p=[];let m=0;const S=[],v=i/2;let A=0;y(),o===!1&&(e>0&&x(!0),t>0&&x(!1)),this.setIndex(u),this.setAttribute("position",new ht(h,3)),this.setAttribute("normal",new ht(f,3)),this.setAttribute("uv",new ht(p,2));function y(){const C=new Q,w=new Q;let M=0;const T=(t-e)/i;for(let R=0;R<=s;R++){const b=[],B=R/s,P=B*(t-e)+e;for(let O=0;O<=r;O++){const G=O/r,H=G*l+a,j=Math.sin(H),q=Math.cos(H);w.x=P*j,w.y=-B*i+v,w.z=P*q,h.push(w.x,w.y,w.z),C.set(j,T,q).normalize(),f.push(C.x,C.y,C.z),p.push(G,1-B),b.push(m++)}S.push(b)}for(let R=0;R<r;R++)for(let b=0;b<s;b++){const B=S[b][R],P=S[b+1][R],O=S[b+1][R+1],G=S[b][R+1];u.push(B,P,G),u.push(P,O,G),M+=6}c.addGroup(A,M,0),A+=M}function x(C){const w=m,M=new _e,T=new Q;let R=0;const b=C===!0?e:t,B=C===!0?1:-1;for(let O=1;O<=r;O++)h.push(0,v*B,0),f.push(0,B,0),p.push(.5,.5),m++;const P=m;for(let O=0;O<=r;O++){const H=O/r*l+a,j=Math.cos(H),q=Math.sin(H);T.x=b*q,T.y=v*B,T.z=b*j,h.push(T.x,T.y,T.z),f.push(0,B,0),M.x=j*.5+.5,M.y=q*.5*B+.5,p.push(M.x,M.y),m++}for(let O=0;O<r;O++){const G=w+O,H=P+O;C===!0?u.push(H,H+1,G):u.push(H+1,H,G),R+=3}c.addGroup(A,R,C===!0?1:2),A+=R}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new C3(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class k4 extends C3{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new k4(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class m1 extends Lt{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),c(i),u(),this.setAttribute("position",new ht(s,3)),this.setAttribute("normal",new ht(s.slice(),3)),this.setAttribute("uv",new ht(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(y){const x=new Q,C=new Q,w=new Q;for(let M=0;M<t.length;M+=3)p(t[M+0],x),p(t[M+1],C),p(t[M+2],w),l(x,C,w,y)}function l(y,x,C,w){const M=w+1,T=[];for(let R=0;R<=M;R++){T[R]=[];const b=y.clone().lerp(C,R/M),B=x.clone().lerp(C,R/M),P=M-R;for(let O=0;O<=P;O++)O===0&&R===M?T[R][O]=b:T[R][O]=b.clone().lerp(B,O/P)}for(let R=0;R<M;R++)for(let b=0;b<2*(M-R)-1;b++){const B=Math.floor(b/2);b%2===0?(f(T[R][B+1]),f(T[R+1][B]),f(T[R][B])):(f(T[R][B+1]),f(T[R+1][B+1]),f(T[R+1][B]))}}function c(y){const x=new Q;for(let C=0;C<s.length;C+=3)x.x=s[C+0],x.y=s[C+1],x.z=s[C+2],x.normalize().multiplyScalar(y),s[C+0]=x.x,s[C+1]=x.y,s[C+2]=x.z}function u(){const y=new Q;for(let x=0;x<s.length;x+=3){y.x=s[x+0],y.y=s[x+1],y.z=s[x+2];const C=v(y)/2/Math.PI+.5,w=A(y)/Math.PI+.5;o.push(C,1-w)}m(),h()}function h(){for(let y=0;y<o.length;y+=6){const x=o[y+0],C=o[y+2],w=o[y+4],M=Math.max(x,C,w),T=Math.min(x,C,w);M>.9&&T<.1&&(x<.2&&(o[y+0]+=1),C<.2&&(o[y+2]+=1),w<.2&&(o[y+4]+=1))}}function f(y){s.push(y.x,y.y,y.z)}function p(y,x){const C=y*3;x.x=e[C+0],x.y=e[C+1],x.z=e[C+2]}function m(){const y=new Q,x=new Q,C=new Q,w=new Q,M=new _e,T=new _e,R=new _e;for(let b=0,B=0;b<s.length;b+=9,B+=6){y.set(s[b+0],s[b+1],s[b+2]),x.set(s[b+3],s[b+4],s[b+5]),C.set(s[b+6],s[b+7],s[b+8]),M.set(o[B+0],o[B+1]),T.set(o[B+2],o[B+3]),R.set(o[B+4],o[B+5]),w.copy(y).add(x).add(C).divideScalar(3);const P=v(w);S(M,B+0,y,P),S(T,B+2,x,P),S(R,B+4,C,P)}}function S(y,x,C,w){w<0&&y.x===1&&(o[x]=y.x-1),C.x===0&&C.z===0&&(o[x]=w/2/Math.PI+.5)}function v(y){return Math.atan2(y.z,-y.x)}function A(y){return Math.atan2(-y.y,Math.sqrt(y.x*y.x+y.z*y.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new m1(e.vertices,e.indices,e.radius,e.details)}}class P4 extends m1{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new P4(e.radius,e.detail)}}const Kp=new Q,Jp=new Q,PA=new Q,$p=new Ss;class DN extends Lt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Xu*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],h=new Array(3),f={},p=[];for(let m=0;m<l;m+=3){o?(c[0]=o.getX(m),c[1]=o.getX(m+1),c[2]=o.getX(m+2)):(c[0]=m,c[1]=m+1,c[2]=m+2);const{a:S,b:v,c:A}=$p;if(S.fromBufferAttribute(a,c[0]),v.fromBufferAttribute(a,c[1]),A.fromBufferAttribute(a,c[2]),$p.getNormal(PA),h[0]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,h[1]=`${Math.round(v.x*r)},${Math.round(v.y*r)},${Math.round(v.z*r)}`,h[2]=`${Math.round(A.x*r)},${Math.round(A.y*r)},${Math.round(A.z*r)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let y=0;y<3;y++){const x=(y+1)%3,C=h[y],w=h[x],M=$p[u[y]],T=$p[u[x]],R=`${C}_${w}`,b=`${w}_${C}`;b in f&&f[b]?(PA.dot(f[b].normal)<=s&&(p.push(M.x,M.y,M.z),p.push(T.x,T.y,T.z)),f[b]=null):R in f||(f[R]={index0:c[y],index1:c[x],normal:PA.clone()})}}for(const m in f)if(f[m]){const{index0:S,index1:v}=f[m];Kp.fromBufferAttribute(a,S),Jp.fromBufferAttribute(a,v),p.push(Kp.x,Kp.y,Kp.z),p.push(Jp.x,Jp.y,Jp.z)}this.setAttribute("position",new ht(p,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Yu extends Vd{constructor(e){super(e),this.uuid=so(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new Vd().fromJSON(r))}return this}}const kZ={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=ON(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,h,f,p;if(i&&(s=NZ(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let m=t;m<r;m+=t)h=n[m],f=n[m+1],h<a&&(a=h),f<l&&(l=f),h>c&&(c=h),f>u&&(u=f);p=Math.max(c-a,u-l),p=p!==0?32767/p:0}return Wd(s,o,t,a,l,p,0),o}};function ON(n,e,t,i,r){let s,o;if(r===qZ(n,e,t,i)>0)for(s=e;s<t;s+=i)o=Wb(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=Wb(s,n[s],n[s+1],o);return o&&X7(o,o.next)&&(Xd(o),o=o.next),o}function c3(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(X7(t,t.next)||ti(t.prev,t,t.next)===0)){if(Xd(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Wd(n,e,t,i,r,s,o){if(!n)return;!o&&s&&QZ(n,i,r,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?LZ(n,i,r,s):PZ(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),Xd(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=DZ(c3(n),e,t),Wd(n,e,t,i,r,s,2)):o===2&&OZ(n,e,t,i,r,s):Wd(c3(n),e,t,i,r,s,1);break}}}function PZ(n){const e=n.prev,t=n,i=n.next;if(ti(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,c=i.y,u=r<s?r<o?r:o:s<o?s:o,h=a<l?a<c?a:c:l<c?l:c,f=r>s?r>o?r:o:s>o?s:o,p=a>l?a>c?a:c:l>c?l:c;let m=i.next;for(;m!==e;){if(m.x>=u&&m.x<=f&&m.y>=h&&m.y<=p&&Wh(r,a,s,l,o,c,m.x,m.y)&&ti(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function LZ(n,e,t,i){const r=n.prev,s=n,o=n.next;if(ti(r,s,o)>=0)return!1;const a=r.x,l=s.x,c=o.x,u=r.y,h=s.y,f=o.y,p=a<l?a<c?a:c:l<c?l:c,m=u<h?u<f?u:f:h<f?h:f,S=a>l?a>c?a:c:l>c?l:c,v=u>h?u>f?u:f:h>f?h:f,A=Ax(p,m,e,t,i),y=Ax(S,v,e,t,i);let x=n.prevZ,C=n.nextZ;for(;x&&x.z>=A&&C&&C.z<=y;){if(x.x>=p&&x.x<=S&&x.y>=m&&x.y<=v&&x!==r&&x!==o&&Wh(a,u,l,h,c,f,x.x,x.y)&&ti(x.prev,x,x.next)>=0||(x=x.prevZ,C.x>=p&&C.x<=S&&C.y>=m&&C.y<=v&&C!==r&&C!==o&&Wh(a,u,l,h,c,f,C.x,C.y)&&ti(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;x&&x.z>=A;){if(x.x>=p&&x.x<=S&&x.y>=m&&x.y<=v&&x!==r&&x!==o&&Wh(a,u,l,h,c,f,x.x,x.y)&&ti(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;C&&C.z<=y;){if(C.x>=p&&C.x<=S&&C.y>=m&&C.y<=v&&C!==r&&C!==o&&Wh(a,u,l,h,c,f,C.x,C.y)&&ti(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function DZ(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!X7(r,s)&&NN(r,i,i.next,s)&&jd(r,s)&&jd(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),Xd(i),Xd(i.next),i=n=s),i=i.next}while(i!==n);return c3(i)}function OZ(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&WZ(o,a)){let l=FN(o,a);o=c3(o,o.next),l=c3(l,l.next),Wd(o,e,t,i,r,s,0),Wd(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function NZ(n,e,t,i){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,c=ON(n,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(VZ(c));for(r.sort(FZ),s=0;s<r.length;s++)t=UZ(r[s],t);return t}function FZ(n,e){return n.x-e.x}function UZ(n,e){const t=GZ(n,e);if(!t)return e;const i=FN(t,n);return c3(i,i.next),c3(t,t.next)}function GZ(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const f=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(f<=s&&f>i&&(i=f,r=t.x<t.next.x?t:t.next,f===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,c=r.y;let u=1/0,h;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&Wh(o<c?s:i,o,l,c,o<c?i:s,o,t.x,t.y)&&(h=Math.abs(o-t.y)/(s-t.x),jd(t,n)&&(h<u||h===u&&(t.x>r.x||t.x===r.x&&zZ(r,t)))&&(r=t,u=h)),t=t.next;while(t!==a);return r}function zZ(n,e){return ti(n.prev,n,e.prev)<0&&ti(e.next,n,n.next)<0}function QZ(n,e,t,i){let r=n;do r.z===0&&(r.z=Ax(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,HZ(r)}function HZ(n){let e,t,i,r,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,c*=2}while(o>1);return n}function Ax(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function VZ(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Wh(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function WZ(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!jZ(n,e)&&(jd(n,e)&&jd(e,n)&&XZ(n,e)&&(ti(n.prev,n,e.prev)||ti(n,e.prev,e))||X7(n,e)&&ti(n.prev,n,n.next)>0&&ti(e.prev,e,e.next)>0)}function ti(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function X7(n,e){return n.x===e.x&&n.y===e.y}function NN(n,e,t,i){const r=e6(ti(n,e,t)),s=e6(ti(n,e,i)),o=e6(ti(t,i,n)),a=e6(ti(t,i,e));return!!(r!==s&&o!==a||r===0&&Zp(n,t,e)||s===0&&Zp(n,i,e)||o===0&&Zp(t,n,i)||a===0&&Zp(t,e,i))}function Zp(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function e6(n){return n>0?1:n<0?-1:0}function jZ(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&NN(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function jd(n,e){return ti(n.prev,n,n.next)<0?ti(n,e,n.next)>=0&&ti(n,n.prev,e)>=0:ti(n,e,n.prev)<0||ti(n,n.next,e)<0}function XZ(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function FN(n,e){const t=new vx(n.i,n.x,n.y),i=new vx(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function Wb(n,e,t,i){const r=new vx(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Xd(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function vx(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function qZ(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class ol{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return ol.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];jb(e),Xb(i,e);let o=e.length;t.forEach(jb);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,Xb(i,t[l]);const a=kZ.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function jb(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function Xb(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class L4 extends Lt{constructor(e=new Yu([new _e(.5,.5),new _e(-.5,.5),new _e(-.5,-.5),new _e(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new ht(r,3)),this.setAttribute("uv",new ht(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let f=t.bevelEnabled!==void 0?t.bevelEnabled:!0,p=t.bevelThickness!==void 0?t.bevelThickness:.2,m=t.bevelSize!==void 0?t.bevelSize:p-.1,S=t.bevelOffset!==void 0?t.bevelOffset:0,v=t.bevelSegments!==void 0?t.bevelSegments:3;const A=t.extrudePath,y=t.UVGenerator!==void 0?t.UVGenerator:YZ;let x,C=!1,w,M,T,R;A&&(x=A.getSpacedPoints(u),C=!0,f=!1,w=A.computeFrenetFrames(u,!1),M=new Q,T=new Q,R=new Q),f||(v=0,p=0,m=0,S=0);const b=a.extractPoints(c);let B=b.shape;const P=b.holes;if(!ol.isClockWise(B)){B=B.reverse();for(let V=0,ye=P.length;V<ye;V++){const fe=P[V];ol.isClockWise(fe)&&(P[V]=fe.reverse())}}const G=ol.triangulateShape(B,P),H=B;for(let V=0,ye=P.length;V<ye;V++){const fe=P[V];B=B.concat(fe)}function j(V,ye,fe){return ye||console.error("THREE.ExtrudeGeometry: vec does not exist"),V.clone().addScaledVector(ye,fe)}const q=B.length,J=G.length;function L(V,ye,fe){let xe,ge,qe;const me=V.x-ye.x,Pe=V.y-ye.y,Ue=fe.x-V.x,we=fe.y-V.y,Ke=me*me+Pe*Pe,W=me*we-Pe*Ue;if(Math.abs(W)>Number.EPSILON){const N=Math.sqrt(Ke),oe=Math.sqrt(Ue*Ue+we*we),Ne=ye.x-Pe/N,Ie=ye.y+me/N,Re=fe.x-we/oe,je=fe.y+Ue/oe,Qe=((Re-Ne)*we-(je-Ie)*Ue)/(me*we-Pe*Ue);xe=Ne+me*Qe-V.x,ge=Ie+Pe*Qe-V.y;const pe=xe*xe+ge*ge;if(pe<=2)return new _e(xe,ge);qe=Math.sqrt(pe/2)}else{let N=!1;me>Number.EPSILON?Ue>Number.EPSILON&&(N=!0):me<-Number.EPSILON?Ue<-Number.EPSILON&&(N=!0):Math.sign(Pe)===Math.sign(we)&&(N=!0),N?(xe=-Pe,ge=me,qe=Math.sqrt(Ke)):(xe=me,ge=Pe,qe=Math.sqrt(Ke/2))}return new _e(xe/qe,ge/qe)}const D=[];for(let V=0,ye=H.length,fe=ye-1,xe=V+1;V<ye;V++,fe++,xe++)fe===ye&&(fe=0),xe===ye&&(xe=0),D[V]=L(H[V],H[fe],H[xe]);const F=[];let z,U=D.concat();for(let V=0,ye=P.length;V<ye;V++){const fe=P[V];z=[];for(let xe=0,ge=fe.length,qe=ge-1,me=xe+1;xe<ge;xe++,qe++,me++)qe===ge&&(qe=0),me===ge&&(me=0),z[xe]=L(fe[xe],fe[qe],fe[me]);F.push(z),U=U.concat(z)}for(let V=0;V<v;V++){const ye=V/v,fe=p*Math.cos(ye*Math.PI/2),xe=m*Math.sin(ye*Math.PI/2)+S;for(let ge=0,qe=H.length;ge<qe;ge++){const me=j(H[ge],D[ge],xe);re(me.x,me.y,-fe)}for(let ge=0,qe=P.length;ge<qe;ge++){const me=P[ge];z=F[ge];for(let Pe=0,Ue=me.length;Pe<Ue;Pe++){const we=j(me[Pe],z[Pe],xe);re(we.x,we.y,-fe)}}}const $=m+S;for(let V=0;V<q;V++){const ye=f?j(B[V],U[V],$):B[V];C?(T.copy(w.normals[0]).multiplyScalar(ye.x),M.copy(w.binormals[0]).multiplyScalar(ye.y),R.copy(x[0]).add(T).add(M),re(R.x,R.y,R.z)):re(ye.x,ye.y,0)}for(let V=1;V<=u;V++)for(let ye=0;ye<q;ye++){const fe=f?j(B[ye],U[ye],$):B[ye];C?(T.copy(w.normals[V]).multiplyScalar(fe.x),M.copy(w.binormals[V]).multiplyScalar(fe.y),R.copy(x[V]).add(T).add(M),re(R.x,R.y,R.z)):re(fe.x,fe.y,h/u*V)}for(let V=v-1;V>=0;V--){const ye=V/v,fe=p*Math.cos(ye*Math.PI/2),xe=m*Math.sin(ye*Math.PI/2)+S;for(let ge=0,qe=H.length;ge<qe;ge++){const me=j(H[ge],D[ge],xe);re(me.x,me.y,h+fe)}for(let ge=0,qe=P.length;ge<qe;ge++){const me=P[ge];z=F[ge];for(let Pe=0,Ue=me.length;Pe<Ue;Pe++){const we=j(me[Pe],z[Pe],xe);C?re(we.x,we.y+x[u-1].y,x[u-1].x+fe):re(we.x,we.y,h+fe)}}}ee(),ie();function ee(){const V=r.length/3;if(f){let ye=0,fe=q*ye;for(let xe=0;xe<J;xe++){const ge=G[xe];he(ge[2]+fe,ge[1]+fe,ge[0]+fe)}ye=u+v*2,fe=q*ye;for(let xe=0;xe<J;xe++){const ge=G[xe];he(ge[0]+fe,ge[1]+fe,ge[2]+fe)}}else{for(let ye=0;ye<J;ye++){const fe=G[ye];he(fe[2],fe[1],fe[0])}for(let ye=0;ye<J;ye++){const fe=G[ye];he(fe[0]+q*u,fe[1]+q*u,fe[2]+q*u)}}i.addGroup(V,r.length/3-V,0)}function ie(){const V=r.length/3;let ye=0;se(H,ye),ye+=H.length;for(let fe=0,xe=P.length;fe<xe;fe++){const ge=P[fe];se(ge,ye),ye+=ge.length}i.addGroup(V,r.length/3-V,1)}function se(V,ye){let fe=V.length;for(;--fe>=0;){const xe=fe;let ge=fe-1;ge<0&&(ge=V.length-1);for(let qe=0,me=u+v*2;qe<me;qe++){const Pe=q*qe,Ue=q*(qe+1),we=ye+xe+Pe,Ke=ye+ge+Pe,W=ye+ge+Ue,N=ye+xe+Ue;Ce(we,Ke,W,N)}}}function re(V,ye,fe){l.push(V),l.push(ye),l.push(fe)}function he(V,ye,fe){ze(V),ze(ye),ze(fe);const xe=r.length/3,ge=y.generateTopUV(i,r,xe-3,xe-2,xe-1);Se(ge[0]),Se(ge[1]),Se(ge[2])}function Ce(V,ye,fe,xe){ze(V),ze(ye),ze(xe),ze(ye),ze(fe),ze(xe);const ge=r.length/3,qe=y.generateSideWallUV(i,r,ge-6,ge-3,ge-2,ge-1);Se(qe[0]),Se(qe[1]),Se(qe[3]),Se(qe[1]),Se(qe[2]),Se(qe[3])}function ze(V){r.push(l[V*3+0]),r.push(l[V*3+1]),r.push(l[V*3+2])}function Se(V){s.push(V.x),s.push(V.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return KZ(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new RC[r.type]().fromJSON(r)),new L4(i,e.options)}}const YZ={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],c=e[r*3],u=e[r*3+1];return[new _e(s,o),new _e(a,l),new _e(c,u)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[i*3],u=e[i*3+1],h=e[i*3+2],f=e[r*3],p=e[r*3+1],m=e[r*3+2],S=e[s*3],v=e[s*3+1],A=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new _e(o,1-l),new _e(c,1-h),new _e(f,1-m),new _e(S,1-A)]:[new _e(a,1-l),new _e(u,1-h),new _e(p,1-m),new _e(v,1-A)]}};function KZ(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class D4 extends m1{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new D4(e.radius,e.detail)}}class e0 extends m1{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new e0(e.radius,e.detail)}}class O4 extends Lt{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],c=[],u=[];let h=e;const f=(t-e)/r,p=new Q,m=new _e;for(let S=0;S<=r;S++){for(let v=0;v<=i;v++){const A=s+v/i*o;p.x=h*Math.cos(A),p.y=h*Math.sin(A),l.push(p.x,p.y,p.z),c.push(0,0,1),m.x=(p.x/t+1)/2,m.y=(p.y/t+1)/2,u.push(m.x,m.y)}h+=f}for(let S=0;S<r;S++){const v=S*(i+1);for(let A=0;A<i;A++){const y=A+v,x=y,C=y+i+1,w=y+i+2,M=y+1;a.push(x,C,M),a.push(C,w,M)}}this.setIndex(a),this.setAttribute("position",new ht(l,3)),this.setAttribute("normal",new ht(c,3)),this.setAttribute("uv",new ht(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new O4(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class N4 extends Lt{constructor(e=new Yu([new _e(0,.5),new _e(-.5,-.5),new _e(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new ht(r,3)),this.setAttribute("normal",new ht(s,3)),this.setAttribute("uv",new ht(o,2));function c(u){const h=r.length/3,f=u.extractPoints(t);let p=f.shape;const m=f.holes;ol.isClockWise(p)===!1&&(p=p.reverse());for(let v=0,A=m.length;v<A;v++){const y=m[v];ol.isClockWise(y)===!0&&(m[v]=y.reverse())}const S=ol.triangulateShape(p,m);for(let v=0,A=m.length;v<A;v++){const y=m[v];p=p.concat(y)}for(let v=0,A=p.length;v<A;v++){const y=p[v];r.push(y.x,y.y,0),s.push(0,0,1),o.push(y.x,y.y)}for(let v=0,A=S.length;v<A;v++){const y=S[v],x=y[0]+h,C=y[1]+h,w=y[2]+h;i.push(x,C,w),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return JZ(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new N4(i,e.curveSegments)}}function JZ(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class t0 extends Lt{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const u=[],h=new Q,f=new Q,p=[],m=[],S=[],v=[];for(let A=0;A<=i;A++){const y=[],x=A/i;let C=0;A===0&&o===0?C=.5/t:A===i&&l===Math.PI&&(C=-.5/t);for(let w=0;w<=t;w++){const M=w/t;h.x=-e*Math.cos(r+M*s)*Math.sin(o+x*a),h.y=e*Math.cos(o+x*a),h.z=e*Math.sin(r+M*s)*Math.sin(o+x*a),m.push(h.x,h.y,h.z),f.copy(h).normalize(),S.push(f.x,f.y,f.z),v.push(M+C,1-x),y.push(c++)}u.push(y)}for(let A=0;A<i;A++)for(let y=0;y<t;y++){const x=u[A][y+1],C=u[A][y],w=u[A+1][y],M=u[A+1][y+1];(A!==0||o>0)&&p.push(x,C,M),(A!==i-1||l<Math.PI)&&p.push(C,w,M)}this.setIndex(p),this.setAttribute("position",new ht(m,3)),this.setAttribute("normal",new ht(S,3)),this.setAttribute("uv",new ht(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new t0(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class F4 extends m1{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new F4(e.radius,e.detail)}}class U4 extends Lt{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],c=[],u=new Q,h=new Q,f=new Q;for(let p=0;p<=i;p++)for(let m=0;m<=r;m++){const S=m/r*s,v=p/i*Math.PI*2;h.x=(e+t*Math.cos(v))*Math.cos(S),h.y=(e+t*Math.cos(v))*Math.sin(S),h.z=t*Math.sin(v),a.push(h.x,h.y,h.z),u.x=e*Math.cos(S),u.y=e*Math.sin(S),f.subVectors(h,u).normalize(),l.push(f.x,f.y,f.z),c.push(m/r),c.push(p/i)}for(let p=1;p<=i;p++)for(let m=1;m<=r;m++){const S=(r+1)*p+m-1,v=(r+1)*(p-1)+m-1,A=(r+1)*(p-1)+m,y=(r+1)*p+m;o.push(S,v,y),o.push(v,A,y)}this.setIndex(o),this.setAttribute("position",new ht(a,3)),this.setAttribute("normal",new ht(l,3)),this.setAttribute("uv",new ht(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new U4(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class G4 extends Lt{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],c=[],u=[],h=new Q,f=new Q,p=new Q,m=new Q,S=new Q,v=new Q,A=new Q;for(let x=0;x<=i;++x){const C=x/i*s*Math.PI*2;y(C,s,o,e,p),y(C+.01,s,o,e,m),v.subVectors(m,p),A.addVectors(m,p),S.crossVectors(v,A),A.crossVectors(S,v),S.normalize(),A.normalize();for(let w=0;w<=r;++w){const M=w/r*Math.PI*2,T=-t*Math.cos(M),R=t*Math.sin(M);h.x=p.x+(T*A.x+R*S.x),h.y=p.y+(T*A.y+R*S.y),h.z=p.z+(T*A.z+R*S.z),l.push(h.x,h.y,h.z),f.subVectors(h,p).normalize(),c.push(f.x,f.y,f.z),u.push(x/i),u.push(w/r)}}for(let x=1;x<=i;x++)for(let C=1;C<=r;C++){const w=(r+1)*(x-1)+(C-1),M=(r+1)*x+(C-1),T=(r+1)*x+C,R=(r+1)*(x-1)+C;a.push(w,M,R),a.push(M,T,R)}this.setIndex(a),this.setAttribute("position",new ht(l,3)),this.setAttribute("normal",new ht(c,3)),this.setAttribute("uv",new ht(u,2));function y(x,C,w,M,T){const R=Math.cos(x),b=Math.sin(x),B=w/C*x,P=Math.cos(B);T.x=M*(2+P)*.5*R,T.y=M*(2+P)*b*.5,T.z=M*Math.sin(B)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new G4(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class z4 extends Lt{constructor(e=new bC(new Q(-1,-1,0),new Q(-1,1,0),new Q(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new Q,l=new Q,c=new _e;let u=new Q;const h=[],f=[],p=[],m=[];S(),this.setIndex(m),this.setAttribute("position",new ht(h,3)),this.setAttribute("normal",new ht(f,3)),this.setAttribute("uv",new ht(p,2));function S(){for(let x=0;x<t;x++)v(x);v(s===!1?t:0),y(),A()}function v(x){u=e.getPointAt(x/t,u);const C=o.normals[x],w=o.binormals[x];for(let M=0;M<=r;M++){const T=M/r*Math.PI*2,R=Math.sin(T),b=-Math.cos(T);l.x=b*C.x+R*w.x,l.y=b*C.y+R*w.y,l.z=b*C.z+R*w.z,l.normalize(),f.push(l.x,l.y,l.z),a.x=u.x+i*l.x,a.y=u.y+i*l.y,a.z=u.z+i*l.z,h.push(a.x,a.y,a.z)}}function A(){for(let x=1;x<=t;x++)for(let C=1;C<=r;C++){const w=(r+1)*(x-1)+(C-1),M=(r+1)*x+(C-1),T=(r+1)*x+C,R=(r+1)*(x-1)+C;m.push(w,M,R),m.push(M,T,R)}}function y(){for(let x=0;x<=t;x++)for(let C=0;C<=r;C++)c.x=x/t,c.y=C/r,p.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new z4(new RC[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class UN extends Lt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new Q,s=new Q;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const h=l[c],f=h.start,p=h.count;for(let m=f,S=f+p;m<S;m+=3)for(let v=0;v<3;v++){const A=a.getX(m+v),y=a.getX(m+(v+1)%3);r.fromBufferAttribute(o,A),s.fromBufferAttribute(o,y),qb(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,h=3*a+(c+1)%3;r.fromBufferAttribute(o,u),s.fromBufferAttribute(o,h),qb(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new ht(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function qb(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var Yb=Object.freeze({__proto__:null,BoxGeometry:g1,CapsuleGeometry:R4,CircleGeometry:B4,ConeGeometry:k4,CylinderGeometry:C3,DodecahedronGeometry:P4,EdgesGeometry:DN,ExtrudeGeometry:L4,IcosahedronGeometry:D4,LatheGeometry:Z2,OctahedronGeometry:e0,PlaneGeometry:pl,PolyhedronGeometry:m1,RingGeometry:O4,ShapeGeometry:N4,SphereGeometry:t0,TetrahedronGeometry:F4,TorusGeometry:U4,TorusKnotGeometry:G4,TubeGeometry:z4,WireframeGeometry:UN});class GN extends yr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Je(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Jf extends un{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class BC extends yr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Je(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Je(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fc,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class zN extends BC{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new _e(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return fi(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Je(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Je(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Je(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class QN extends yr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Je(16777215),this.specular=new Je(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Je(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fc,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=_4,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class HN extends yr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Je(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Je(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fc,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Q4 extends yr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fc,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class VN extends yr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Je(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Je(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fc,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=_4,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class WN extends yr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Je(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fc,this.normalScale=new _e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class jN extends hs{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Ro(n,e,t){return kC(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function Uu(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function kC(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function XN(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function yx(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function PC(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function $Z(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),h=[],f=[];for(let p=0;p<c.times.length;++p){const m=c.times[p]*r;if(!(m<t||m>=i)){h.push(c.times[p]);for(let S=0;S<u;++S)f.push(c.values[p*u+S])}}h.length!==0&&(c.times=Uu(h,c.times.constructor),c.values=Uu(f,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function ZZ(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(A){return A.name===a.name&&A.ValueTypeName===l});if(c===void 0)continue;let u=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=h/3);let f=0;const p=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=p/3);const m=a.times.length-1;let S;if(s<=a.times[0]){const A=u,y=h-u;S=Ro(a.values,A,y)}else if(s>=a.times[m]){const A=m*h+u,y=A+h-u;S=Ro(a.values,A,y)}else{const A=a.createInterpolant(),y=u,x=h-u;A.evaluate(s),S=Ro(A.resultBuffer,y,x)}l==="quaternion"&&new Ar().fromArray(S).normalize().conjugate().toArray(S);const v=c.times.length;for(let A=0;A<v;++A){const y=A*p+f;if(l==="quaternion")Ar.multiplyQuaternionsFlat(c.values,y,S,0,c.values,y);else{const x=p-f*2;for(let C=0;C<x;++C)c.values[y+C]-=S[C]}}}return n.blendMode=dC,n}const eee={arraySlice:Ro,convertArray:Uu,isTypedArray:kC,getKeyframeOrder:XN,sortedArray:yx,flattenJSON:PC,subclip:$Z,makeClipAdditive:ZZ};class H4{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class qN extends H4{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ou,endingEnd:Ou}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case Nu:s=e,a=2*t-i;break;case Gd:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Nu:o=e,l=2*i-t;break;case Gd:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=(i-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,h=this._offsetNext,f=this._weightPrev,p=this._weightNext,m=(i-t)/(r-t),S=m*m,v=S*m,A=-f*v+2*f*S-f*m,y=(1+f)*v+(-1.5-2*f)*S+(-.5+f)*m+1,x=(-1-p)*v+(1.5+p)*S+.5*m,C=p*v-p*S;for(let w=0;w!==a;++w)s[w]=A*o[u+w]+y*o[c+w]+x*o[l+w]+C*o[h+w];return s}}class LC extends H4{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(i-t)/(r-t),h=1-u;for(let f=0;f!==a;++f)s[f]=o[c+f]*h+o[l+f]*u;return s}}class YN extends H4{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ma{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Uu(t,this.TimeBufferType),this.values=Uu(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Uu(e.times,Array),values:Uu(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new YN(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new LC(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new qN(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Fd:t=this.InterpolantFactoryMethodDiscrete;break;case Ud:t=this.InterpolantFactoryMethodLinear;break;case f8:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Fd;case this.InterpolantFactoryMethodLinear:return Ud;case this.InterpolantFactoryMethodSmooth:return f8}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Ro(i,s,o),this.values=Ro(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&kC(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Ro(this.times),t=Ro(this.values),i=this.getValueSize(),r=this.getInterpolation()===f8,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(r)l=!0;else{const h=a*i,f=h-i,p=h+i;for(let m=0;m!==i;++m){const S=t[h+m];if(S!==t[f+m]||S!==t[p+m]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*i,f=o*i;for(let p=0;p!==i;++p)t[f+p]=t[h+p]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=Ro(e,0,o),this.values=Ro(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=Ro(this.times,0),t=Ro(this.values,0),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Ma.prototype.TimeBufferType=Float32Array;Ma.prototype.ValueBufferType=Float32Array;Ma.prototype.DefaultInterpolation=Ud;class w3 extends Ma{}w3.prototype.ValueTypeName="bool";w3.prototype.ValueBufferType=Array;w3.prototype.DefaultInterpolation=Fd;w3.prototype.InterpolantFactoryMethodLinear=void 0;w3.prototype.InterpolantFactoryMethodSmooth=void 0;class DC extends Ma{}DC.prototype.ValueTypeName="color";class qd extends Ma{}qd.prototype.ValueTypeName="number";class KN extends H4{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let u=c+a;c!==u;c+=4)Ar.slerpFlat(s,0,o,c-a,o,c,l);return s}}class n0 extends Ma{InterpolantFactoryMethodLinear(e){return new KN(this.times,this.values,this.getValueSize(),e)}}n0.prototype.ValueTypeName="quaternion";n0.prototype.DefaultInterpolation=Ud;n0.prototype.InterpolantFactoryMethodSmooth=void 0;class _3 extends Ma{}_3.prototype.ValueTypeName="string";_3.prototype.ValueBufferType=Array;_3.prototype.DefaultInterpolation=Fd;_3.prototype.InterpolantFactoryMethodLinear=void 0;_3.prototype.InterpolantFactoryMethodSmooth=void 0;class Yd extends Ma{}Yd.prototype.ValueTypeName="vector";class Kd{constructor(e,t=-1,i,r=P7){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=so(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(nee(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(Ma.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=XN(l);l=yx(l,1,u),c=yx(c,1,u),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new qd(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const h=u[1];let f=r[h];f||(r[h]=f=[]),f.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(h,f,p,m,S){if(p.length!==0){const v=[],A=[];PC(p,v,A,m),v.length!==0&&S.push(new h(f,v,A))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const f=c[h].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const p={};let m;for(m=0;m<f.length;m++)if(f[m].morphTargets)for(let S=0;S<f[m].morphTargets.length;S++)p[f[m].morphTargets[S]]=-1;for(const S in p){const v=[],A=[];for(let y=0;y!==f[m].morphTargets.length;++y){const x=f[m];v.push(x.time),A.push(x.morphTarget===S?1:0)}r.push(new qd(".morphTargetInfluence["+S+"]",v,A))}l=p.length*o}else{const p=".bones["+t[h].name+"]";i(Yd,p+".position",f,"pos",r),i(n0,p+".quaternion",f,"rot",r),i(Yd,p+".scale",f,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function tee(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return qd;case"vector":case"vector2":case"vector3":case"vector4":return Yd;case"color":return DC;case"quaternion":return n0;case"bool":case"boolean":return w3;case"string":return _3}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function nee(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=tee(n.type);if(n.times===void 0){const t=[],i=[];PC(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const u3={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class OC{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(u){a++,s===!1&&r.onStart!==void 0&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,r.onProgress!==void 0&&r.onProgress(u,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(u){r.onError!==void 0&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,h){return c.push(u,h),this},this.removeHandler=function(u){const h=c.indexOf(u);return h!==-1&&c.splice(h,2),this},this.getHandler=function(u){for(let h=0,f=c.length;h<f;h+=2){const p=c[h],m=c[h+1];if(p.global&&(p.lastIndex=0),p.test(u))return m}return null}}}const JN=new OC;class fs{constructor(e){this.manager=e!==void 0?e:JN,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Ql={};class iee extends Error{constructor(e,t){super(e),this.response=t}}class os extends fs{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=u3.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Ql[e]!==void 0){Ql[e].push({onLoad:t,onProgress:i,onError:r});return}Ql[e]=[],Ql[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Ql[e],h=c.body.getReader(),f=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),p=f?parseInt(f):0,m=p!==0;let S=0;const v=new ReadableStream({start(A){y();function y(){h.read().then(({done:x,value:C})=>{if(x)A.close();else{S+=C.byteLength;const w=new ProgressEvent("progress",{lengthComputable:m,loaded:S,total:p});for(let M=0,T=u.length;M<T;M++){const R=u[M];R.onProgress&&R.onProgress(w)}A.enqueue(C),y()}})}}});return new Response(v)}else throw new iee(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),f=h&&h[1]?h[1].toLowerCase():void 0,p=new TextDecoder(f);return c.arrayBuffer().then(m=>p.decode(m))}}}).then(c=>{u3.add(e,c);const u=Ql[e];delete Ql[e];for(let h=0,f=u.length;h<f;h++){const p=u[h];p.onLoad&&p.onLoad(c)}}).catch(c=>{const u=Ql[e];if(u===void 0)throw this.manager.itemError(e),c;delete Ql[e];for(let h=0,f=u.length;h<f;h++){const p=u[h];p.onError&&p.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class ree extends fs{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new os(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=Kd.parse(e[i]);t.push(r)}return t}}class see extends fs{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new l3,l=new os(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(h){l.load(e[h],function(f){const p=s.parse(f,!0);o[h]={width:p.width,height:p.height,format:p.format,mipmaps:p.mipmaps},c+=1,c===6&&(p.mipmapCount===1&&(a.minFilter=bn),a.image=o,a.format=p.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let h=0,f=e.length;h<f;++h)u(h);else l.load(e,function(h){const f=s.parse(h,!0);if(f.isCubemap){const p=f.mipmaps.length/f.mipmapCount;for(let m=0;m<p;m++){o[m]={mipmaps:[]};for(let S=0;S<f.mipmapCount;S++)o[m].mipmaps.push(f.mipmaps[m*f.mipmapCount+S]),o[m].format=f.format,o[m].width=f.width,o[m].height=f.height}a.image=o}else a.image.width=f.width,a.image.height=f.height,a.mipmaps=f.mipmaps;f.mipmapCount===1&&(a.minFilter=bn),a.format=f.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class Jd extends fs{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=u3.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Hd("img");function l(){u(),u3.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(h){u(),r&&r(h),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class oee extends fs{constructor(e){super(e)}load(e,t,i,r){const s=new b4;s.colorSpace=Gt;const o=new Jd(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class aee extends fs{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new sl,a=new os(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:pi,o.wrapT=c.wrapT!==void 0?c.wrapT:pi,o.magFilter=c.magFilter!==void 0?c.magFilter:bn,o.minFilter=c.minFilter!==void 0?c.minFilter:bn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?o.colorSpace=c.colorSpace:c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=fl),c.mipmapCount===1&&(o.minFilter=bn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},i,r),o}}class lee extends fs{constructor(e){super(e)}load(e,t,i,r){const s=new Kn,o=new Jd(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class Uc extends Yt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Je(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class $N extends Uc{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Yt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Je(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const LA=new At,Kb=new Q,Jb=new Q;class NC{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new _e(512,512),this.map=null,this.mapPass=null,this.matrix=new At,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new N7,this._frameExtents=new _e(1,1),this._viewportCount=1,this._viewports=[new en(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;Kb.setFromMatrixPosition(e.matrixWorld),t.position.copy(Kb),Jb.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Jb),t.updateMatrixWorld(),LA.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(LA),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(LA)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class cee extends NC{constructor(){super(new Xn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=T2*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class ZN extends Uc{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Yt.DEFAULT_UP),this.updateMatrix(),this.target=new Yt,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new cee}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const $b=new At,Z0=new Q,DA=new Q;class uee extends NC{constructor(){super(new Xn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new _e(4,2),this._viewportCount=6,this._viewports=[new en(2,1,1,1),new en(0,1,1,1),new en(3,1,1,1),new en(1,1,1,1),new en(3,0,1,1),new en(1,0,1,1)],this._cubeDirections=[new Q(1,0,0),new Q(-1,0,0),new Q(0,0,1),new Q(0,0,-1),new Q(0,1,0),new Q(0,-1,0)],this._cubeUps=[new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,0,1),new Q(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Z0.setFromMatrixPosition(e.matrixWorld),i.position.copy(Z0),DA.copy(i.position),DA.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(DA),i.updateMatrixWorld(),r.makeTranslation(-Z0.x,-Z0.y,-Z0.z),$b.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix($b)}}class eF extends Uc{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new uee}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class hee extends NC{constructor(){super(new e1(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class tF extends Uc{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Yt.DEFAULT_UP),this.updateMatrix(),this.target=new Yt,this.shadow=new hee}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class nF extends Uc{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class iF extends Uc{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class rF{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Q)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class q7 extends Uc{constructor(e=new rF,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Y7 extends fs{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new os(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=Y7.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Je().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new Je().setHex(o.value);break;case"v2":r.uniforms[s].value=new _e().fromArray(o.value);break;case"v3":r.uniforms[s].value=new Q().fromArray(o.value);break;case"v4":r.uniforms[s].value=new en().fromArray(o.value);break;case"m3":r.uniforms[s].value=new Ht().fromArray(o.value);break;case"m4":r.uniforms[s].value=new At().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new _e().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new _e().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:GN,SpriteMaterial:EC,RawShaderMaterial:Jf,ShaderMaterial:un,PointsMaterial:wC,MeshPhysicalMaterial:zN,MeshStandardMaterial:BC,MeshPhongMaterial:QN,MeshToonMaterial:HN,MeshNormalMaterial:Q4,MeshLambertMaterial:VN,MeshDepthMaterial:I4,MeshDistanceMaterial:U7,MeshBasicMaterial:ao,MeshMatcapMaterial:WN,LineDashedMaterial:jN,LineBasicMaterial:hs,Material:yr};return new t[e]}}class xx{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class FC extends Lt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class sF extends fs{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new os(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(p,m){if(t[m]!==void 0)return t[m];const v=p.interleavedBuffers[m],A=s(p,v.buffer),y=Qh(v.type,A),x=new Q7(y,v.stride);return x.uuid=v.uuid,t[m]=x,x}function s(p,m){if(i[m]!==void 0)return i[m];const v=p.arrayBuffers[m],A=new Uint32Array(v).buffer;return i[m]=A,A}const o=e.isInstancedBufferGeometry?new FC:new Lt,a=e.data.index;if(a!==void 0){const p=Qh(a.type,a.array);o.setIndex(new Rn(p,1))}const l=e.data.attributes;for(const p in l){const m=l[p];let S;if(m.isInterleavedBufferAttribute){const v=r(e.data,m.data);S=new o3(v,m.itemSize,m.offset,m.normalized)}else{const v=Qh(m.type,m.array),A=m.isInstancedBufferAttribute?a3:Rn;S=new A(v,m.itemSize,m.normalized)}m.name!==void 0&&(S.name=m.name),m.usage!==void 0&&S.setUsage(m.usage),m.updateRange!==void 0&&(S.updateRange.offset=m.updateRange.offset,S.updateRange.count=m.updateRange.count),o.setAttribute(p,S)}const c=e.data.morphAttributes;if(c)for(const p in c){const m=c[p],S=[];for(let v=0,A=m.length;v<A;v++){const y=m[v];let x;if(y.isInterleavedBufferAttribute){const C=r(e.data,y.data);x=new o3(C,y.itemSize,y.offset,y.normalized)}else{const C=Qh(y.type,y.array);x=new Rn(C,y.itemSize,y.normalized)}y.name!==void 0&&(x.name=y.name),S.push(x)}o.morphAttributes[p]=S}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let p=0,m=h.length;p!==m;++p){const S=h[p];o.addGroup(S.start,S.count,S.materialIndex)}const f=e.data.boundingSphere;if(f!==void 0){const p=new Q;f.center!==void 0&&p.fromArray(f.center),o.boundingSphere=new Jo(p,f.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class fee extends fs{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?xx.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new os(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){r!==void 0&&r(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?xx.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new os(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,i),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let h=!1;for(const f in o)if(o[f].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new Yu().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new H7().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new sF;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in Yb?a=Yb[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new Y7;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=Kd.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:i.resourcePath+c;return o(u)}else return l.data?{data:Qh(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new OC(t);s=new Jd(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const h=e[c],f=h.url;if(Array.isArray(f)){const p=[];for(let m=0,S=f.length;m<S;m++){const v=f[m],A=a(v);A!==null&&(A instanceof HTMLImageElement?p.push(A):p.push(new sl(A.data,A.width,A.height)))}r[h.uuid]=new Fu(p)}else{const p=a(h.url);r[h.uuid]=new Fu(p)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:Qh(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new Jd(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let h=0,f=c.length;h<f;h++){const p=c[h],m=await s(p);m!==null&&(m instanceof HTMLImageElement?u.push(m):u.push(new sl(m.data,m.width,m.height)))}i[l.uuid]=new Fu(u)}else{const u=await s(l.url);i[l.uuid]=new Fu(u)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new b4,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new sl:u=new Kn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=i(a.mapping,dee)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=i(a.wrap[0],Zb),u.wrapT=i(a.wrap[1],Zb)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=i(a.minFilter,eI)),a.magFilter!==void 0&&(u.magFilter=i(a.magFilter,eI)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),r[a.uuid]=u}return r}parseObject(e,t,i,r,s){let o;function a(f){return t[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",f),t[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const p=[];for(let m=0,S=f.length;m<S;m++){const v=f[m];i[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),p.push(i[v])}return p}return i[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),i[f]}}function c(f){return r[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",f),r[f]}let u,h;switch(e.type){case"Scene":o=new I2,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Je(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new z7(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new G7(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Xn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new e1(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new nF(e.color,e.intensity);break;case"DirectionalLight":o=new tF(e.color,e.intensity);break;case"PointLight":o=new eF(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new iF(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new ZN(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new $N(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new q7().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),h=l(e.material),o=new TN(u,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),h=l(e.material),o=new mn(u,h);break;case"InstancedMesh":u=a(e.geometry),h=l(e.material);const f=e.count,p=e.instanceMatrix,m=e.instanceColor;o=new bN(u,h,f),o.instanceMatrix=new a3(new Float32Array(p.array),16),m!==void 0&&(o.instanceColor=new a3(new Float32Array(m.array),m.itemSize));break;case"LOD":o=new MN;break;case"Line":o=new Cc(a(e.geometry),l(e.material));break;case"LineLoop":o=new IN(a(e.geometry),l(e.material));break;case"LineSegments":o=new gl(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new V7(a(e.geometry),l(e.material));break;case"Sprite":o=new _N(l(e.material));break;case"Group":o=new Vh;break;case"Bone":o=new CC;break;default:o=new Yt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let p=0;p<f.length;p++)o.add(this.parseObject(f[p],t,i,r,s))}if(e.animations!==void 0){const f=e.animations;for(let p=0;p<f.length;p++){const m=f[p];o.animations.push(s[m])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const f=e.levels;for(let p=0;p<f.length;p++){const m=f[p],S=o.getObjectByProperty("uuid",m.object);S!==void 0&&o.addLevel(S,m.distance,m.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const dee={UVMapping:B7,CubeReflectionMapping:xc,CubeRefractionMapping:Sc,EquirectangularReflectionMapping:Rd,EquirectangularRefractionMapping:Bd,CubeUVReflectionMapping:Y2},Zb={RepeatWrapping:a1,ClampToEdgeWrapping:pi,MirroredRepeatWrapping:kd},eI={NearestFilter:Pt,NearestMipmapNearestFilter:h9,NearestMipmapLinearFilter:jf,LinearFilter:bn,LinearMipmapNearestFilter:sC,LinearMipmapLinearFilter:fl};class pee extends fs{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=u3.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){u3.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){r&&r(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let t6;class UC{static getContext(){return t6===void 0&&(t6=new(window.AudioContext||window.webkitAudioContext)),t6}static setContext(e){t6=e}}class gee extends fs{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new os(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);UC.getContext().decodeAudioData(c,function(h){t(h)},a)}catch(c){a(c)}},i,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}class mee extends q7{constructor(e,t,i=1){super(void 0,i),this.isHemisphereLightProbe=!0;const r=new Je().set(e),s=new Je().set(t),o=new Q(r.r,r.g,r.b),a=new Q(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class Aee extends q7{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const i=new Je().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const tI=new At,nI=new At,hu=new At;class vee{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Xn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Xn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,hu.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(Xu*t.fov*.5)/t.zoom;let a,l;nI.elements[12]=-r,tI.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,hu.elements[0]=2*t.near/(l-a),hu.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(hu),a=-o*t.aspect-s,l=o*t.aspect-s,hu.elements[0]=2*t.near/(l-a),hu.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(hu)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(nI),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(tI)}}class K7{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=iI(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=iI();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function iI(){return(typeof performance>"u"?Date:performance).now()}const fu=new Q,rI=new Ar,yee=new Q,du=new Q;class xee extends Yt{constructor(){super(),this.type="AudioListener",this.context=UC.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new K7}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(fu,rI,yee),du.set(0,0,-1).applyQuaternion(rI),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(fu.x,r),t.positionY.linearRampToValueAtTime(fu.y,r),t.positionZ.linearRampToValueAtTime(fu.z,r),t.forwardX.linearRampToValueAtTime(du.x,r),t.forwardY.linearRampToValueAtTime(du.y,r),t.forwardZ.linearRampToValueAtTime(du.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(fu.x,fu.y,fu.z),t.setOrientation(du.x,du.y,du.z,i.x,i.y,i.z)}}class oF extends Yt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const pu=new Q,sI=new Ar,See=new Q,gu=new Q;class Eee extends oF{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(pu,sI,See),gu.set(0,0,1).applyQuaternion(sI);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(pu.x,i),t.positionY.linearRampToValueAtTime(pu.y,i),t.positionZ.linearRampToValueAtTime(pu.z,i),t.orientationX.linearRampToValueAtTime(gu.x,i),t.orientationY.linearRampToValueAtTime(gu.y,i),t.orientationZ.linearRampToValueAtTime(gu.z,i)}else t.setPosition(pu.x,pu.y,pu.z),t.setOrientation(gu.x,gu.y,gu.z)}}class Cee{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class aF{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){Ar.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;Ar.multiplyQuaternionsFlat(e,o,e,t,e,i),Ar.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const GC="\\[\\]\\.:\\/",wee=new RegExp("["+GC+"]","g"),zC="[^"+GC+"]",_ee="[^"+GC.replace("\\.","")+"]",Mee=/((?:WC+[\/:])*)/.source.replace("WC",zC),Tee=/(WCOD+)?/.source.replace("WCOD",_ee),bee=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",zC),Iee=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",zC),Ree=new RegExp("^"+Mee+Tee+bee+Iee+"$"),Bee=["material","materials","bones","map"];class kee{constructor(e,t,i){const r=i||ln.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class ln{constructor(e,t,i){this.path=t,this.parsedPath=i||ln.parseTrackName(t),this.node=ln.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new ln.Composite(e,t,i):new ln(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(wee,"")}static parseTrackName(e){const t=Ree.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);Bee.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=ln.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}ln.Composite=kee;ln.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};ln.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};ln.prototype.GetterByBindingType=[ln.prototype._getValue_direct,ln.prototype._getValue_array,ln.prototype._getValue_arrayElement,ln.prototype._getValue_toArray];ln.prototype.SetterByBindingTypeAndVersioning=[[ln.prototype._setValue_direct,ln.prototype._setValue_direct_setNeedsUpdate,ln.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[ln.prototype._setValue_array,ln.prototype._setValue_array_setNeedsUpdate,ln.prototype._setValue_array_setMatrixWorldNeedsUpdate],[ln.prototype._setValue_arrayElement,ln.prototype._setValue_arrayElement_setNeedsUpdate,ln.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[ln.prototype._setValue_fromArray,ln.prototype._setValue_fromArray_setNeedsUpdate,ln.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Pee{constructor(){this.isAnimationObjectGroup=!0,this.uuid=so(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,h=arguments.length;u!==h;++u){const f=arguments[u],p=f.uuid;let m=t[p];if(m===void 0){m=l++,t[p]=m,e.push(f);for(let S=0,v=o;S!==v;++S)s[S].push(new ln(f,i[S],r[S]))}else if(m<c){a=e[m];const S=--c,v=e[S];t[v.uuid]=m,e[m]=v,t[p]=S,e[S]=f;for(let A=0,y=o;A!==y;++A){const x=s[A],C=x[S];let w=x[m];x[m]=C,w===void 0&&(w=new ln(f,i[A],r[A])),x[S]=w}}else e[m]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const h=s++,f=e[h];t[f.uuid]=u,e[u]=f,t[c]=h,e[h]=l;for(let p=0,m=r;p!==m;++p){const S=i[p],v=S[h],A=S[u];S[u]=v,S[h]=A}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,h=t[u];if(h!==void 0)if(delete t[u],h<s){const f=--s,p=e[f],m=--o,S=e[m];t[p.uuid]=h,e[h]=p,t[S.uuid]=f,e[f]=S,e.pop();for(let v=0,A=r;v!==A;++v){const y=i[v],x=y[f],C=y[m];y[h]=x,y[f]=C,y.pop()}}else{const f=--o,p=e[f];f>0&&(t[p.uuid]=h),e[h]=p,e.pop();for(let m=0,S=r;m!==S;++m){const v=i[m];v[h]=v[f],v.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,h=new Array(c);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(h);for(let f=u,p=l.length;f!==p;++f){const m=l[f];h[f]=new ln(m,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class lF{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Ou,endingEnd:Ou};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=JO,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+i,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case dC:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case P7:default:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===$O;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===KO){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Nu,r.endingEnd=Nu):(e?r.endingStart=this.zeroSlopeAtStart?Nu:Ou:r.endingStart=Gd,t?r.endingEnd=this.zeroSlopeAtEnd?Nu:Ou:r.endingEnd=Gd)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const Lee=new Float32Array(1);class Dee extends dl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let h=0;h!==s;++h){const f=r[h],p=f.name;let m=u[p];if(m!==void 0)++m.referenceCount,o[h]=m;else{if(m=o[h],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,l,p));continue}const S=t&&t._propertyBindings[h].binding.parsedPath;m=new aF(ln.create(i,p,S),f.ValueTypeName,f.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,l,p),o[h]=m}a[h].resultBuffer=m.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,f=(e._localRoot||this._root).uuid;delete h[f],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new LC(new Float32Array(2),new Float32Array(2),1,Lee),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?Kd.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(i===void 0&&(o!==null?i=o.blendMode:i=P7),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===i)return h;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new lF(this,o,t,i);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?Kd.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==i;++c)t[c]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,h=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=u,t[u]=h,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class QC{constructor(e){this.value=e}clone(){return new QC(this.value.clone===void 0?this.value:this.value.clone())}}let Oee=0;class Nee extends dl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Oee++}),this.name="",this.usage=zd,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++)this.uniforms.push(t[i].clone());return this}clone(){return new this.constructor().copy(this)}}class Fee extends Q7{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Uee{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class cF{constructor(e,t,i=0,r=1/0){this.ray=new K2(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new qu,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return Sx(e,this,i,t),i.sort(oI),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)Sx(e[r],this,i,t);return i.sort(oI),i}}function oI(n,e){return n.distance-e.distance}function Sx(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)Sx(r[s],e,t,!0)}}class Ex{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(fi(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Gee{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const aI=new _e;class uF{constructor(e=new _e(1/0,1/0),t=new _e(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=aI.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,aI).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const lI=new Q,n6=new Q;class zee{constructor(e=new Q,t=new Q){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){lI.subVectors(e,this.start),n6.subVectors(this.end,this.start);const i=n6.dot(n6);let s=n6.dot(lI)/i;return t&&(s=fi(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const cI=new Q;class Qee extends Yt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new Lt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;r.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}i.setAttribute("position",new ht(r,3));const s=new hs({fog:!1,toneMapped:!1});this.cone=new gl(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),cI.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(cI),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const N1=new Q,i6=new At,OA=new At;class Hee extends gl{constructor(e){const t=hF(e),i=new Lt,r=[],s=[],o=new Je(0,0,1),a=new Je(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new ht(r,3)),i.setAttribute("color",new ht(s,3));const l=new hs({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");OA.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(i6.multiplyMatrices(OA,a.matrixWorld),N1.setFromMatrixPosition(i6),r.setXYZ(o,N1.x,N1.y,N1.z),i6.multiplyMatrices(OA,a.parent.matrixWorld),N1.setFromMatrixPosition(i6),r.setXYZ(o+1,N1.x,N1.y,N1.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function hF(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,hF(n.children[t]));return e}class Vee extends mn{constructor(e,t,i){const r=new t0(t,4,2),s=new ao({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Wee=new Q,uI=new Je,hI=new Je;class jee extends Yt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new e0(t);r.rotateY(Math.PI*.5),this.material=new ao({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Rn(o,3)),this.add(new mn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");uI.copy(this.light.color),hI.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?uI:hI;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Wee.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Xee extends gl{constructor(e=10,t=10,i=4473924,r=8947848){i=new Je(i),r=new Je(r);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let f=0,p=0,m=-a;f<=t;f++,m+=o){l.push(-a,0,m,a,0,m),l.push(m,0,-a,m,0,a);const S=f===s?i:r;S.toArray(c,p),p+=3,S.toArray(c,p),p+=3,S.toArray(c,p),p+=3,S.toArray(c,p),p+=3}const u=new Lt;u.setAttribute("position",new ht(l,3)),u.setAttribute("color",new ht(c,3));const h=new hs({vertexColors:!0,toneMapped:!1});super(u,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class qee extends gl{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new Je(s),o=new Je(o);const a=[],l=[];if(t>1)for(let h=0;h<t;h++){const f=h/t*(Math.PI*2),p=Math.sin(f)*e,m=Math.cos(f)*e;a.push(0,0,0),a.push(p,0,m);const S=h&1?s:o;l.push(S.r,S.g,S.b),l.push(S.r,S.g,S.b)}for(let h=0;h<i;h++){const f=h&1?s:o,p=e-e/i*h;for(let m=0;m<r;m++){let S=m/r*(Math.PI*2),v=Math.sin(S)*p,A=Math.cos(S)*p;a.push(v,0,A),l.push(f.r,f.g,f.b),S=(m+1)/r*(Math.PI*2),v=Math.sin(S)*p,A=Math.cos(S)*p,a.push(v,0,A),l.push(f.r,f.g,f.b)}}const c=new Lt;c.setAttribute("position",new ht(a,3)),c.setAttribute("color",new ht(l,3));const u=new hs({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const fI=new Q,r6=new Q,dI=new Q;class Yee extends Yt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Lt;r.setAttribute("position",new ht([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new hs({fog:!1,toneMapped:!1});this.lightPlane=new Cc(r,s),this.add(this.lightPlane),r=new Lt,r.setAttribute("position",new ht([0,0,0,0,0,1],3)),this.targetLine=new Cc(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),fI.setFromMatrixPosition(this.light.matrixWorld),r6.setFromMatrixPosition(this.light.target.matrixWorld),dI.subVectors(r6,fI),this.lightPlane.lookAt(r6),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(r6),this.targetLine.scale.z=dI.length()}}const s6=new Q,ui=new T4;class Kee extends gl{constructor(e){const t=new Lt,i=new hs({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(m,S){l(m),l(S)}function l(m){r.push(0,0,0),s.push(0,0,0),o[m]===void 0&&(o[m]=[]),o[m].push(r.length/3-1)}t.setAttribute("position",new ht(r,3)),t.setAttribute("color",new ht(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Je(16755200),u=new Je(16711680),h=new Je(43775),f=new Je(16777215),p=new Je(3355443);this.setColors(c,u,h,f,p)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;ui.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Ei("c",t,e,ui,0,0,-1),Ei("t",t,e,ui,0,0,1),Ei("n1",t,e,ui,-i,-r,-1),Ei("n2",t,e,ui,i,-r,-1),Ei("n3",t,e,ui,-i,r,-1),Ei("n4",t,e,ui,i,r,-1),Ei("f1",t,e,ui,-i,-r,1),Ei("f2",t,e,ui,i,-r,1),Ei("f3",t,e,ui,-i,r,1),Ei("f4",t,e,ui,i,r,1),Ei("u1",t,e,ui,i*.7,r*1.1,-1),Ei("u2",t,e,ui,-i*.7,r*1.1,-1),Ei("u3",t,e,ui,0,r*2,-1),Ei("cf1",t,e,ui,-i,0,1),Ei("cf2",t,e,ui,i,0,1),Ei("cf3",t,e,ui,0,-r,1),Ei("cf4",t,e,ui,0,r,1),Ei("cn1",t,e,ui,-i,0,-1),Ei("cn2",t,e,ui,i,0,-1),Ei("cn3",t,e,ui,0,-r,-1),Ei("cn4",t,e,ui,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Ei(n,e,t,i,r,s,o){s6.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],s6.x,s6.y,s6.z)}}const o6=new wa;class Jee extends gl{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new Lt;s.setIndex(new Rn(i,1)),s.setAttribute("position",new Rn(r,3)),super(s,new hs({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&o6.setFromObject(this.object),o6.isEmpty())return;const t=o6.min,i=o6.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class $ee extends gl{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Lt;s.setIndex(new Rn(i,1)),s.setAttribute("position",new ht(r,3)),super(s,new hs({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Zee extends Cc{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Lt;o.setAttribute("position",new ht(s,3)),o.computeBoundingSphere(),super(o,new hs({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Lt;l.setAttribute("position",new ht(a,3)),l.computeBoundingSphere(),this.add(new mn(l,new ao({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const pI=new Q;let a6,NA;class ete extends Yt{constructor(e=new Q(0,0,1),t=new Q(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",a6===void 0&&(a6=new Lt,a6.setAttribute("position",new ht([0,0,0,0,1,0],3)),NA=new C3(0,.5,1,5,1),NA.translate(0,-.5,0)),this.position.copy(t),this.line=new Cc(a6,new hs({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new mn(NA,new ao({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{pI.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(pI,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class tte extends gl{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Lt;r.setAttribute("position",new ht(t,3)),r.setAttribute("color",new ht(i,3));const s=new hs({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Je,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class fF{constructor(){this.type="ShapePath",this.color=new Je,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Vd,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(A){const y=[];for(let x=0,C=A.length;x<C;x++){const w=A[x],M=new Yu;M.curves=w.curves,y.push(M)}return y}function i(A,y){const x=y.length;let C=!1;for(let w=x-1,M=0;M<x;w=M++){let T=y[w],R=y[M],b=R.x-T.x,B=R.y-T.y;if(Math.abs(B)>Number.EPSILON){if(B<0&&(T=y[M],b=-b,R=y[w],B=-B),A.y<T.y||A.y>R.y)continue;if(A.y===T.y){if(A.x===T.x)return!0}else{const P=B*(A.x-T.x)-b*(A.y-T.y);if(P===0)return!0;if(P<0)continue;C=!C}}else{if(A.y!==T.y)continue;if(R.x<=A.x&&A.x<=T.x||T.x<=A.x&&A.x<=R.x)return!0}}return C}const r=ol.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new Yu,l.curves=a.curves,c.push(l),c;let u=!r(s[0].getPoints());u=e?!u:u;const h=[],f=[];let p=[],m=0,S;f[m]=void 0,p[m]=[];for(let A=0,y=s.length;A<y;A++)a=s[A],S=a.getPoints(),o=r(S),o=e?!o:o,o?(!u&&f[m]&&m++,f[m]={s:new Yu,p:S},f[m].s.curves=a.curves,u&&m++,p[m]=[]):p[m].push({h:a,p:S[0]});if(!f[0])return t(s);if(f.length>1){let A=!1,y=0;for(let x=0,C=f.length;x<C;x++)h[x]=[];for(let x=0,C=f.length;x<C;x++){const w=p[x];for(let M=0;M<w.length;M++){const T=w[M];let R=!0;for(let b=0;b<f.length;b++)i(T.p,f[b].p)&&(x!==b&&y++,R?(R=!1,h[b].push(T)):A=!0);R&&h[x].push(T)}}y>0&&A===!1&&(p=h)}let v;for(let A=0,y=f.length;A<y;A++){l=f[A].s,c.push(l),v=p[A];for(let x=0,C=v.length;x<C;x++)l.holes.push(v[x].h)}return c}}class nte extends g1{constructor(e,t,i,r,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,i,r,s,o)}}class ite extends R4{constructor(e,t,i,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,i,r)}}class rte extends B4{constructor(e,t,i,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,i,r)}}class ste extends k4{constructor(e,t,i,r,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,i,r,s,o,a)}}class ote extends C3{constructor(e,t,i,r,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,i,r,s,o,a,l)}}class ate extends P4{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class lte extends L4{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class cte extends D4{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class ute extends Z2{constructor(e,t,i,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,i,r)}}class hte extends e0{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class fte extends pl{constructor(e,t,i,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,i,r)}}class dte extends m1{constructor(e,t,i,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,i,r)}}class pte extends O4{constructor(e,t,i,r,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,i,r,s,o)}}class gte extends N4{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class mte extends t0{constructor(e,t,i,r,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,i,r,s,o,a)}}class Ate extends F4{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class vte extends U4{constructor(e,t,i,r,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,i,r,s)}}class yte extends G4{constructor(e,t,i,r,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,i,r,s,o)}}class xte extends z4{constructor(e,t,i,r,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,i,r,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Nc}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Nc);const Ste=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:rC,AddEquation:Ks,AddOperation:GO,AdditiveAnimationBlendMode:dC,AdditiveBlending:Md,AlphaFormat:XO,AlwaysCompare:cN,AlwaysDepth:PO,AlwaysStencilFunc:tN,AmbientLight:nF,AmbientLightProbe:Aee,AnimationAction:lF,AnimationClip:Kd,AnimationLoader:ree,AnimationMixer:Dee,AnimationObjectGroup:Pee,AnimationUtils:eee,ArcCurve:RN,ArrayCamera:EN,ArrowHelper:ete,Audio:oF,AudioAnalyser:Cee,AudioContext:UC,AudioListener:xee,AudioLoader:gee,AxesHelper:tte,BackSide:mr,BasicDepthPacking:ZO,BasicShadowMap:CO,Bone:CC,BooleanKeyframeTrack:w3,Box2:uF,Box3:wa,Box3Helper:$ee,BoxBufferGeometry:nte,BoxGeometry:g1,BoxHelper:Jee,BufferAttribute:Rn,BufferGeometry:Lt,BufferGeometryLoader:sF,ByteType:WO,Cache:u3,Camera:T4,CameraHelper:Kee,CanvasTexture:wZ,CapsuleBufferGeometry:ite,CapsuleGeometry:R4,CatmullRomCurve3:BN,CineonToneMapping:HO,CircleBufferGeometry:rte,CircleGeometry:B4,ClampToEdgeWrapping:pi,Clock:K7,Color:Je,ColorKeyframeTrack:DC,ColorManagement:bo,CompressedArrayTexture:CZ,CompressedTexture:l3,CompressedTextureLoader:see,ConeBufferGeometry:ste,ConeGeometry:k4,CubeCamera:pN,CubeReflectionMapping:xc,CubeRefractionMapping:Sc,CubeTexture:b4,CubeTextureLoader:oee,CubeUVReflectionMapping:Y2,CubicBezierCurve:MC,CubicBezierCurve3:kN,CubicInterpolant:qN,CullFaceBack:Hy,CullFaceFront:EO,CullFaceFrontBack:EX,CullFaceNone:SO,Curve:_a,CurvePath:LN,CustomBlending:Td,CustomToneMapping:VO,CylinderBufferGeometry:ote,CylinderGeometry:C3,Cylindrical:Gee,Data3DTexture:vC,DataArrayTexture:D7,DataTexture:sl,DataTextureLoader:aee,DataUtils:Pq,DecrementStencilOp:LX,DecrementWrapStencilOp:OX,DefaultLoadingManager:JN,DepthFormat:fc,DepthStencilFormat:Ec,DepthTexture:$2,DirectionalLight:tF,DirectionalLightHelper:Yee,DiscreteInterpolant:YN,DisplayP3ColorSpace:gC,DodecahedronBufferGeometry:ate,DodecahedronGeometry:P4,DoubleSide:Do,DstAlphaFactor:I7,DstColorFactor:R7,DynamicCopyUsage:KX,DynamicDrawUsage:ju,DynamicReadUsage:XX,EdgesGeometry:DN,EllipseCurve:W7,EqualCompare:rN,EqualDepth:DO,EqualStencilFunc:GX,EquirectangularReflectionMapping:Rd,EquirectangularRefractionMapping:Bd,Euler:M4,EventDispatcher:dl,ExtrudeBufferGeometry:lte,ExtrudeGeometry:L4,FileLoader:os,Float16BufferAttribute:Uq,Float32BufferAttribute:ht,Float64BufferAttribute:Gq,FloatType:rs,Fog:z7,FogExp2:G7,FramebufferTexture:EZ,FrontSide:hl,Frustum:N7,GLBufferAttribute:Uee,GLSL1:$X,GLSL3:fx,GreaterCompare:oN,GreaterDepth:NO,GreaterEqualCompare:lN,GreaterEqualDepth:OO,GreaterEqualStencilFunc:VX,GreaterStencilFunc:QX,GridHelper:Xee,Group:Vh,HalfFloatType:_i,HemisphereLight:$N,HemisphereLightHelper:jee,HemisphereLightProbe:mee,IcosahedronBufferGeometry:cte,IcosahedronGeometry:D4,ImageBitmapLoader:pee,ImageLoader:Jd,ImageUtils:AC,IncrementStencilOp:PX,IncrementWrapStencilOp:DX,InstancedBufferAttribute:a3,InstancedBufferGeometry:FC,InstancedInterleavedBuffer:Fee,InstancedMesh:bN,Int16BufferAttribute:Nq,Int32BufferAttribute:Fq,Int8BufferAttribute:Lq,IntType:oC,InterleavedBuffer:Q7,InterleavedBufferAttribute:o3,Interpolant:H4,InterpolateDiscrete:Fd,InterpolateLinear:Ud,InterpolateSmooth:f8,InvertStencilOp:NX,KeepStencilOp:d8,KeyframeTrack:Ma,LOD:MN,LatheBufferGeometry:ute,LatheGeometry:Z2,Layers:qu,LessCompare:iN,LessDepth:LO,LessEqualCompare:sN,LessEqualDepth:u9,LessEqualStencilFunc:zX,LessStencilFunc:UX,Light:Uc,LightProbe:q7,Line:Cc,Line3:zee,LineBasicMaterial:hs,LineCurve:j7,LineCurve3:PN,LineDashedMaterial:jN,LineLoop:IN,LineSegments:gl,LinearEncoding:pC,LinearFilter:bn,LinearInterpolant:LC,LinearMipMapLinearFilter:TX,LinearMipMapNearestFilter:MX,LinearMipmapLinearFilter:fl,LinearMipmapNearestFilter:sC,LinearSRGBColorSpace:ya,LinearToneMapping:zO,Loader:fs,LoaderUtils:xx,LoadingManager:OC,LoopOnce:KO,LoopPingPong:$O,LoopRepeat:JO,LuminanceAlphaFormat:qO,LuminanceFormat:cC,MOUSE:Su,Material:yr,MaterialLoader:Y7,MathUtils:c2,Matrix3:Ht,Matrix4:At,MaxEquation:Xy,Mesh:mn,MeshBasicMaterial:ao,MeshDepthMaterial:I4,MeshDistanceMaterial:U7,MeshLambertMaterial:VN,MeshMatcapMaterial:WN,MeshNormalMaterial:Q4,MeshPhongMaterial:QN,MeshPhysicalMaterial:zN,MeshStandardMaterial:BC,MeshToonMaterial:HN,MinEquation:jy,MirroredRepeatWrapping:kd,MixOperation:UO,MultiplyBlending:Wy,MultiplyOperation:_4,NearestFilter:Pt,NearestMipMapLinearFilter:_X,NearestMipMapNearestFilter:wX,NearestMipmapLinearFilter:jf,NearestMipmapNearestFilter:h9,NeverCompare:nN,NeverDepth:kO,NeverStencilFunc:FX,NoBlending:Zt,NoColorSpace:pc,NoToneMapping:ro,NormalAnimationBlendMode:P7,NormalBlending:zo,NotEqualCompare:aN,NotEqualDepth:FO,NotEqualStencilFunc:HX,NumberKeyframeTrack:qd,Object3D:Yt,ObjectLoader:fee,ObjectSpaceNormalMap:eN,OctahedronBufferGeometry:hte,OctahedronGeometry:e0,OneFactor:MO,OneMinusDstAlphaFactor:IO,OneMinusDstColorFactor:RO,OneMinusSrcAlphaFactor:Id,OneMinusSrcColorFactor:bO,OrthographicCamera:e1,PCFShadowMap:b7,PCFSoftShadowMap:Wf,PMREMGenerator:px,Path:Vd,PerspectiveCamera:Xn,Plane:Lo,PlaneBufferGeometry:fte,PlaneGeometry:pl,PlaneHelper:Zee,PointLight:eF,PointLightHelper:Vee,Points:V7,PointsMaterial:wC,PolarGridHelper:qee,PolyhedronBufferGeometry:dte,PolyhedronGeometry:m1,PositionalAudio:Eee,PropertyBinding:ln,PropertyMixer:aF,QuadraticBezierCurve:TC,QuadraticBezierCurve3:bC,Quaternion:Ar,QuaternionKeyframeTrack:n0,QuaternionLinearInterpolant:KN,RED_GREEN_RGTC2_Format:ux,RED_RGTC1_Format:YO,REVISION:Nc,RGBADepthPacking:L7,RGBAFormat:gi,RGBAIntegerFormat:fC,RGBA_ASTC_10x10_Format:ox,RGBA_ASTC_10x5_Format:ix,RGBA_ASTC_10x6_Format:rx,RGBA_ASTC_10x8_Format:sx,RGBA_ASTC_12x10_Format:ax,RGBA_ASTC_12x12_Format:lx,RGBA_ASTC_4x4_Format:Nd,RGBA_ASTC_5x4_Format:Ky,RGBA_ASTC_5x5_Format:Jy,RGBA_ASTC_6x5_Format:$y,RGBA_ASTC_6x6_Format:Zy,RGBA_ASTC_8x5_Format:ex,RGBA_ASTC_8x6_Format:tx,RGBA_ASTC_8x8_Format:nx,RGBA_BPTC_Format:l2,RGBA_ETC2_EAC_Format:Od,RGBA_PVRTC_2BPPV1_Format:Yy,RGBA_PVRTC_4BPPV1_Format:Ld,RGBA_S3TC_DXT1_Format:u8,RGBA_S3TC_DXT3_Format:h8,RGBA_S3TC_DXT5_Format:a2,RGB_ETC1_Format:k7,RGB_ETC2_Format:Dd,RGB_PVRTC_2BPPV1_Format:qy,RGB_PVRTC_4BPPV1_Format:Pd,RGB_S3TC_DXT1_Format:o2,RGFormat:zh,RGIntegerFormat:hC,RawShaderMaterial:Jf,Ray:K2,Raycaster:cF,RectAreaLight:iF,RedFormat:Du,RedIntegerFormat:uC,ReinhardToneMapping:QO,RepeatWrapping:a1,ReplaceStencilOp:kX,ReverseSubtractEquation:_O,RingBufferGeometry:pte,RingGeometry:O4,SIGNED_RED_GREEN_RGTC2_Format:hx,SIGNED_RED_RGTC1_Format:cx,SRGBColorSpace:Gt,Scene:I2,ShaderChunk:Qt,ShaderLib:fa,ShaderMaterial:un,ShadowMaterial:GN,Shape:Yu,ShapeBufferGeometry:gte,ShapeGeometry:N4,ShapePath:fF,ShapeUtils:ol,ShortType:jO,Skeleton:H7,SkeletonHelper:Hee,SkinnedMesh:TN,Source:Fu,Sphere:Jo,SphereBufferGeometry:mte,SphereGeometry:t0,Spherical:Ex,SphericalHarmonics3:rF,SplineCurve:IC,SpotLight:ZN,SpotLightHelper:Qee,Sprite:_N,SpriteMaterial:EC,SrcAlphaFactor:bd,SrcAlphaSaturateFactor:BO,SrcColorFactor:TO,StaticCopyUsage:YX,StaticDrawUsage:zd,StaticReadUsage:jX,StereoCamera:vee,StreamCopyUsage:JX,StreamDrawUsage:WX,StreamReadUsage:qX,StringKeyframeTrack:_3,SubtractEquation:wO,SubtractiveBlending:Vy,TOUCH:Eu,TangentSpaceNormalMap:Fc,TetrahedronBufferGeometry:Ate,TetrahedronGeometry:F4,Texture:Kn,TextureLoader:lee,TorusBufferGeometry:vte,TorusGeometry:U4,TorusKnotBufferGeometry:yte,TorusKnotGeometry:G4,Triangle:Ss,TriangleFanDrawMode:RX,TriangleStripDrawMode:IX,TrianglesDrawMode:bX,TubeBufferGeometry:xte,TubeGeometry:z4,TwoPassDoubleSide:CX,UVMapping:B7,Uint16BufferAttribute:yC,Uint32BufferAttribute:O7,Uint8BufferAttribute:Dq,Uint8ClampedBufferAttribute:Oq,Uniform:QC,UniformsGroup:Nee,UniformsLib:et,UniformsUtils:qn,UnsignedByteType:zi,UnsignedInt248Type:Zl,UnsignedIntType:Kl,UnsignedShort4444Type:aC,UnsignedShort5551Type:lC,UnsignedShortType:E3,VSMShadowMap:la,Vector2:_e,Vector3:Q,Vector4:en,VectorKeyframeTrack:Yd,VideoTexture:SZ,WebGL1Renderer:CN,WebGL3DRenderTarget:Eq,WebGLArrayRenderTarget:Sq,WebGLCoordinateSystem:Za,WebGLCubeRenderTarget:gN,WebGLMultipleRenderTargets:Cq,WebGLRenderTarget:In,WebGLRenderer:SC,WebGLUtils:SN,WebGPUCoordinateSystem:Qd,WireframeGeometry:UN,WrapAroundEnding:Gd,ZeroCurvatureEnding:Ou,ZeroFactor:M2,ZeroSlopeEnding:Nu,ZeroStencilOp:BX,_SRGBAFormat:f9,sRGBEncoding:dc},Symbol.toStringTag,{value:"Module"}));var dF={exports:{}},M3={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */M3.ConcurrentRoot=1;M3.ContinuousEventPriority=4;M3.DefaultEventPriority=16;M3.DiscreteEventPriority=1;M3.IdleEventPriority=536870912;M3.LegacyRoot=0;dF.exports=M3;var jh=dF.exports;function Ete(n){let e;const t=new Set,i=(c,u)=>{const h=typeof c=="function"?c(e):c;if(h!==e){const f=e;e=u?h:Object.assign({},e,h),t.forEach(p=>p(e,f))}},r=()=>e,s=(c,u=r,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let f=u(e);function p(){const m=u(e);if(!h(f,m)){const S=f;c(f=m,S)}}return t.add(p),()=>t.delete(p)},l={setState:i,getState:r,subscribe:(c,u,h)=>u||h?s(c,u,h):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(i,r,l),l}const Cte=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),gI=Cte?ne.useEffect:ne.useLayoutEffect;function wte(n){const e=typeof n=="function"?Ete(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=ne.useReducer(v=>v+1,0),o=e.getState(),a=ne.useRef(o),l=ne.useRef(i),c=ne.useRef(r),u=ne.useRef(!1),h=ne.useRef();h.current===void 0&&(h.current=i(o));let f,p=!1;(a.current!==o||l.current!==i||c.current!==r||u.current)&&(f=i(o),p=!r(h.current,f)),gI(()=>{p&&(h.current=f),a.current=o,l.current=i,c.current=r,u.current=!1});const m=ne.useRef(o);gI(()=>{const v=()=>{try{const y=e.getState(),x=l.current(y);c.current(h.current,x)||(a.current=y,h.current=x,s())}catch{u.current=!0,s()}},A=e.subscribe(v);return e.getState()!==m.current&&v(),A},[]);const S=p?f:h.current;return ne.useDebugValue(S),S};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var pF={exports:{}},gF={exports:{}},mF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(L,D){var F=L.length;L.push(D);e:for(;0<F;){var z=F-1>>>1,U=L[z];if(0<r(U,D))L[z]=D,L[F]=U,F=z;else break e}}function t(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var D=L[0],F=L.pop();if(F!==D){L[0]=F;e:for(var z=0,U=L.length,$=U>>>1;z<$;){var ee=2*(z+1)-1,ie=L[ee],se=ee+1,re=L[se];if(0>r(ie,F))se<U&&0>r(re,ie)?(L[z]=re,L[se]=F,z=se):(L[z]=ie,L[ee]=F,z=ee);else if(se<U&&0>r(re,F))L[z]=re,L[se]=F,z=se;else break e}}return D}function r(L,D){var F=L.sortIndex-D.sortIndex;return F!==0?F:L.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,p=!1,m=!1,S=!1,v=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var D=t(c);D!==null;){if(D.callback===null)i(c);else if(D.startTime<=L)i(c),D.sortIndex=D.expirationTime,e(l,D);else break;D=t(c)}}function C(L){if(S=!1,x(L),!m)if(t(l)!==null)m=!0,q(w);else{var D=t(c);D!==null&&J(C,D.startTime-L)}}function w(L,D){m=!1,S&&(S=!1,A(R),R=-1),p=!0;var F=f;try{for(x(D),h=t(l);h!==null&&(!(h.expirationTime>D)||L&&!P());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var U=z(h.expirationTime<=D);D=n.unstable_now(),typeof U=="function"?h.callback=U:h===t(l)&&i(l),x(D)}else i(l);h=t(l)}if(h!==null)var $=!0;else{var ee=t(c);ee!==null&&J(C,ee.startTime-D),$=!1}return $}finally{h=null,f=F,p=!1}}var M=!1,T=null,R=-1,b=5,B=-1;function P(){return!(n.unstable_now()-B<b)}function O(){if(T!==null){var L=n.unstable_now();B=L;var D=!0;try{D=T(!0,L)}finally{D?G():(M=!1,T=null)}}else M=!1}var G;if(typeof y=="function")G=function(){y(O)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,j=H.port2;H.port1.onmessage=O,G=function(){j.postMessage(null)}}else G=function(){v(O,0)};function q(L){T=L,M||(M=!0,G())}function J(L,D){R=v(function(){L(n.unstable_now())},D)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){m||p||(m=!0,q(w))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(L){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var F=f;f=D;try{return L()}finally{f=F}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,D){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var F=f;f=L;try{return D()}finally{f=F}},n.unstable_scheduleCallback=function(L,D,F){var z=n.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?z+F:z):F=z,L){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=F+U,L={id:u++,callback:D,priorityLevel:L,startTime:F,expirationTime:U,sortIndex:-1},F>z?(L.sortIndex=F,e(c,L),t(l)===null&&L===t(c)&&(S?(A(R),R=-1):S=!0,J(C,F-z))):(L.sortIndex=U,e(l,L),m||p||(m=!0,q(w))),L},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(L){var D=f;return function(){var F=f;f=D;try{return L.apply(this,arguments)}finally{f=F}}}})(mF);gF.exports=mF;var Cx=gF.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _te=function(e){var t={},i=ne,r=Cx,s=Object.assign;function o(d){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+d,E=1;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E]);return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),w=Symbol.iterator;function M(d){return d===null||typeof d!="object"?null:(d=w&&d[w]||d["@@iterator"],typeof d=="function"?d:null)}function T(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case u:return"Fragment";case c:return"Portal";case f:return"Profiler";case h:return"StrictMode";case v:return"Suspense";case A:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case m:return(d.displayName||"Context")+".Consumer";case p:return(d._context.displayName||"Context")+".Provider";case S:var g=d.render;return d=d.displayName,d||(d=g.displayName||g.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case y:return g=d.displayName||null,g!==null?g:T(d.type)||"Memo";case x:g=d._payload,d=d._init;try{return T(d(g))}catch{}}return null}function R(d){var g=d.type;switch(d.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=g.render,d=d.displayName||d.name||"",g.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T(g);case 8:return g===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function b(d){var g=d,E=d;if(d.alternate)for(;g.return;)g=g.return;else{d=g;do g=d,g.flags&4098&&(E=g.return),d=g.return;while(d)}return g.tag===3?E:null}function B(d){if(b(d)!==d)throw Error(o(188))}function P(d){var g=d.alternate;if(!g){if(g=b(d),g===null)throw Error(o(188));return g!==d?null:d}for(var E=d,_=g;;){var I=E.return;if(I===null)break;var k=I.alternate;if(k===null){if(_=I.return,_!==null){E=_;continue}break}if(I.child===k.child){for(k=I.child;k;){if(k===E)return B(I),d;if(k===_)return B(I),g;k=k.sibling}throw Error(o(188))}if(E.return!==_.return)E=I,_=k;else{for(var K=!1,ae=I.child;ae;){if(ae===E){K=!0,E=I,_=k;break}if(ae===_){K=!0,_=I,E=k;break}ae=ae.sibling}if(!K){for(ae=k.child;ae;){if(ae===E){K=!0,E=k,_=I;break}if(ae===_){K=!0,_=k,E=I;break}ae=ae.sibling}if(!K)throw Error(o(189))}}if(E.alternate!==_)throw Error(o(190))}if(E.tag!==3)throw Error(o(188));return E.stateNode.current===E?d:g}function O(d){return d=P(d),d!==null?G(d):null}function G(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var g=G(d);if(g!==null)return g;d=d.sibling}return null}function H(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var g=H(d);if(g!==null)return g}d=d.sibling}return null}var j=Array.isArray,q=e.getPublicInstance,J=e.getRootHostContext,L=e.getChildHostContext,D=e.prepareForCommit,F=e.resetAfterCommit,z=e.createInstance,U=e.appendInitialChild,$=e.finalizeInitialChildren,ee=e.prepareUpdate,ie=e.shouldSetTextContent,se=e.createTextInstance,re=e.scheduleTimeout,he=e.cancelTimeout,Ce=e.noTimeout,ze=e.isPrimaryRenderer,Se=e.supportsMutation,V=e.supportsPersistence,ye=e.supportsHydration,fe=e.getInstanceFromNode,xe=e.preparePortalMount,ge=e.getCurrentEventPriority,qe=e.detachDeletedInstance,me=e.supportsMicrotasks,Pe=e.scheduleMicrotask,Ue=e.supportsTestSelectors,we=e.findFiberRoot,Ke=e.getBoundingRect,W=e.getTextContent,N=e.isHiddenSubtree,oe=e.matchAccessibilityRole,Ne=e.setFocusIfFocusable,Ie=e.setupIntersectionObserver,Re=e.appendChild,je=e.appendChildToContainer,Qe=e.commitTextUpdate,pe=e.commitMount,Y=e.commitUpdate,de=e.insertBefore,Me=e.insertInContainerBefore,Ee=e.removeChild,Fe=e.removeChildFromContainer,nt=e.resetTextContent,ft=e.hideInstance,Z=e.hideTextInstance,He=e.unhideInstance,ce=e.unhideTextInstance,We=e.clearContainer,Ze=e.cloneInstance,Dt=e.createContainerChildSet,Kt=e.appendChildToContainerChildSet,tn=e.finalizeContainerChildren,an=e.replaceContainerChildren,An=e.cloneHiddenInstance,rn=e.cloneHiddenTextInstance,Vt=e.canHydrateInstance,Sr=e.canHydrateTextInstance,Yi=e.canHydrateSuspenseInstance,fn=e.isSuspenseInstancePending,Bn=e.isSuspenseInstanceFallback,or=e.registerSuspenseInstanceRetry,_n=e.getNextHydratableSibling,Jn=e.getFirstHydratableChild,Di=e.getFirstHydratableChildWithinContainer,Ao=e.getFirstHydratableChildWithinSuspenseInstance,Qr=e.hydrateInstance,X=e.hydrateTextInstance,Ae=e.hydrateSuspenseInstance,Le=e.getNextHydratableInstanceAfterSuspenseInstance,ue=e.commitHydratedContainer,De=e.commitHydratedSuspenseInstance,at=e.clearSuspenseBoundary,St=e.clearSuspenseBoundaryFromContainer,Et=e.shouldDeleteUnhydratedTailInstances,Mt=e.didNotMatchHydratedContainerTextInstance,Nt=e.didNotMatchHydratedTextInstance,Xe;function Ct(d){if(Xe===void 0)try{throw Error()}catch(E){var g=E.stack.trim().match(/\n( *(at )?)/);Xe=g&&g[1]||""}return`
`+Xe+d}var vn=!1;function dn(d,g){if(!d||vn)return"";vn=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch($e){var _=$e}Reflect.construct(d,[],g)}else{try{g.call()}catch($e){_=$e}d.call(g.prototype)}else{try{throw Error()}catch($e){_=$e}d()}}catch($e){if($e&&_&&typeof $e.stack=="string"){for(var I=$e.stack.split(`
`),k=_.stack.split(`
`),K=I.length-1,ae=k.length-1;1<=K&&0<=ae&&I[K]!==k[ae];)ae--;for(;1<=K&&0<=ae;K--,ae--)if(I[K]!==k[ae]){if(K!==1||ae!==1)do if(K--,ae--,0>ae||I[K]!==k[ae]){var Be=`
`+I[K].replace(" at new "," at ");return d.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",d.displayName)),Be}while(1<=K&&0<=ae);break}}}finally{vn=!1,Error.prepareStackTrace=E}return(d=d?d.displayName||d.name:"")?Ct(d):""}var Ki=Object.prototype.hasOwnProperty,Er=[],yn=-1;function It(d){return{current:d}}function on(d){0>yn||(d.current=Er[yn],Er[yn]=null,yn--)}function Rt(d,g){yn++,Er[yn]=d.current,d.current=g}var vi={},li=It(vi),Hn=It(!1),ps=vi;function Cn(d,g){var E=d.type.contextTypes;if(!E)return vi;var _=d.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===g)return _.__reactInternalMemoizedMaskedChildContext;var I={},k;for(k in E)I[k]=g[k];return _&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=g,d.__reactInternalMemoizedMaskedChildContext=I),I}function kn(d){return d=d.childContextTypes,d!=null}function Hr(){on(Hn),on(li)}function Ti(d,g,E){if(li.current!==vi)throw Error(o(168));Rt(li,g),Rt(Hn,E)}function Pa(d,g,E){var _=d.stateNode;if(g=g.childContextTypes,typeof _.getChildContext!="function")return E;_=_.getChildContext();for(var I in _)if(!(I in g))throw Error(o(108,R(d)||"Unknown",I));return s({},E,_)}function La(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||vi,ps=li.current,Rt(li,d),Rt(Hn,Hn.current),!0}function Cr(d,g,E){var _=d.stateNode;if(!_)throw Error(o(169));E?(d=Pa(d,g,ps),_.__reactInternalMemoizedMergedChildContext=d,on(Hn),on(li),Rt(li,d)):on(Hn),Rt(Hn,E)}var Ls=Math.clz32?Math.clz32:p5,P3=Math.log,Wc=Math.LN2;function p5(d){return d>>>=0,d===0?32:31-(P3(d)/Wc|0)|0}var Ml=64,Tl=4194304;function bl(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function jc(d,g){var E=d.pendingLanes;if(E===0)return 0;var _=0,I=d.suspendedLanes,k=d.pingedLanes,K=E&268435455;if(K!==0){var ae=K&~I;ae!==0?_=bl(ae):(k&=K,k!==0&&(_=bl(k)))}else K=E&~I,K!==0?_=bl(K):k!==0&&(_=bl(k));if(_===0)return 0;if(g!==0&&g!==_&&!(g&I)&&(I=_&-_,k=g&-g,I>=k||I===16&&(k&4194240)!==0))return g;if(_&4&&(_|=E&16),g=d.entangledLanes,g!==0)for(d=d.entanglements,g&=_;0<g;)E=31-Ls(g),I=1<<E,_|=d[E],g&=~I;return _}function g5(d,g){switch(d){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f0(d,g){for(var E=d.suspendedLanes,_=d.pingedLanes,I=d.expirationTimes,k=d.pendingLanes;0<k;){var K=31-Ls(k),ae=1<<K,Be=I[K];Be===-1?(!(ae&E)||ae&_)&&(I[K]=g5(ae,g)):Be<=g&&(d.expiredLanes|=ae),k&=~ae}}function Il(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function L3(d){for(var g=[],E=0;31>E;E++)g.push(d);return g}function Da(d,g,E){d.pendingLanes|=g,g!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,g=31-Ls(g),d[g]=E}function E1(d,g){var E=d.pendingLanes&~g;d.pendingLanes=g,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=g,d.mutableReadLanes&=g,d.entangledLanes&=g,g=d.entanglements;var _=d.eventTimes;for(d=d.expirationTimes;0<E;){var I=31-Ls(E),k=1<<I;g[I]=0,_[I]=-1,d[I]=-1,E&=~k}}function Oa(d,g){var E=d.entangledLanes|=g;for(d=d.entanglements;E;){var _=31-Ls(E),I=1<<_;I&g|d[_]&g&&(d[_]|=g),E&=~I}}var Jt=0;function d0(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var Rl=r.unstable_scheduleCallback,D3=r.unstable_cancelCallback,p0=r.unstable_shouldYield,m5=r.unstable_requestPaint,$n=r.unstable_now,Xc=r.unstable_ImmediatePriority,A5=r.unstable_UserBlockingPriority,Vr=r.unstable_NormalPriority,g0=r.unstable_IdlePriority,qc=null,Ds=null;function m0(d){if(Ds&&typeof Ds.onCommitFiberRoot=="function")try{Ds.onCommitFiberRoot(qc,d,void 0,(d.current.flags&128)===128)}catch{}}function v5(d,g){return d===g&&(d!==0||1/d===1/g)||d!==d&&g!==g}var Os=typeof Object.is=="function"?Object.is:v5,Wr=null,Na=!1,vo=!1;function A0(d){Wr===null?Wr=[d]:Wr.push(d)}function v0(d){Na=!0,A0(d)}function gs(){if(!vo&&Wr!==null){vo=!0;var d=0,g=Jt;try{var E=Wr;for(Jt=1;d<E.length;d++){var _=E[d];do _=_(!0);while(_!==null)}Wr=null,Na=!1}catch(I){throw Wr!==null&&(Wr=Wr.slice(d+1)),Rl(Xc,gs),I}finally{Jt=g,vo=!1}}return null}var Yc=a.ReactCurrentBatchConfig;function Kc(d,g){if(Os(d,g))return!0;if(typeof d!="object"||d===null||typeof g!="object"||g===null)return!1;var E=Object.keys(d),_=Object.keys(g);if(E.length!==_.length)return!1;for(_=0;_<E.length;_++){var I=E[_];if(!Ki.call(g,I)||!Os(d[I],g[I]))return!1}return!0}function Jc(d){switch(d.tag){case 5:return Ct(d.type);case 16:return Ct("Lazy");case 13:return Ct("Suspense");case 19:return Ct("SuspenseList");case 0:case 2:case 15:return d=dn(d.type,!1),d;case 11:return d=dn(d.type.render,!1),d;case 1:return d=dn(d.type,!0),d;default:return""}}function jr(d,g){if(d&&d.defaultProps){g=s({},g),d=d.defaultProps;for(var E in d)g[E]===void 0&&(g[E]=d[E]);return g}return g}var Ji=It(null),O3=null,ta=null,C1=null;function N3(){C1=ta=O3=null}function y5(d,g,E){ze?(Rt(Ji,g._currentValue),g._currentValue=E):(Rt(Ji,g._currentValue2),g._currentValue2=E)}function $i(d){var g=Ji.current;on(Ji),ze?d._currentValue=g:d._currentValue2=g}function Xr(d,g,E){for(;d!==null;){var _=d.alternate;if((d.childLanes&g)!==g?(d.childLanes|=g,_!==null&&(_.childLanes|=g)):_!==null&&(_.childLanes&g)!==g&&(_.childLanes|=g),d===E)break;d=d.return}}function yi(d,g){O3=d,C1=ta=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&g&&(Gs=!0),d.firstContext=null)}function xi(d){var g=ze?d._currentValue:d._currentValue2;if(C1!==d)if(d={context:d,memoizedValue:g,next:null},ta===null){if(O3===null)throw Error(o(308));ta=d,O3.dependencies={lanes:0,firstContext:d}}else ta=ta.next=d;return g}var Ns=null,w1=!1;function Gg(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function a_(d,g){d=d.updateQueue,g.updateQueue===d&&(g.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Bl(d,g){return{eventTime:d,lane:g,tag:0,payload:null,callback:null,next:null}}function _1(d,g){var E=d.updateQueue;E!==null&&(E=E.shared,bi!==null&&d.mode&1&&!(qt&2)?(d=E.interleaved,d===null?(g.next=g,Ns===null?Ns=[E]:Ns.push(E)):(g.next=d.next,d.next=g),E.interleaved=g):(d=E.pending,d===null?g.next=g:(g.next=d.next,d.next=g),E.pending=g))}function x5(d,g,E){if(g=g.updateQueue,g!==null&&(g=g.shared,(E&4194240)!==0)){var _=g.lanes;_&=d.pendingLanes,E|=_,g.lanes=E,Oa(d,E)}}function l_(d,g){var E=d.updateQueue,_=d.alternate;if(_!==null&&(_=_.updateQueue,E===_)){var I=null,k=null;if(E=E.firstBaseUpdate,E!==null){do{var K={eventTime:E.eventTime,lane:E.lane,tag:E.tag,payload:E.payload,callback:E.callback,next:null};k===null?I=k=K:k=k.next=K,E=E.next}while(E!==null);k===null?I=k=g:k=k.next=g}else I=k=g;E={baseState:_.baseState,firstBaseUpdate:I,lastBaseUpdate:k,shared:_.shared,effects:_.effects},d.updateQueue=E;return}d=E.lastBaseUpdate,d===null?E.firstBaseUpdate=g:d.next=g,E.lastBaseUpdate=g}function S5(d,g,E,_){var I=d.updateQueue;w1=!1;var k=I.firstBaseUpdate,K=I.lastBaseUpdate,ae=I.shared.pending;if(ae!==null){I.shared.pending=null;var Be=ae,$e=Be.next;Be.next=null,K===null?k=$e:K.next=$e,K=Be;var ct=d.alternate;ct!==null&&(ct=ct.updateQueue,ae=ct.lastBaseUpdate,ae!==K&&(ae===null?ct.firstBaseUpdate=$e:ae.next=$e,ct.lastBaseUpdate=Be))}if(k!==null){var Ft=I.baseState;K=0,ct=$e=Be=null,ae=k;do{var wt=ae.lane,Mn=ae.eventTime;if((_&wt)===wt){ct!==null&&(ct=ct.next={eventTime:Mn,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var yt=d,Tr=ae;switch(wt=g,Mn=E,Tr.tag){case 1:if(yt=Tr.payload,typeof yt=="function"){Ft=yt.call(Mn,Ft,wt);break e}Ft=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=Tr.payload,wt=typeof yt=="function"?yt.call(Mn,Ft,wt):yt,wt==null)break e;Ft=s({},Ft,wt);break e;case 2:w1=!0}}ae.callback!==null&&ae.lane!==0&&(d.flags|=64,wt=I.effects,wt===null?I.effects=[ae]:wt.push(ae))}else Mn={eventTime:Mn,lane:wt,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},ct===null?($e=ct=Mn,Be=Ft):ct=ct.next=Mn,K|=wt;if(ae=ae.next,ae===null){if(ae=I.shared.pending,ae===null)break;wt=ae,ae=wt.next,wt.next=null,I.lastBaseUpdate=wt,I.shared.pending=null}}while(1);if(ct===null&&(Be=Ft),I.baseState=Be,I.firstBaseUpdate=$e,I.lastBaseUpdate=ct,g=I.shared.interleaved,g!==null){I=g;do K|=I.lane,I=I.next;while(I!==g)}else k===null&&(I.shared.lanes=0);j3|=K,d.lanes=K,d.memoizedState=Ft}}function c_(d,g,E){if(d=g.effects,g.effects=null,d!==null)for(g=0;g<d.length;g++){var _=d[g],I=_.callback;if(I!==null){if(_.callback=null,_=E,typeof I!="function")throw Error(o(191,I));I.call(_)}}}var u_=new i.Component().refs;function zg(d,g,E,_){g=d.memoizedState,E=E(_,g),E=E==null?g:s({},g,E),d.memoizedState=E,d.lanes===0&&(d.updateQueue.baseState=E)}var E5={isMounted:function(d){return(d=d._reactInternals)?b(d)===d:!1},enqueueSetState:function(d,g,E){d=d._reactInternals;var _=Yr(),I=b1(d),k=Bl(_,I);k.payload=g,E!=null&&(k.callback=E),_1(d,k),g=Co(d,I,_),g!==null&&x5(g,d,I)},enqueueReplaceState:function(d,g,E){d=d._reactInternals;var _=Yr(),I=b1(d),k=Bl(_,I);k.tag=1,k.payload=g,E!=null&&(k.callback=E),_1(d,k),g=Co(d,I,_),g!==null&&x5(g,d,I)},enqueueForceUpdate:function(d,g){d=d._reactInternals;var E=Yr(),_=b1(d),I=Bl(E,_);I.tag=2,g!=null&&(I.callback=g),_1(d,I),g=Co(d,_,E),g!==null&&x5(g,d,_)}};function h_(d,g,E,_,I,k,K){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(_,k,K):g.prototype&&g.prototype.isPureReactComponent?!Kc(E,_)||!Kc(I,k):!0}function f_(d,g,E){var _=!1,I=vi,k=g.contextType;return typeof k=="object"&&k!==null?k=xi(k):(I=kn(g)?ps:li.current,_=g.contextTypes,k=(_=_!=null)?Cn(d,I):vi),g=new g(E,k),d.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=E5,d.stateNode=g,g._reactInternals=d,_&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=I,d.__reactInternalMemoizedMaskedChildContext=k),g}function d_(d,g,E,_){d=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(E,_),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(E,_),g.state!==d&&E5.enqueueReplaceState(g,g.state,null)}function Qg(d,g,E,_){var I=d.stateNode;I.props=E,I.state=d.memoizedState,I.refs=u_,Gg(d);var k=g.contextType;typeof k=="object"&&k!==null?I.context=xi(k):(k=kn(g)?ps:li.current,I.context=Cn(d,k)),I.state=d.memoizedState,k=g.getDerivedStateFromProps,typeof k=="function"&&(zg(d,g,k,E),I.state=d.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(g=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),g!==I.state&&E5.enqueueReplaceState(I,I.state,null),S5(d,E,I,_),I.state=d.memoizedState),typeof I.componentDidMount=="function"&&(d.flags|=4194308)}var F3=[],U3=0,C5=null,w5=0,yo=[],xo=0,$c=null,kl=1,Pl="";function Zc(d,g){F3[U3++]=w5,F3[U3++]=C5,C5=d,w5=g}function p_(d,g,E){yo[xo++]=kl,yo[xo++]=Pl,yo[xo++]=$c,$c=d;var _=kl;d=Pl;var I=32-Ls(_)-1;_&=~(1<<I),E+=1;var k=32-Ls(g)+I;if(30<k){var K=I-I%5;k=(_&(1<<K)-1).toString(32),_>>=K,I-=K,kl=1<<32-Ls(g)+I|E<<I|_,Pl=k+d}else kl=1<<k|E<<I|_,Pl=d}function Hg(d){d.return!==null&&(Zc(d,1),p_(d,1,0))}function Vg(d){for(;d===C5;)C5=F3[--U3],F3[U3]=null,w5=F3[--U3],F3[U3]=null;for(;d===$c;)$c=yo[--xo],yo[xo]=null,Pl=yo[--xo],yo[xo]=null,kl=yo[--xo],yo[xo]=null}var Fs=null,Us=null,Vn=!1,y0=!1,na=null;function g_(d,g){var E=wo(5,null,null,0);E.elementType="DELETED",E.stateNode=g,E.return=d,g=d.deletions,g===null?(d.deletions=[E],d.flags|=16):g.push(E)}function m_(d,g){switch(d.tag){case 5:return g=Vt(g,d.type,d.pendingProps),g!==null?(d.stateNode=g,Fs=d,Us=Jn(g),!0):!1;case 6:return g=Sr(g,d.pendingProps),g!==null?(d.stateNode=g,Fs=d,Us=null,!0):!1;case 13:if(g=Yi(g),g!==null){var E=$c!==null?{id:kl,overflow:Pl}:null;return d.memoizedState={dehydrated:g,treeContext:E,retryLane:1073741824},E=wo(18,null,null,0),E.stateNode=g,E.return=d,d.child=E,Fs=d,Us=null,!0}return!1;default:return!1}}function Wg(d){return(d.mode&1)!==0&&(d.flags&128)===0}function jg(d){if(Vn){var g=Us;if(g){var E=g;if(!m_(d,g)){if(Wg(d))throw Error(o(418));g=_n(E);var _=Fs;g&&m_(d,g)?g_(_,E):(d.flags=d.flags&-4097|2,Vn=!1,Fs=d)}}else{if(Wg(d))throw Error(o(418));d.flags=d.flags&-4097|2,Vn=!1,Fs=d}}}function A_(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Fs=d}function x0(d){if(!ye||d!==Fs)return!1;if(!Vn)return A_(d),Vn=!0,!1;if(d.tag!==3&&(d.tag!==5||Et(d.type)&&!ie(d.type,d.memoizedProps))){var g=Us;if(g){if(Wg(d)){for(d=Us;d;)d=_n(d);throw Error(o(418))}for(;g;)g_(d,g),g=_n(g)}}if(A_(d),d.tag===13){if(!ye)throw Error(o(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));Us=Le(d)}else Us=Fs?_n(d.stateNode):null;return!0}function G3(){ye&&(Us=Fs=null,y0=Vn=!1)}function Xg(d){na===null?na=[d]:na.push(d)}function S0(d,g,E){if(d=E.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(E._owner){if(E=E._owner,E){if(E.tag!==1)throw Error(o(309));var _=E.stateNode}if(!_)throw Error(o(147,d));var I=_,k=""+d;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===k?g.ref:(g=function(K){var ae=I.refs;ae===u_&&(ae=I.refs={}),K===null?delete ae[k]:ae[k]=K},g._stringRef=k,g)}if(typeof d!="string")throw Error(o(284));if(!E._owner)throw Error(o(290,d))}return d}function _5(d,g){throw d=Object.prototype.toString.call(g),Error(o(31,d==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":d))}function v_(d){var g=d._init;return g(d._payload)}function y_(d){function g(ve,le){if(d){var Te=ve.deletions;Te===null?(ve.deletions=[le],ve.flags|=16):Te.push(le)}}function E(ve,le){if(!d)return null;for(;le!==null;)g(ve,le),le=le.sibling;return null}function _(ve,le){for(ve=new Map;le!==null;)le.key!==null?ve.set(le.key,le):ve.set(le.index,le),le=le.sibling;return ve}function I(ve,le){return ve=R1(ve,le),ve.index=0,ve.sibling=null,ve}function k(ve,le,Te){return ve.index=Te,d?(Te=ve.alternate,Te!==null?(Te=Te.index,Te<le?(ve.flags|=2,le):Te):(ve.flags|=2,le)):(ve.flags|=1048576,le)}function K(ve){return d&&ve.alternate===null&&(ve.flags|=2),ve}function ae(ve,le,Te,st){return le===null||le.tag!==6?(le=Rm(Te,ve.mode,st),le.return=ve,le):(le=I(le,Te),le.return=ve,le)}function Be(ve,le,Te,st){var vt=Te.type;return vt===u?ct(ve,le,Te.props.children,st,Te.key):le!==null&&(le.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===x&&v_(vt)===le.type)?(st=I(le,Te.props),st.ref=S0(ve,le,Te),st.return=ve,st):(st=np(Te.type,Te.key,Te.props,null,ve.mode,st),st.ref=S0(ve,le,Te),st.return=ve,st)}function $e(ve,le,Te,st){return le===null||le.tag!==4||le.stateNode.containerInfo!==Te.containerInfo||le.stateNode.implementation!==Te.implementation?(le=Bm(Te,ve.mode,st),le.return=ve,le):(le=I(le,Te.children||[]),le.return=ve,le)}function ct(ve,le,Te,st,vt){return le===null||le.tag!==7?(le=ou(Te,ve.mode,st,vt),le.return=ve,le):(le=I(le,Te),le.return=ve,le)}function Ft(ve,le,Te){if(typeof le=="string"&&le!==""||typeof le=="number")return le=Rm(""+le,ve.mode,Te),le.return=ve,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case l:return Te=np(le.type,le.key,le.props,null,ve.mode,Te),Te.ref=S0(ve,null,le),Te.return=ve,Te;case c:return le=Bm(le,ve.mode,Te),le.return=ve,le;case x:var st=le._init;return Ft(ve,st(le._payload),Te)}if(j(le)||M(le))return le=ou(le,ve.mode,Te,null),le.return=ve,le;_5(ve,le)}return null}function wt(ve,le,Te,st){var vt=le!==null?le.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number")return vt!==null?null:ae(ve,le,""+Te,st);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case l:return Te.key===vt?Be(ve,le,Te,st):null;case c:return Te.key===vt?$e(ve,le,Te,st):null;case x:return vt=Te._init,wt(ve,le,vt(Te._payload),st)}if(j(Te)||M(Te))return vt!==null?null:ct(ve,le,Te,st,null);_5(ve,Te)}return null}function Mn(ve,le,Te,st,vt){if(typeof st=="string"&&st!==""||typeof st=="number")return ve=ve.get(Te)||null,ae(le,ve,""+st,vt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case l:return ve=ve.get(st.key===null?Te:st.key)||null,Be(le,ve,st,vt);case c:return ve=ve.get(st.key===null?Te:st.key)||null,$e(le,ve,st,vt);case x:var Wt=st._init;return Mn(ve,le,Te,Wt(st._payload),vt)}if(j(st)||M(st))return ve=ve.get(Te)||null,ct(le,ve,st,vt,null);_5(le,st)}return null}function yt(ve,le,Te,st){for(var vt=null,Wt=null,Ut=le,pn=le=0,er=null;Ut!==null&&pn<Te.length;pn++){Ut.index>pn?(er=Ut,Ut=null):er=Ut.sibling;var gn=wt(ve,Ut,Te[pn],st);if(gn===null){Ut===null&&(Ut=er);break}d&&Ut&&gn.alternate===null&&g(ve,Ut),le=k(gn,le,pn),Wt===null?vt=gn:Wt.sibling=gn,Wt=gn,Ut=er}if(pn===Te.length)return E(ve,Ut),Vn&&Zc(ve,pn),vt;if(Ut===null){for(;pn<Te.length;pn++)Ut=Ft(ve,Te[pn],st),Ut!==null&&(le=k(Ut,le,pn),Wt===null?vt=Ut:Wt.sibling=Ut,Wt=Ut);return Vn&&Zc(ve,pn),vt}for(Ut=_(ve,Ut);pn<Te.length;pn++)er=Mn(Ut,ve,pn,Te[pn],st),er!==null&&(d&&er.alternate!==null&&Ut.delete(er.key===null?pn:er.key),le=k(er,le,pn),Wt===null?vt=er:Wt.sibling=er,Wt=er);return d&&Ut.forEach(function(B1){return g(ve,B1)}),Vn&&Zc(ve,pn),vt}function Tr(ve,le,Te,st){var vt=M(Te);if(typeof vt!="function")throw Error(o(150));if(Te=vt.call(Te),Te==null)throw Error(o(151));for(var Wt=vt=null,Ut=le,pn=le=0,er=null,gn=Te.next();Ut!==null&&!gn.done;pn++,gn=Te.next()){Ut.index>pn?(er=Ut,Ut=null):er=Ut.sibling;var B1=wt(ve,Ut,gn.value,st);if(B1===null){Ut===null&&(Ut=er);break}d&&Ut&&B1.alternate===null&&g(ve,Ut),le=k(B1,le,pn),Wt===null?vt=B1:Wt.sibling=B1,Wt=B1,Ut=er}if(gn.done)return E(ve,Ut),Vn&&Zc(ve,pn),vt;if(Ut===null){for(;!gn.done;pn++,gn=Te.next())gn=Ft(ve,gn.value,st),gn!==null&&(le=k(gn,le,pn),Wt===null?vt=gn:Wt.sibling=gn,Wt=gn);return Vn&&Zc(ve,pn),vt}for(Ut=_(ve,Ut);!gn.done;pn++,gn=Te.next())gn=Mn(Ut,ve,pn,gn.value,st),gn!==null&&(d&&gn.alternate!==null&&Ut.delete(gn.key===null?pn:gn.key),le=k(gn,le,pn),Wt===null?vt=gn:Wt.sibling=gn,Wt=gn);return d&&Ut.forEach(function(YV){return g(ve,YV)}),Vn&&Zc(ve,pn),vt}function _o(ve,le,Te,st){if(typeof Te=="object"&&Te!==null&&Te.type===u&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case l:e:{for(var vt=Te.key,Wt=le;Wt!==null;){if(Wt.key===vt){if(vt=Te.type,vt===u){if(Wt.tag===7){E(ve,Wt.sibling),le=I(Wt,Te.props.children),le.return=ve,ve=le;break e}}else if(Wt.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===x&&v_(vt)===Wt.type){E(ve,Wt.sibling),le=I(Wt,Te.props),le.ref=S0(ve,Wt,Te),le.return=ve,ve=le;break e}E(ve,Wt);break}else g(ve,Wt);Wt=Wt.sibling}Te.type===u?(le=ou(Te.props.children,ve.mode,st,Te.key),le.return=ve,ve=le):(st=np(Te.type,Te.key,Te.props,null,ve.mode,st),st.ref=S0(ve,le,Te),st.return=ve,ve=st)}return K(ve);case c:e:{for(Wt=Te.key;le!==null;){if(le.key===Wt)if(le.tag===4&&le.stateNode.containerInfo===Te.containerInfo&&le.stateNode.implementation===Te.implementation){E(ve,le.sibling),le=I(le,Te.children||[]),le.return=ve,ve=le;break e}else{E(ve,le);break}else g(ve,le);le=le.sibling}le=Bm(Te,ve.mode,st),le.return=ve,ve=le}return K(ve);case x:return Wt=Te._init,_o(ve,le,Wt(Te._payload),st)}if(j(Te))return yt(ve,le,Te,st);if(M(Te))return Tr(ve,le,Te,st);_5(ve,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"?(Te=""+Te,le!==null&&le.tag===6?(E(ve,le.sibling),le=I(le,Te),le.return=ve,ve=le):(E(ve,le),le=Rm(Te,ve.mode,st),le.return=ve,ve=le),K(ve)):E(ve,le)}return _o}var z3=y_(!0),x_=y_(!1),E0={},So=It(E0),C0=It(E0),Q3=It(E0);function Fa(d){if(d===E0)throw Error(o(174));return d}function qg(d,g){Rt(Q3,g),Rt(C0,d),Rt(So,E0),d=J(g),on(So),Rt(So,d)}function H3(){on(So),on(C0),on(Q3)}function S_(d){var g=Fa(Q3.current),E=Fa(So.current);g=L(E,d.type,g),E!==g&&(Rt(C0,d),Rt(So,g))}function Yg(d){C0.current===d&&(on(So),on(C0))}var Zn=It(0);function M5(d){for(var g=d;g!==null;){if(g.tag===13){var E=g.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||fn(E)||Bn(E)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if(g.flags&128)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var Kg=[];function Jg(){for(var d=0;d<Kg.length;d++){var g=Kg[d];ze?g._workInProgressVersionPrimary=null:g._workInProgressVersionSecondary=null}Kg.length=0}var T5=a.ReactCurrentDispatcher,Eo=a.ReactCurrentBatchConfig,V3=0,ci=null,wr=null,Zi=null,b5=!1,w0=!1,_0=0,xV=0;function _r(){throw Error(o(321))}function $g(d,g){if(g===null)return!1;for(var E=0;E<g.length&&E<d.length;E++)if(!Os(d[E],g[E]))return!1;return!0}function Zg(d,g,E,_,I,k){if(V3=k,ci=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,T5.current=d===null||d.memoizedState===null?wV:_V,d=E(_,I),w0){k=0;do{if(w0=!1,_0=0,25<=k)throw Error(o(301));k+=1,Zi=wr=null,g.updateQueue=null,T5.current=MV,d=E(_,I)}while(w0)}if(T5.current=P5,g=wr!==null&&wr.next!==null,V3=0,Zi=wr=ci=null,b5=!1,g)throw Error(o(300));return d}function em(){var d=_0!==0;return _0=0,d}function Ll(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zi===null?ci.memoizedState=Zi=d:Zi=Zi.next=d,Zi}function Ua(){if(wr===null){var d=ci.alternate;d=d!==null?d.memoizedState:null}else d=wr.next;var g=Zi===null?ci.memoizedState:Zi.next;if(g!==null)Zi=g,wr=d;else{if(d===null)throw Error(o(310));wr=d,d={memoizedState:wr.memoizedState,baseState:wr.baseState,baseQueue:wr.baseQueue,queue:wr.queue,next:null},Zi===null?ci.memoizedState=Zi=d:Zi=Zi.next=d}return Zi}function eu(d,g){return typeof g=="function"?g(d):g}function I5(d){var g=Ua(),E=g.queue;if(E===null)throw Error(o(311));E.lastRenderedReducer=d;var _=wr,I=_.baseQueue,k=E.pending;if(k!==null){if(I!==null){var K=I.next;I.next=k.next,k.next=K}_.baseQueue=I=k,E.pending=null}if(I!==null){k=I.next,_=_.baseState;var ae=K=null,Be=null,$e=k;do{var ct=$e.lane;if((V3&ct)===ct)Be!==null&&(Be=Be.next={lane:0,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null}),_=$e.hasEagerState?$e.eagerState:d(_,$e.action);else{var Ft={lane:ct,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null};Be===null?(ae=Be=Ft,K=_):Be=Be.next=Ft,ci.lanes|=ct,j3|=ct}$e=$e.next}while($e!==null&&$e!==k);Be===null?K=_:Be.next=ae,Os(_,g.memoizedState)||(Gs=!0),g.memoizedState=_,g.baseState=K,g.baseQueue=Be,E.lastRenderedState=_}if(d=E.interleaved,d!==null){I=d;do k=I.lane,ci.lanes|=k,j3|=k,I=I.next;while(I!==d)}else I===null&&(E.lanes=0);return[g.memoizedState,E.dispatch]}function R5(d){var g=Ua(),E=g.queue;if(E===null)throw Error(o(311));E.lastRenderedReducer=d;var _=E.dispatch,I=E.pending,k=g.memoizedState;if(I!==null){E.pending=null;var K=I=I.next;do k=d(k,K.action),K=K.next;while(K!==I);Os(k,g.memoizedState)||(Gs=!0),g.memoizedState=k,g.baseQueue===null&&(g.baseState=k),E.lastRenderedState=k}return[k,_]}function E_(){}function C_(d,g){var E=ci,_=Ua(),I=g(),k=!Os(_.memoizedState,I);if(k&&(_.memoizedState=I,Gs=!0),_=_.queue,T0(M_.bind(null,E,_,d),[d]),_.getSnapshot!==g||k||Zi!==null&&Zi.memoizedState.tag&1){if(E.flags|=2048,M0(9,__.bind(null,E,_,I,g),void 0,null),bi===null)throw Error(o(349));V3&30||w_(E,g,I)}return I}function w_(d,g,E){d.flags|=16384,d={getSnapshot:g,value:E},g=ci.updateQueue,g===null?(g={lastEffect:null,stores:null},ci.updateQueue=g,g.stores=[d]):(E=g.stores,E===null?g.stores=[d]:E.push(d))}function __(d,g,E,_){g.value=E,g.getSnapshot=_,T_(g)&&Co(d,1,-1)}function M_(d,g,E){return E(function(){T_(g)&&Co(d,1,-1)})}function T_(d){var g=d.getSnapshot;d=d.value;try{var E=g();return!Os(d,E)}catch{return!0}}function tm(d){var g=Ll();return typeof d=="function"&&(d=d()),g.memoizedState=g.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eu,lastRenderedState:d},g.queue=d,d=d.dispatch=CV.bind(null,ci,d),[g.memoizedState,d]}function M0(d,g,E,_){return d={tag:d,create:g,destroy:E,deps:_,next:null},g=ci.updateQueue,g===null?(g={lastEffect:null,stores:null},ci.updateQueue=g,g.lastEffect=d.next=d):(E=g.lastEffect,E===null?g.lastEffect=d.next=d:(_=E.next,E.next=d,d.next=_,g.lastEffect=d)),d}function b_(){return Ua().memoizedState}function B5(d,g,E,_){var I=Ll();ci.flags|=d,I.memoizedState=M0(1|g,E,void 0,_===void 0?null:_)}function k5(d,g,E,_){var I=Ua();_=_===void 0?null:_;var k=void 0;if(wr!==null){var K=wr.memoizedState;if(k=K.destroy,_!==null&&$g(_,K.deps)){I.memoizedState=M0(g,E,k,_);return}}ci.flags|=d,I.memoizedState=M0(1|g,E,k,_)}function nm(d,g){return B5(8390656,8,d,g)}function T0(d,g){return k5(2048,8,d,g)}function I_(d,g){return k5(4,2,d,g)}function R_(d,g){return k5(4,4,d,g)}function B_(d,g){if(typeof g=="function")return d=d(),g(d),function(){g(null)};if(g!=null)return d=d(),g.current=d,function(){g.current=null}}function k_(d,g,E){return E=E!=null?E.concat([d]):null,k5(4,4,B_.bind(null,g,d),E)}function im(){}function P_(d,g){var E=Ua();g=g===void 0?null:g;var _=E.memoizedState;return _!==null&&g!==null&&$g(g,_[1])?_[0]:(E.memoizedState=[d,g],d)}function L_(d,g){var E=Ua();g=g===void 0?null:g;var _=E.memoizedState;return _!==null&&g!==null&&$g(g,_[1])?_[0]:(d=d(),E.memoizedState=[d,g],d)}function SV(d,g){var E=Jt;Jt=E!==0&&4>E?E:4,d(!0);var _=Eo.transition;Eo.transition={};try{d(!1),g()}finally{Jt=E,Eo.transition=_}}function D_(){return Ua().memoizedState}function EV(d,g,E){var _=b1(d);E={lane:_,action:E,hasEagerState:!1,eagerState:null,next:null},O_(d)?N_(g,E):(F_(d,g,E),E=Yr(),d=Co(d,_,E),d!==null&&U_(d,g,_))}function CV(d,g,E){var _=b1(d),I={lane:_,action:E,hasEagerState:!1,eagerState:null,next:null};if(O_(d))N_(g,I);else{F_(d,g,I);var k=d.alternate;if(d.lanes===0&&(k===null||k.lanes===0)&&(k=g.lastRenderedReducer,k!==null))try{var K=g.lastRenderedState,ae=k(K,E);if(I.hasEagerState=!0,I.eagerState=ae,Os(ae,K))return}catch{}finally{}E=Yr(),d=Co(d,_,E),d!==null&&U_(d,g,_)}}function O_(d){var g=d.alternate;return d===ci||g!==null&&g===ci}function N_(d,g){w0=b5=!0;var E=d.pending;E===null?g.next=g:(g.next=E.next,E.next=g),d.pending=g}function F_(d,g,E){bi!==null&&d.mode&1&&!(qt&2)?(d=g.interleaved,d===null?(E.next=E,Ns===null?Ns=[g]:Ns.push(g)):(E.next=d.next,d.next=E),g.interleaved=E):(d=g.pending,d===null?E.next=E:(E.next=d.next,d.next=E),g.pending=E)}function U_(d,g,E){if(E&4194240){var _=g.lanes;_&=d.pendingLanes,E|=_,g.lanes=E,Oa(d,E)}}var P5={readContext:xi,useCallback:_r,useContext:_r,useEffect:_r,useImperativeHandle:_r,useInsertionEffect:_r,useLayoutEffect:_r,useMemo:_r,useReducer:_r,useRef:_r,useState:_r,useDebugValue:_r,useDeferredValue:_r,useTransition:_r,useMutableSource:_r,useSyncExternalStore:_r,useId:_r,unstable_isNewReconciler:!1},wV={readContext:xi,useCallback:function(d,g){return Ll().memoizedState=[d,g===void 0?null:g],d},useContext:xi,useEffect:nm,useImperativeHandle:function(d,g,E){return E=E!=null?E.concat([d]):null,B5(4194308,4,B_.bind(null,g,d),E)},useLayoutEffect:function(d,g){return B5(4194308,4,d,g)},useInsertionEffect:function(d,g){return B5(4,2,d,g)},useMemo:function(d,g){var E=Ll();return g=g===void 0?null:g,d=d(),E.memoizedState=[d,g],d},useReducer:function(d,g,E){var _=Ll();return g=E!==void 0?E(g):g,_.memoizedState=_.baseState=g,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:g},_.queue=d,d=d.dispatch=EV.bind(null,ci,d),[_.memoizedState,d]},useRef:function(d){var g=Ll();return d={current:d},g.memoizedState=d},useState:tm,useDebugValue:im,useDeferredValue:function(d){var g=tm(d),E=g[0],_=g[1];return nm(function(){var I=Eo.transition;Eo.transition={};try{_(d)}finally{Eo.transition=I}},[d]),E},useTransition:function(){var d=tm(!1),g=d[0];return d=SV.bind(null,d[1]),Ll().memoizedState=d,[g,d]},useMutableSource:function(){},useSyncExternalStore:function(d,g,E){var _=ci,I=Ll();if(Vn){if(E===void 0)throw Error(o(407));E=E()}else{if(E=g(),bi===null)throw Error(o(349));V3&30||w_(_,g,E)}I.memoizedState=E;var k={value:E,getSnapshot:g};return I.queue=k,nm(M_.bind(null,_,k,d),[d]),_.flags|=2048,M0(9,__.bind(null,_,k,E,g),void 0,null),E},useId:function(){var d=Ll(),g=bi.identifierPrefix;if(Vn){var E=Pl,_=kl;E=(_&~(1<<32-Ls(_)-1)).toString(32)+E,g=":"+g+"R"+E,E=_0++,0<E&&(g+="H"+E.toString(32)),g+=":"}else E=xV++,g=":"+g+"r"+E.toString(32)+":";return d.memoizedState=g},unstable_isNewReconciler:!1},_V={readContext:xi,useCallback:P_,useContext:xi,useEffect:T0,useImperativeHandle:k_,useInsertionEffect:I_,useLayoutEffect:R_,useMemo:L_,useReducer:I5,useRef:b_,useState:function(){return I5(eu)},useDebugValue:im,useDeferredValue:function(d){var g=I5(eu),E=g[0],_=g[1];return T0(function(){var I=Eo.transition;Eo.transition={};try{_(d)}finally{Eo.transition=I}},[d]),E},useTransition:function(){var d=I5(eu)[0],g=Ua().memoizedState;return[d,g]},useMutableSource:E_,useSyncExternalStore:C_,useId:D_,unstable_isNewReconciler:!1},MV={readContext:xi,useCallback:P_,useContext:xi,useEffect:T0,useImperativeHandle:k_,useInsertionEffect:I_,useLayoutEffect:R_,useMemo:L_,useReducer:R5,useRef:b_,useState:function(){return R5(eu)},useDebugValue:im,useDeferredValue:function(d){var g=R5(eu),E=g[0],_=g[1];return T0(function(){var I=Eo.transition;Eo.transition={};try{_(d)}finally{Eo.transition=I}},[d]),E},useTransition:function(){var d=R5(eu)[0],g=Ua().memoizedState;return[d,g]},useMutableSource:E_,useSyncExternalStore:C_,useId:D_,unstable_isNewReconciler:!1};function rm(d,g){try{var E="",_=g;do E+=Jc(_),_=_.return;while(_);var I=E}catch(k){I=`
Error generating stack: `+k.message+`
`+k.stack}return{value:d,source:g,stack:I}}function sm(d,g){try{console.error(g.value)}catch(E){setTimeout(function(){throw E})}}var TV=typeof WeakMap=="function"?WeakMap:Map;function G_(d,g,E){E=Bl(-1,E),E.tag=3,E.payload={element:null};var _=g.value;return E.callback=function(){Y5||(Y5=!0,Cm=_),sm(d,g)},E}function z_(d,g,E){E=Bl(-1,E),E.tag=3;var _=d.type.getDerivedStateFromError;if(typeof _=="function"){var I=g.value;E.payload=function(){return _(I)},E.callback=function(){sm(d,g)}}var k=d.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(E.callback=function(){sm(d,g),typeof _!="function"&&(M1===null?M1=new Set([this]):M1.add(this));var K=g.stack;this.componentDidCatch(g.value,{componentStack:K!==null?K:""})}),E}function Q_(d,g,E){var _=d.pingCache;if(_===null){_=d.pingCache=new TV;var I=new Set;_.set(g,I)}else I=_.get(g),I===void 0&&(I=new Set,_.set(g,I));I.has(E)||(I.add(E),d=zV.bind(null,d,g,E),g.then(d,d))}function H_(d){do{var g;if((g=d.tag===13)&&(g=d.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return d;d=d.return}while(d!==null);return null}function V_(d,g,E,_,I){return d.mode&1?(d.flags|=65536,d.lanes=I,d):(d===g?d.flags|=65536:(d.flags|=128,E.flags|=131072,E.flags&=-52805,E.tag===1&&(E.alternate===null?E.tag=17:(g=Bl(-1,1),g.tag=2,_1(E,g))),E.lanes|=1),d)}function Ga(d){d.flags|=4}function W_(d,g){if(d!==null&&d.child===g.child)return!0;if(g.flags&16)return!1;for(d=g.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var b0,I0,L5,D5;if(Se)b0=function(d,g){for(var E=g.child;E!==null;){if(E.tag===5||E.tag===6)U(d,E.stateNode);else if(E.tag!==4&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===g)break;for(;E.sibling===null;){if(E.return===null||E.return===g)return;E=E.return}E.sibling.return=E.return,E=E.sibling}},I0=function(){},L5=function(d,g,E,_,I){if(d=d.memoizedProps,d!==_){var k=g.stateNode,K=Fa(So.current);E=ee(k,E,d,_,I,K),(g.updateQueue=E)&&Ga(g)}},D5=function(d,g,E,_){E!==_&&Ga(g)};else if(V){b0=function(d,g,E,_){for(var I=g.child;I!==null;){if(I.tag===5){var k=I.stateNode;E&&_&&(k=An(k,I.type,I.memoizedProps,I)),U(d,k)}else if(I.tag===6)k=I.stateNode,E&&_&&(k=rn(k,I.memoizedProps,I)),U(d,k);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)k=I.child,k!==null&&(k.return=I),b0(d,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===g)break;for(;I.sibling===null;){if(I.return===null||I.return===g)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};var j_=function(d,g,E,_){for(var I=g.child;I!==null;){if(I.tag===5){var k=I.stateNode;E&&_&&(k=An(k,I.type,I.memoizedProps,I)),Kt(d,k)}else if(I.tag===6)k=I.stateNode,E&&_&&(k=rn(k,I.memoizedProps,I)),Kt(d,k);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)k=I.child,k!==null&&(k.return=I),j_(d,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===g)break;for(;I.sibling===null;){if(I.return===null||I.return===g)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};I0=function(d,g){var E=g.stateNode;if(!W_(d,g)){d=E.containerInfo;var _=Dt(d);j_(_,g,!1,!1),E.pendingChildren=_,Ga(g),tn(d,_)}},L5=function(d,g,E,_,I){var k=d.stateNode,K=d.memoizedProps;if((d=W_(d,g))&&K===_)g.stateNode=k;else{var ae=g.stateNode,Be=Fa(So.current),$e=null;K!==_&&($e=ee(ae,E,K,_,I,Be)),d&&$e===null?g.stateNode=k:(k=Ze(k,$e,E,K,_,g,d,ae),$(k,E,_,I,Be)&&Ga(g),g.stateNode=k,d?Ga(g):b0(k,g,!1,!1))}},D5=function(d,g,E,_){E!==_?(d=Fa(Q3.current),E=Fa(So.current),g.stateNode=se(_,d,E,g),Ga(g)):g.stateNode=d.stateNode}}else I0=function(){},L5=function(){},D5=function(){};function R0(d,g){if(!Vn)switch(d.tailMode){case"hidden":g=d.tail;for(var E=null;g!==null;)g.alternate!==null&&(E=g),g=g.sibling;E===null?d.tail=null:E.sibling=null;break;case"collapsed":E=d.tail;for(var _=null;E!==null;)E.alternate!==null&&(_=E),E=E.sibling;_===null?g||d.tail===null?d.tail=null:d.tail.sibling=null:_.sibling=null}}function Mr(d){var g=d.alternate!==null&&d.alternate.child===d.child,E=0,_=0;if(g)for(var I=d.child;I!==null;)E|=I.lanes|I.childLanes,_|=I.subtreeFlags&14680064,_|=I.flags&14680064,I.return=d,I=I.sibling;else for(I=d.child;I!==null;)E|=I.lanes|I.childLanes,_|=I.subtreeFlags,_|=I.flags,I.return=d,I=I.sibling;return d.subtreeFlags|=_,d.childLanes=E,g}function bV(d,g,E){var _=g.pendingProps;switch(Vg(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mr(g),null;case 1:return kn(g.type)&&Hr(),Mr(g),null;case 3:return _=g.stateNode,H3(),on(Hn),on(li),Jg(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(d===null||d.child===null)&&(x0(g)?Ga(g):d===null||d.memoizedState.isDehydrated&&!(g.flags&256)||(g.flags|=1024,na!==null&&(Mm(na),na=null))),I0(d,g),Mr(g),null;case 5:Yg(g),E=Fa(Q3.current);var I=g.type;if(d!==null&&g.stateNode!=null)L5(d,g,I,_,E),d.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!_){if(g.stateNode===null)throw Error(o(166));return Mr(g),null}if(d=Fa(So.current),x0(g)){if(!ye)throw Error(o(175));d=Qr(g.stateNode,g.type,g.memoizedProps,E,d,g,!y0),g.updateQueue=d,d!==null&&Ga(g)}else{var k=z(I,_,E,d,g);b0(k,g,!1,!1),g.stateNode=k,$(k,I,_,E,d)&&Ga(g)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return Mr(g),null;case 6:if(d&&g.stateNode!=null)D5(d,g,d.memoizedProps,_);else{if(typeof _!="string"&&g.stateNode===null)throw Error(o(166));if(d=Fa(Q3.current),E=Fa(So.current),x0(g)){if(!ye)throw Error(o(176));if(d=g.stateNode,_=g.memoizedProps,(E=X(d,_,g,!y0))&&(I=Fs,I!==null))switch(k=(I.mode&1)!==0,I.tag){case 3:Mt(I.stateNode.containerInfo,d,_,k);break;case 5:Nt(I.type,I.memoizedProps,I.stateNode,d,_,k)}E&&Ga(g)}else g.stateNode=se(_,d,E,g)}return Mr(g),null;case 13:if(on(Zn),_=g.memoizedState,Vn&&Us!==null&&g.mode&1&&!(g.flags&128)){for(d=Us;d;)d=_n(d);return G3(),g.flags|=98560,g}if(_!==null&&_.dehydrated!==null){if(_=x0(g),d===null){if(!_)throw Error(o(318));if(!ye)throw Error(o(344));if(d=g.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));Ae(d,g)}else G3(),!(g.flags&128)&&(g.memoizedState=null),g.flags|=4;return Mr(g),null}return na!==null&&(Mm(na),na=null),g.flags&128?(g.lanes=E,g):(_=_!==null,E=!1,d===null?x0(g):E=d.memoizedState!==null,_&&!E&&(g.child.flags|=8192,g.mode&1&&(d===null||Zn.current&1?Oi===0&&(Oi=3):bm())),g.updateQueue!==null&&(g.flags|=4),Mr(g),null);case 4:return H3(),I0(d,g),d===null&&xe(g.stateNode.containerInfo),Mr(g),null;case 10:return $i(g.type._context),Mr(g),null;case 17:return kn(g.type)&&Hr(),Mr(g),null;case 19:if(on(Zn),I=g.memoizedState,I===null)return Mr(g),null;if(_=(g.flags&128)!==0,k=I.rendering,k===null)if(_)R0(I,!1);else{if(Oi!==0||d!==null&&d.flags&128)for(d=g.child;d!==null;){if(k=M5(d),k!==null){for(g.flags|=128,R0(I,!1),d=k.updateQueue,d!==null&&(g.updateQueue=d,g.flags|=4),g.subtreeFlags=0,d=E,_=g.child;_!==null;)E=_,I=d,E.flags&=14680066,k=E.alternate,k===null?(E.childLanes=0,E.lanes=I,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=k.childLanes,E.lanes=k.lanes,E.child=k.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=k.memoizedProps,E.memoizedState=k.memoizedState,E.updateQueue=k.updateQueue,E.type=k.type,I=k.dependencies,E.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext}),_=_.sibling;return Rt(Zn,Zn.current&1|2),g.child}d=d.sibling}I.tail!==null&&$n()>Em&&(g.flags|=128,_=!0,R0(I,!1),g.lanes=4194304)}else{if(!_)if(d=M5(k),d!==null){if(g.flags|=128,_=!0,d=d.updateQueue,d!==null&&(g.updateQueue=d,g.flags|=4),R0(I,!0),I.tail===null&&I.tailMode==="hidden"&&!k.alternate&&!Vn)return Mr(g),null}else 2*$n()-I.renderingStartTime>Em&&E!==1073741824&&(g.flags|=128,_=!0,R0(I,!1),g.lanes=4194304);I.isBackwards?(k.sibling=g.child,g.child=k):(d=I.last,d!==null?d.sibling=k:g.child=k,I.last=k)}return I.tail!==null?(g=I.tail,I.rendering=g,I.tail=g.sibling,I.renderingStartTime=$n(),g.sibling=null,d=Zn.current,Rt(Zn,_?d&1|2:d&1),g):(Mr(g),null);case 22:case 23:return Tm(),_=g.memoizedState!==null,d!==null&&d.memoizedState!==null!==_&&(g.flags|=8192),_&&g.mode&1?zs&1073741824&&(Mr(g),Se&&g.subtreeFlags&6&&(g.flags|=8192)):Mr(g),null;case 24:return null;case 25:return null}throw Error(o(156,g.tag))}var IV=a.ReactCurrentOwner,Gs=!1;function qr(d,g,E,_){g.child=d===null?x_(g,null,E,_):z3(g,d.child,E,_)}function X_(d,g,E,_,I){E=E.render;var k=g.ref;return yi(g,I),_=Zg(d,g,E,_,k,I),E=em(),d!==null&&!Gs?(g.updateQueue=d.updateQueue,g.flags&=-2053,d.lanes&=~I,Dl(d,g,I)):(Vn&&E&&Hg(g),g.flags|=1,qr(d,g,_,I),g.child)}function q_(d,g,E,_,I){if(d===null){var k=E.type;return typeof k=="function"&&!Im(k)&&k.defaultProps===void 0&&E.compare===null&&E.defaultProps===void 0?(g.tag=15,g.type=k,Y_(d,g,k,_,I)):(d=np(E.type,null,_,g,g.mode,I),d.ref=g.ref,d.return=g,g.child=d)}if(k=d.child,!(d.lanes&I)){var K=k.memoizedProps;if(E=E.compare,E=E!==null?E:Kc,E(K,_)&&d.ref===g.ref)return Dl(d,g,I)}return g.flags|=1,d=R1(k,_),d.ref=g.ref,d.return=g,g.child=d}function Y_(d,g,E,_,I){if(d!==null&&Kc(d.memoizedProps,_)&&d.ref===g.ref)if(Gs=!1,(d.lanes&I)!==0)d.flags&131072&&(Gs=!0);else return g.lanes=d.lanes,Dl(d,g,I);return om(d,g,E,_,I)}function K_(d,g,E){var _=g.pendingProps,I=_.children,k=d!==null?d.memoizedState:null;if(_.mode==="hidden")if(!(g.mode&1))g.memoizedState={baseLanes:0,cachePool:null},Rt(W3,zs),zs|=E;else if(E&1073741824)g.memoizedState={baseLanes:0,cachePool:null},_=k!==null?k.baseLanes:E,Rt(W3,zs),zs|=_;else return d=k!==null?k.baseLanes|E:E,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:d,cachePool:null},g.updateQueue=null,Rt(W3,zs),zs|=d,null;else k!==null?(_=k.baseLanes|E,g.memoizedState=null):_=E,Rt(W3,zs),zs|=_;return qr(d,g,I,E),g.child}function J_(d,g){var E=g.ref;(d===null&&E!==null||d!==null&&d.ref!==E)&&(g.flags|=512,g.flags|=2097152)}function om(d,g,E,_,I){var k=kn(E)?ps:li.current;return k=Cn(g,k),yi(g,I),E=Zg(d,g,E,_,k,I),_=em(),d!==null&&!Gs?(g.updateQueue=d.updateQueue,g.flags&=-2053,d.lanes&=~I,Dl(d,g,I)):(Vn&&_&&Hg(g),g.flags|=1,qr(d,g,E,I),g.child)}function $_(d,g,E,_,I){if(kn(E)){var k=!0;La(g)}else k=!1;if(yi(g,I),g.stateNode===null)d!==null&&(d.alternate=null,g.alternate=null,g.flags|=2),f_(g,E,_),Qg(g,E,_,I),_=!0;else if(d===null){var K=g.stateNode,ae=g.memoizedProps;K.props=ae;var Be=K.context,$e=E.contextType;typeof $e=="object"&&$e!==null?$e=xi($e):($e=kn(E)?ps:li.current,$e=Cn(g,$e));var ct=E.getDerivedStateFromProps,Ft=typeof ct=="function"||typeof K.getSnapshotBeforeUpdate=="function";Ft||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(ae!==_||Be!==$e)&&d_(g,K,_,$e),w1=!1;var wt=g.memoizedState;K.state=wt,S5(g,_,K,I),Be=g.memoizedState,ae!==_||wt!==Be||Hn.current||w1?(typeof ct=="function"&&(zg(g,E,ct,_),Be=g.memoizedState),(ae=w1||h_(g,E,ae,_,wt,Be,$e))?(Ft||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(g.flags|=4194308)):(typeof K.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=_,g.memoizedState=Be),K.props=_,K.state=Be,K.context=$e,_=ae):(typeof K.componentDidMount=="function"&&(g.flags|=4194308),_=!1)}else{K=g.stateNode,a_(d,g),ae=g.memoizedProps,$e=g.type===g.elementType?ae:jr(g.type,ae),K.props=$e,Ft=g.pendingProps,wt=K.context,Be=E.contextType,typeof Be=="object"&&Be!==null?Be=xi(Be):(Be=kn(E)?ps:li.current,Be=Cn(g,Be));var Mn=E.getDerivedStateFromProps;(ct=typeof Mn=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(ae!==Ft||wt!==Be)&&d_(g,K,_,Be),w1=!1,wt=g.memoizedState,K.state=wt,S5(g,_,K,I);var yt=g.memoizedState;ae!==Ft||wt!==yt||Hn.current||w1?(typeof Mn=="function"&&(zg(g,E,Mn,_),yt=g.memoizedState),($e=w1||h_(g,E,$e,_,wt,yt,Be)||!1)?(ct||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(_,yt,Be),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(_,yt,Be)),typeof K.componentDidUpdate=="function"&&(g.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof K.componentDidUpdate!="function"||ae===d.memoizedProps&&wt===d.memoizedState||(g.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||ae===d.memoizedProps&&wt===d.memoizedState||(g.flags|=1024),g.memoizedProps=_,g.memoizedState=yt),K.props=_,K.state=yt,K.context=Be,_=$e):(typeof K.componentDidUpdate!="function"||ae===d.memoizedProps&&wt===d.memoizedState||(g.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||ae===d.memoizedProps&&wt===d.memoizedState||(g.flags|=1024),_=!1)}return am(d,g,E,_,k,I)}function am(d,g,E,_,I,k){J_(d,g);var K=(g.flags&128)!==0;if(!_&&!K)return I&&Cr(g,E,!1),Dl(d,g,k);_=g.stateNode,IV.current=g;var ae=K&&typeof E.getDerivedStateFromError!="function"?null:_.render();return g.flags|=1,d!==null&&K?(g.child=z3(g,d.child,null,k),g.child=z3(g,null,ae,k)):qr(d,g,ae,k),g.memoizedState=_.state,I&&Cr(g,E,!0),g.child}function Z_(d){var g=d.stateNode;g.pendingContext?Ti(d,g.pendingContext,g.pendingContext!==g.context):g.context&&Ti(d,g.context,!1),qg(d,g.containerInfo)}function eM(d,g,E,_,I){return G3(),Xg(I),g.flags|=256,qr(d,g,E,_),g.child}var O5={dehydrated:null,treeContext:null,retryLane:0};function N5(d){return{baseLanes:d,cachePool:null}}function tM(d,g,E){var _=g.pendingProps,I=Zn.current,k=!1,K=(g.flags&128)!==0,ae;if((ae=K)||(ae=d!==null&&d.memoizedState===null?!1:(I&2)!==0),ae?(k=!0,g.flags&=-129):(d===null||d.memoizedState!==null)&&(I|=1),Rt(Zn,I&1),d===null)return jg(g),d=g.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(g.mode&1?Bn(d)?g.lanes=8:g.lanes=1073741824:g.lanes=1,null):(I=_.children,d=_.fallback,k?(_=g.mode,k=g.child,I={mode:"hidden",children:I},!(_&1)&&k!==null?(k.childLanes=0,k.pendingProps=I):k=ip(I,_,0,null),d=ou(d,_,E,null),k.return=g,d.return=g,k.sibling=d,g.child=k,g.child.memoizedState=N5(E),g.memoizedState=O5,d):lm(g,I));if(I=d.memoizedState,I!==null){if(ae=I.dehydrated,ae!==null){if(K)return g.flags&256?(g.flags&=-257,F5(d,g,E,Error(o(422)))):g.memoizedState!==null?(g.child=d.child,g.flags|=128,null):(k=_.fallback,I=g.mode,_=ip({mode:"visible",children:_.children},I,0,null),k=ou(k,I,E,null),k.flags|=2,_.return=g,k.return=g,_.sibling=k,g.child=_,g.mode&1&&z3(g,d.child,null,E),g.child.memoizedState=N5(E),g.memoizedState=O5,k);if(!(g.mode&1))g=F5(d,g,E,null);else if(Bn(ae))g=F5(d,g,E,Error(o(419)));else if(_=(E&d.childLanes)!==0,Gs||_){if(_=bi,_!==null){switch(E&-E){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}_=k&(_.suspendedLanes|E)?0:k,_!==0&&_!==I.retryLane&&(I.retryLane=_,Co(d,_,-1))}bm(),g=F5(d,g,E,Error(o(421)))}else fn(ae)?(g.flags|=128,g.child=d.child,g=QV.bind(null,d),or(ae,g),g=null):(E=I.treeContext,ye&&(Us=Ao(ae),Fs=g,Vn=!0,na=null,y0=!1,E!==null&&(yo[xo++]=kl,yo[xo++]=Pl,yo[xo++]=$c,kl=E.id,Pl=E.overflow,$c=g)),g=lm(g,g.pendingProps.children),g.flags|=4096);return g}return k?(_=iM(d,g,_.children,_.fallback,E),k=g.child,I=d.child.memoizedState,k.memoizedState=I===null?N5(E):{baseLanes:I.baseLanes|E,cachePool:null},k.childLanes=d.childLanes&~E,g.memoizedState=O5,_):(E=nM(d,g,_.children,E),g.memoizedState=null,E)}return k?(_=iM(d,g,_.children,_.fallback,E),k=g.child,I=d.child.memoizedState,k.memoizedState=I===null?N5(E):{baseLanes:I.baseLanes|E,cachePool:null},k.childLanes=d.childLanes&~E,g.memoizedState=O5,_):(E=nM(d,g,_.children,E),g.memoizedState=null,E)}function lm(d,g){return g=ip({mode:"visible",children:g},d.mode,0,null),g.return=d,d.child=g}function nM(d,g,E,_){var I=d.child;return d=I.sibling,E=R1(I,{mode:"visible",children:E}),!(g.mode&1)&&(E.lanes=_),E.return=g,E.sibling=null,d!==null&&(_=g.deletions,_===null?(g.deletions=[d],g.flags|=16):_.push(d)),g.child=E}function iM(d,g,E,_,I){var k=g.mode;d=d.child;var K=d.sibling,ae={mode:"hidden",children:E};return!(k&1)&&g.child!==d?(E=g.child,E.childLanes=0,E.pendingProps=ae,g.deletions=null):(E=R1(d,ae),E.subtreeFlags=d.subtreeFlags&14680064),K!==null?_=R1(K,_):(_=ou(_,k,I,null),_.flags|=2),_.return=g,E.return=g,E.sibling=_,g.child=E,_}function F5(d,g,E,_){return _!==null&&Xg(_),z3(g,d.child,null,E),d=lm(g,g.pendingProps.children),d.flags|=2,g.memoizedState=null,d}function rM(d,g,E){d.lanes|=g;var _=d.alternate;_!==null&&(_.lanes|=g),Xr(d.return,g,E)}function cm(d,g,E,_,I){var k=d.memoizedState;k===null?d.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:_,tail:E,tailMode:I}:(k.isBackwards=g,k.rendering=null,k.renderingStartTime=0,k.last=_,k.tail=E,k.tailMode=I)}function sM(d,g,E){var _=g.pendingProps,I=_.revealOrder,k=_.tail;if(qr(d,g,_.children,E),_=Zn.current,_&2)_=_&1|2,g.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=g.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&rM(d,E,g);else if(d.tag===19)rM(d,E,g);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===g)break e;for(;d.sibling===null;){if(d.return===null||d.return===g)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}_&=1}if(Rt(Zn,_),!(g.mode&1))g.memoizedState=null;else switch(I){case"forwards":for(E=g.child,I=null;E!==null;)d=E.alternate,d!==null&&M5(d)===null&&(I=E),E=E.sibling;E=I,E===null?(I=g.child,g.child=null):(I=E.sibling,E.sibling=null),cm(g,!1,I,E,k);break;case"backwards":for(E=null,I=g.child,g.child=null;I!==null;){if(d=I.alternate,d!==null&&M5(d)===null){g.child=I;break}d=I.sibling,I.sibling=E,E=I,I=d}cm(g,!0,E,null,k);break;case"together":cm(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function Dl(d,g,E){if(d!==null&&(g.dependencies=d.dependencies),j3|=g.lanes,!(E&g.childLanes))return null;if(d!==null&&g.child!==d.child)throw Error(o(153));if(g.child!==null){for(d=g.child,E=R1(d,d.pendingProps),g.child=E,E.return=g;d.sibling!==null;)d=d.sibling,E=E.sibling=R1(d,d.pendingProps),E.return=g;E.sibling=null}return g.child}function RV(d,g,E){switch(g.tag){case 3:Z_(g),G3();break;case 5:S_(g);break;case 1:kn(g.type)&&La(g);break;case 4:qg(g,g.stateNode.containerInfo);break;case 10:y5(g,g.type._context,g.memoizedProps.value);break;case 13:var _=g.memoizedState;if(_!==null)return _.dehydrated!==null?(Rt(Zn,Zn.current&1),g.flags|=128,null):E&g.child.childLanes?tM(d,g,E):(Rt(Zn,Zn.current&1),d=Dl(d,g,E),d!==null?d.sibling:null);Rt(Zn,Zn.current&1);break;case 19:if(_=(E&g.childLanes)!==0,d.flags&128){if(_)return sM(d,g,E);g.flags|=128}var I=g.memoizedState;if(I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),Rt(Zn,Zn.current),_)break;return null;case 22:case 23:return g.lanes=0,K_(d,g,E)}return Dl(d,g,E)}function BV(d,g){switch(Vg(g),g.tag){case 1:return kn(g.type)&&Hr(),d=g.flags,d&65536?(g.flags=d&-65537|128,g):null;case 3:return H3(),on(Hn),on(li),Jg(),d=g.flags,d&65536&&!(d&128)?(g.flags=d&-65537|128,g):null;case 5:return Yg(g),null;case 13:if(on(Zn),d=g.memoizedState,d!==null&&d.dehydrated!==null){if(g.alternate===null)throw Error(o(340));G3()}return d=g.flags,d&65536?(g.flags=d&-65537|128,g):null;case 19:return on(Zn),null;case 4:return H3(),null;case 10:return $i(g.type._context),null;case 22:case 23:return Tm(),null;case 24:return null;default:return null}}var U5=!1,tu=!1,kV=typeof WeakSet=="function"?WeakSet:Set,rt=null;function G5(d,g){var E=d.ref;if(E!==null)if(typeof E=="function")try{E(null)}catch(_){vs(d,g,_)}else E.current=null}function um(d,g,E){try{E()}catch(_){vs(d,g,_)}}var oM=!1;function PV(d,g){for(D(d.containerInfo),rt=g;rt!==null;)if(d=rt,g=d.child,(d.subtreeFlags&1028)!==0&&g!==null)g.return=d,rt=g;else for(;rt!==null;){d=rt;try{var E=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var _=E.memoizedProps,I=E.memoizedState,k=d.stateNode,K=k.getSnapshotBeforeUpdate(d.elementType===d.type?_:jr(d.type,_),I);k.__reactInternalSnapshotBeforeUpdate=K}break;case 3:Se&&We(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ae){vs(d,d.return,ae)}if(g=d.sibling,g!==null){g.return=d.return,rt=g;break}rt=d.return}return E=oM,oM=!1,E}function nu(d,g,E){var _=g.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var I=_=_.next;do{if((I.tag&d)===d){var k=I.destroy;I.destroy=void 0,k!==void 0&&um(g,E,k)}I=I.next}while(I!==_)}}function B0(d,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var E=g=g.next;do{if((E.tag&d)===d){var _=E.create;E.destroy=_()}E=E.next}while(E!==g)}}function hm(d){var g=d.ref;if(g!==null){var E=d.stateNode;switch(d.tag){case 5:d=q(E);break;default:d=E}typeof g=="function"?g(d):g.current=d}}function aM(d,g,E){if(Ds&&typeof Ds.onCommitFiberUnmount=="function")try{Ds.onCommitFiberUnmount(qc,g)}catch{}switch(g.tag){case 0:case 11:case 14:case 15:if(d=g.updateQueue,d!==null&&(d=d.lastEffect,d!==null)){var _=d=d.next;do{var I=_,k=I.destroy;I=I.tag,k!==void 0&&(I&2||I&4)&&um(g,E,k),_=_.next}while(_!==d)}break;case 1:if(G5(g,E),d=g.stateNode,typeof d.componentWillUnmount=="function")try{d.props=g.memoizedProps,d.state=g.memoizedState,d.componentWillUnmount()}catch(K){vs(g,E,K)}break;case 5:G5(g,E);break;case 4:Se?dM(d,g,E):V&&V&&(g=g.stateNode.containerInfo,E=Dt(g),an(g,E))}}function lM(d,g,E){for(var _=g;;)if(aM(d,_,E),_.child===null||Se&&_.tag===4){if(_===g)break;for(;_.sibling===null;){if(_.return===null||_.return===g)return;_=_.return}_.sibling.return=_.return,_=_.sibling}else _.child.return=_,_=_.child}function cM(d){var g=d.alternate;g!==null&&(d.alternate=null,cM(g)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(g=d.stateNode,g!==null&&qe(g)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function uM(d){return d.tag===5||d.tag===3||d.tag===4}function hM(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||uM(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function fM(d){if(Se){e:{for(var g=d.return;g!==null;){if(uM(g))break e;g=g.return}throw Error(o(160))}var E=g;switch(E.tag){case 5:g=E.stateNode,E.flags&32&&(nt(g),E.flags&=-33),E=hM(d),dm(d,E,g);break;case 3:case 4:g=E.stateNode.containerInfo,E=hM(d),fm(d,E,g);break;default:throw Error(o(161))}}}function fm(d,g,E){var _=d.tag;if(_===5||_===6)d=d.stateNode,g?Me(E,d,g):je(E,d);else if(_!==4&&(d=d.child,d!==null))for(fm(d,g,E),d=d.sibling;d!==null;)fm(d,g,E),d=d.sibling}function dm(d,g,E){var _=d.tag;if(_===5||_===6)d=d.stateNode,g?de(E,d,g):Re(E,d);else if(_!==4&&(d=d.child,d!==null))for(dm(d,g,E),d=d.sibling;d!==null;)dm(d,g,E),d=d.sibling}function dM(d,g,E){for(var _=g,I=!1,k,K;;){if(!I){I=_.return;e:for(;;){if(I===null)throw Error(o(160));switch(k=I.stateNode,I.tag){case 5:K=!1;break e;case 3:k=k.containerInfo,K=!0;break e;case 4:k=k.containerInfo,K=!0;break e}I=I.return}I=!0}if(_.tag===5||_.tag===6)lM(d,_,E),K?Fe(k,_.stateNode):Ee(k,_.stateNode);else if(_.tag===18)K?St(k,_.stateNode):at(k,_.stateNode);else if(_.tag===4){if(_.child!==null){k=_.stateNode.containerInfo,K=!0,_.child.return=_,_=_.child;continue}}else if(aM(d,_,E),_.child!==null){_.child.return=_,_=_.child;continue}if(_===g)break;for(;_.sibling===null;){if(_.return===null||_.return===g)return;_=_.return,_.tag===4&&(I=!1)}_.sibling.return=_.return,_=_.sibling}}function pm(d,g){if(Se){switch(g.tag){case 0:case 11:case 14:case 15:nu(3,g,g.return),B0(3,g),nu(5,g,g.return);return;case 1:return;case 5:var E=g.stateNode;if(E!=null){var _=g.memoizedProps;d=d!==null?d.memoizedProps:_;var I=g.type,k=g.updateQueue;g.updateQueue=null,k!==null&&Y(E,k,I,d,_,g)}return;case 6:if(g.stateNode===null)throw Error(o(162));E=g.memoizedProps,Qe(g.stateNode,d!==null?d.memoizedProps:E,E);return;case 3:ye&&d!==null&&d.memoizedState.isDehydrated&&ue(g.stateNode.containerInfo);return;case 12:return;case 13:z5(g);return;case 19:z5(g);return;case 17:return}throw Error(o(163))}switch(g.tag){case 0:case 11:case 14:case 15:nu(3,g,g.return),B0(3,g),nu(5,g,g.return);return;case 12:return;case 13:z5(g);return;case 19:z5(g);return;case 3:ye&&d!==null&&d.memoizedState.isDehydrated&&ue(g.stateNode.containerInfo);break;case 22:case 23:return}e:if(V){switch(g.tag){case 1:case 5:case 6:break e;case 3:case 4:g=g.stateNode,an(g.containerInfo,g.pendingChildren);break e}throw Error(o(163))}}function z5(d){var g=d.updateQueue;if(g!==null){d.updateQueue=null;var E=d.stateNode;E===null&&(E=d.stateNode=new kV),g.forEach(function(_){var I=HV.bind(null,d,_);E.has(_)||(E.add(_),_.then(I,I))})}}function LV(d,g){for(rt=g;rt!==null;){g=rt;var E=g.deletions;if(E!==null)for(var _=0;_<E.length;_++){var I=E[_];try{var k=d;Se?dM(k,I,g):lM(k,I,g);var K=I.alternate;K!==null&&(K.return=null),I.return=null}catch(vt){vs(I,g,vt)}}if(E=g.child,g.subtreeFlags&12854&&E!==null)E.return=g,rt=E;else for(;rt!==null;){g=rt;try{var ae=g.flags;if(ae&32&&Se&&nt(g.stateNode),ae&512){var Be=g.alternate;if(Be!==null){var $e=Be.ref;$e!==null&&(typeof $e=="function"?$e(null):$e.current=null)}}if(ae&8192)switch(g.tag){case 13:if(g.memoizedState!==null){var ct=g.alternate;(ct===null||ct.memoizedState===null)&&(Sm=$n())}break;case 22:var Ft=g.memoizedState!==null,wt=g.alternate,Mn=wt!==null&&wt.memoizedState!==null;if(E=g,Se){e:if(_=E,I=Ft,k=null,Se)for(var yt=_;;){if(yt.tag===5){if(k===null){k=yt;var Tr=yt.stateNode;I?ft(Tr):He(yt.stateNode,yt.memoizedProps)}}else if(yt.tag===6){if(k===null){var _o=yt.stateNode;I?Z(_o):ce(_o,yt.memoizedProps)}}else if((yt.tag!==22&&yt.tag!==23||yt.memoizedState===null||yt===_)&&yt.child!==null){yt.child.return=yt,yt=yt.child;continue}if(yt===_)break;for(;yt.sibling===null;){if(yt.return===null||yt.return===_)break e;k===yt&&(k=null),yt=yt.return}k===yt&&(k=null),yt.sibling.return=yt.return,yt=yt.sibling}}if(Ft&&!Mn&&E.mode&1){rt=E;for(var ve=E.child;ve!==null;){for(E=rt=ve;rt!==null;){_=rt;var le=_.child;switch(_.tag){case 0:case 11:case 14:case 15:nu(4,_,_.return);break;case 1:G5(_,_.return);var Te=_.stateNode;if(typeof Te.componentWillUnmount=="function"){var st=_.return;try{Te.props=_.memoizedProps,Te.state=_.memoizedState,Te.componentWillUnmount()}catch(vt){vs(_,st,vt)}}break;case 5:G5(_,_.return);break;case 22:if(_.memoizedState!==null){mM(E);continue}}le!==null?(le.return=_,rt=le):mM(E)}ve=ve.sibling}}}switch(ae&4102){case 2:fM(g),g.flags&=-3;break;case 6:fM(g),g.flags&=-3,pm(g.alternate,g);break;case 4096:g.flags&=-4097;break;case 4100:g.flags&=-4097,pm(g.alternate,g);break;case 4:pm(g.alternate,g)}}catch(vt){vs(g,g.return,vt)}if(E=g.sibling,E!==null){E.return=g.return,rt=E;break}rt=g.return}}}function DV(d,g,E){rt=d,pM(d)}function pM(d,g,E){for(var _=(d.mode&1)!==0;rt!==null;){var I=rt,k=I.child;if(I.tag===22&&_){var K=I.memoizedState!==null||U5;if(!K){var ae=I.alternate,Be=ae!==null&&ae.memoizedState!==null||tu;ae=U5;var $e=tu;if(U5=K,(tu=Be)&&!$e)for(rt=I;rt!==null;)K=rt,Be=K.child,K.tag===22&&K.memoizedState!==null?AM(I):Be!==null?(Be.return=K,rt=Be):AM(I);for(;k!==null;)rt=k,pM(k),k=k.sibling;rt=I,U5=ae,tu=$e}gM(d)}else I.subtreeFlags&8772&&k!==null?(k.return=I,rt=k):gM(d)}}function gM(d){for(;rt!==null;){var g=rt;if(g.flags&8772){var E=g.alternate;try{if(g.flags&8772)switch(g.tag){case 0:case 11:case 15:tu||B0(5,g);break;case 1:var _=g.stateNode;if(g.flags&4&&!tu)if(E===null)_.componentDidMount();else{var I=g.elementType===g.type?E.memoizedProps:jr(g.type,E.memoizedProps);_.componentDidUpdate(I,E.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var k=g.updateQueue;k!==null&&c_(g,k,_);break;case 3:var K=g.updateQueue;if(K!==null){if(E=null,g.child!==null)switch(g.child.tag){case 5:E=q(g.child.stateNode);break;case 1:E=g.child.stateNode}c_(g,K,E)}break;case 5:var ae=g.stateNode;E===null&&g.flags&4&&pe(ae,g.type,g.memoizedProps,g);break;case 6:break;case 4:break;case 12:break;case 13:if(ye&&g.memoizedState===null){var Be=g.alternate;if(Be!==null){var $e=Be.memoizedState;if($e!==null){var ct=$e.dehydrated;ct!==null&&De(ct)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}tu||g.flags&512&&hm(g)}catch(Ft){vs(g,g.return,Ft)}}if(g===d){rt=null;break}if(E=g.sibling,E!==null){E.return=g.return,rt=E;break}rt=g.return}}function mM(d){for(;rt!==null;){var g=rt;if(g===d){rt=null;break}var E=g.sibling;if(E!==null){E.return=g.return,rt=E;break}rt=g.return}}function AM(d){for(;rt!==null;){var g=rt;try{switch(g.tag){case 0:case 11:case 15:var E=g.return;try{B0(4,g)}catch(Be){vs(g,E,Be)}break;case 1:var _=g.stateNode;if(typeof _.componentDidMount=="function"){var I=g.return;try{_.componentDidMount()}catch(Be){vs(g,I,Be)}}var k=g.return;try{hm(g)}catch(Be){vs(g,k,Be)}break;case 5:var K=g.return;try{hm(g)}catch(Be){vs(g,K,Be)}}}catch(Be){vs(g,g.return,Be)}if(g===d){rt=null;break}var ae=g.sibling;if(ae!==null){ae.return=g.return,rt=ae;break}rt=g.return}}var Q5=0,H5=1,V5=2,W5=3,j5=4;if(typeof Symbol=="function"&&Symbol.for){var k0=Symbol.for;Q5=k0("selector.component"),H5=k0("selector.has_pseudo_class"),V5=k0("selector.role"),W5=k0("selector.test_id"),j5=k0("selector.text")}function gm(d){var g=fe(d);if(g!=null){if(typeof g.memoizedProps["data-testname"]!="string")throw Error(o(364));return g}if(d=we(d),d===null)throw Error(o(362));return d.stateNode.current}function mm(d,g){switch(g.$$typeof){case Q5:if(d.type===g.value)return!0;break;case H5:e:{g=g.value,d=[d,0];for(var E=0;E<d.length;){var _=d[E++],I=d[E++],k=g[I];if(_.tag!==5||!N(_)){for(;k!=null&&mm(_,k);)I++,k=g[I];if(I===g.length){g=!0;break e}else for(_=_.child;_!==null;)d.push(_,I),_=_.sibling}}g=!1}return g;case V5:if(d.tag===5&&oe(d.stateNode,g.value))return!0;break;case j5:if((d.tag===5||d.tag===6)&&(d=W(d),d!==null&&0<=d.indexOf(g.value)))return!0;break;case W5:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===g.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Am(d){switch(d.$$typeof){case Q5:return"<"+(T(d.value)||"Unknown")+">";case H5:return":has("+(Am(d)||"")+")";case V5:return'[role="'+d.value+'"]';case j5:return'"'+d.value+'"';case W5:return'[data-testname="'+d.value+'"]';default:throw Error(o(365))}}function vM(d,g){var E=[];d=[d,0];for(var _=0;_<d.length;){var I=d[_++],k=d[_++],K=g[k];if(I.tag!==5||!N(I)){for(;K!=null&&mm(I,K);)k++,K=g[k];if(k===g.length)E.push(I);else for(I=I.child;I!==null;)d.push(I,k),I=I.sibling}}return E}function vm(d,g){if(!Ue)throw Error(o(363));d=gm(d),d=vM(d,g),g=[],d=Array.from(d);for(var E=0;E<d.length;){var _=d[E++];if(_.tag===5)N(_)||g.push(_.stateNode);else for(_=_.child;_!==null;)d.push(_),_=_.sibling}return g}var OV=Math.ceil,X5=a.ReactCurrentDispatcher,ym=a.ReactCurrentOwner,Si=a.ReactCurrentBatchConfig,qt=0,bi=null,Ii=null,ar=0,zs=0,W3=It(0),Oi=0,P0=null,j3=0,q5=0,xm=0,L0=null,ms=null,Sm=0,Em=1/0;function X3(){Em=$n()+500}var Y5=!1,Cm=null,M1=null,K5=!1,T1=null,J5=0,D0=0,wm=null,$5=-1,Z5=0;function Yr(){return qt&6?$n():$5!==-1?$5:$5=$n()}function b1(d){return d.mode&1?qt&2&&ar!==0?ar&-ar:Yc.transition!==null?(Z5===0&&(d=Ml,Ml<<=1,!(Ml&4194240)&&(Ml=64),Z5=d),Z5):(d=Jt,d!==0?d:ge()):1}function Co(d,g,E){if(50<D0)throw D0=0,wm=null,Error(o(185));var _=ep(d,g);return _===null?null:(Da(_,g,E),(!(qt&2)||_!==bi)&&(_===bi&&(!(qt&2)&&(q5|=g),Oi===4&&I1(_,ar)),As(_,E),g===1&&qt===0&&!(d.mode&1)&&(X3(),Na&&gs())),_)}function ep(d,g){d.lanes|=g;var E=d.alternate;for(E!==null&&(E.lanes|=g),E=d,d=d.return;d!==null;)d.childLanes|=g,E=d.alternate,E!==null&&(E.childLanes|=g),E=d,d=d.return;return E.tag===3?E.stateNode:null}function As(d,g){var E=d.callbackNode;f0(d,g);var _=jc(d,d===bi?ar:0);if(_===0)E!==null&&D3(E),d.callbackNode=null,d.callbackPriority=0;else if(g=_&-_,d.callbackPriority!==g){if(E!=null&&D3(E),g===1)d.tag===0?v0(xM.bind(null,d)):A0(xM.bind(null,d)),me?Pe(function(){qt===0&&gs()}):Rl(Xc,gs),E=null;else{switch(d0(_)){case 1:E=Xc;break;case 4:E=A5;break;case 16:E=Vr;break;case 536870912:E=g0;break;default:E=Vr}E=IM(E,yM.bind(null,d))}d.callbackPriority=g,d.callbackNode=E}}function yM(d,g){if($5=-1,Z5=0,qt&6)throw Error(o(327));var E=d.callbackNode;if(su()&&d.callbackNode!==E)return null;var _=jc(d,d===bi?ar:0);if(_===0)return null;if(_&30||_&d.expiredLanes||g)g=tp(d,_);else{g=_;var I=qt;qt|=2;var k=CM();(bi!==d||ar!==g)&&(X3(),iu(d,g));do try{UV();break}catch(ae){EM(d,ae)}while(1);N3(),X5.current=k,qt=I,Ii!==null?g=0:(bi=null,ar=0,g=Oi)}if(g!==0){if(g===2&&(I=Il(d),I!==0&&(_=I,g=_m(d,I))),g===1)throw E=P0,iu(d,0),I1(d,_),As(d,$n()),E;if(g===6)I1(d,_);else{if(I=d.current.alternate,!(_&30)&&!NV(I)&&(g=tp(d,_),g===2&&(k=Il(d),k!==0&&(_=k,g=_m(d,k))),g===1))throw E=P0,iu(d,0),I1(d,_),As(d,$n()),E;switch(d.finishedWork=I,d.finishedLanes=_,g){case 0:case 1:throw Error(o(345));case 2:ru(d,ms);break;case 3:if(I1(d,_),(_&130023424)===_&&(g=Sm+500-$n(),10<g)){if(jc(d,0)!==0)break;if(I=d.suspendedLanes,(I&_)!==_){Yr(),d.pingedLanes|=d.suspendedLanes&I;break}d.timeoutHandle=re(ru.bind(null,d,ms),g);break}ru(d,ms);break;case 4:if(I1(d,_),(_&4194240)===_)break;for(g=d.eventTimes,I=-1;0<_;){var K=31-Ls(_);k=1<<K,K=g[K],K>I&&(I=K),_&=~k}if(_=I,_=$n()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*OV(_/1960))-_,10<_){d.timeoutHandle=re(ru.bind(null,d,ms),_);break}ru(d,ms);break;case 5:ru(d,ms);break;default:throw Error(o(329))}}}return As(d,$n()),d.callbackNode===E?yM.bind(null,d):null}function _m(d,g){var E=L0;return d.current.memoizedState.isDehydrated&&(iu(d,g).flags|=256),d=tp(d,g),d!==2&&(g=ms,ms=E,g!==null&&Mm(g)),d}function Mm(d){ms===null?ms=d:ms.push.apply(ms,d)}function NV(d){for(var g=d;;){if(g.flags&16384){var E=g.updateQueue;if(E!==null&&(E=E.stores,E!==null))for(var _=0;_<E.length;_++){var I=E[_],k=I.getSnapshot;I=I.value;try{if(!Os(k(),I))return!1}catch{return!1}}}if(E=g.child,g.subtreeFlags&16384&&E!==null)E.return=g,g=E;else{if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function I1(d,g){for(g&=~xm,g&=~q5,d.suspendedLanes|=g,d.pingedLanes&=~g,d=d.expirationTimes;0<g;){var E=31-Ls(g),_=1<<E;d[E]=-1,g&=~_}}function xM(d){if(qt&6)throw Error(o(327));su();var g=jc(d,0);if(!(g&1))return As(d,$n()),null;var E=tp(d,g);if(d.tag!==0&&E===2){var _=Il(d);_!==0&&(g=_,E=_m(d,_))}if(E===1)throw E=P0,iu(d,0),I1(d,g),As(d,$n()),E;if(E===6)throw Error(o(345));return d.finishedWork=d.current.alternate,d.finishedLanes=g,ru(d,ms),As(d,$n()),null}function SM(d){T1!==null&&T1.tag===0&&!(qt&6)&&su();var g=qt;qt|=1;var E=Si.transition,_=Jt;try{if(Si.transition=null,Jt=1,d)return d()}finally{Jt=_,Si.transition=E,qt=g,!(qt&6)&&gs()}}function Tm(){zs=W3.current,on(W3)}function iu(d,g){d.finishedWork=null,d.finishedLanes=0;var E=d.timeoutHandle;if(E!==Ce&&(d.timeoutHandle=Ce,he(E)),Ii!==null)for(E=Ii.return;E!==null;){var _=E;switch(Vg(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&Hr();break;case 3:H3(),on(Hn),on(li),Jg();break;case 5:Yg(_);break;case 4:H3();break;case 13:on(Zn);break;case 19:on(Zn);break;case 10:$i(_.type._context);break;case 22:case 23:Tm()}E=E.return}if(bi=d,Ii=d=R1(d.current,null),ar=zs=g,Oi=0,P0=null,xm=q5=j3=0,ms=L0=null,Ns!==null){for(g=0;g<Ns.length;g++)if(E=Ns[g],_=E.interleaved,_!==null){E.interleaved=null;var I=_.next,k=E.pending;if(k!==null){var K=k.next;k.next=I,_.next=K}E.pending=_}Ns=null}return d}function EM(d,g){do{var E=Ii;try{if(N3(),T5.current=P5,b5){for(var _=ci.memoizedState;_!==null;){var I=_.queue;I!==null&&(I.pending=null),_=_.next}b5=!1}if(V3=0,Zi=wr=ci=null,w0=!1,_0=0,ym.current=null,E===null||E.return===null){Oi=1,P0=g,Ii=null;break}e:{var k=d,K=E.return,ae=E,Be=g;if(g=ar,ae.flags|=32768,Be!==null&&typeof Be=="object"&&typeof Be.then=="function"){var $e=Be,ct=ae,Ft=ct.tag;if(!(ct.mode&1)&&(Ft===0||Ft===11||Ft===15)){var wt=ct.alternate;wt?(ct.updateQueue=wt.updateQueue,ct.memoizedState=wt.memoizedState,ct.lanes=wt.lanes):(ct.updateQueue=null,ct.memoizedState=null)}var Mn=H_(K);if(Mn!==null){Mn.flags&=-257,V_(Mn,K,ae,k,g),Mn.mode&1&&Q_(k,$e,g),g=Mn,Be=$e;var yt=g.updateQueue;if(yt===null){var Tr=new Set;Tr.add(Be),g.updateQueue=Tr}else yt.add(Be);break e}else{if(!(g&1)){Q_(k,$e,g),bm();break e}Be=Error(o(426))}}else if(Vn&&ae.mode&1){var _o=H_(K);if(_o!==null){!(_o.flags&65536)&&(_o.flags|=256),V_(_o,K,ae,k,g),Xg(Be);break e}}k=Be,Oi!==4&&(Oi=2),L0===null?L0=[k]:L0.push(k),Be=rm(Be,ae),ae=K;do{switch(ae.tag){case 3:ae.flags|=65536,g&=-g,ae.lanes|=g;var ve=G_(ae,Be,g);l_(ae,ve);break e;case 1:k=Be;var le=ae.type,Te=ae.stateNode;if(!(ae.flags&128)&&(typeof le.getDerivedStateFromError=="function"||Te!==null&&typeof Te.componentDidCatch=="function"&&(M1===null||!M1.has(Te)))){ae.flags|=65536,g&=-g,ae.lanes|=g;var st=z_(ae,k,g);l_(ae,st);break e}}ae=ae.return}while(ae!==null)}_M(E)}catch(vt){g=vt,Ii===E&&E!==null&&(Ii=E=E.return);continue}break}while(1)}function CM(){var d=X5.current;return X5.current=P5,d===null?P5:d}function bm(){(Oi===0||Oi===3||Oi===2)&&(Oi=4),bi===null||!(j3&268435455)&&!(q5&268435455)||I1(bi,ar)}function tp(d,g){var E=qt;qt|=2;var _=CM();bi===d&&ar===g||iu(d,g);do try{FV();break}catch(I){EM(d,I)}while(1);if(N3(),qt=E,X5.current=_,Ii!==null)throw Error(o(261));return bi=null,ar=0,Oi}function FV(){for(;Ii!==null;)wM(Ii)}function UV(){for(;Ii!==null&&!p0();)wM(Ii)}function wM(d){var g=bM(d.alternate,d,zs);d.memoizedProps=d.pendingProps,g===null?_M(d):Ii=g,ym.current=null}function _M(d){var g=d;do{var E=g.alternate;if(d=g.return,g.flags&32768){if(E=BV(E,g),E!==null){E.flags&=32767,Ii=E;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Oi=6,Ii=null;return}}else if(E=bV(E,g,zs),E!==null){Ii=E;return}if(g=g.sibling,g!==null){Ii=g;return}Ii=g=d}while(g!==null);Oi===0&&(Oi=5)}function ru(d,g){var E=Jt,_=Si.transition;try{Si.transition=null,Jt=1,GV(d,g,E)}finally{Si.transition=_,Jt=E}return null}function GV(d,g,E){do su();while(T1!==null);if(qt&6)throw Error(o(327));var _=d.finishedWork,I=d.finishedLanes;if(_===null)return null;if(d.finishedWork=null,d.finishedLanes=0,_===d.current)throw Error(o(177));d.callbackNode=null,d.callbackPriority=0;var k=_.lanes|_.childLanes;if(E1(d,k),d===bi&&(Ii=bi=null,ar=0),!(_.subtreeFlags&2064)&&!(_.flags&2064)||K5||(K5=!0,IM(Vr,function(){return su(),null})),k=(_.flags&15990)!==0,_.subtreeFlags&15990||k){k=Si.transition,Si.transition=null;var K=Jt;Jt=1;var ae=qt;qt|=4,ym.current=null,PV(d,_),LV(d,_),F(d.containerInfo),d.current=_,DV(_),m5(),qt=ae,Jt=K,Si.transition=k}else d.current=_;if(K5&&(K5=!1,T1=d,J5=I),k=d.pendingLanes,k===0&&(M1=null),m0(_.stateNode),As(d,$n()),g!==null)for(E=d.onRecoverableError,_=0;_<g.length;_++)E(g[_]);if(Y5)throw Y5=!1,d=Cm,Cm=null,d;return J5&1&&d.tag!==0&&su(),k=d.pendingLanes,k&1?d===wm?D0++:(D0=0,wm=d):D0=0,gs(),null}function su(){if(T1!==null){var d=d0(J5),g=Si.transition,E=Jt;try{if(Si.transition=null,Jt=16>d?16:d,T1===null)var _=!1;else{if(d=T1,T1=null,J5=0,qt&6)throw Error(o(331));var I=qt;for(qt|=4,rt=d.current;rt!==null;){var k=rt,K=k.child;if(rt.flags&16){var ae=k.deletions;if(ae!==null){for(var Be=0;Be<ae.length;Be++){var $e=ae[Be];for(rt=$e;rt!==null;){var ct=rt;switch(ct.tag){case 0:case 11:case 15:nu(8,ct,k)}var Ft=ct.child;if(Ft!==null)Ft.return=ct,rt=Ft;else for(;rt!==null;){ct=rt;var wt=ct.sibling,Mn=ct.return;if(cM(ct),ct===$e){rt=null;break}if(wt!==null){wt.return=Mn,rt=wt;break}rt=Mn}}}var yt=k.alternate;if(yt!==null){var Tr=yt.child;if(Tr!==null){yt.child=null;do{var _o=Tr.sibling;Tr.sibling=null,Tr=_o}while(Tr!==null)}}rt=k}}if(k.subtreeFlags&2064&&K!==null)K.return=k,rt=K;else e:for(;rt!==null;){if(k=rt,k.flags&2048)switch(k.tag){case 0:case 11:case 15:nu(9,k,k.return)}var ve=k.sibling;if(ve!==null){ve.return=k.return,rt=ve;break e}rt=k.return}}var le=d.current;for(rt=le;rt!==null;){K=rt;var Te=K.child;if(K.subtreeFlags&2064&&Te!==null)Te.return=K,rt=Te;else e:for(K=le;rt!==null;){if(ae=rt,ae.flags&2048)try{switch(ae.tag){case 0:case 11:case 15:B0(9,ae)}}catch(vt){vs(ae,ae.return,vt)}if(ae===K){rt=null;break e}var st=ae.sibling;if(st!==null){st.return=ae.return,rt=st;break e}rt=ae.return}}if(qt=I,gs(),Ds&&typeof Ds.onPostCommitFiberRoot=="function")try{Ds.onPostCommitFiberRoot(qc,d)}catch{}_=!0}return _}finally{Jt=E,Si.transition=g}}return!1}function MM(d,g,E){g=rm(E,g),g=G_(d,g,1),_1(d,g),g=Yr(),d=ep(d,1),d!==null&&(Da(d,1,g),As(d,g))}function vs(d,g,E){if(d.tag===3)MM(d,d,E);else for(;g!==null;){if(g.tag===3){MM(g,d,E);break}else if(g.tag===1){var _=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(M1===null||!M1.has(_))){d=rm(E,d),d=z_(g,d,1),_1(g,d),d=Yr(),g=ep(g,1),g!==null&&(Da(g,1,d),As(g,d));break}}g=g.return}}function zV(d,g,E){var _=d.pingCache;_!==null&&_.delete(g),g=Yr(),d.pingedLanes|=d.suspendedLanes&E,bi===d&&(ar&E)===E&&(Oi===4||Oi===3&&(ar&130023424)===ar&&500>$n()-Sm?iu(d,0):xm|=E),As(d,g)}function TM(d,g){g===0&&(d.mode&1?(g=Tl,Tl<<=1,!(Tl&130023424)&&(Tl=4194304)):g=1);var E=Yr();d=ep(d,g),d!==null&&(Da(d,g,E),As(d,E))}function QV(d){var g=d.memoizedState,E=0;g!==null&&(E=g.retryLane),TM(d,E)}function HV(d,g){var E=0;switch(d.tag){case 13:var _=d.stateNode,I=d.memoizedState;I!==null&&(E=I.retryLane);break;case 19:_=d.stateNode;break;default:throw Error(o(314))}_!==null&&_.delete(g),TM(d,E)}var bM;bM=function(d,g,E){if(d!==null)if(d.memoizedProps!==g.pendingProps||Hn.current)Gs=!0;else{if(!(d.lanes&E)&&!(g.flags&128))return Gs=!1,RV(d,g,E);Gs=!!(d.flags&131072)}else Gs=!1,Vn&&g.flags&1048576&&p_(g,w5,g.index);switch(g.lanes=0,g.tag){case 2:var _=g.type;d!==null&&(d.alternate=null,g.alternate=null,g.flags|=2),d=g.pendingProps;var I=Cn(g,li.current);yi(g,E),I=Zg(null,g,_,d,I,E);var k=em();return g.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,kn(_)?(k=!0,La(g)):k=!1,g.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,Gg(g),I.updater=E5,g.stateNode=I,I._reactInternals=g,Qg(g,_,d,E),g=am(null,g,_,!0,k,E)):(g.tag=0,Vn&&k&&Hg(g),qr(null,g,I,E),g=g.child),g;case 16:_=g.elementType;e:{switch(d!==null&&(d.alternate=null,g.alternate=null,g.flags|=2),d=g.pendingProps,I=_._init,_=I(_._payload),g.type=_,I=g.tag=WV(_),d=jr(_,d),I){case 0:g=om(null,g,_,d,E);break e;case 1:g=$_(null,g,_,d,E);break e;case 11:g=X_(null,g,_,d,E);break e;case 14:g=q_(null,g,_,jr(_.type,d),E);break e}throw Error(o(306,_,""))}return g;case 0:return _=g.type,I=g.pendingProps,I=g.elementType===_?I:jr(_,I),om(d,g,_,I,E);case 1:return _=g.type,I=g.pendingProps,I=g.elementType===_?I:jr(_,I),$_(d,g,_,I,E);case 3:e:{if(Z_(g),d===null)throw Error(o(387));_=g.pendingProps,k=g.memoizedState,I=k.element,a_(d,g),S5(g,_,null,E);var K=g.memoizedState;if(_=K.element,ye&&k.isDehydrated)if(k={element:_,isDehydrated:!1,cache:K.cache,transitions:K.transitions},g.updateQueue.baseState=k,g.memoizedState=k,g.flags&256){I=Error(o(423)),g=eM(d,g,_,E,I);break e}else if(_!==I){I=Error(o(424)),g=eM(d,g,_,E,I);break e}else for(ye&&(Us=Di(g.stateNode.containerInfo),Fs=g,Vn=!0,na=null,y0=!1),E=x_(g,null,_,E),g.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling;else{if(G3(),_===I){g=Dl(d,g,E);break e}qr(d,g,_,E)}g=g.child}return g;case 5:return S_(g),d===null&&jg(g),_=g.type,I=g.pendingProps,k=d!==null?d.memoizedProps:null,K=I.children,ie(_,I)?K=null:k!==null&&ie(_,k)&&(g.flags|=32),J_(d,g),qr(d,g,K,E),g.child;case 6:return d===null&&jg(g),null;case 13:return tM(d,g,E);case 4:return qg(g,g.stateNode.containerInfo),_=g.pendingProps,d===null?g.child=z3(g,null,_,E):qr(d,g,_,E),g.child;case 11:return _=g.type,I=g.pendingProps,I=g.elementType===_?I:jr(_,I),X_(d,g,_,I,E);case 7:return qr(d,g,g.pendingProps,E),g.child;case 8:return qr(d,g,g.pendingProps.children,E),g.child;case 12:return qr(d,g,g.pendingProps.children,E),g.child;case 10:e:{if(_=g.type._context,I=g.pendingProps,k=g.memoizedProps,K=I.value,y5(g,_,K),k!==null)if(Os(k.value,K)){if(k.children===I.children&&!Hn.current){g=Dl(d,g,E);break e}}else for(k=g.child,k!==null&&(k.return=g);k!==null;){var ae=k.dependencies;if(ae!==null){K=k.child;for(var Be=ae.firstContext;Be!==null;){if(Be.context===_){if(k.tag===1){Be=Bl(-1,E&-E),Be.tag=2;var $e=k.updateQueue;if($e!==null){$e=$e.shared;var ct=$e.pending;ct===null?Be.next=Be:(Be.next=ct.next,ct.next=Be),$e.pending=Be}}k.lanes|=E,Be=k.alternate,Be!==null&&(Be.lanes|=E),Xr(k.return,E,g),ae.lanes|=E;break}Be=Be.next}}else if(k.tag===10)K=k.type===g.type?null:k.child;else if(k.tag===18){if(K=k.return,K===null)throw Error(o(341));K.lanes|=E,ae=K.alternate,ae!==null&&(ae.lanes|=E),Xr(K,E,g),K=k.sibling}else K=k.child;if(K!==null)K.return=k;else for(K=k;K!==null;){if(K===g){K=null;break}if(k=K.sibling,k!==null){k.return=K.return,K=k;break}K=K.return}k=K}qr(d,g,I.children,E),g=g.child}return g;case 9:return I=g.type,_=g.pendingProps.children,yi(g,E),I=xi(I),_=_(I),g.flags|=1,qr(d,g,_,E),g.child;case 14:return _=g.type,I=jr(_,g.pendingProps),I=jr(_.type,I),q_(d,g,_,I,E);case 15:return Y_(d,g,g.type,g.pendingProps,E);case 17:return _=g.type,I=g.pendingProps,I=g.elementType===_?I:jr(_,I),d!==null&&(d.alternate=null,g.alternate=null,g.flags|=2),g.tag=1,kn(_)?(d=!0,La(g)):d=!1,yi(g,E),f_(g,_,I),Qg(g,_,I,E),am(null,g,_,!0,d,E);case 19:return sM(d,g,E);case 22:return K_(d,g,E)}throw Error(o(156,g.tag))};function IM(d,g){return Rl(d,g)}function VV(d,g,E,_){this.tag=d,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wo(d,g,E,_){return new VV(d,g,E,_)}function Im(d){return d=d.prototype,!(!d||!d.isReactComponent)}function WV(d){if(typeof d=="function")return Im(d)?1:0;if(d!=null){if(d=d.$$typeof,d===S)return 11;if(d===y)return 14}return 2}function R1(d,g){var E=d.alternate;return E===null?(E=wo(d.tag,g,d.key,d.mode),E.elementType=d.elementType,E.type=d.type,E.stateNode=d.stateNode,E.alternate=d,d.alternate=E):(E.pendingProps=g,E.type=d.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=d.flags&14680064,E.childLanes=d.childLanes,E.lanes=d.lanes,E.child=d.child,E.memoizedProps=d.memoizedProps,E.memoizedState=d.memoizedState,E.updateQueue=d.updateQueue,g=d.dependencies,E.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},E.sibling=d.sibling,E.index=d.index,E.ref=d.ref,E}function np(d,g,E,_,I,k){var K=2;if(_=d,typeof d=="function")Im(d)&&(K=1);else if(typeof d=="string")K=5;else e:switch(d){case u:return ou(E.children,I,k,g);case h:K=8,I|=8;break;case f:return d=wo(12,E,g,I|2),d.elementType=f,d.lanes=k,d;case v:return d=wo(13,E,g,I),d.elementType=v,d.lanes=k,d;case A:return d=wo(19,E,g,I),d.elementType=A,d.lanes=k,d;case C:return ip(E,I,k,g);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case p:K=10;break e;case m:K=9;break e;case S:K=11;break e;case y:K=14;break e;case x:K=16,_=null;break e}throw Error(o(130,d==null?d:typeof d,""))}return g=wo(K,E,g,I),g.elementType=d,g.type=_,g.lanes=k,g}function ou(d,g,E,_){return d=wo(7,d,_,g),d.lanes=E,d}function ip(d,g,E,_){return d=wo(22,d,_,g),d.elementType=C,d.lanes=E,d.stateNode={},d}function Rm(d,g,E){return d=wo(6,d,null,g),d.lanes=E,d}function Bm(d,g,E){return g=wo(4,d.children!==null?d.children:[],d.key,g),g.lanes=E,g.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},g}function jV(d,g,E,_,I){this.tag=g,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ce,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=L3(0),this.expirationTimes=L3(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L3(0),this.identifierPrefix=_,this.onRecoverableError=I,ye&&(this.mutableSourceEagerHydrationData=null)}function RM(d,g,E,_,I,k,K,ae,Be){return d=new jV(d,g,E,ae,Be),g===1?(g=1,k===!0&&(g|=8)):g=0,k=wo(3,null,null,g),d.current=k,k.stateNode=d,k.memoizedState={element:_,isDehydrated:E,cache:null,transitions:null},Gg(k),d}function BM(d){if(!d)return vi;d=d._reactInternals;e:{if(b(d)!==d||d.tag!==1)throw Error(o(170));var g=d;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(kn(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(o(171))}if(d.tag===1){var E=d.type;if(kn(E))return Pa(d,E,g)}return g}function kM(d){var g=d._reactInternals;if(g===void 0)throw typeof d.render=="function"?Error(o(188)):(d=Object.keys(d).join(","),Error(o(268,d)));return d=O(g),d===null?null:d.stateNode}function PM(d,g){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var E=d.retryLane;d.retryLane=E!==0&&E<g?E:g}}function km(d,g){PM(d,g),(d=d.alternate)&&PM(d,g)}function XV(d){return d=O(d),d===null?null:d.stateNode}function qV(){return null}return t.attemptContinuousHydration=function(d){if(d.tag===13){var g=Yr();Co(d,134217728,g),km(d,134217728)}},t.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var g=Yr(),E=b1(d);Co(d,E,g),km(d,E)}},t.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var g=d.stateNode;if(g.current.memoizedState.isDehydrated){var E=bl(g.pendingLanes);E!==0&&(Oa(g,E|1),As(g,$n()),!(qt&6)&&(X3(),gs()))}break;case 13:var _=Yr();SM(function(){return Co(d,1,_)}),km(d,1)}},t.batchedUpdates=function(d,g){var E=qt;qt|=1;try{return d(g)}finally{qt=E,qt===0&&(X3(),Na&&gs())}},t.createComponentSelector=function(d){return{$$typeof:Q5,value:d}},t.createContainer=function(d,g,E,_,I,k,K){return RM(d,g,!1,null,E,_,I,k,K)},t.createHasPseudoClassSelector=function(d){return{$$typeof:H5,value:d}},t.createHydrationContainer=function(d,g,E,_,I,k,K,ae,Be){return d=RM(E,_,!0,d,I,k,K,ae,Be),d.context=BM(null),E=d.current,_=Yr(),I=b1(E),k=Bl(_,I),k.callback=g??null,_1(E,k),d.current.lanes=I,Da(d,I,_),As(d,_),d},t.createPortal=function(d,g,E){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:_==null?null:""+_,children:d,containerInfo:g,implementation:E}},t.createRoleSelector=function(d){return{$$typeof:V5,value:d}},t.createTestNameSelector=function(d){return{$$typeof:W5,value:d}},t.createTextSelector=function(d){return{$$typeof:j5,value:d}},t.deferredUpdates=function(d){var g=Jt,E=Si.transition;try{return Si.transition=null,Jt=16,d()}finally{Jt=g,Si.transition=E}},t.discreteUpdates=function(d,g,E,_,I){var k=Jt,K=Si.transition;try{return Si.transition=null,Jt=1,d(g,E,_,I)}finally{Jt=k,Si.transition=K,qt===0&&X3()}},t.findAllNodes=vm,t.findBoundingRects=function(d,g){if(!Ue)throw Error(o(363));g=vm(d,g),d=[];for(var E=0;E<g.length;E++)d.push(Ke(g[E]));for(g=d.length-1;0<g;g--){E=d[g];for(var _=E.x,I=_+E.width,k=E.y,K=k+E.height,ae=g-1;0<=ae;ae--)if(g!==ae){var Be=d[ae],$e=Be.x,ct=$e+Be.width,Ft=Be.y,wt=Ft+Be.height;if(_>=$e&&k>=Ft&&I<=ct&&K<=wt){d.splice(g,1);break}else if(_!==$e||E.width!==Be.width||wt<k||Ft>K){if(!(k!==Ft||E.height!==Be.height||ct<_||$e>I)){$e>_&&(Be.width+=$e-_,Be.x=_),ct<I&&(Be.width=I-$e),d.splice(g,1);break}}else{Ft>k&&(Be.height+=Ft-k,Be.y=k),wt<K&&(Be.height=K-Ft),d.splice(g,1);break}}}return d},t.findHostInstance=kM,t.findHostInstanceWithNoPortals=function(d){return d=P(d),d=d!==null?H(d):null,d===null?null:d.stateNode},t.findHostInstanceWithWarning=function(d){return kM(d)},t.flushControlled=function(d){var g=qt;qt|=1;var E=Si.transition,_=Jt;try{Si.transition=null,Jt=1,d()}finally{Jt=_,Si.transition=E,qt=g,qt===0&&(X3(),gs())}},t.flushPassiveEffects=su,t.flushSync=SM,t.focusWithin=function(d,g){if(!Ue)throw Error(o(363));for(d=gm(d),g=vM(d,g),g=Array.from(g),d=0;d<g.length;){var E=g[d++];if(!N(E)){if(E.tag===5&&Ne(E.stateNode))return!0;for(E=E.child;E!==null;)g.push(E),E=E.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Jt},t.getFindAllNodesFailureDescription=function(d,g){if(!Ue)throw Error(o(363));var E=0,_=[];d=[gm(d),0];for(var I=0;I<d.length;){var k=d[I++],K=d[I++],ae=g[K];if((k.tag!==5||!N(k))&&(mm(k,ae)&&(_.push(Am(ae)),K++,K>E&&(E=K)),K<g.length))for(k=k.child;k!==null;)d.push(k,K),k=k.sibling}if(E<g.length){for(d=[];E<g.length;E++)d.push(Am(g[E]));return`findAllNodes was able to match part of the selector:
  `+(_.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},t.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return q(d.child.stateNode);default:return d.child.stateNode}},t.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:XV,findFiberByHostInstance:d.findFiberByHostInstance||qV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(g.isDisabled||!g.supportsFiber)d=!0;else{try{qc=g.inject(d),Ds=g}catch{}d=!!g.checkDCE}}return d},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(d,g,E,_){if(!Ue)throw Error(o(363));d=vm(d,g);var I=Ie(d,E,_).disconnect;return{disconnect:function(){I()}}},t.registerMutableSourceForHydration=function(d,g){var E=g._getVersion;E=E(g._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[g,E]:d.mutableSourceEagerHydrationData.push(g,E)},t.runWithPriority=function(d,g){var E=Jt;try{return Jt=d,g()}finally{Jt=E}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(d,g,E,_){var I=g.current,k=Yr(),K=b1(I);return E=BM(E),g.context===null?g.context=E:g.pendingContext=E,g=Bl(k,K),g.payload={element:d},_=_===void 0?null:_,_!==null&&(g.callback=_),_1(I,g),d=Co(I,K,k),d!==null&&x5(d,I,K),K},t};pF.exports=_te;var Mte=pF.exports;const Tte=W2(Mte),bte=n=>typeof n=="object"&&typeof n.then=="function",l6=[];function Ite(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function Rte(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const s of l6)if(Ite(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!t)throw s.promise}const r={keys:e,equal:i.equal,remove:()=>{const s=l6.indexOf(r);s!==-1&&l6.splice(s,1)},promise:(bte(n)?n:n(...e)).then(s=>{r.response=s,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(s=>r.error=s)};if(l6.push(r),!t)throw r.promise}const Bte=(n,e,t)=>Rte(n,e,!1,t),HC={},kte=n=>void Object.assign(HC,n);function Pte(n,e){function t(u,{args:h=[],attach:f,...p},m){let S=`${u[0].toUpperCase()}${u.slice(1)}`,v;if(u==="primitive"){if(p.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const A=p.object;v=wh(A,{type:u,root:m,attach:f,primitive:!0})}else{const A=HC[S];if(!A)throw new Error(`R3F: ${S} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");v=wh(new A(...h),{type:u,root:m,attach:f,memoizedProps:{args:h}})}return v.__r3f.attach===void 0&&(v instanceof Lt?v.__r3f.attach="geometry":v instanceof yr&&(v.__r3f.attach="material")),S!=="inject"&&GA(v,p),v}function i(u,h){let f=!1;if(h){var p,m;(p=h.__r3f)!=null&&p.attach?UA(u,h,h.__r3f.attach):h.isObject3D&&u.isObject3D&&(u.add(h),f=!0),f||(m=u.__r3f)==null||m.objects.push(h),h.__r3f||wh(h,{}),h.__r3f.parent=u,_x(h),_h(h)}}function r(u,h,f){let p=!1;if(h){var m,S;if((m=h.__r3f)!=null&&m.attach)UA(u,h,h.__r3f.attach);else if(h.isObject3D&&u.isObject3D){h.parent=u,h.dispatchEvent({type:"added"});const v=u.children.filter(y=>y!==h),A=v.indexOf(f);u.children=[...v.slice(0,A),h,...v.slice(A)],p=!0}p||(S=u.__r3f)==null||S.objects.push(h),h.__r3f||wh(h,{}),h.__r3f.parent=u,_x(h),_h(h)}}function s(u,h,f=!1){u&&[...u].forEach(p=>o(h,p,f))}function o(u,h,f){if(h){var p,m,S;if(h.__r3f&&(h.__r3f.parent=null),(p=u.__r3f)!=null&&p.objects&&(u.__r3f.objects=u.__r3f.objects.filter(C=>C!==h)),(m=h.__r3f)!=null&&m.attach)xI(u,h,h.__r3f.attach);else if(h.isObject3D&&u.isObject3D){var v;u.remove(h),(v=h.__r3f)!=null&&v.root&&Gte(h.__r3f.root,h)}const y=(S=h.__r3f)==null?void 0:S.primitive,x=f===void 0?h.dispose!==null&&!y:f;if(!y){var A;s((A=h.__r3f)==null?void 0:A.objects,h,x),s(h.children,h,x)}delete h.__r3f,x&&h.dispose&&h.type!=="Scene"&&Cx.unstable_scheduleCallback(Cx.unstable_IdlePriority,()=>{try{h.dispose()}catch{}}),_h(u)}}function a(u,h,f,p){var m;const S=(m=u.__r3f)==null?void 0:m.parent;if(!S)return;const v=t(h,f,u.__r3f.root);if(u.children){for(const A of u.children)A.__r3f&&i(v,A);u.children=u.children.filter(A=>!A.__r3f)}u.__r3f.objects.forEach(A=>i(v,A)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(S,u),v.parent&&(v.__r3f.autoRemovedBeforeAppend=!0),i(S,v),v.raycast&&v.__r3f.eventCount&&v.__r3f.root.getState().internal.interaction.push(v),[p,p.alternate].forEach(A=>{A!==null&&(A.stateNode=v,A.ref&&(typeof A.ref=="function"?A.ref(v):A.ref.current=v))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Tte({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,h)=>{if(!h)return;const f=u.getState().scene;f.__r3f&&(f.__r3f.root=u,i(f,h))},removeChildFromContainer:(u,h)=>{h&&o(u.getState().scene,h)},insertInContainerBefore:(u,h,f)=>{if(!h||!f)return;const p=u.getState().scene;p.__r3f&&r(p,h,f)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var h;return!!((h=u==null?void 0:u.__r3f)!=null?h:{}).handlers},prepareUpdate(u,h,f,p){var m;if(((m=u==null?void 0:u.__r3f)!=null?m:{}).primitive&&p.object&&p.object!==u)return[!0];{const{args:v=[],children:A,...y}=p,{args:x=[],children:C,...w}=f;if(!Array.isArray(v))throw new Error("R3F: the args prop must be an array!");if(v.some((T,R)=>T!==x[R]))return[!0];const M=CF(u,y,w,!0);return M.changes.length?[!1,M]:null}},commitUpdate(u,[h,f],p,m,S,v){h?a(u,p,S,v):GA(u,f)},commitMount(u,h,f,p){var m;const S=(m=u.__r3f)!=null?m:{};u.raycast&&S.handlers&&S.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>wh(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var h;const{attach:f,parent:p}=(h=u.__r3f)!=null?h:{};f&&p&&xI(p,u,f),u.isObject3D&&(u.visible=!1),_h(u)},unhideInstance(u,h){var f;const{attach:p,parent:m}=(f=u.__r3f)!=null?f:{};p&&m&&UA(m,u,p),(u.isObject3D&&h.visible==null||h.visible)&&(u.visible=!0),_h(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():jh.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Wn.fun(performance.now)?performance.now:Wn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Wn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Wn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:GA}}var mI,AI;const FA=n=>"colorSpace"in n||"outputColorSpace"in n,AF=()=>{var n;return(n=HC.ColorManagement)!=null?n:null},vF=n=>n&&n.isOrthographicCamera,Lte=n=>n&&n.hasOwnProperty("current"),V4=typeof window<"u"&&((mI=window.document)!=null&&mI.createElement||((AI=window.navigator)==null?void 0:AI.product)==="ReactNative")?ne.useLayoutEffect:ne.useEffect;function yF(n){const e=ne.useRef(n);return V4(()=>void(e.current=n),[n]),e}function Dte({set:n}){return V4(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class xF extends ne.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}xF.getDerivedStateFromError=()=>({error:!0});const SF="__default",vI=new Map,Ote=n=>n&&!!n.memoized&&!!n.changes;function EF(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const ef=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},Wn={obj:n=>n===Object(n)&&!Wn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Wn.str(n)||Wn.num(n))return n===e;const s=Wn.obj(n);if(s&&i==="reference")return n===e;const o=Wn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!Wn.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(Wn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Nte(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function wh(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function wx(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const yI=/-\d+$/;function UA(n,e,t){if(Wn.str(t)){if(yI.test(t)){const s=t.replace(yI,""),{target:o,key:a}=wx(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=wx(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function xI(n,e,t){var i,r;if(Wn.str(t)){const{target:s,key:o}=wx(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function CF(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},c=!1){var u;const h=(u=n==null?void 0:n.__r3f)!=null?u:{},f=Object.entries(r),p=[];if(c){const S=Object.keys(l);for(let v=0;v<S.length;v++)r.hasOwnProperty(S[v])||f.unshift([S[v],SF+"remove"])}f.forEach(([S,v])=>{var A;if((A=n.__r3f)!=null&&A.primitive&&S==="object"||Wn.equ(v,l[S]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(S))return p.push([S,v,!0,[]]);let y=[];S.includes("-")&&(y=S.split("-")),p.push([S,v,!1,y]);for(const x in r){const C=r[x];x.startsWith(`${S}-`)&&p.push([x,C,!1,x.split("-")])}});const m={...r};return h.memoizedProps&&h.memoizedProps.args&&(m.args=h.memoizedProps.args),h.memoizedProps&&h.memoizedProps.attach&&(m.attach=h.memoizedProps.attach),{memoized:m,changes:p}}function GA(n,e){var t,i,r;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(i=o==null||o.getState==null?void 0:o.getState())!=null?i:{},{memoized:l,changes:c}=Ote(e)?e:CF(n,e),u=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let f=0;f<c.length;f++){let[p,m,S,v]=c[f];if(FA(n)){const C="srgb",w="srgb-linear";p==="encoding"?(p="colorSpace",m=m===3001?C:w):p==="outputEncoding"&&(p="outputColorSpace",m=m===3001?C:w)}let A=n,y=A[p];if(v.length&&(y=v.reduce((x,C)=>x[C],n),!(y&&y.set))){const[x,...C]=v.reverse();A=C.reverse().reduce((w,M)=>w[M],n),p=x}if(m===SF+"remove")if(A.constructor){let x=vI.get(A.constructor);x||(x=new A.constructor,vI.set(A.constructor,x)),m=x[p]}else m=0;if(S)m?s.handlers[p]=m:delete s.handlers[p],s.eventCount=Object.keys(s.handlers).length;else if(y&&y.set&&(y.copy||y instanceof qu)){if(Array.isArray(m))y.fromArray?y.fromArray(m):y.set(...m);else if(y.copy&&m&&m.constructor&&y.constructor===m.constructor)y.copy(m);else if(m!==void 0){const x=y instanceof Je;!x&&y.setScalar?y.setScalar(m):y instanceof qu&&m instanceof qu?y.mask=m.mask:y.set(m),!AF()&&!a.linear&&x&&y.convertSRGBToLinear()}}else if(A[p]=m,A[p]instanceof Kn&&A[p].format===gi&&A[p].type===zi){const x=A[p];FA(x)&&FA(a.gl)?x.colorSpace=a.gl.outputColorSpace:x.encoding=a.gl.outputEncoding}_h(n)}if(s.parent&&a.internal&&n.raycast&&u!==s.eventCount){const f=a.internal.interaction.indexOf(n);f>-1&&a.internal.interaction.splice(f,1),s.eventCount&&a.internal.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(r=n.__r3f)!=null&&r.parent&&_x(n),n}function _h(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function _x(n){n.onUpdate==null||n.onUpdate(n)}function Fte(n,e){n.manual||(vF(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function c6(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Ute(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return jh.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return jh.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return jh.ContinuousEventPriority;default:return jh.DefaultEventPriority}}function wF(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function Gte(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{wF(t.capturedMap,e,i,r)})}function zte(n){function e(l){const{internal:c}=n.getState(),u=l.offsetX-c.initialClick[0],h=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+h*h))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var h;return(h=c.__r3f)==null?void 0:h.handlers["onPointer"+u]}))}function i(l,c){const u=n.getState(),h=new Set,f=[],p=c?c(u.internal.interaction):u.internal.interaction;for(let A=0;A<p.length;A++){const y=ef(p[A]);y&&(y.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function m(A){const y=ef(A);if(!y||!y.events.enabled||y.raycaster.camera===null)return[];if(y.raycaster.camera===void 0){var x;y.events.compute==null||y.events.compute(l,y,(x=y.previousRoot)==null?void 0:x.getState()),y.raycaster.camera===void 0&&(y.raycaster.camera=null)}return y.raycaster.camera?y.raycaster.intersectObject(A,!0):[]}let S=p.flatMap(m).sort((A,y)=>{const x=ef(A.object),C=ef(y.object);return!x||!C?A.distance-y.distance:C.events.priority-x.events.priority||A.distance-y.distance}).filter(A=>{const y=c6(A);return h.has(y)?!1:(h.add(y),!0)});u.events.filter&&(S=u.events.filter(S,u));for(const A of S){let y=A.object;for(;y;){var v;(v=y.__r3f)!=null&&v.eventCount&&f.push({...A,eventObject:y}),y=y.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let A of u.internal.capturedMap.get(l.pointerId).values())h.has(c6(A.intersection))||f.push(A.intersection);return f}function r(l,c,u,h){const f=n.getState();if(l.length){const p={stopped:!1};for(const m of l){const S=ef(m.object)||f,{raycaster:v,pointer:A,camera:y,internal:x}=S,C=new Q(A.x,A.y,0).unproject(y),w=B=>{var P,O;return(P=(O=x.capturedMap.get(B))==null?void 0:O.has(m.eventObject))!=null?P:!1},M=B=>{const P={intersection:m,target:c.target};x.capturedMap.has(B)?x.capturedMap.get(B).set(m.eventObject,P):x.capturedMap.set(B,new Map([[m.eventObject,P]])),c.target.setPointerCapture(B)},T=B=>{const P=x.capturedMap.get(B);P&&wF(x.capturedMap,m.eventObject,P,B)};let R={};for(let B in c){let P=c[B];typeof P!="function"&&(R[B]=P)}let b={...m,...R,pointer:A,intersections:l,stopped:p.stopped,delta:u,unprojectedPoint:C,ray:v.ray,camera:y,stopPropagation(){const B="pointerId"in c&&x.capturedMap.get(c.pointerId);if((!B||B.has(m.eventObject))&&(b.stopped=p.stopped=!0,x.hovered.size&&Array.from(x.hovered.values()).find(P=>P.eventObject===m.eventObject))){const P=l.slice(0,l.indexOf(m));s([...P,m])}},target:{hasPointerCapture:w,setPointerCapture:M,releasePointerCapture:T},currentTarget:{hasPointerCapture:w,setPointerCapture:M,releasePointerCapture:T},nativeEvent:c};if(h(b),p.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const u of c.hovered.values())if(!l.length||!l.find(h=>h.object===u.object&&h.index===u.index&&h.instanceId===u.instanceId)){const f=u.eventObject.__r3f,p=f==null?void 0:f.handlers;if(c.hovered.delete(c6(u)),f!=null&&f.eventCount){const m={...u,intersections:l};p.onPointerOut==null||p.onPointerOut(m),p.onPointerLeave==null||p.onPointerLeave(m)}}}function o(l,c){for(let u=0;u<c.length;u++){const h=c[u].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=n.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:h,internal:f}=n.getState();f.lastEvent.current=u;const p=l==="onPointerMove",m=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",v=i(u,p?t:void 0),A=m?e(u):0;l==="onPointerDown"&&(f.initialClick=[u.offsetX,u.offsetY],f.initialHits=v.map(x=>x.eventObject)),m&&!v.length&&A<=2&&(o(u,f.interaction),h&&h(u)),p&&s(v);function y(x){const C=x.eventObject,w=C.__r3f,M=w==null?void 0:w.handlers;if(w!=null&&w.eventCount)if(p){if(M.onPointerOver||M.onPointerEnter||M.onPointerOut||M.onPointerLeave){const T=c6(x),R=f.hovered.get(T);R?R.stopped&&x.stopPropagation():(f.hovered.set(T,x),M.onPointerOver==null||M.onPointerOver(x),M.onPointerEnter==null||M.onPointerEnter(x))}M.onPointerMove==null||M.onPointerMove(x)}else{const T=M[l];T?(!m||f.initialHits.includes(C))&&(o(u,f.interaction.filter(R=>!f.initialHits.includes(R))),T(x)):m&&f.initialHits.includes(C)&&o(u,f.interaction.filter(R=>!f.initialHits.includes(R)))}}r(v,u,A,y)}}return{handlePointer:a}}const _F=n=>!!(n!=null&&n.render),MF=ne.createContext(null),Qte=(n,e)=>{const t=wte((a,l)=>{const c=new Q,u=new Q,h=new Q;function f(A=l().camera,y=u,x=l().size){const{width:C,height:w,top:M,left:T}=x,R=C/w;y instanceof Q?h.copy(y):h.set(...y);const b=A.getWorldPosition(c).distanceTo(h);if(vF(A))return{width:C/A.zoom,height:w/A.zoom,top:M,left:T,factor:1,distance:b,aspect:R};{const B=A.fov*Math.PI/180,P=2*Math.tan(B/2)*b,O=P*(C/w);return{width:O,height:P,top:M,left:T,factor:C/O,distance:b,aspect:R}}}let p;const m=A=>a(y=>({performance:{...y.performance,current:A}})),S=new _e;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(A=1)=>n(l(),A),advance:(A,y)=>e(A,y,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new K7,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const A=l();p&&clearTimeout(p),A.performance.current!==A.performance.min&&m(A.performance.min),p=setTimeout(()=>m(l().performance.max),A.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:f},setEvents:A=>a(y=>({...y,events:{...y.events,...A}})),setSize:(A,y,x,C,w)=>{const M=l().camera,T={width:A,height:y,top:C||0,left:w||0,updateStyle:x};a(R=>({size:T,viewport:{...R.viewport,...f(M,u,T)}}))},setDpr:A=>a(y=>{const x=EF(A);return{viewport:{...y.viewport,dpr:x,initialDpr:y.viewport.initialDpr||x}}}),setFrameloop:(A="always")=>{const y=l().clock;y.stop(),y.elapsedTime=0,A!=="never"&&(y.start(),y.elapsedTime=0),a(()=>({frameloop:A}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:ne.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(A,y,x)=>{const C=l().internal;return C.priority=C.priority+(y>0?1:0),C.subscribers.push({ref:A,priority:y,store:x}),C.subscribers=C.subscribers.sort((w,M)=>w.priority-M.priority),()=>{const w=l().internal;w!=null&&w.subscribers&&(w.priority=w.priority-(y>0?1:0),w.subscribers=w.subscribers.filter(M=>M.ref!==A))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:h}=t.getState();if(l!==r||c.dpr!==s){var f;r=l,s=c.dpr,Fte(a,l),u.setPixelRatio(c.dpr);const p=(f=l.updateStyle)!=null?f:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,p)}a!==o&&(o=a,h(p=>({viewport:{...p.viewport,...p.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};function VC(n,e){const t={callback:n};return e.add(t),()=>void e.delete(t)}let u6,TF=new Set,bF=new Set,IF=new Set;const Hte=n=>VC(n,TF),Vte=n=>VC(n,bF),Wte=n=>VC(n,IF);function zA(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function tf(n,e){switch(n){case"before":return zA(TF,e);case"after":return zA(bF,e);case"tail":return zA(IF,e)}}let QA,HA;function VA(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),QA=e.internal.subscribers,u6=0;u6<QA.length;u6++)HA=QA[u6],HA.ref.current(HA.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function jte(n){let e=!1,t,i,r;function s(l){i=requestAnimationFrame(s),e=!0,t=0,tf("before",l);for(const u of n.values()){var c;r=u.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((c=r.gl.xr)!=null&&c.isPresenting)&&(t+=VA(l,r))}if(tf("after",l),t===0)return tf("tail",l),e=!1,cancelAnimationFrame(i)}function o(l,c=1){var u;if(!l)return n.forEach(h=>o(h.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,h){if(c&&tf("before",l),u)VA(l,u,h);else for(const f of n.values())VA(l,f.store.getState());c&&tf("after",l)}return{loop:s,invalidate:o,advance:a}}function RF(){const n=ne.useContext(MF);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Bo(n=t=>t,e){return RF()(n,e)}function WC(n,e=0){const t=RF(),i=t.getState().internal.subscribe,r=yF(n);return V4(()=>i(r,e,t),[e,i,t]),null}const R2=new Map,{invalidate:SI,advance:EI}=jte(R2),{reconciler:p9,applyProps:Ah}=Pte(R2,Ute),vh={objects:"shallow",strict:!1},Xte=(n,e)=>{const t=typeof n=="function"?n(e):n;return _F(t)?t:new SC({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function qte(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function Yte(n){const e=R2.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||Qte(SI,EI),o=t||p9.createContainer(s,jh.ConcurrentRoot,null,!1,null,"",r,null);e||R2.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:h,size:f,scene:p,events:m,onCreated:S,shadows:v=!1,linear:A=!1,flat:y=!1,legacy:x=!1,orthographic:C=!1,frameloop:w="always",dpr:M=[1,2],performance:T,raycaster:R,camera:b,onPointerMissed:B}=u,P=s.getState(),O=P.gl;P.gl||P.set({gl:O=Xte(h,n)});let G=P.raycaster;G||P.set({raycaster:G=new cF});const{params:H,...j}=R||{};if(Wn.equ(j,G,vh)||Ah(G,{...j}),Wn.equ(H,G.params,vh)||Ah(G,{params:{...G.params,...H}}),!P.camera||P.camera===c&&!Wn.equ(c,b,vh)){c=b;const U=b instanceof T4,$=U?b:C?new e1(0,0,0,0,.1,1e3):new Xn(75,0,.1,1e3);U||($.position.z=5,b&&Ah($,b),!P.camera&&!(b!=null&&b.rotation)&&$.lookAt(0,0,0)),P.set({camera:$})}if(!P.scene){let U;p instanceof I2?U=p:(U=new I2,p&&Ah(U,p)),P.set({scene:wh(U)})}if(!P.xr){var q;const U=(ie,se)=>{const re=s.getState();re.frameloop!=="never"&&EI(ie,!0,re,se)},$=()=>{const ie=s.getState();ie.gl.xr.enabled=ie.gl.xr.isPresenting,ie.gl.xr.setAnimationLoop(ie.gl.xr.isPresenting?U:null),ie.gl.xr.isPresenting||SI(ie)},ee={connect(){const ie=s.getState().gl;ie.xr.addEventListener("sessionstart",$),ie.xr.addEventListener("sessionend",$)},disconnect(){const ie=s.getState().gl;ie.xr.removeEventListener("sessionstart",$),ie.xr.removeEventListener("sessionend",$)}};typeof((q=O.xr)==null?void 0:q.addEventListener)=="function"&&ee.connect(),P.set({xr:ee})}if(O.shadowMap){const U=O.shadowMap.enabled,$=O.shadowMap.type;if(O.shadowMap.enabled=!!v,Wn.boo(v))O.shadowMap.type=Wf;else if(Wn.str(v)){var J;const ee={basic:CO,percentage:b7,soft:Wf,variance:la};O.shadowMap.type=(J=ee[v])!=null?J:Wf}else Wn.obj(v)&&Object.assign(O.shadowMap,v);(U!==O.shadowMap.enabled||$!==O.shadowMap.type)&&(O.shadowMap.needsUpdate=!0)}const L=AF();L&&("enabled"in L?L.enabled=!x:"legacyMode"in L&&(L.legacyMode=x)),Ah(O,{outputEncoding:A?3e3:3001,toneMapping:y?ro:rC}),P.legacy!==x&&P.set(()=>({legacy:x})),P.linear!==A&&P.set(()=>({linear:A})),P.flat!==y&&P.set(()=>({flat:y})),h&&!Wn.fun(h)&&!_F(h)&&!Wn.equ(h,O,vh)&&Ah(O,h),m&&!P.events.handlers&&P.set({events:m(s)});const z=qte(n,f);return Wn.equ(z,P.size,vh)||P.setSize(z.width,z.height,z.updateStyle,z.top,z.left),M&&P.viewport.dpr!==EF(M)&&P.setDpr(M),P.frameloop!==w&&P.setFrameloop(w),P.onPointerMissed||P.set({onPointerMissed:B}),T&&!Wn.equ(T,P.performance,vh)&&P.set(U=>({performance:{...U.performance,...T}})),a=S,l=!0,this},render(u){return l||this.configure(),p9.updateContainer(ne.createElement(Kte,{store:s,children:u,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){BF(n)}}}function Kte({store:n,children:e,onCreated:t,rootElement:i}){return V4(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),ne.createElement(MF.Provider,{value:n},e)}function BF(n,e){const t=R2.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),p9.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),Nte(r),R2.delete(n),e&&e(n)}catch{}},500)})}}p9.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:ne.version});function h3(){return h3=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},h3.apply(this,arguments)}function Mx(n,e,t){var i,r,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?i=setTimeout(l,e-u):(i=null,t||(a=n.apply(s,r),s=r=null))}var c=function(){s=this,r=arguments,o=Date.now();var u=t&&!i;return i||(i=setTimeout(l,e)),u&&(a=n.apply(s,r),s=r=null),a};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(a=n.apply(s,r),s=r=null,clearTimeout(i),i=null)},c}Mx.debounce=Mx;var Jte=Mx;const CI=W2(Jte);function $te(n){let{debounce:e,scroll:t,polyfill:i,offsetSize:r}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=ne.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=ne.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,h=ne.useRef(!1);ne.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[f,p,m]=ne.useMemo(()=>{const y=()=>{if(!l.current.element)return;const{left:x,top:C,width:w,height:M,bottom:T,right:R,x:b,y:B}=l.current.element.getBoundingClientRect(),P={left:x,top:C,width:w,height:M,bottom:T,right:R,x:b,y:B};l.current.element instanceof HTMLElement&&r&&(P.height=l.current.element.offsetHeight,P.width=l.current.element.offsetWidth),Object.freeze(P),h.current&&!nne(l.current.lastBounds,P)&&a(l.current.lastBounds=P)};return[y,u?CI(y,u):y,c?CI(y,c):y]},[a,r,c,u]);function S(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(y=>y.removeEventListener("scroll",m,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function v(){l.current.element&&(l.current.resizeObserver=new s(m),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(y=>y.addEventListener("scroll",m,{capture:!0,passive:!0})))}const A=y=>{!y||y===l.current.element||(S(),l.current.element=y,l.current.scrollContainers=kF(y),v())};return ene(m,!!t),Zte(p),ne.useEffect(()=>{S(),v()},[t,m,p]),ne.useEffect(()=>S,[]),[A,o,f]}function Zte(n){ne.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function ene(n,e){ne.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function kF(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...kF(n.parentElement)]}const tne=["x","y","top","bottom","left","right","width","height"],nne=(n,e)=>tne.every(t=>n[t]===e[t]);var ine=Object.defineProperty,rne=Object.defineProperties,sne=Object.getOwnPropertyDescriptors,wI=Object.getOwnPropertySymbols,one=Object.prototype.hasOwnProperty,ane=Object.prototype.propertyIsEnumerable,_I=(n,e,t)=>e in n?ine(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,MI=(n,e)=>{for(var t in e||(e={}))one.call(e,t)&&_I(n,t,e[t]);if(wI)for(var t of wI(e))ane.call(e,t)&&_I(n,t,e[t]);return n},lne=(n,e)=>rne(n,sne(e));function PF(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=PF(i,e,t);if(r)return r;i=e?null:i.sibling}}function LF(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const jC=LF(ne.createContext(null));class DF extends ne.Component{render(){return ne.createElement(jC.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:TI,ReactCurrentDispatcher:bI}=ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function cne(){const n=ne.useContext(jC);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=ne.useId();return ne.useMemo(()=>{for(const i of[TI==null?void 0:TI.current,n,n==null?void 0:n.alternate]){if(!i)continue;const r=PF(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}function une(){var n,e;const t=cne(),[i]=ne.useState(()=>new Map);i.clear();let r=t;for(;r;){const s=(n=r.type)==null?void 0:n._context;s&&s!==jC&&!i.has(s)&&i.set(s,(e=bI==null?void 0:bI.current)==null?void 0:e.readContext(LF(s))),r=r.return}return i}function hne(){const n=une();return ne.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>ne.createElement(e,null,ne.createElement(t.Provider,lne(MI({},i),{value:n.get(t)}))),e=>ne.createElement(DF,MI({},e))),[n])}const WA={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function fne(n){const{handlePointer:e}=zte(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(WA).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,c]=WA[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=WA[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const dne=ne.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=fne,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:h,legacy:f,orthographic:p,frameloop:m,dpr:S,performance:v,raycaster:A,camera:y,scene:x,onPointerMissed:C,onCreated:w,...M},T){ne.useMemo(()=>kte(Ste),[]);const R=hne(),[b,B]=$te({scroll:!0,debounce:{scroll:50,resize:0},...i}),P=ne.useRef(null),O=ne.useRef(null);ne.useImperativeHandle(T,()=>P.current);const G=yF(C),[H,j]=ne.useState(!1),[q,J]=ne.useState(!1);if(H)throw H;if(q)throw q;const L=ne.useRef(null);V4(()=>{const F=P.current;B.width>0&&B.height>0&&F&&(L.current||(L.current=Yte(F)),L.current.configure({gl:s,events:o,shadows:c,linear:u,flat:h,legacy:f,orthographic:p,frameloop:m,dpr:S,performance:v,raycaster:A,camera:y,scene:x,size:B,onPointerMissed:(...z)=>G.current==null?void 0:G.current(...z),onCreated:z=>{z.events.connect==null||z.events.connect(a?Lte(a)?a.current:a:O.current),l&&z.setEvents({compute:(U,$)=>{const ee=U[l+"X"],ie=U[l+"Y"];$.pointer.set(ee/$.size.width*2-1,-(ie/$.size.height)*2+1),$.raycaster.setFromCamera($.pointer,$.camera)}}),w==null||w(z)}}),L.current.render(ne.createElement(R,null,ne.createElement(xF,{set:J},ne.createElement(ne.Suspense,{fallback:ne.createElement(Dte,{set:j})},e)))))}),ne.useEffect(()=>{const F=P.current;if(F)return()=>BF(F)},[]);const D=a?"none":"auto";return ne.createElement("div",h3({ref:O,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:D,...r}},M),ne.createElement("div",{ref:b,style:{width:"100%",height:"100%"}},ne.createElement("canvas",{ref:P,style:{display:"block"}},t)))}),OF=ne.forwardRef(function(e,t){return ne.createElement(DF,null,ne.createElement(dne,h3({},e,{ref:t})))});function XC(){}XC.prototype.s2u=function(n){for(var e=this.s2uTable,t="",i=0;i<n.length;){var r=n[i++];if(!(r>=0&&r<=126||r>=161&&r<=223)&&i<n.length&&(r=r<<8|n[i++]),e[r]===void 0)return console.error("unknown char code "+r+"."),t;t+=String.fromCharCode(e[r])}return t};XC.prototype.s2uTable={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:126,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:65340,33120:65374,33121:8741,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:65293,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:65504,33170:65505,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:65506,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34624:9312,34625:9313,34626:9314,34627:9315,34628:9316,34629:9317,34630:9318,34631:9319,34632:9320,34633:9321,34634:9322,34635:9323,34636:9324,34637:9325,34638:9326,34639:9327,34640:9328,34641:9329,34642:9330,34643:9331,34644:8544,34645:8545,34646:8546,34647:8547,34648:8548,34649:8549,34650:8550,34651:8551,34652:8552,34653:8553,34655:13129,34656:13076,34657:13090,34658:13133,34659:13080,34660:13095,34661:13059,34662:13110,34663:13137,34664:13143,34665:13069,34666:13094,34667:13091,34668:13099,34669:13130,34670:13115,34671:13212,34672:13213,34673:13214,34674:13198,34675:13199,34676:13252,34677:13217,34686:13179,34688:12317,34689:12319,34690:8470,34691:13261,34692:8481,34693:12964,34694:12965,34695:12966,34696:12967,34697:12968,34698:12849,34699:12850,34700:12857,34701:13182,34702:13181,34703:13180,34704:8786,34705:8801,34706:8747,34707:8750,34708:8721,34709:8730,34710:8869,34711:8736,34712:8735,34713:8895,34714:8757,34715:8745,34716:8746,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081,60736:32394,60737:35100,60738:37704,60739:37512,60740:34012,60741:20425,60742:28859,60743:26161,60744:26824,60745:37625,60746:26363,60747:24389,60748:20008,60749:20193,60750:20220,60751:20224,60752:20227,60753:20281,60754:20310,60755:20370,60756:20362,60757:20378,60758:20372,60759:20429,60760:20544,60761:20514,60762:20479,60763:20510,60764:20550,60765:20592,60766:20546,60767:20628,60768:20724,60769:20696,60770:20810,60771:20836,60772:20893,60773:20926,60774:20972,60775:21013,60776:21148,60777:21158,60778:21184,60779:21211,60780:21248,60781:21255,60782:21284,60783:21362,60784:21395,60785:21426,60786:21469,60787:64014,60788:21660,60789:21642,60790:21673,60791:21759,60792:21894,60793:22361,60794:22373,60795:22444,60796:22472,60797:22471,60798:64015,60800:64016,60801:22686,60802:22706,60803:22795,60804:22867,60805:22875,60806:22877,60807:22883,60808:22948,60809:22970,60810:23382,60811:23488,60812:29999,60813:23512,60814:23532,60815:23582,60816:23718,60817:23738,60818:23797,60819:23847,60820:23891,60821:64017,60822:23874,60823:23917,60824:23992,60825:23993,60826:24016,60827:24353,60828:24372,60829:24423,60830:24503,60831:24542,60832:24669,60833:24709,60834:24714,60835:24798,60836:24789,60837:24864,60838:24818,60839:24849,60840:24887,60841:24880,60842:24984,60843:25107,60844:25254,60845:25589,60846:25696,60847:25757,60848:25806,60849:25934,60850:26112,60851:26133,60852:26171,60853:26121,60854:26158,60855:26142,60856:26148,60857:26213,60858:26199,60859:26201,60860:64018,60861:26227,60862:26265,60863:26272,60864:26290,60865:26303,60866:26362,60867:26382,60868:63785,60869:26470,60870:26555,60871:26706,60872:26560,60873:26625,60874:26692,60875:26831,60876:64019,60877:26984,60878:64020,60879:27032,60880:27106,60881:27184,60882:27243,60883:27206,60884:27251,60885:27262,60886:27362,60887:27364,60888:27606,60889:27711,60890:27740,60891:27782,60892:27759,60893:27866,60894:27908,60895:28039,60896:28015,60897:28054,60898:28076,60899:28111,60900:28152,60901:28146,60902:28156,60903:28217,60904:28252,60905:28199,60906:28220,60907:28351,60908:28552,60909:28597,60910:28661,60911:28677,60912:28679,60913:28712,60914:28805,60915:28843,60916:28943,60917:28932,60918:29020,60919:28998,60920:28999,60921:64021,60922:29121,60923:29182,60924:29361,60992:29374,60993:29476,60994:64022,60995:29559,60996:29629,60997:29641,60998:29654,60999:29667,61e3:29650,61001:29703,61002:29685,61003:29734,61004:29738,61005:29737,61006:29742,61007:29794,61008:29833,61009:29855,61010:29953,61011:30063,61012:30338,61013:30364,61014:30366,61015:30363,61016:30374,61017:64023,61018:30534,61019:21167,61020:30753,61021:30798,61022:30820,61023:30842,61024:31024,61025:64024,61026:64025,61027:64026,61028:31124,61029:64027,61030:31131,61031:31441,61032:31463,61033:64028,61034:31467,61035:31646,61036:64029,61037:32072,61038:32092,61039:32183,61040:32160,61041:32214,61042:32338,61043:32583,61044:32673,61045:64030,61046:33537,61047:33634,61048:33663,61049:33735,61050:33782,61051:33864,61052:33972,61053:34131,61054:34137,61056:34155,61057:64031,61058:34224,61059:64032,61060:64033,61061:34823,61062:35061,61063:35346,61064:35383,61065:35449,61066:35495,61067:35518,61068:35551,61069:64034,61070:35574,61071:35667,61072:35711,61073:36080,61074:36084,61075:36114,61076:36214,61077:64035,61078:36559,61079:64036,61080:64037,61081:36967,61082:37086,61083:64038,61084:37141,61085:37159,61086:37338,61087:37335,61088:37342,61089:37357,61090:37358,61091:37348,61092:37349,61093:37382,61094:37392,61095:37386,61096:37434,61097:37440,61098:37436,61099:37454,61100:37465,61101:37457,61102:37433,61103:37479,61104:37543,61105:37495,61106:37496,61107:37607,61108:37591,61109:37593,61110:37584,61111:64039,61112:37589,61113:37600,61114:37587,61115:37669,61116:37665,61117:37627,61118:64040,61119:37662,61120:37631,61121:37661,61122:37634,61123:37744,61124:37719,61125:37796,61126:37830,61127:37854,61128:37880,61129:37937,61130:37957,61131:37960,61132:38290,61133:63964,61134:64041,61135:38557,61136:38575,61137:38707,61138:38715,61139:38723,61140:38733,61141:38735,61142:38737,61143:38741,61144:38999,61145:39013,61146:64042,61147:64043,61148:39207,61149:64044,61150:39326,61151:39502,61152:39641,61153:39644,61154:39797,61155:39794,61156:39823,61157:39857,61158:39867,61159:39936,61160:40304,61161:40299,61162:64045,61163:40473,61164:40657,61167:8560,61168:8561,61169:8562,61170:8563,61171:8564,61172:8565,61173:8566,61174:8567,61175:8568,61176:8569,61177:65506,61178:65508,61179:65287,61180:65282,61504:57344,61505:57345,61506:57346,61507:57347,61508:57348,61509:57349,61510:57350,61511:57351,61512:57352,61513:57353,61514:57354,61515:57355,61516:57356,61517:57357,61518:57358,61519:57359,61520:57360,61521:57361,61522:57362,61523:57363,61524:57364,61525:57365,61526:57366,61527:57367,61528:57368,61529:57369,61530:57370,61531:57371,61532:57372,61533:57373,61534:57374,61535:57375,61536:57376,61537:57377,61538:57378,61539:57379,61540:57380,61541:57381,61542:57382,61543:57383,61544:57384,61545:57385,61546:57386,61547:57387,61548:57388,61549:57389,61550:57390,61551:57391,61552:57392,61553:57393,61554:57394,61555:57395,61556:57396,61557:57397,61558:57398,61559:57399,61560:57400,61561:57401,61562:57402,61563:57403,61564:57404,61565:57405,61566:57406,61568:57407,61569:57408,61570:57409,61571:57410,61572:57411,61573:57412,61574:57413,61575:57414,61576:57415,61577:57416,61578:57417,61579:57418,61580:57419,61581:57420,61582:57421,61583:57422,61584:57423,61585:57424,61586:57425,61587:57426,61588:57427,61589:57428,61590:57429,61591:57430,61592:57431,61593:57432,61594:57433,61595:57434,61596:57435,61597:57436,61598:57437,61599:57438,61600:57439,61601:57440,61602:57441,61603:57442,61604:57443,61605:57444,61606:57445,61607:57446,61608:57447,61609:57448,61610:57449,61611:57450,61612:57451,61613:57452,61614:57453,61615:57454,61616:57455,61617:57456,61618:57457,61619:57458,61620:57459,61621:57460,61622:57461,61623:57462,61624:57463,61625:57464,61626:57465,61627:57466,61628:57467,61629:57468,61630:57469,61631:57470,61632:57471,61633:57472,61634:57473,61635:57474,61636:57475,61637:57476,61638:57477,61639:57478,61640:57479,61641:57480,61642:57481,61643:57482,61644:57483,61645:57484,61646:57485,61647:57486,61648:57487,61649:57488,61650:57489,61651:57490,61652:57491,61653:57492,61654:57493,61655:57494,61656:57495,61657:57496,61658:57497,61659:57498,61660:57499,61661:57500,61662:57501,61663:57502,61664:57503,61665:57504,61666:57505,61667:57506,61668:57507,61669:57508,61670:57509,61671:57510,61672:57511,61673:57512,61674:57513,61675:57514,61676:57515,61677:57516,61678:57517,61679:57518,61680:57519,61681:57520,61682:57521,61683:57522,61684:57523,61685:57524,61686:57525,61687:57526,61688:57527,61689:57528,61690:57529,61691:57530,61692:57531,61760:57532,61761:57533,61762:57534,61763:57535,61764:57536,61765:57537,61766:57538,61767:57539,61768:57540,61769:57541,61770:57542,61771:57543,61772:57544,61773:57545,61774:57546,61775:57547,61776:57548,61777:57549,61778:57550,61779:57551,61780:57552,61781:57553,61782:57554,61783:57555,61784:57556,61785:57557,61786:57558,61787:57559,61788:57560,61789:57561,61790:57562,61791:57563,61792:57564,61793:57565,61794:57566,61795:57567,61796:57568,61797:57569,61798:57570,61799:57571,61800:57572,61801:57573,61802:57574,61803:57575,61804:57576,61805:57577,61806:57578,61807:57579,61808:57580,61809:57581,61810:57582,61811:57583,61812:57584,61813:57585,61814:57586,61815:57587,61816:57588,61817:57589,61818:57590,61819:57591,61820:57592,61821:57593,61822:57594,61824:57595,61825:57596,61826:57597,61827:57598,61828:57599,61829:57600,61830:57601,61831:57602,61832:57603,61833:57604,61834:57605,61835:57606,61836:57607,61837:57608,61838:57609,61839:57610,61840:57611,61841:57612,61842:57613,61843:57614,61844:57615,61845:57616,61846:57617,61847:57618,61848:57619,61849:57620,61850:57621,61851:57622,61852:57623,61853:57624,61854:57625,61855:57626,61856:57627,61857:57628,61858:57629,61859:57630,61860:57631,61861:57632,61862:57633,61863:57634,61864:57635,61865:57636,61866:57637,61867:57638,61868:57639,61869:57640,61870:57641,61871:57642,61872:57643,61873:57644,61874:57645,61875:57646,61876:57647,61877:57648,61878:57649,61879:57650,61880:57651,61881:57652,61882:57653,61883:57654,61884:57655,61885:57656,61886:57657,61887:57658,61888:57659,61889:57660,61890:57661,61891:57662,61892:57663,61893:57664,61894:57665,61895:57666,61896:57667,61897:57668,61898:57669,61899:57670,61900:57671,61901:57672,61902:57673,61903:57674,61904:57675,61905:57676,61906:57677,61907:57678,61908:57679,61909:57680,61910:57681,61911:57682,61912:57683,61913:57684,61914:57685,61915:57686,61916:57687,61917:57688,61918:57689,61919:57690,61920:57691,61921:57692,61922:57693,61923:57694,61924:57695,61925:57696,61926:57697,61927:57698,61928:57699,61929:57700,61930:57701,61931:57702,61932:57703,61933:57704,61934:57705,61935:57706,61936:57707,61937:57708,61938:57709,61939:57710,61940:57711,61941:57712,61942:57713,61943:57714,61944:57715,61945:57716,61946:57717,61947:57718,61948:57719,62016:57720,62017:57721,62018:57722,62019:57723,62020:57724,62021:57725,62022:57726,62023:57727,62024:57728,62025:57729,62026:57730,62027:57731,62028:57732,62029:57733,62030:57734,62031:57735,62032:57736,62033:57737,62034:57738,62035:57739,62036:57740,62037:57741,62038:57742,62039:57743,62040:57744,62041:57745,62042:57746,62043:57747,62044:57748,62045:57749,62046:57750,62047:57751,62048:57752,62049:57753,62050:57754,62051:57755,62052:57756,62053:57757,62054:57758,62055:57759,62056:57760,62057:57761,62058:57762,62059:57763,62060:57764,62061:57765,62062:57766,62063:57767,62064:57768,62065:57769,62066:57770,62067:57771,62068:57772,62069:57773,62070:57774,62071:57775,62072:57776,62073:57777,62074:57778,62075:57779,62076:57780,62077:57781,62078:57782,62080:57783,62081:57784,62082:57785,62083:57786,62084:57787,62085:57788,62086:57789,62087:57790,62088:57791,62089:57792,62090:57793,62091:57794,62092:57795,62093:57796,62094:57797,62095:57798,62096:57799,62097:57800,62098:57801,62099:57802,62100:57803,62101:57804,62102:57805,62103:57806,62104:57807,62105:57808,62106:57809,62107:57810,62108:57811,62109:57812,62110:57813,62111:57814,62112:57815,62113:57816,62114:57817,62115:57818,62116:57819,62117:57820,62118:57821,62119:57822,62120:57823,62121:57824,62122:57825,62123:57826,62124:57827,62125:57828,62126:57829,62127:57830,62128:57831,62129:57832,62130:57833,62131:57834,62132:57835,62133:57836,62134:57837,62135:57838,62136:57839,62137:57840,62138:57841,62139:57842,62140:57843,62141:57844,62142:57845,62143:57846,62144:57847,62145:57848,62146:57849,62147:57850,62148:57851,62149:57852,62150:57853,62151:57854,62152:57855,62153:57856,62154:57857,62155:57858,62156:57859,62157:57860,62158:57861,62159:57862,62160:57863,62161:57864,62162:57865,62163:57866,62164:57867,62165:57868,62166:57869,62167:57870,62168:57871,62169:57872,62170:57873,62171:57874,62172:57875,62173:57876,62174:57877,62175:57878,62176:57879,62177:57880,62178:57881,62179:57882,62180:57883,62181:57884,62182:57885,62183:57886,62184:57887,62185:57888,62186:57889,62187:57890,62188:57891,62189:57892,62190:57893,62191:57894,62192:57895,62193:57896,62194:57897,62195:57898,62196:57899,62197:57900,62198:57901,62199:57902,62200:57903,62201:57904,62202:57905,62203:57906,62204:57907,62272:57908,62273:57909,62274:57910,62275:57911,62276:57912,62277:57913,62278:57914,62279:57915,62280:57916,62281:57917,62282:57918,62283:57919,62284:57920,62285:57921,62286:57922,62287:57923,62288:57924,62289:57925,62290:57926,62291:57927,62292:57928,62293:57929,62294:57930,62295:57931,62296:57932,62297:57933,62298:57934,62299:57935,62300:57936,62301:57937,62302:57938,62303:57939,62304:57940,62305:57941,62306:57942,62307:57943,62308:57944,62309:57945,62310:57946,62311:57947,62312:57948,62313:57949,62314:57950,62315:57951,62316:57952,62317:57953,62318:57954,62319:57955,62320:57956,62321:57957,62322:57958,62323:57959,62324:57960,62325:57961,62326:57962,62327:57963,62328:57964,62329:57965,62330:57966,62331:57967,62332:57968,62333:57969,62334:57970,62336:57971,62337:57972,62338:57973,62339:57974,62340:57975,62341:57976,62342:57977,62343:57978,62344:57979,62345:57980,62346:57981,62347:57982,62348:57983,62349:57984,62350:57985,62351:57986,62352:57987,62353:57988,62354:57989,62355:57990,62356:57991,62357:57992,62358:57993,62359:57994,62360:57995,62361:57996,62362:57997,62363:57998,62364:57999,62365:58e3,62366:58001,62367:58002,62368:58003,62369:58004,62370:58005,62371:58006,62372:58007,62373:58008,62374:58009,62375:58010,62376:58011,62377:58012,62378:58013,62379:58014,62380:58015,62381:58016,62382:58017,62383:58018,62384:58019,62385:58020,62386:58021,62387:58022,62388:58023,62389:58024,62390:58025,62391:58026,62392:58027,62393:58028,62394:58029,62395:58030,62396:58031,62397:58032,62398:58033,62399:58034,62400:58035,62401:58036,62402:58037,62403:58038,62404:58039,62405:58040,62406:58041,62407:58042,62408:58043,62409:58044,62410:58045,62411:58046,62412:58047,62413:58048,62414:58049,62415:58050,62416:58051,62417:58052,62418:58053,62419:58054,62420:58055,62421:58056,62422:58057,62423:58058,62424:58059,62425:58060,62426:58061,62427:58062,62428:58063,62429:58064,62430:58065,62431:58066,62432:58067,62433:58068,62434:58069,62435:58070,62436:58071,62437:58072,62438:58073,62439:58074,62440:58075,62441:58076,62442:58077,62443:58078,62444:58079,62445:58080,62446:58081,62447:58082,62448:58083,62449:58084,62450:58085,62451:58086,62452:58087,62453:58088,62454:58089,62455:58090,62456:58091,62457:58092,62458:58093,62459:58094,62460:58095,62528:58096,62529:58097,62530:58098,62531:58099,62532:58100,62533:58101,62534:58102,62535:58103,62536:58104,62537:58105,62538:58106,62539:58107,62540:58108,62541:58109,62542:58110,62543:58111,62544:58112,62545:58113,62546:58114,62547:58115,62548:58116,62549:58117,62550:58118,62551:58119,62552:58120,62553:58121,62554:58122,62555:58123,62556:58124,62557:58125,62558:58126,62559:58127,62560:58128,62561:58129,62562:58130,62563:58131,62564:58132,62565:58133,62566:58134,62567:58135,62568:58136,62569:58137,62570:58138,62571:58139,62572:58140,62573:58141,62574:58142,62575:58143,62576:58144,62577:58145,62578:58146,62579:58147,62580:58148,62581:58149,62582:58150,62583:58151,62584:58152,62585:58153,62586:58154,62587:58155,62588:58156,62589:58157,62590:58158,62592:58159,62593:58160,62594:58161,62595:58162,62596:58163,62597:58164,62598:58165,62599:58166,62600:58167,62601:58168,62602:58169,62603:58170,62604:58171,62605:58172,62606:58173,62607:58174,62608:58175,62609:58176,62610:58177,62611:58178,62612:58179,62613:58180,62614:58181,62615:58182,62616:58183,62617:58184,62618:58185,62619:58186,62620:58187,62621:58188,62622:58189,62623:58190,62624:58191,62625:58192,62626:58193,62627:58194,62628:58195,62629:58196,62630:58197,62631:58198,62632:58199,62633:58200,62634:58201,62635:58202,62636:58203,62637:58204,62638:58205,62639:58206,62640:58207,62641:58208,62642:58209,62643:58210,62644:58211,62645:58212,62646:58213,62647:58214,62648:58215,62649:58216,62650:58217,62651:58218,62652:58219,62653:58220,62654:58221,62655:58222,62656:58223,62657:58224,62658:58225,62659:58226,62660:58227,62661:58228,62662:58229,62663:58230,62664:58231,62665:58232,62666:58233,62667:58234,62668:58235,62669:58236,62670:58237,62671:58238,62672:58239,62673:58240,62674:58241,62675:58242,62676:58243,62677:58244,62678:58245,62679:58246,62680:58247,62681:58248,62682:58249,62683:58250,62684:58251,62685:58252,62686:58253,62687:58254,62688:58255,62689:58256,62690:58257,62691:58258,62692:58259,62693:58260,62694:58261,62695:58262,62696:58263,62697:58264,62698:58265,62699:58266,62700:58267,62701:58268,62702:58269,62703:58270,62704:58271,62705:58272,62706:58273,62707:58274,62708:58275,62709:58276,62710:58277,62711:58278,62712:58279,62713:58280,62714:58281,62715:58282,62716:58283,62784:58284,62785:58285,62786:58286,62787:58287,62788:58288,62789:58289,62790:58290,62791:58291,62792:58292,62793:58293,62794:58294,62795:58295,62796:58296,62797:58297,62798:58298,62799:58299,62800:58300,62801:58301,62802:58302,62803:58303,62804:58304,62805:58305,62806:58306,62807:58307,62808:58308,62809:58309,62810:58310,62811:58311,62812:58312,62813:58313,62814:58314,62815:58315,62816:58316,62817:58317,62818:58318,62819:58319,62820:58320,62821:58321,62822:58322,62823:58323,62824:58324,62825:58325,62826:58326,62827:58327,62828:58328,62829:58329,62830:58330,62831:58331,62832:58332,62833:58333,62834:58334,62835:58335,62836:58336,62837:58337,62838:58338,62839:58339,62840:58340,62841:58341,62842:58342,62843:58343,62844:58344,62845:58345,62846:58346,62848:58347,62849:58348,62850:58349,62851:58350,62852:58351,62853:58352,62854:58353,62855:58354,62856:58355,62857:58356,62858:58357,62859:58358,62860:58359,62861:58360,62862:58361,62863:58362,62864:58363,62865:58364,62866:58365,62867:58366,62868:58367,62869:58368,62870:58369,62871:58370,62872:58371,62873:58372,62874:58373,62875:58374,62876:58375,62877:58376,62878:58377,62879:58378,62880:58379,62881:58380,62882:58381,62883:58382,62884:58383,62885:58384,62886:58385,62887:58386,62888:58387,62889:58388,62890:58389,62891:58390,62892:58391,62893:58392,62894:58393,62895:58394,62896:58395,62897:58396,62898:58397,62899:58398,62900:58399,62901:58400,62902:58401,62903:58402,62904:58403,62905:58404,62906:58405,62907:58406,62908:58407,62909:58408,62910:58409,62911:58410,62912:58411,62913:58412,62914:58413,62915:58414,62916:58415,62917:58416,62918:58417,62919:58418,62920:58419,62921:58420,62922:58421,62923:58422,62924:58423,62925:58424,62926:58425,62927:58426,62928:58427,62929:58428,62930:58429,62931:58430,62932:58431,62933:58432,62934:58433,62935:58434,62936:58435,62937:58436,62938:58437,62939:58438,62940:58439,62941:58440,62942:58441,62943:58442,62944:58443,62945:58444,62946:58445,62947:58446,62948:58447,62949:58448,62950:58449,62951:58450,62952:58451,62953:58452,62954:58453,62955:58454,62956:58455,62957:58456,62958:58457,62959:58458,62960:58459,62961:58460,62962:58461,62963:58462,62964:58463,62965:58464,62966:58465,62967:58466,62968:58467,62969:58468,62970:58469,62971:58470,62972:58471,63040:58472,63041:58473,63042:58474,63043:58475,63044:58476,63045:58477,63046:58478,63047:58479,63048:58480,63049:58481,63050:58482,63051:58483,63052:58484,63053:58485,63054:58486,63055:58487,63056:58488,63057:58489,63058:58490,63059:58491,63060:58492,63061:58493,63062:58494,63063:58495,63064:58496,63065:58497,63066:58498,63067:58499,63068:58500,63069:58501,63070:58502,63071:58503,63072:58504,63073:58505,63074:58506,63075:58507,63076:58508,63077:58509,63078:58510,63079:58511,63080:58512,63081:58513,63082:58514,63083:58515,63084:58516,63085:58517,63086:58518,63087:58519,63088:58520,63089:58521,63090:58522,63091:58523,63092:58524,63093:58525,63094:58526,63095:58527,63096:58528,63097:58529,63098:58530,63099:58531,63100:58532,63101:58533,63102:58534,63104:58535,63105:58536,63106:58537,63107:58538,63108:58539,63109:58540,63110:58541,63111:58542,63112:58543,63113:58544,63114:58545,63115:58546,63116:58547,63117:58548,63118:58549,63119:58550,63120:58551,63121:58552,63122:58553,63123:58554,63124:58555,63125:58556,63126:58557,63127:58558,63128:58559,63129:58560,63130:58561,63131:58562,63132:58563,63133:58564,63134:58565,63135:58566,63136:58567,63137:58568,63138:58569,63139:58570,63140:58571,63141:58572,63142:58573,63143:58574,63144:58575,63145:58576,63146:58577,63147:58578,63148:58579,63149:58580,63150:58581,63151:58582,63152:58583,63153:58584,63154:58585,63155:58586,63156:58587,63157:58588,63158:58589,63159:58590,63160:58591,63161:58592,63162:58593,63163:58594,63164:58595,63165:58596,63166:58597,63167:58598,63168:58599,63169:58600,63170:58601,63171:58602,63172:58603,63173:58604,63174:58605,63175:58606,63176:58607,63177:58608,63178:58609,63179:58610,63180:58611,63181:58612,63182:58613,63183:58614,63184:58615,63185:58616,63186:58617,63187:58618,63188:58619,63189:58620,63190:58621,63191:58622,63192:58623,63193:58624,63194:58625,63195:58626,63196:58627,63197:58628,63198:58629,63199:58630,63200:58631,63201:58632,63202:58633,63203:58634,63204:58635,63205:58636,63206:58637,63207:58638,63208:58639,63209:58640,63210:58641,63211:58642,63212:58643,63213:58644,63214:58645,63215:58646,63216:58647,63217:58648,63218:58649,63219:58650,63220:58651,63221:58652,63222:58653,63223:58654,63224:58655,63225:58656,63226:58657,63227:58658,63228:58659,63296:58660,63297:58661,63298:58662,63299:58663,63300:58664,63301:58665,63302:58666,63303:58667,63304:58668,63305:58669,63306:58670,63307:58671,63308:58672,63309:58673,63310:58674,63311:58675,63312:58676,63313:58677,63314:58678,63315:58679,63316:58680,63317:58681,63318:58682,63319:58683,63320:58684,63321:58685,63322:58686,63323:58687,63324:58688,63325:58689,63326:58690,63327:58691,63328:58692,63329:58693,63330:58694,63331:58695,63332:58696,63333:58697,63334:58698,63335:58699,63336:58700,63337:58701,63338:58702,63339:58703,63340:58704,63341:58705,63342:58706,63343:58707,63344:58708,63345:58709,63346:58710,63347:58711,63348:58712,63349:58713,63350:58714,63351:58715,63352:58716,63353:58717,63354:58718,63355:58719,63356:58720,63357:58721,63358:58722,63360:58723,63361:58724,63362:58725,63363:58726,63364:58727,63365:58728,63366:58729,63367:58730,63368:58731,63369:58732,63370:58733,63371:58734,63372:58735,63373:58736,63374:58737,63375:58738,63376:58739,63377:58740,63378:58741,63379:58742,63380:58743,63381:58744,63382:58745,63383:58746,63384:58747,63385:58748,63386:58749,63387:58750,63388:58751,63389:58752,63390:58753,63391:58754,63392:58755,63393:58756,63394:58757,63395:58758,63396:58759,63397:58760,63398:58761,63399:58762,63400:58763,63401:58764,63402:58765,63403:58766,63404:58767,63405:58768,63406:58769,63407:58770,63408:58771,63409:58772,63410:58773,63411:58774,63412:58775,63413:58776,63414:58777,63415:58778,63416:58779,63417:58780,63418:58781,63419:58782,63420:58783,63421:58784,63422:58785,63423:58786,63424:58787,63425:58788,63426:58789,63427:58790,63428:58791,63429:58792,63430:58793,63431:58794,63432:58795,63433:58796,63434:58797,63435:58798,63436:58799,63437:58800,63438:58801,63439:58802,63440:58803,63441:58804,63442:58805,63443:58806,63444:58807,63445:58808,63446:58809,63447:58810,63448:58811,63449:58812,63450:58813,63451:58814,63452:58815,63453:58816,63454:58817,63455:58818,63456:58819,63457:58820,63458:58821,63459:58822,63460:58823,63461:58824,63462:58825,63463:58826,63464:58827,63465:58828,63466:58829,63467:58830,63468:58831,63469:58832,63470:58833,63471:58834,63472:58835,63473:58836,63474:58837,63475:58838,63476:58839,63477:58840,63478:58841,63479:58842,63480:58843,63481:58844,63482:58845,63483:58846,63484:58847,63552:58848,63553:58849,63554:58850,63555:58851,63556:58852,63557:58853,63558:58854,63559:58855,63560:58856,63561:58857,63562:58858,63563:58859,63564:58860,63565:58861,63566:58862,63567:58863,63568:58864,63569:58865,63570:58866,63571:58867,63572:58868,63573:58869,63574:58870,63575:58871,63576:58872,63577:58873,63578:58874,63579:58875,63580:58876,63581:58877,63582:58878,63583:58879,63584:58880,63585:58881,63586:58882,63587:58883,63588:58884,63589:58885,63590:58886,63591:58887,63592:58888,63593:58889,63594:58890,63595:58891,63596:58892,63597:58893,63598:58894,63599:58895,63600:58896,63601:58897,63602:58898,63603:58899,63604:58900,63605:58901,63606:58902,63607:58903,63608:58904,63609:58905,63610:58906,63611:58907,63612:58908,63613:58909,63614:58910,63616:58911,63617:58912,63618:58913,63619:58914,63620:58915,63621:58916,63622:58917,63623:58918,63624:58919,63625:58920,63626:58921,63627:58922,63628:58923,63629:58924,63630:58925,63631:58926,63632:58927,63633:58928,63634:58929,63635:58930,63636:58931,63637:58932,63638:58933,63639:58934,63640:58935,63641:58936,63642:58937,63643:58938,63644:58939,63645:58940,63646:58941,63647:58942,63648:58943,63649:58944,63650:58945,63651:58946,63652:58947,63653:58948,63654:58949,63655:58950,63656:58951,63657:58952,63658:58953,63659:58954,63660:58955,63661:58956,63662:58957,63663:58958,63664:58959,63665:58960,63666:58961,63667:58962,63668:58963,63669:58964,63670:58965,63671:58966,63672:58967,63673:58968,63674:58969,63675:58970,63676:58971,63677:58972,63678:58973,63679:58974,63680:58975,63681:58976,63682:58977,63683:58978,63684:58979,63685:58980,63686:58981,63687:58982,63688:58983,63689:58984,63690:58985,63691:58986,63692:58987,63693:58988,63694:58989,63695:58990,63696:58991,63697:58992,63698:58993,63699:58994,63700:58995,63701:58996,63702:58997,63703:58998,63704:58999,63705:59e3,63706:59001,63707:59002,63708:59003,63709:59004,63710:59005,63711:59006,63712:59007,63713:59008,63714:59009,63715:59010,63716:59011,63717:59012,63718:59013,63719:59014,63720:59015,63721:59016,63722:59017,63723:59018,63724:59019,63725:59020,63726:59021,63727:59022,63728:59023,63729:59024,63730:59025,63731:59026,63732:59027,63733:59028,63734:59029,63735:59030,63736:59031,63737:59032,63738:59033,63739:59034,63740:59035,64064:8560,64065:8561,64066:8562,64067:8563,64068:8564,64069:8565,64070:8566,64071:8567,64072:8568,64073:8569,64074:8544,64075:8545,64076:8546,64077:8547,64078:8548,64079:8549,64080:8550,64081:8551,64082:8552,64083:8553,64084:65506,64085:65508,64086:65287,64087:65282,64088:12849,64089:8470,64090:8481,64091:8757,64092:32394,64093:35100,64094:37704,64095:37512,64096:34012,64097:20425,64098:28859,64099:26161,64100:26824,64101:37625,64102:26363,64103:24389,64104:20008,64105:20193,64106:20220,64107:20224,64108:20227,64109:20281,64110:20310,64111:20370,64112:20362,64113:20378,64114:20372,64115:20429,64116:20544,64117:20514,64118:20479,64119:20510,64120:20550,64121:20592,64122:20546,64123:20628,64124:20724,64125:20696,64126:20810,64128:20836,64129:20893,64130:20926,64131:20972,64132:21013,64133:21148,64134:21158,64135:21184,64136:21211,64137:21248,64138:21255,64139:21284,64140:21362,64141:21395,64142:21426,64143:21469,64144:64014,64145:21660,64146:21642,64147:21673,64148:21759,64149:21894,64150:22361,64151:22373,64152:22444,64153:22472,64154:22471,64155:64015,64156:64016,64157:22686,64158:22706,64159:22795,64160:22867,64161:22875,64162:22877,64163:22883,64164:22948,64165:22970,64166:23382,64167:23488,64168:29999,64169:23512,64170:23532,64171:23582,64172:23718,64173:23738,64174:23797,64175:23847,64176:23891,64177:64017,64178:23874,64179:23917,64180:23992,64181:23993,64182:24016,64183:24353,64184:24372,64185:24423,64186:24503,64187:24542,64188:24669,64189:24709,64190:24714,64191:24798,64192:24789,64193:24864,64194:24818,64195:24849,64196:24887,64197:24880,64198:24984,64199:25107,64200:25254,64201:25589,64202:25696,64203:25757,64204:25806,64205:25934,64206:26112,64207:26133,64208:26171,64209:26121,64210:26158,64211:26142,64212:26148,64213:26213,64214:26199,64215:26201,64216:64018,64217:26227,64218:26265,64219:26272,64220:26290,64221:26303,64222:26362,64223:26382,64224:63785,64225:26470,64226:26555,64227:26706,64228:26560,64229:26625,64230:26692,64231:26831,64232:64019,64233:26984,64234:64020,64235:27032,64236:27106,64237:27184,64238:27243,64239:27206,64240:27251,64241:27262,64242:27362,64243:27364,64244:27606,64245:27711,64246:27740,64247:27782,64248:27759,64249:27866,64250:27908,64251:28039,64252:28015,64320:28054,64321:28076,64322:28111,64323:28152,64324:28146,64325:28156,64326:28217,64327:28252,64328:28199,64329:28220,64330:28351,64331:28552,64332:28597,64333:28661,64334:28677,64335:28679,64336:28712,64337:28805,64338:28843,64339:28943,64340:28932,64341:29020,64342:28998,64343:28999,64344:64021,64345:29121,64346:29182,64347:29361,64348:29374,64349:29476,64350:64022,64351:29559,64352:29629,64353:29641,64354:29654,64355:29667,64356:29650,64357:29703,64358:29685,64359:29734,64360:29738,64361:29737,64362:29742,64363:29794,64364:29833,64365:29855,64366:29953,64367:30063,64368:30338,64369:30364,64370:30366,64371:30363,64372:30374,64373:64023,64374:30534,64375:21167,64376:30753,64377:30798,64378:30820,64379:30842,64380:31024,64381:64024,64382:64025,64384:64026,64385:31124,64386:64027,64387:31131,64388:31441,64389:31463,64390:64028,64391:31467,64392:31646,64393:64029,64394:32072,64395:32092,64396:32183,64397:32160,64398:32214,64399:32338,64400:32583,64401:32673,64402:64030,64403:33537,64404:33634,64405:33663,64406:33735,64407:33782,64408:33864,64409:33972,64410:34131,64411:34137,64412:34155,64413:64031,64414:34224,64415:64032,64416:64033,64417:34823,64418:35061,64419:35346,64420:35383,64421:35449,64422:35495,64423:35518,64424:35551,64425:64034,64426:35574,64427:35667,64428:35711,64429:36080,64430:36084,64431:36114,64432:36214,64433:64035,64434:36559,64435:64036,64436:64037,64437:36967,64438:37086,64439:64038,64440:37141,64441:37159,64442:37338,64443:37335,64444:37342,64445:37357,64446:37358,64447:37348,64448:37349,64449:37382,64450:37392,64451:37386,64452:37434,64453:37440,64454:37436,64455:37454,64456:37465,64457:37457,64458:37433,64459:37479,64460:37543,64461:37495,64462:37496,64463:37607,64464:37591,64465:37593,64466:37584,64467:64039,64468:37589,64469:37600,64470:37587,64471:37669,64472:37665,64473:37627,64474:64040,64475:37662,64476:37631,64477:37661,64478:37634,64479:37744,64480:37719,64481:37796,64482:37830,64483:37854,64484:37880,64485:37937,64486:37957,64487:37960,64488:38290,64489:63964,64490:64041,64491:38557,64492:38575,64493:38707,64494:38715,64495:38723,64496:38733,64497:38735,64498:38737,64499:38741,64500:38999,64501:39013,64502:64042,64503:64043,64504:39207,64505:64044,64506:39326,64507:39502,64508:39641,64576:39644,64577:39797,64578:39794,64579:39823,64580:39857,64581:39867,64582:39936,64583:40304,64584:40299,64585:64045,64586:40473,64587:40657};function II(n,e){this.dv=new DataView(n),this.offset=0,this.littleEndian=e!==void 0?e:!0,this.encoder=new XC}II.prototype={constructor:II,getInt8:function(){var n=this.dv.getInt8(this.offset);return this.offset+=1,n},getInt8Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getInt8());return e},getUint8:function(){var n=this.dv.getUint8(this.offset);return this.offset+=1,n},getUint8Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getUint8());return e},getInt16:function(){var n=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,n},getInt16Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getInt16());return e},getUint16:function(){var n=this.dv.getUint16(this.offset,this.littleEndian);return this.offset+=2,n},getUint16Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getUint16());return e},getInt32:function(){var n=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,n},getInt32Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getInt32());return e},getUint32:function(){var n=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,n},getUint32Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getUint32());return e},getFloat32:function(){var n=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,n},getFloat32Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getFloat32());return e},getFloat64:function(){var n=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,n},getFloat64Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getFloat64());return e},getIndex:function(n,e){switch(n){case 1:return e===!0?this.getUint8():this.getInt8();case 2:return e===!0?this.getUint16():this.getInt16();case 4:return this.getInt32();default:throw"unknown number type "+n+" exception."}},getIndexArray:function(n,e,t){for(var i=[],r=0;r<e;r++)i.push(this.getIndex(n,t));return i},getChars:function(n){for(var e="";n>0;){var t=this.getUint8();if(n--,t===0)break;e+=String.fromCharCode(t)}for(;n>0;)this.getUint8(),n--;return e},getSjisStringsAsUnicode:function(n){for(var e=[];n>0;){var t=this.getUint8();if(n--,t===0)break;e.push(t)}for(;n>0;)this.getUint8(),n--;return this.encoder.s2u(new Uint8Array(e))},getUnicodeStrings:function(n){for(var e="";n>0;){var t=this.getUint16();if(n-=2,t===0)break;e+=String.fromCharCode(t)}for(;n>0;)this.getUint8(),n--;return e},getTextBuffer:function(){var n=this.getUint32();return this.getUnicodeStrings(n)}};function RI(){}RI.prototype={constructor:RI,leftToRightVector3:function(n){n[2]=-n[2]},leftToRightQuaternion:function(n){n[0]=-n[0],n[1]=-n[1]},leftToRightEuler:function(n){n[0]=-n[0],n[1]=-n[1]},leftToRightIndexOrder:function(n){var e=n[2];n[2]=n[0],n[0]=e},leftToRightVector3Range:function(n,e){var t=-e[2];e[2]=-n[2],n[2]=t},leftToRightEulerRange:function(n,e){var t=-e[0],i=-e[1];e[0]=-n[0],e[1]=-n[1],n[0]=t,n[1]=i}};const NF=0,pne=2,gne=0,mne=0,Ane=2,vne=0,yne=0,xne=1,Tx=2,Sne=1,Ene=64,FF=0,UF=9,qC=15,GF=16,YC=22,zF=37,KC=43,QF=76,HF=83,VF=97,WF=100,jF=103,XF=109;class Cne{constructor(){this.vkFormat=FF,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=NF,this.levels=[],this.dataFormatDescriptor=[{vendorId:mne,descriptorType:gne,descriptorBlockSize:0,versionNumber:Ane,colorModel:vne,colorPrimaries:Sne,transferFunction:Tx,flags:yne,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class nf{constructor(e,t,i,r){this._dataView=void 0,this._littleEndian=void 0,this._offset=void 0,this._dataView=new DataView(e.buffer,e.byteOffset+t,i),this._littleEndian=r,this._offset=0}_nextUint8(){const e=this._dataView.getUint8(this._offset);return this._offset+=1,e}_nextUint16(){const e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}_nextUint32(){const e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint64(){const e=this._dataView.getUint32(this._offset,this._littleEndian),t=this._dataView.getUint32(this._offset+4,this._littleEndian),i=e+2**32*t;return this._offset+=8,i}_nextInt32(){const e=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,e}_skip(e){return this._offset+=e,this}_scan(e,t=0){const i=this._offset;let r=0;for(;this._dataView.getUint8(this._offset)!==t&&r<e;)r++,this._offset++;return r<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+i,r)}}const Jr=[171,75,84,88,32,50,48,187,13,10,26,10];function BI(n){return typeof TextDecoder<"u"?new TextDecoder().decode(n):Buffer.from(n).toString("utf8")}function wne(n){const e=new Uint8Array(n.buffer,n.byteOffset,Jr.length);if(e[0]!==Jr[0]||e[1]!==Jr[1]||e[2]!==Jr[2]||e[3]!==Jr[3]||e[4]!==Jr[4]||e[5]!==Jr[5]||e[6]!==Jr[6]||e[7]!==Jr[7]||e[8]!==Jr[8]||e[9]!==Jr[9]||e[10]!==Jr[10]||e[11]!==Jr[11])throw new Error("Missing KTX 2.0 identifier.");const t=new Cne,i=17*Uint32Array.BYTES_PER_ELEMENT,r=new nf(n,Jr.length,i,!0);t.vkFormat=r._nextUint32(),t.typeSize=r._nextUint32(),t.pixelWidth=r._nextUint32(),t.pixelHeight=r._nextUint32(),t.pixelDepth=r._nextUint32(),t.layerCount=r._nextUint32(),t.faceCount=r._nextUint32();const s=r._nextUint32();t.supercompressionScheme=r._nextUint32();const o=r._nextUint32(),a=r._nextUint32(),l=r._nextUint32(),c=r._nextUint32(),u=r._nextUint64(),h=r._nextUint64(),f=s*3*8,p=new nf(n,Jr.length+i,f,!0);for(let F=0;F<s;F++)t.levels.push({levelData:new Uint8Array(n.buffer,n.byteOffset+p._nextUint64(),p._nextUint64()),uncompressedByteLength:p._nextUint64()});const m=new nf(n,o,a,!0),S={vendorId:m._skip(4)._nextUint16(),descriptorType:m._nextUint16(),versionNumber:m._nextUint16(),descriptorBlockSize:m._nextUint16(),colorModel:m._nextUint8(),colorPrimaries:m._nextUint8(),transferFunction:m._nextUint8(),flags:m._nextUint8(),texelBlockDimension:[m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8()],bytesPlane:[m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8()],samples:[]},v=6,A=4,y=(S.descriptorBlockSize/4-v)/A;for(let F=0;F<y;F++){const z={bitOffset:m._nextUint16(),bitLength:m._nextUint8(),channelType:m._nextUint8(),samplePosition:[m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};z.channelType&Ene?(z.sampleLower=m._nextInt32(),z.sampleUpper=m._nextInt32()):(z.sampleLower=m._nextUint32(),z.sampleUpper=m._nextUint32()),S.samples[F]=z}t.dataFormatDescriptor.length=0,t.dataFormatDescriptor.push(S);const x=new nf(n,l,c,!0);for(;x._offset<c;){const F=x._nextUint32(),z=x._scan(F),U=BI(z),$=x._scan(F-z.byteLength);t.keyValue[U]=U.match(/^ktx/i)?BI($):$,x._offset%4&&x._skip(4-x._offset%4)}if(h<=0)return t;const C=new nf(n,u,h,!0),w=C._nextUint16(),M=C._nextUint16(),T=C._nextUint32(),R=C._nextUint32(),b=C._nextUint32(),B=C._nextUint32(),P=[];for(let F=0;F<s;F++)P.push({imageFlags:C._nextUint32(),rgbSliceByteOffset:C._nextUint32(),rgbSliceByteLength:C._nextUint32(),alphaSliceByteOffset:C._nextUint32(),alphaSliceByteLength:C._nextUint32()});const O=u+C._offset,G=O+T,H=G+R,j=H+b,q=new Uint8Array(n.buffer,n.byteOffset+O,T),J=new Uint8Array(n.buffer,n.byteOffset+G,R),L=new Uint8Array(n.buffer,n.byteOffset+H,b),D=new Uint8Array(n.buffer,n.byteOffset+j,B);return t.globalData={endpointCount:w,selectorCount:M,imageDescs:P,endpointsData:q,selectorsData:J,tablesData:L,extendedData:D},t}let jA,Hl,bx;const XA={env:{emscripten_notify_memory_growth:function(n){bx=new Uint8Array(Hl.exports.memory.buffer)}}};class _ne{init(){return jA||(jA=typeof fetch<"u"?fetch("data:application/wasm;base64,"+kI).then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,XA)).then(this._init):WebAssembly.instantiate(Buffer.from(kI,"base64"),XA).then(this._init),jA)}_init(e){Hl=e.instance,XA.env.emscripten_notify_memory_growth(0)}decode(e,t=0){if(!Hl)throw new Error("ZSTDDecoder: Await .init() before decoding.");const i=e.byteLength,r=Hl.exports.malloc(i);bx.set(e,r),t=t||Number(Hl.exports.ZSTD_findDecompressedSize(r,i));const s=Hl.exports.malloc(t),o=Hl.exports.ZSTD_decompress(s,t,r,i),a=bx.slice(s,s+o);return Hl.exports.free(r),Hl.exports.free(s),a}}const kI="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ";/*! https://mths.be/codepointat v0.2.0 by @mathias */String.prototype.codePointAt||function(){var n=function(){try{var t={},i=Object.defineProperty,r=i(t,t,t)&&i}catch{}return r}(),e=function(t){if(this==null)throw TypeError();var i=String(this),r=i.length,s=t?Number(t):0;if(s!=s&&(s=0),!(s<0||s>=r)){var o=i.charCodeAt(s),a;return o>=55296&&o<=56319&&r>s+1&&(a=i.charCodeAt(s+1),a>=56320&&a<=57343)?(o-55296)*1024+a-56320+65536:o}};n?n(String.prototype,"codePointAt",{value:e,configurable:!0,writable:!0}):String.prototype.codePointAt=e}();function qF(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}var Mne=new qF,Tne=new qF,YF=new Uint8Array(30),KF=new Uint16Array(30),bne=new Uint8Array(30),Ine=new Uint16Array(30);function JF(n,e,t,i){var r,s;for(r=0;r<t;++r)n[r]=0;for(r=0;r<30-t;++r)n[r+t]=r/t|0;for(s=i,r=0;r<30;++r)e[r]=s,s+=1<<n[r]}function Rne(n,e){var t;for(t=0;t<7;++t)n.table[t]=0;for(n.table[7]=24,n.table[8]=152,n.table[9]=112,t=0;t<24;++t)n.trans[t]=256+t;for(t=0;t<144;++t)n.trans[24+t]=t;for(t=0;t<8;++t)n.trans[24+144+t]=280+t;for(t=0;t<112;++t)n.trans[24+144+8+t]=144+t;for(t=0;t<5;++t)e.table[t]=0;for(e.table[5]=32,t=0;t<32;++t)e.trans[t]=t}Rne(Mne,Tne);JF(YF,KF,4,3);JF(bne,Ine,2,1);YF[28]=0;KF[28]=258;function yh(n,e,t,i,r){return Math.pow(1-r,3)*n+3*Math.pow(1-r,2)*r*e+3*(1-r)*Math.pow(r,2)*t+Math.pow(r,3)*i}function Gc(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}Gc.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};Gc.prototype.addPoint=function(n,e){typeof n=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=n,this.x2=n),n<this.x1&&(this.x1=n),n>this.x2&&(this.x2=n)),typeof e=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))};Gc.prototype.addX=function(n){this.addPoint(n,null)};Gc.prototype.addY=function(n){this.addPoint(null,n)};Gc.prototype.addBezier=function(n,e,t,i,r,s,o,a){var l=[n,e],c=[t,i],u=[r,s],h=[o,a];this.addPoint(n,e),this.addPoint(o,a);for(var f=0;f<=1;f++){var p=6*l[f]-12*c[f]+6*u[f],m=-3*l[f]+9*c[f]-9*u[f]+3*h[f],S=3*c[f]-3*l[f];if(m===0){if(p===0)continue;var v=-S/p;0<v&&v<1&&(f===0&&this.addX(yh(l[f],c[f],u[f],h[f],v)),f===1&&this.addY(yh(l[f],c[f],u[f],h[f],v)));continue}var A=Math.pow(p,2)-4*S*m;if(!(A<0)){var y=(-p+Math.sqrt(A))/(2*m);0<y&&y<1&&(f===0&&this.addX(yh(l[f],c[f],u[f],h[f],y)),f===1&&this.addY(yh(l[f],c[f],u[f],h[f],y)));var x=(-p-Math.sqrt(A))/(2*m);0<x&&x<1&&(f===0&&this.addX(yh(l[f],c[f],u[f],h[f],x)),f===1&&this.addY(yh(l[f],c[f],u[f],h[f],x)))}}};Gc.prototype.addQuad=function(n,e,t,i,r,s){var o=n+.6666666666666666*(t-n),a=e+2/3*(i-e),l=o+1/3*(r-n),c=a+1/3*(s-e);this.addBezier(n,e,o,a,l,c,r,s)};function Xi(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}Xi.prototype.moveTo=function(n,e){this.commands.push({type:"M",x:n,y:e})};Xi.prototype.lineTo=function(n,e){this.commands.push({type:"L",x:n,y:e})};Xi.prototype.curveTo=Xi.prototype.bezierCurveTo=function(n,e,t,i,r,s){this.commands.push({type:"C",x1:n,y1:e,x2:t,y2:i,x:r,y:s})};Xi.prototype.quadTo=Xi.prototype.quadraticCurveTo=function(n,e,t,i){this.commands.push({type:"Q",x1:n,y1:e,x:t,y:i})};Xi.prototype.close=Xi.prototype.closePath=function(){this.commands.push({type:"Z"})};Xi.prototype.extend=function(n){if(n.commands)n=n.commands;else if(n instanceof Gc){var e=n;this.moveTo(e.x1,e.y1),this.lineTo(e.x2,e.y1),this.lineTo(e.x2,e.y2),this.lineTo(e.x1,e.y2),this.close();return}Array.prototype.push.apply(this.commands,n)};Xi.prototype.getBoundingBox=function(){for(var n=new Gc,e=0,t=0,i=0,r=0,s=0;s<this.commands.length;s++){var o=this.commands[s];switch(o.type){case"M":n.addPoint(o.x,o.y),e=i=o.x,t=r=o.y;break;case"L":n.addPoint(o.x,o.y),i=o.x,r=o.y;break;case"Q":n.addQuad(i,r,o.x1,o.y1,o.x,o.y),i=o.x,r=o.y;break;case"C":n.addBezier(i,r,o.x1,o.y1,o.x2,o.y2,o.x,o.y),i=o.x,r=o.y;break;case"Z":i=e,r=t;break;default:throw new Error("Unexpected path command "+o.type)}}return n.isEmpty()&&n.addPoint(0,0),n};Xi.prototype.draw=function(n){n.beginPath();for(var e=0;e<this.commands.length;e+=1){var t=this.commands[e];t.type==="M"?n.moveTo(t.x,t.y):t.type==="L"?n.lineTo(t.x,t.y):t.type==="C"?n.bezierCurveTo(t.x1,t.y1,t.x2,t.y2,t.x,t.y):t.type==="Q"?n.quadraticCurveTo(t.x1,t.y1,t.x,t.y):t.type==="Z"&&n.closePath()}this.fill&&(n.fillStyle=this.fill,n.fill()),this.stroke&&(n.strokeStyle=this.stroke,n.lineWidth=this.strokeWidth,n.stroke())};Xi.prototype.toPathData=function(n){n=n!==void 0?n:2;function e(o){return Math.round(o)===o?""+Math.round(o):o.toFixed(n)}function t(){for(var o=arguments,a="",l=0;l<arguments.length;l+=1){var c=o[l];c>=0&&l>0&&(a+=" "),a+=e(c)}return a}for(var i="",r=0;r<this.commands.length;r+=1){var s=this.commands[r];s.type==="M"?i+="M"+t(s.x,s.y):s.type==="L"?i+="L"+t(s.x,s.y):s.type==="C"?i+="C"+t(s.x1,s.y1,s.x2,s.y2,s.x,s.y):s.type==="Q"?i+="Q"+t(s.x1,s.y1,s.x,s.y):s.type==="Z"&&(i+="Z")}return i};Xi.prototype.toSVG=function(n){var e='<path d="';return e+=this.toPathData(n),e+='"',this.fill&&this.fill!=="black"&&(this.fill===null?e+=' fill="none"':e+=' fill="'+this.fill+'"'),this.stroke&&(e+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),e+="/>",e};Xi.prototype.toDOMElement=function(n){var e=this.toPathData(n),t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d",e),t};function $F(n){throw new Error(n)}function PI(n,e){n||$F(e)}var Ot={fail:$F,argument:PI,assert:PI},LI=32768,DI=2147483648,B2={},it={},kt={};function Ta(n){return function(){return n}}it.BYTE=function(n){return Ot.argument(n>=0&&n<=255,"Byte value should be between 0 and 255."),[n]};kt.BYTE=Ta(1);it.CHAR=function(n){return[n.charCodeAt(0)]};kt.CHAR=Ta(1);it.CHARARRAY=function(n){typeof n>"u"&&(n="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var e=[],t=0;t<n.length;t+=1)e[t]=n.charCodeAt(t);return e};kt.CHARARRAY=function(n){return typeof n>"u"?0:n.length};it.USHORT=function(n){return[n>>8&255,n&255]};kt.USHORT=Ta(2);it.SHORT=function(n){return n>=LI&&(n=-(2*LI-n)),[n>>8&255,n&255]};kt.SHORT=Ta(2);it.UINT24=function(n){return[n>>16&255,n>>8&255,n&255]};kt.UINT24=Ta(3);it.ULONG=function(n){return[n>>24&255,n>>16&255,n>>8&255,n&255]};kt.ULONG=Ta(4);it.LONG=function(n){return n>=DI&&(n=-(2*DI-n)),[n>>24&255,n>>16&255,n>>8&255,n&255]};kt.LONG=Ta(4);it.FIXED=it.ULONG;kt.FIXED=kt.ULONG;it.FWORD=it.SHORT;kt.FWORD=kt.SHORT;it.UFWORD=it.USHORT;kt.UFWORD=kt.USHORT;it.LONGDATETIME=function(n){return[0,0,0,0,n>>24&255,n>>16&255,n>>8&255,n&255]};kt.LONGDATETIME=Ta(8);it.TAG=function(n){return Ot.argument(n.length===4,"Tag should be exactly 4 ASCII characters."),[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3)]};kt.TAG=Ta(4);it.Card8=it.BYTE;kt.Card8=kt.BYTE;it.Card16=it.USHORT;kt.Card16=kt.USHORT;it.OffSize=it.BYTE;kt.OffSize=kt.BYTE;it.SID=it.USHORT;kt.SID=kt.USHORT;it.NUMBER=function(n){return n>=-107&&n<=107?[n+139]:n>=108&&n<=1131?(n=n-108,[(n>>8)+247,n&255]):n>=-1131&&n<=-108?(n=-n-108,[(n>>8)+251,n&255]):n>=-32768&&n<=32767?it.NUMBER16(n):it.NUMBER32(n)};kt.NUMBER=function(n){return it.NUMBER(n).length};it.NUMBER16=function(n){return[28,n>>8&255,n&255]};kt.NUMBER16=Ta(3);it.NUMBER32=function(n){return[29,n>>24&255,n>>16&255,n>>8&255,n&255]};kt.NUMBER32=Ta(5);it.REAL=function(n){var e=n.toString(),t=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(e);if(t){var i=parseFloat("1e"+((t[2]?+t[2]:0)+t[1].length));e=(Math.round(n*i)/i).toString()}for(var r="",s=0,o=e.length;s<o;s+=1){var a=e[s];a==="e"?r+=e[++s]==="-"?"c":"b":a==="."?r+="a":a==="-"?r+="e":r+=a}r+=r.length&1?"f":"ff";for(var l=[30],c=0,u=r.length;c<u;c+=2)l.push(parseInt(r.substr(c,2),16));return l};kt.REAL=function(n){return it.REAL(n).length};it.NAME=it.CHARARRAY;kt.NAME=kt.CHARARRAY;it.STRING=it.CHARARRAY;kt.STRING=kt.CHARARRAY;B2.UTF8=function(n,e,t){for(var i=[],r=t,s=0;s<r;s++,e+=1)i[s]=n.getUint8(e);return String.fromCharCode.apply(null,i)};B2.UTF16=function(n,e,t){for(var i=[],r=t/2,s=0;s<r;s++,e+=2)i[s]=n.getUint16(e);return String.fromCharCode.apply(null,i)};it.UTF16=function(n){for(var e=[],t=0;t<n.length;t+=1){var i=n.charCodeAt(t);e[e.length]=i>>8&255,e[e.length]=i&255}return e};kt.UTF16=function(n){return n.length*2};var Ix={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""};B2.MACSTRING=function(n,e,t,i){var r=Ix[i];if(r!==void 0){for(var s="",o=0;o<t;o++){var a=n.getUint8(e+o);a<=127?s+=String.fromCharCode(a):s+=r[a&127]}return s}};var h6=typeof WeakMap=="function"&&new WeakMap,f6,Bne=function(n){if(!f6){f6={};for(var e in Ix)f6[e]=new String(e)}var t=f6[n];if(t!==void 0){if(h6){var i=h6.get(t);if(i!==void 0)return i}var r=Ix[n];if(r!==void 0){for(var s={},o=0;o<r.length;o++)s[r.charCodeAt(o)]=o+128;return h6&&h6.set(t,s),s}}};it.MACSTRING=function(n,e){var t=Bne(e);if(t!==void 0){for(var i=[],r=0;r<n.length;r++){var s=n.charCodeAt(r);if(s>=128&&(s=t[s],s===void 0))return;i[r]=s}return i}};kt.MACSTRING=function(n,e){var t=it.MACSTRING(n,e);return t!==void 0?t.length:0};function Rx(n){return n>=-128&&n<=127}function kne(n,e,t){for(var i=0,r=n.length;e<r&&i<64&&n[e]===0;)++e,++i;return t.push(128|i-1),e}function Pne(n,e,t){for(var i=0,r=n.length,s=e;s<r&&i<64;){var o=n[s];if(!Rx(o)||o===0&&s+1<r&&n[s+1]===0)break;++s,++i}t.push(i-1);for(var a=e;a<s;++a)t.push(n[a]+256&255);return s}function Lne(n,e,t){for(var i=0,r=n.length,s=e;s<r&&i<64;){var o=n[s];if(o===0||Rx(o)&&s+1<r&&Rx(n[s+1]))break;++s,++i}t.push(64|i-1);for(var a=e;a<s;++a){var l=n[a];t.push(l+65536>>8&255,l+256&255)}return s}it.VARDELTAS=function(n){for(var e=0,t=[];e<n.length;){var i=n[e];i===0?e=kne(n,e,t):i>=-128&&i<=127?e=Pne(n,e,t):e=Lne(n,e,t)}return t};it.INDEX=function(n){for(var e=1,t=[e],i=[],r=0;r<n.length;r+=1){var s=it.OBJECT(n[r]);Array.prototype.push.apply(i,s),e+=s.length,t.push(e)}if(i.length===0)return[0,0];for(var o=[],a=1+Math.floor(Math.log(e)/Math.log(2))/8|0,l=[void 0,it.BYTE,it.USHORT,it.UINT24,it.ULONG][a],c=0;c<t.length;c+=1){var u=l(t[c]);Array.prototype.push.apply(o,u)}return Array.prototype.concat(it.Card16(n.length),it.OffSize(a),o,i)};kt.INDEX=function(n){return it.INDEX(n).length};it.DICT=function(n){for(var e=[],t=Object.keys(n),i=t.length,r=0;r<i;r+=1){var s=parseInt(t[r],0),o=n[s];e=e.concat(it.OPERAND(o.value,o.type)),e=e.concat(it.OPERATOR(s))}return e};kt.DICT=function(n){return it.DICT(n).length};it.OPERATOR=function(n){return n<1200?[n]:[12,n-1200]};it.OPERAND=function(n,e){var t=[];if(Array.isArray(e))for(var i=0;i<e.length;i+=1)Ot.argument(n.length===e.length,"Not enough arguments given for type"+e),t=t.concat(it.OPERAND(n[i],e[i]));else if(e==="SID")t=t.concat(it.NUMBER(n));else if(e==="offset")t=t.concat(it.NUMBER32(n));else if(e==="number")t=t.concat(it.NUMBER(n));else if(e==="real")t=t.concat(it.REAL(n));else throw new Error("Unknown operand type "+e);return t};it.OP=it.BYTE;kt.OP=kt.BYTE;var d6=typeof WeakMap=="function"&&new WeakMap;it.CHARSTRING=function(n){if(d6){var e=d6.get(n);if(e!==void 0)return e}for(var t=[],i=n.length,r=0;r<i;r+=1){var s=n[r];t=t.concat(it[s.type](s.value))}return d6&&d6.set(n,t),t};kt.CHARSTRING=function(n){return it.CHARSTRING(n).length};it.OBJECT=function(n){var e=it[n.type];return Ot.argument(e!==void 0,"No encoding function for type "+n.type),e(n.value)};kt.OBJECT=function(n){var e=kt[n.type];return Ot.argument(e!==void 0,"No sizeOf function for type "+n.type),e(n.value)};it.TABLE=function(n){for(var e=[],t=n.fields.length,i=[],r=[],s=0;s<t;s+=1){var o=n.fields[s],a=it[o.type];Ot.argument(a!==void 0,"No encoding function for field type "+o.type+" ("+o.name+")");var l=n[o.name];l===void 0&&(l=o.value);var c=a(l);o.type==="TABLE"?(r.push(e.length),e=e.concat([0,0]),i.push(c)):e=e.concat(c)}for(var u=0;u<i.length;u+=1){var h=r[u],f=e.length;Ot.argument(f<65536,"Table "+n.tableName+" too big."),e[h]=f>>8,e[h+1]=f&255,e=e.concat(i[u])}return e};kt.TABLE=function(n){for(var e=0,t=n.fields.length,i=0;i<t;i+=1){var r=n.fields[i],s=kt[r.type];Ot.argument(s!==void 0,"No sizeOf function for field type "+r.type+" ("+r.name+")");var o=n[r.name];o===void 0&&(o=r.value),e+=s(o),r.type==="TABLE"&&(e+=2)}return e};it.RECORD=it.TABLE;kt.RECORD=kt.TABLE;it.LITERAL=function(n){return n};kt.LITERAL=function(n){return n.length};function rr(n,e,t){if(e.length&&(e[0].name!=="coverageFormat"||e[0].value===1))for(var i=0;i<e.length;i+=1){var r=e[i];this[r.name]=r.value}if(this.tableName=n,this.fields=e,t)for(var s=Object.keys(t),o=0;o<s.length;o+=1){var a=s[o],l=t[a];this[a]!==void 0&&(this[a]=l)}}rr.prototype.encode=function(){return it.TABLE(this)};rr.prototype.sizeOf=function(){return kt.TABLE(this)};function $d(n,e,t){t===void 0&&(t=e.length);var i=new Array(e.length+1);i[0]={name:n+"Count",type:"USHORT",value:t};for(var r=0;r<e.length;r++)i[r+1]={name:n+r,type:"USHORT",value:e[r]};return i}function Bx(n,e,t){var i=e.length,r=new Array(i+1);r[0]={name:n+"Count",type:"USHORT",value:i};for(var s=0;s<i;s++)r[s+1]={name:n+s,type:"TABLE",value:t(e[s],s)};return r}function Zd(n,e,t){var i=e.length,r=[];r[0]={name:n+"Count",type:"USHORT",value:i};for(var s=0;s<i;s++)r=r.concat(t(e[s],s));return r}function g9(n){n.format===1?rr.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat($d("glyph",n.glyphs))):n.format===2?rr.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(Zd("rangeRecord",n.ranges,function(e){return[{name:"startGlyphID",type:"USHORT",value:e.start},{name:"endGlyphID",type:"USHORT",value:e.end},{name:"startCoverageIndex",type:"USHORT",value:e.index}]}))):Ot.assert(!1,"Coverage format must be 1 or 2.")}g9.prototype=Object.create(rr.prototype);g9.prototype.constructor=g9;function m9(n){rr.call(this,"scriptListTable",Zd("scriptRecord",n,function(e,t){var i=e.script,r=i.defaultLangSys;return Ot.assert(!!r,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+t,type:"TAG",value:e.tag},{name:"script"+t,type:"TABLE",value:new rr("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new rr("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:r.reqFeatureIndex}].concat($d("featureIndex",r.featureIndexes)))}].concat(Zd("langSys",i.langSysRecords,function(s,o){var a=s.langSys;return[{name:"langSysTag"+o,type:"TAG",value:s.tag},{name:"langSys"+o,type:"TABLE",value:new rr("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:a.reqFeatureIndex}].concat($d("featureIndex",a.featureIndexes)))}]})))}]}))}m9.prototype=Object.create(rr.prototype);m9.prototype.constructor=m9;function A9(n){rr.call(this,"featureListTable",Zd("featureRecord",n,function(e,t){var i=e.feature;return[{name:"featureTag"+t,type:"TAG",value:e.tag},{name:"feature"+t,type:"TABLE",value:new rr("featureTable",[{name:"featureParams",type:"USHORT",value:i.featureParams}].concat($d("lookupListIndex",i.lookupListIndexes)))}]}))}A9.prototype=Object.create(rr.prototype);A9.prototype.constructor=A9;function v9(n,e){rr.call(this,"lookupListTable",Bx("lookup",n,function(t){var i=e[t.lookupType];return Ot.assert(!!i,"Unable to write GSUB lookup type "+t.lookupType+" tables."),new rr("lookupTable",[{name:"lookupType",type:"USHORT",value:t.lookupType},{name:"lookupFlag",type:"USHORT",value:t.lookupFlag}].concat(Bx("subtable",t.subtables,i)))}))}v9.prototype=Object.create(rr.prototype);v9.prototype.constructor=v9;var pt={Table:rr,Record:rr,Coverage:g9,ScriptList:m9,FeatureList:A9,LookupList:v9,ushortList:$d,tableList:Bx,recordList:Zd};function OI(n,e){return n.getUint8(e)}function y9(n,e){return n.getUint16(e,!1)}function Dne(n,e){return n.getInt16(e,!1)}function JC(n,e){return n.getUint32(e,!1)}function ZF(n,e){var t=n.getInt16(e,!1),i=n.getUint16(e+2,!1);return t+i/65535}function One(n,e){for(var t="",i=e;i<e+4;i+=1)t+=String.fromCharCode(n.getInt8(i));return t}function Nne(n,e,t){for(var i=0,r=0;r<t;r+=1)i<<=8,i+=n.getUint8(e+r);return i}function Fne(n,e,t){for(var i=[],r=e;r<t;r+=1)i.push(n.getUint8(r));return i}function Une(n){for(var e="",t=0;t<n.length;t+=1)e+=String.fromCharCode(n[t]);return e}var Gne={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function be(n,e){this.data=n,this.offset=e,this.relativeOffset=0}be.prototype.parseByte=function(){var n=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,n};be.prototype.parseChar=function(){var n=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,n};be.prototype.parseCard8=be.prototype.parseByte;be.prototype.parseUShort=function(){var n=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,n};be.prototype.parseCard16=be.prototype.parseUShort;be.prototype.parseSID=be.prototype.parseUShort;be.prototype.parseOffset16=be.prototype.parseUShort;be.prototype.parseShort=function(){var n=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,n};be.prototype.parseF2Dot14=function(){var n=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,n};be.prototype.parseULong=function(){var n=JC(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,n};be.prototype.parseOffset32=be.prototype.parseULong;be.prototype.parseFixed=function(){var n=ZF(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,n};be.prototype.parseString=function(n){var e=this.data,t=this.offset+this.relativeOffset,i="";this.relativeOffset+=n;for(var r=0;r<n;r++)i+=String.fromCharCode(e.getUint8(t+r));return i};be.prototype.parseTag=function(){return this.parseString(4)};be.prototype.parseLongDateTime=function(){var n=JC(this.data,this.offset+this.relativeOffset+4);return n-=2082844800,this.relativeOffset+=8,n};be.prototype.parseVersion=function(n){var e=y9(this.data,this.offset+this.relativeOffset),t=y9(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,n===void 0&&(n=4096),e+t/n/10};be.prototype.skip=function(n,e){e===void 0&&(e=1),this.relativeOffset+=Gne[n]*e};be.prototype.parseULongList=function(n){n===void 0&&(n=this.parseULong());for(var e=new Array(n),t=this.data,i=this.offset+this.relativeOffset,r=0;r<n;r++)e[r]=t.getUint32(i),i+=4;return this.relativeOffset+=n*4,e};be.prototype.parseOffset16List=be.prototype.parseUShortList=function(n){n===void 0&&(n=this.parseUShort());for(var e=new Array(n),t=this.data,i=this.offset+this.relativeOffset,r=0;r<n;r++)e[r]=t.getUint16(i),i+=2;return this.relativeOffset+=n*2,e};be.prototype.parseShortList=function(n){for(var e=new Array(n),t=this.data,i=this.offset+this.relativeOffset,r=0;r<n;r++)e[r]=t.getInt16(i),i+=2;return this.relativeOffset+=n*2,e};be.prototype.parseByteList=function(n){for(var e=new Array(n),t=this.data,i=this.offset+this.relativeOffset,r=0;r<n;r++)e[r]=t.getUint8(i++);return this.relativeOffset+=n,e};be.prototype.parseList=function(n,e){e||(e=n,n=this.parseUShort());for(var t=new Array(n),i=0;i<n;i++)t[i]=e.call(this);return t};be.prototype.parseList32=function(n,e){e||(e=n,n=this.parseULong());for(var t=new Array(n),i=0;i<n;i++)t[i]=e.call(this);return t};be.prototype.parseRecordList=function(n,e){e||(e=n,n=this.parseUShort());for(var t=new Array(n),i=Object.keys(e),r=0;r<n;r++){for(var s={},o=0;o<i.length;o++){var a=i[o],l=e[a];s[a]=l.call(this)}t[r]=s}return t};be.prototype.parseRecordList32=function(n,e){e||(e=n,n=this.parseULong());for(var t=new Array(n),i=Object.keys(e),r=0;r<n;r++){for(var s={},o=0;o<i.length;o++){var a=i[o],l=e[a];s[a]=l.call(this)}t[r]=s}return t};be.prototype.parseStruct=function(n){if(typeof n=="function")return n.call(this);for(var e=Object.keys(n),t={},i=0;i<e.length;i++){var r=e[i],s=n[r];t[r]=s.call(this)}return t};be.prototype.parseValueRecord=function(n){if(n===void 0&&(n=this.parseUShort()),n!==0){var e={};return n&1&&(e.xPlacement=this.parseShort()),n&2&&(e.yPlacement=this.parseShort()),n&4&&(e.xAdvance=this.parseShort()),n&8&&(e.yAdvance=this.parseShort()),n&16&&(e.xPlaDevice=void 0,this.parseShort()),n&32&&(e.yPlaDevice=void 0,this.parseShort()),n&64&&(e.xAdvDevice=void 0,this.parseShort()),n&128&&(e.yAdvDevice=void 0,this.parseShort()),e}};be.prototype.parseValueRecordList=function(){for(var n=this.parseUShort(),e=this.parseUShort(),t=new Array(e),i=0;i<e;i++)t[i]=this.parseValueRecord(n);return t};be.prototype.parsePointer=function(n){var e=this.parseOffset16();if(e>0)return new be(this.data,this.offset+e).parseStruct(n)};be.prototype.parsePointer32=function(n){var e=this.parseOffset32();if(e>0)return new be(this.data,this.offset+e).parseStruct(n)};be.prototype.parseListOfLists=function(n){for(var e=this.parseOffset16List(),t=e.length,i=this.relativeOffset,r=new Array(t),s=0;s<t;s++){var o=e[s];if(o===0){r[s]=void 0;continue}if(this.relativeOffset=o,n){for(var a=this.parseOffset16List(),l=new Array(a.length),c=0;c<a.length;c++)this.relativeOffset=o+a[c],l[c]=n.call(this);r[s]=l}else r[s]=this.parseUShortList()}return this.relativeOffset=i,r};be.prototype.parseCoverage=function(){var n=this.offset+this.relativeOffset,e=this.parseUShort(),t=this.parseUShort();if(e===1)return{format:1,glyphs:this.parseUShortList(t)};if(e===2){for(var i=new Array(t),r=0;r<t;r++)i[r]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:i}}throw new Error("0x"+n.toString(16)+": Coverage format must be 1 or 2.")};be.prototype.parseClassDef=function(){var n=this.offset+this.relativeOffset,e=this.parseUShort();if(e===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(e===2)return{format:2,ranges:this.parseRecordList({start:be.uShort,end:be.uShort,classId:be.uShort})};throw new Error("0x"+n.toString(16)+": ClassDef format must be 1 or 2.")};be.list=function(n,e){return function(){return this.parseList(n,e)}};be.list32=function(n,e){return function(){return this.parseList32(n,e)}};be.recordList=function(n,e){return function(){return this.parseRecordList(n,e)}};be.recordList32=function(n,e){return function(){return this.parseRecordList32(n,e)}};be.pointer=function(n){return function(){return this.parsePointer(n)}};be.pointer32=function(n){return function(){return this.parsePointer32(n)}};be.tag=be.prototype.parseTag;be.byte=be.prototype.parseByte;be.uShort=be.offset16=be.prototype.parseUShort;be.uShortList=be.prototype.parseUShortList;be.uLong=be.offset32=be.prototype.parseULong;be.uLongList=be.prototype.parseULongList;be.struct=be.prototype.parseStruct;be.coverage=be.prototype.parseCoverage;be.classDef=be.prototype.parseClassDef;var NI={reserved:be.uShort,reqFeatureIndex:be.uShort,featureIndexes:be.uShortList};be.prototype.parseScriptList=function(){return this.parsePointer(be.recordList({tag:be.tag,script:be.pointer({defaultLangSys:be.pointer(NI),langSysRecords:be.recordList({tag:be.tag,langSys:be.pointer(NI)})})}))||[]};be.prototype.parseFeatureList=function(){return this.parsePointer(be.recordList({tag:be.tag,feature:be.pointer({featureParams:be.offset16,lookupListIndexes:be.uShortList})}))||[]};be.prototype.parseLookupList=function(n){return this.parsePointer(be.list(be.pointer(function(){var e=this.parseUShort();Ot.argument(1<=e&&e<=9,"GPOS/GSUB lookup type "+e+" unknown.");var t=this.parseUShort(),i=t&16;return{lookupType:e,lookupFlag:t,subtables:this.parseList(be.pointer(n[e])),markFilteringSet:i?this.parseUShort():void 0}})))||[]};be.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var n=this.parseUShort(),e=this.parseUShort();Ot.argument(n===1&&e<1,"GPOS/GSUB feature variations table unknown.");var t=this.parseRecordList32({conditionSetOffset:be.offset32,featureTableSubstitutionOffset:be.offset32});return t})||[]};var zt={getByte:OI,getCard8:OI,getUShort:y9,getCard16:y9,getShort:Dne,getULong:JC,getFixed:ZF,getTag:One,getOffset:Nne,getBytes:Fne,bytesToString:Une,Parser:be};function zne(n,e){e.parseUShort(),n.length=e.parseULong(),n.language=e.parseULong();var t;n.groupCount=t=e.parseULong(),n.glyphIndexMap={};for(var i=0;i<t;i+=1)for(var r=e.parseULong(),s=e.parseULong(),o=e.parseULong(),a=r;a<=s;a+=1)n.glyphIndexMap[a]=o,o++}function Qne(n,e,t,i,r){n.length=e.parseUShort(),n.language=e.parseUShort();var s;n.segCount=s=e.parseUShort()>>1,e.skip("uShort",3),n.glyphIndexMap={};for(var o=new zt.Parser(t,i+r+14),a=new zt.Parser(t,i+r+16+s*2),l=new zt.Parser(t,i+r+16+s*4),c=new zt.Parser(t,i+r+16+s*6),u=i+r+16+s*8,h=0;h<s-1;h+=1)for(var f=void 0,p=o.parseUShort(),m=a.parseUShort(),S=l.parseShort(),v=c.parseUShort(),A=m;A<=p;A+=1)v!==0?(u=c.offset+c.relativeOffset-2,u+=v,u+=(A-m)*2,f=zt.getUShort(t,u),f!==0&&(f=f+S&65535)):f=A+S&65535,n.glyphIndexMap[A]=f}function Hne(n,e){var t={};t.version=zt.getUShort(n,e),Ot.argument(t.version===0,"cmap table version should be 0."),t.numTables=zt.getUShort(n,e+2);for(var i=-1,r=t.numTables-1;r>=0;r-=1){var s=zt.getUShort(n,e+4+r*8),o=zt.getUShort(n,e+4+r*8+2);if(s===3&&(o===0||o===1||o===10)||s===0&&(o===0||o===1||o===2||o===3||o===4)){i=zt.getULong(n,e+4+r*8+4);break}}if(i===-1)throw new Error("No valid cmap sub-tables found.");var a=new zt.Parser(n,e+i);if(t.format=a.parseUShort(),t.format===12)zne(t,a);else if(t.format===4)Qne(t,a,n,e,i);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+t.format+").");return t}function Vne(n,e,t){n.segments.push({end:e,start:e,delta:-(e-t),offset:0,glyphIndex:t})}function Wne(n){n.segments.push({end:65535,start:65535,delta:1,offset:0})}function jne(n){var e=!0,t;for(t=n.length-1;t>0;t-=1){var i=n.get(t);if(i.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),e=!1;break}}var r=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:e?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:e?12:12+8}];e||(r=r.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),r=r.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var s=new pt.Table("cmap",r);for(s.segments=[],t=0;t<n.length;t+=1){for(var o=n.get(t),a=0;a<o.unicodes.length;a+=1)Vne(s,o.unicodes[a],t);s.segments=s.segments.sort(function(y,x){return y.start-x.start})}Wne(s);var l=s.segments.length,c=0,u=[],h=[],f=[],p=[],m=[],S=[];for(t=0;t<l;t+=1){var v=s.segments[t];v.end<=65535&&v.start<=65535?(u=u.concat({name:"end_"+t,type:"USHORT",value:v.end}),h=h.concat({name:"start_"+t,type:"USHORT",value:v.start}),f=f.concat({name:"idDelta_"+t,type:"SHORT",value:v.delta}),p=p.concat({name:"idRangeOffset_"+t,type:"USHORT",value:v.offset}),v.glyphId!==void 0&&(m=m.concat({name:"glyph_"+t,type:"USHORT",value:v.glyphId}))):c+=1,!e&&v.glyphIndex!==void 0&&(S=S.concat({name:"cmap12Start_"+t,type:"ULONG",value:v.start}),S=S.concat({name:"cmap12End_"+t,type:"ULONG",value:v.end}),S=S.concat({name:"cmap12Glyph_"+t,type:"ULONG",value:v.glyphIndex}))}if(s.segCountX2=(l-c)*2,s.searchRange=Math.pow(2,Math.floor(Math.log(l-c)/Math.log(2)))*2,s.entrySelector=Math.log(s.searchRange/2)/Math.log(2),s.rangeShift=s.segCountX2-s.searchRange,s.fields=s.fields.concat(u),s.fields.push({name:"reservedPad",type:"USHORT",value:0}),s.fields=s.fields.concat(h),s.fields=s.fields.concat(f),s.fields=s.fields.concat(p),s.fields=s.fields.concat(m),s.cmap4Length=14+u.length*2+2+h.length*2+f.length*2+p.length*2+m.length*2,!e){var A=16+S.length*4;s.cmap12Offset=12+2*2+4+s.cmap4Length,s.fields=s.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:A},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:S.length/3}]),s.fields=s.fields.concat(S)}return s}var Xne={parse:Hne,make:jne},g8=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],qne=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Yne=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],FI=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function eU(n){this.font=n}eU.prototype.charToGlyphIndex=function(n){var e=n.codePointAt(0),t=this.font.glyphs;if(t){for(var i=0;i<t.length;i+=1)for(var r=t.get(i),s=0;s<r.unicodes.length;s+=1)if(r.unicodes[s]===e)return i}return null};function x9(n,e){this.encoding=n,this.charset=e}x9.prototype.charToGlyphIndex=function(n){var e=n.codePointAt(0),t=this.encoding[e];return this.charset.indexOf(t)};function Kne(n,e,t,i,r){n.beginPath(),n.moveTo(e,t),n.lineTo(i,r),n.stroke()}var mu={line:Kne};function Jne(n,e){var t=e||new Xi;return{configurable:!0,get:function(){return typeof t=="function"&&(t=t()),t},set:function(i){t=i}}}function $o(n){this.bindConstructorValues(n)}$o.prototype.bindConstructorValues=function(n){this.index=n.index||0,this.name=n.name||null,this.unicode=n.unicode||void 0,this.unicodes=n.unicodes||n.unicode!==void 0?[n.unicode]:[],"xMin"in n&&(this.xMin=n.xMin),"yMin"in n&&(this.yMin=n.yMin),"xMax"in n&&(this.xMax=n.xMax),"yMax"in n&&(this.yMax=n.yMax),"advanceWidth"in n&&(this.advanceWidth=n.advanceWidth),Object.defineProperty(this,"path",Jne(this,n.path))};$o.prototype.addUnicode=function(n){this.unicodes.length===0&&(this.unicode=n),this.unicodes.push(n)};$o.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};$o.prototype.getPath=function(n,e,t,i,r){n=n!==void 0?n:0,e=e!==void 0?e:0,t=t!==void 0?t:72;var s,o;i||(i={});var a=i.xScale,l=i.yScale;if(i.hinting&&r&&r.hinting&&(o=this.path&&r.hinting.exec(this,t)),o)s=r.hinting.getCommands(o),n=Math.round(n),e=Math.round(e),a=l=1;else{s=this.path.commands;var c=1/(this.path.unitsPerEm||1e3)*t;a===void 0&&(a=c),l===void 0&&(l=c)}for(var u=new Xi,h=0;h<s.length;h+=1){var f=s[h];f.type==="M"?u.moveTo(n+f.x*a,e+-f.y*l):f.type==="L"?u.lineTo(n+f.x*a,e+-f.y*l):f.type==="Q"?u.quadraticCurveTo(n+f.x1*a,e+-f.y1*l,n+f.x*a,e+-f.y*l):f.type==="C"?u.curveTo(n+f.x1*a,e+-f.y1*l,n+f.x2*a,e+-f.y2*l,n+f.x*a,e+-f.y*l):f.type==="Z"&&u.closePath()}return u};$o.prototype.getContours=function(){if(this.points===void 0)return[];for(var n=[],e=[],t=0;t<this.points.length;t+=1){var i=this.points[t];e.push(i),i.lastPointOfContour&&(n.push(e),e=[])}return Ot.argument(e.length===0,"There are still points left in the current contour."),n};$o.prototype.getMetrics=function(){for(var n=this.path.commands,e=[],t=[],i=0;i<n.length;i+=1){var r=n[i];r.type!=="Z"&&(e.push(r.x),t.push(r.y)),(r.type==="Q"||r.type==="C")&&(e.push(r.x1),t.push(r.y1)),r.type==="C"&&(e.push(r.x2),t.push(r.y2))}var s={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,t),xMax:Math.max.apply(null,e),yMax:Math.max.apply(null,t),leftSideBearing:this.leftSideBearing};return isFinite(s.xMin)||(s.xMin=0),isFinite(s.xMax)||(s.xMax=this.advanceWidth),isFinite(s.yMin)||(s.yMin=0),isFinite(s.yMax)||(s.yMax=0),s.rightSideBearing=this.advanceWidth-s.leftSideBearing-(s.xMax-s.xMin),s};$o.prototype.draw=function(n,e,t,i,r){this.getPath(e,t,i,r).draw(n)};$o.prototype.drawPoints=function(n,e,t,i){function r(h,f,p,m){n.beginPath();for(var S=0;S<h.length;S+=1)n.moveTo(f+h[S].x*m,p+h[S].y*m),n.arc(f+h[S].x*m,p+h[S].y*m,2,0,Math.PI*2,!1);n.closePath(),n.fill()}e=e!==void 0?e:0,t=t!==void 0?t:0,i=i!==void 0?i:24;for(var s=1/this.path.unitsPerEm*i,o=[],a=[],l=this.path,c=0;c<l.commands.length;c+=1){var u=l.commands[c];u.x!==void 0&&o.push({x:u.x,y:-u.y}),u.x1!==void 0&&a.push({x:u.x1,y:-u.y1}),u.x2!==void 0&&a.push({x:u.x2,y:-u.y2})}n.fillStyle="blue",r(o,e,t,s),n.fillStyle="red",r(a,e,t,s)};$o.prototype.drawMetrics=function(n,e,t,i){var r;e=e!==void 0?e:0,t=t!==void 0?t:0,i=i!==void 0?i:24,r=1/this.path.unitsPerEm*i,n.lineWidth=1,n.strokeStyle="black",mu.line(n,e,-1e4,e,1e4),mu.line(n,-1e4,t,1e4,t);var s=this.xMin||0,o=this.yMin||0,a=this.xMax||0,l=this.yMax||0,c=this.advanceWidth||0;n.strokeStyle="blue",mu.line(n,e+s*r,-1e4,e+s*r,1e4),mu.line(n,e+a*r,-1e4,e+a*r,1e4),mu.line(n,-1e4,t+-o*r,1e4,t+-o*r),mu.line(n,-1e4,t+-l*r,1e4,t+-l*r),n.strokeStyle="green",mu.line(n,e+c*r,-1e4,e+c*r,1e4)};function p6(n,e,t){Object.defineProperty(n,e,{get:function(){return n.path,n[t]},set:function(i){n[t]=i},enumerable:!0,configurable:!0})}function $C(n,e){if(this.font=n,this.glyphs={},Array.isArray(e))for(var t=0;t<e.length;t++){var i=e[t];i.path.unitsPerEm=n.unitsPerEm,this.glyphs[t]=i}this.length=e&&e.length||0}$C.prototype.get=function(n){if(this.glyphs[n]===void 0){this.font._push(n),typeof this.glyphs[n]=="function"&&(this.glyphs[n]=this.glyphs[n]());var e=this.glyphs[n],t=this.font._IndexToUnicodeMap[n];if(t)for(var i=0;i<t.unicodes.length;i++)e.addUnicode(t.unicodes[i]);this.font.cffEncoding?this.font.isCIDFont?e.name="gid"+n:e.name=this.font.cffEncoding.charset[n]:this.font.glyphNames.names&&(e.name=this.font.glyphNames.glyphIndexToName(n)),this.glyphs[n].advanceWidth=this.font._hmtxTableData[n].advanceWidth,this.glyphs[n].leftSideBearing=this.font._hmtxTableData[n].leftSideBearing}else typeof this.glyphs[n]=="function"&&(this.glyphs[n]=this.glyphs[n]());return this.glyphs[n]};$C.prototype.push=function(n,e){this.glyphs[n]=e,this.length++};function $ne(n,e){return new $o({index:e,font:n})}function Zne(n,e,t,i,r,s){return function(){var o=new $o({index:e,font:n});return o.path=function(){t(o,i,r);var a=s(n.glyphs,o);return a.unitsPerEm=n.unitsPerEm,a},p6(o,"xMin","_xMin"),p6(o,"xMax","_xMax"),p6(o,"yMin","_yMin"),p6(o,"yMax","_yMax"),o}}function eie(n,e,t,i){return function(){var r=new $o({index:e,font:n});return r.path=function(){var s=t(n,r,i);return s.unitsPerEm=n.unitsPerEm,s},r}}var al={GlyphSet:$C,glyphLoader:$ne,ttfGlyphLoader:Zne,cffGlyphLoader:eie};function tU(n,e){if(n===e)return!0;if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t+=1)if(!tU(n[t],e[t]))return!1;return!0}else return!1}function kx(n){var e;return n.length<1240?e=107:n.length<33900?e=1131:e=32768,e}function Q1(n,e,t){var i=[],r=[],s=zt.getCard16(n,e),o,a;if(s!==0){var l=zt.getByte(n,e+2);o=e+(s+1)*l+2;for(var c=e+3,u=0;u<s+1;u+=1)i.push(zt.getOffset(n,c,l)),c+=l;a=o+i[s]}else a=e+2;for(var h=0;h<i.length-1;h+=1){var f=zt.getBytes(n,o+i[h],o+i[h+1]);t&&(f=t(f)),r.push(f)}return{objects:r,startOffset:e,endOffset:a}}function tie(n,e){var t=[],i=zt.getCard16(n,e),r,s;if(i!==0){var o=zt.getByte(n,e+2);r=e+(i+1)*o+2;for(var a=e+3,l=0;l<i+1;l+=1)t.push(zt.getOffset(n,a,o)),a+=o;s=r+t[i]}else s=e+2;return{offsets:t,startOffset:e,endOffset:s}}function nie(n,e,t,i,r){var s=zt.getCard16(t,i),o=0;if(s!==0){var a=zt.getByte(t,i+2);o=i+(s+1)*a+2}var l=zt.getBytes(t,o+e[n],o+e[n+1]);return r&&(l=r(l)),l}function iie(n){for(var e="",t=15,i=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var r=n.parseByte(),s=r>>4,o=r&15;if(s===t||(e+=i[s],o===t))break;e+=i[o]}return parseFloat(e)}function rie(n,e){var t,i,r,s;if(e===28)return t=n.parseByte(),i=n.parseByte(),t<<8|i;if(e===29)return t=n.parseByte(),i=n.parseByte(),r=n.parseByte(),s=n.parseByte(),t<<24|i<<16|r<<8|s;if(e===30)return iie(n);if(e>=32&&e<=246)return e-139;if(e>=247&&e<=250)return t=n.parseByte(),(e-247)*256+t+108;if(e>=251&&e<=254)return t=n.parseByte(),-(e-251)*256-t-108;throw new Error("Invalid b0 "+e)}function sie(n){for(var e={},t=0;t<n.length;t+=1){var i=n[t][0],r=n[t][1],s=void 0;if(r.length===1?s=r[0]:s=r,e.hasOwnProperty(i)&&!isNaN(e[i]))throw new Error("Object "+e+" already has key "+i);e[i]=s}return e}function nU(n,e,t){e=e!==void 0?e:0;var i=new zt.Parser(n,e),r=[],s=[];for(t=t!==void 0?t:n.length;i.relativeOffset<t;){var o=i.parseByte();o<=21?(o===12&&(o=1200+i.parseByte()),r.push([o,s]),s=[]):s.push(rie(i,o))}return sie(r)}function $f(n,e){return e<=390?e=g8[e]:e=n[e-391],e}function iU(n,e,t){for(var i={},r,s=0;s<e.length;s+=1){var o=e[s];if(Array.isArray(o.type)){var a=[];a.length=o.type.length;for(var l=0;l<o.type.length;l++)r=n[o.op]!==void 0?n[o.op][l]:void 0,r===void 0&&(r=o.value!==void 0&&o.value[l]!==void 0?o.value[l]:null),o.type[l]==="SID"&&(r=$f(t,r)),a[l]=r;i[o.name]=a}else r=n[o.op],r===void 0&&(r=o.value!==void 0?o.value:null),o.type==="SID"&&(r=$f(t,r)),i[o.name]=r}return i}function oie(n,e){var t={};return t.formatMajor=zt.getCard8(n,e),t.formatMinor=zt.getCard8(n,e+1),t.size=zt.getCard8(n,e+2),t.offsetSize=zt.getCard8(n,e+3),t.startOffset=e,t.endOffset=e+4,t}var rU=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],sU=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function aie(n,e){var t=nU(n,0,n.byteLength);return iU(t,rU,e)}function oU(n,e,t,i){var r=nU(n,e,t);return iU(r,sU,i)}function UI(n,e,t,i){for(var r=[],s=0;s<t.length;s+=1){var o=new DataView(new Uint8Array(t[s]).buffer),a=aie(o,i);a._subrs=[],a._subrsBias=0,a._defaultWidthX=0,a._nominalWidthX=0;var l=a.private[0],c=a.private[1];if(l!==0&&c!==0){var u=oU(n,c+e,l,i);if(a._defaultWidthX=u.defaultWidthX,a._nominalWidthX=u.nominalWidthX,u.subrs!==0){var h=c+u.subrs,f=Q1(n,h+e);a._subrs=f.objects,a._subrsBias=kx(a._subrs)}a._privateDict=u}r.push(a)}return r}function lie(n,e,t,i){var r,s,o=new zt.Parser(n,e);t-=1;var a=[".notdef"],l=o.parseCard8();if(l===0)for(var c=0;c<t;c+=1)r=o.parseSID(),a.push($f(i,r));else if(l===1)for(;a.length<=t;){r=o.parseSID(),s=o.parseCard8();for(var u=0;u<=s;u+=1)a.push($f(i,r)),r+=1}else if(l===2)for(;a.length<=t;){r=o.parseSID(),s=o.parseCard16();for(var h=0;h<=s;h+=1)a.push($f(i,r)),r+=1}else throw new Error("Unknown charset format "+l);return a}function cie(n,e,t){var i,r={},s=new zt.Parser(n,e),o=s.parseCard8();if(o===0)for(var a=s.parseCard8(),l=0;l<a;l+=1)i=s.parseCard8(),r[i]=l;else if(o===1){var c=s.parseCard8();i=1;for(var u=0;u<c;u+=1)for(var h=s.parseCard8(),f=s.parseCard8(),p=h;p<=h+f;p+=1)r[p]=i,i+=1}else throw new Error("Unknown encoding format "+o);return new x9(r,t)}function GI(n,e,t){var i,r,s,o,a=new Xi,l=[],c=0,u=!1,h=!1,f=0,p=0,m,S,v,A;if(n.isCIDFont){var y=n.tables.cff.topDict._fdSelect[e.index],x=n.tables.cff.topDict._fdArray[y];m=x._subrs,S=x._subrsBias,v=x._defaultWidthX,A=x._nominalWidthX}else m=n.tables.cff.topDict._subrs,S=n.tables.cff.topDict._subrsBias,v=n.tables.cff.topDict._defaultWidthX,A=n.tables.cff.topDict._nominalWidthX;var C=v;function w(R,b){h&&a.closePath(),a.moveTo(R,b),h=!0}function M(){var R;R=l.length%2!==0,R&&!u&&(C=l.shift()+A),c+=l.length>>1,l.length=0,u=!0}function T(R){for(var b,B,P,O,G,H,j,q,J,L,D,F,z=0;z<R.length;){var U=R[z];switch(z+=1,U){case 1:M();break;case 3:M();break;case 4:l.length>1&&!u&&(C=l.shift()+A,u=!0),p+=l.pop(),w(f,p);break;case 5:for(;l.length>0;)f+=l.shift(),p+=l.shift(),a.lineTo(f,p);break;case 6:for(;l.length>0&&(f+=l.shift(),a.lineTo(f,p),l.length!==0);)p+=l.shift(),a.lineTo(f,p);break;case 7:for(;l.length>0&&(p+=l.shift(),a.lineTo(f,p),l.length!==0);)f+=l.shift(),a.lineTo(f,p);break;case 8:for(;l.length>0;)i=f+l.shift(),r=p+l.shift(),s=i+l.shift(),o=r+l.shift(),f=s+l.shift(),p=o+l.shift(),a.curveTo(i,r,s,o,f,p);break;case 10:G=l.pop()+S,H=m[G],H&&T(H);break;case 11:return;case 12:switch(U=R[z],z+=1,U){case 35:i=f+l.shift(),r=p+l.shift(),s=i+l.shift(),o=r+l.shift(),j=s+l.shift(),q=o+l.shift(),J=j+l.shift(),L=q+l.shift(),D=J+l.shift(),F=L+l.shift(),f=D+l.shift(),p=F+l.shift(),l.shift(),a.curveTo(i,r,s,o,j,q),a.curveTo(J,L,D,F,f,p);break;case 34:i=f+l.shift(),r=p,s=i+l.shift(),o=r+l.shift(),j=s+l.shift(),q=o,J=j+l.shift(),L=o,D=J+l.shift(),F=p,f=D+l.shift(),a.curveTo(i,r,s,o,j,q),a.curveTo(J,L,D,F,f,p);break;case 36:i=f+l.shift(),r=p+l.shift(),s=i+l.shift(),o=r+l.shift(),j=s+l.shift(),q=o,J=j+l.shift(),L=o,D=J+l.shift(),F=L+l.shift(),f=D+l.shift(),a.curveTo(i,r,s,o,j,q),a.curveTo(J,L,D,F,f,p);break;case 37:i=f+l.shift(),r=p+l.shift(),s=i+l.shift(),o=r+l.shift(),j=s+l.shift(),q=o+l.shift(),J=j+l.shift(),L=q+l.shift(),D=J+l.shift(),F=L+l.shift(),Math.abs(D-f)>Math.abs(F-p)?f=D+l.shift():p=F+l.shift(),a.curveTo(i,r,s,o,j,q),a.curveTo(J,L,D,F,f,p);break;default:console.log("Glyph "+e.index+": unknown operator 1200"+U),l.length=0}break;case 14:l.length>0&&!u&&(C=l.shift()+A,u=!0),h&&(a.closePath(),h=!1);break;case 18:M();break;case 19:case 20:M(),z+=c+7>>3;break;case 21:l.length>2&&!u&&(C=l.shift()+A,u=!0),p+=l.pop(),f+=l.pop(),w(f,p);break;case 22:l.length>1&&!u&&(C=l.shift()+A,u=!0),f+=l.pop(),w(f,p);break;case 23:M();break;case 24:for(;l.length>2;)i=f+l.shift(),r=p+l.shift(),s=i+l.shift(),o=r+l.shift(),f=s+l.shift(),p=o+l.shift(),a.curveTo(i,r,s,o,f,p);f+=l.shift(),p+=l.shift(),a.lineTo(f,p);break;case 25:for(;l.length>6;)f+=l.shift(),p+=l.shift(),a.lineTo(f,p);i=f+l.shift(),r=p+l.shift(),s=i+l.shift(),o=r+l.shift(),f=s+l.shift(),p=o+l.shift(),a.curveTo(i,r,s,o,f,p);break;case 26:for(l.length%2&&(f+=l.shift());l.length>0;)i=f,r=p+l.shift(),s=i+l.shift(),o=r+l.shift(),f=s,p=o+l.shift(),a.curveTo(i,r,s,o,f,p);break;case 27:for(l.length%2&&(p+=l.shift());l.length>0;)i=f+l.shift(),r=p,s=i+l.shift(),o=r+l.shift(),f=s+l.shift(),p=o,a.curveTo(i,r,s,o,f,p);break;case 28:b=R[z],B=R[z+1],l.push((b<<24|B<<16)>>16),z+=2;break;case 29:G=l.pop()+n.gsubrsBias,H=n.gsubrs[G],H&&T(H);break;case 30:for(;l.length>0&&(i=f,r=p+l.shift(),s=i+l.shift(),o=r+l.shift(),f=s+l.shift(),p=o+(l.length===1?l.shift():0),a.curveTo(i,r,s,o,f,p),l.length!==0);)i=f+l.shift(),r=p,s=i+l.shift(),o=r+l.shift(),p=o+l.shift(),f=s+(l.length===1?l.shift():0),a.curveTo(i,r,s,o,f,p);break;case 31:for(;l.length>0&&(i=f+l.shift(),r=p,s=i+l.shift(),o=r+l.shift(),p=o+l.shift(),f=s+(l.length===1?l.shift():0),a.curveTo(i,r,s,o,f,p),l.length!==0);)i=f,r=p+l.shift(),s=i+l.shift(),o=r+l.shift(),f=s+l.shift(),p=o+(l.length===1?l.shift():0),a.curveTo(i,r,s,o,f,p);break;default:U<32?console.log("Glyph "+e.index+": unknown operator "+U):U<247?l.push(U-139):U<251?(b=R[z],z+=1,l.push((U-247)*256+b+108)):U<255?(b=R[z],z+=1,l.push(-(U-251)*256-b-108)):(b=R[z],B=R[z+1],P=R[z+2],O=R[z+3],z+=4,l.push((b<<24|B<<16|P<<8|O)/65536))}}}return T(t),e.advanceWidth=C,a}function uie(n,e,t,i){var r=[],s,o=new zt.Parser(n,e),a=o.parseCard8();if(a===0)for(var l=0;l<t;l++){if(s=o.parseCard8(),s>=i)throw new Error("CFF table CID Font FDSelect has bad FD index value "+s+" (FD count "+i+")");r.push(s)}else if(a===3){var c=o.parseCard16(),u=o.parseCard16();if(u!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+u);for(var h,f=0;f<c;f++){if(s=o.parseCard8(),h=o.parseCard16(),s>=i)throw new Error("CFF table CID Font FDSelect has bad FD index value "+s+" (FD count "+i+")");if(h>t)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+h);for(;u<h;u++)r.push(s);u=h}if(h!==t)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+h)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+a);return r}function hie(n,e,t,i){t.tables.cff={};var r=oie(n,e),s=Q1(n,r.endOffset,zt.bytesToString),o=Q1(n,s.endOffset),a=Q1(n,o.endOffset,zt.bytesToString),l=Q1(n,a.endOffset);t.gsubrs=l.objects,t.gsubrsBias=kx(t.gsubrs);var c=UI(n,e,o.objects,a.objects);if(c.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+c.length);var u=c[0];if(t.tables.cff.topDict=u,u._privateDict&&(t.defaultWidthX=u._privateDict.defaultWidthX,t.nominalWidthX=u._privateDict.nominalWidthX),u.ros[0]!==void 0&&u.ros[1]!==void 0&&(t.isCIDFont=!0),t.isCIDFont){var h=u.fdArray,f=u.fdSelect;if(h===0||f===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");h+=e;var p=Q1(n,h),m=UI(n,e,p.objects,a.objects);u._fdArray=m,f+=e,u._fdSelect=uie(n,f,t.numGlyphs,m.length)}var S=e+u.private[1],v=oU(n,S,u.private[0],a.objects);if(t.defaultWidthX=v.defaultWidthX,t.nominalWidthX=v.nominalWidthX,v.subrs!==0){var A=S+v.subrs,y=Q1(n,A);t.subrs=y.objects,t.subrsBias=kx(t.subrs)}else t.subrs=[],t.subrsBias=0;var x;i.lowMemory?(x=tie(n,e+u.charStrings),t.nGlyphs=x.offsets.length):(x=Q1(n,e+u.charStrings),t.nGlyphs=x.objects.length);var C=lie(n,e+u.charset,t.nGlyphs,a.objects);if(u.encoding===0?t.cffEncoding=new x9(qne,C):u.encoding===1?t.cffEncoding=new x9(Yne,C):t.cffEncoding=cie(n,e+u.encoding,C),t.encoding=t.encoding||t.cffEncoding,t.glyphs=new al.GlyphSet(t),i.lowMemory)t._push=function(T){var R=nie(T,x.offsets,n,e+u.charStrings);t.glyphs.push(T,al.cffGlyphLoader(t,T,GI,R))};else for(var w=0;w<t.nGlyphs;w+=1){var M=x.objects[w];t.glyphs.push(w,al.cffGlyphLoader(t,w,GI,M))}}function aU(n,e){var t,i=g8.indexOf(n);return i>=0&&(t=i),i=e.indexOf(n),i>=0?t=i+g8.length:(t=g8.length+e.length,e.push(n)),t}function fie(){return new pt.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function die(n){var e=new pt.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);e.names=[];for(var t=0;t<n.length;t+=1)e.names.push({name:"name_"+t,type:"NAME",value:n[t]});return e}function lU(n,e,t){for(var i={},r=0;r<n.length;r+=1){var s=n[r],o=e[s.name];o!==void 0&&!tU(o,s.value)&&(s.type==="SID"&&(o=aU(o,t)),i[s.op]={name:s.name,type:s.type,value:o})}return i}function zI(n,e){var t=new pt.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return t.dict=lU(rU,n,e),t}function QI(n){var e=new pt.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return e.topDicts=[{name:"topDict_0",type:"TABLE",value:n}],e}function pie(n){var e=new pt.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);e.strings=[];for(var t=0;t<n.length;t+=1)e.strings.push({name:"string_"+t,type:"STRING",value:n[t]});return e}function gie(){return new pt.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function mie(n,e){for(var t=new pt.Record("Charsets",[{name:"format",type:"Card8",value:0}]),i=0;i<n.length;i+=1){var r=n[i],s=aU(r,e);t.fields.push({name:"glyph_"+i,type:"SID",value:s})}return t}function Aie(n){var e=[],t=n.path;e.push({name:"width",type:"NUMBER",value:n.advanceWidth});for(var i=0,r=0,s=0;s<t.commands.length;s+=1){var o=void 0,a=void 0,l=t.commands[s];if(l.type==="Q"){var c=.3333333333333333,u=2/3;l={type:"C",x:l.x,y:l.y,x1:Math.round(c*i+u*l.x1),y1:Math.round(c*r+u*l.y1),x2:Math.round(c*l.x+u*l.x1),y2:Math.round(c*l.y+u*l.y1)}}if(l.type==="M")o=Math.round(l.x-i),a=Math.round(l.y-r),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rmoveto",type:"OP",value:21}),i=Math.round(l.x),r=Math.round(l.y);else if(l.type==="L")o=Math.round(l.x-i),a=Math.round(l.y-r),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rlineto",type:"OP",value:5}),i=Math.round(l.x),r=Math.round(l.y);else if(l.type==="C"){var h=Math.round(l.x1-i),f=Math.round(l.y1-r),p=Math.round(l.x2-l.x1),m=Math.round(l.y2-l.y1);o=Math.round(l.x-l.x2),a=Math.round(l.y-l.y2),e.push({name:"dx1",type:"NUMBER",value:h}),e.push({name:"dy1",type:"NUMBER",value:f}),e.push({name:"dx2",type:"NUMBER",value:p}),e.push({name:"dy2",type:"NUMBER",value:m}),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rrcurveto",type:"OP",value:8}),i=Math.round(l.x),r=Math.round(l.y)}}return e.push({name:"endchar",type:"OP",value:14}),e}function vie(n){for(var e=new pt.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),t=0;t<n.length;t+=1){var i=n.get(t),r=Aie(i);e.charStrings.push({name:i.name,type:"CHARSTRING",value:r})}return e}function yie(n,e){var t=new pt.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return t.dict=lU(sU,n,e),t}function xie(n,e){for(var t=new pt.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),i=1/e.unitsPerEm,r={version:e.version,fullName:e.fullName,familyName:e.familyName,weight:e.weightName,fontBBox:e.fontBBox||[0,0,0,0],fontMatrix:[i,0,0,i,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},s={},o=[],a,l=1;l<n.length;l+=1)a=n.get(l),o.push(a.name);var c=[];t.header=fie(),t.nameIndex=die([e.postScriptName]);var u=zI(r,c);t.topDictIndex=QI(u),t.globalSubrIndex=gie(),t.charsets=mie(o,c),t.charStringsIndex=vie(n),t.privateDict=yie(s,c),t.stringIndex=pie(c);var h=t.header.sizeOf()+t.nameIndex.sizeOf()+t.topDictIndex.sizeOf()+t.stringIndex.sizeOf()+t.globalSubrIndex.sizeOf();return r.charset=h,r.encoding=0,r.charStrings=r.charset+t.charsets.sizeOf(),r.private[1]=r.charStrings+t.charStringsIndex.sizeOf(),u=zI(r,c),t.topDictIndex=QI(u),t}var Sie={parse:hie,make:xie};function Eie(n,e){var t={},i=new zt.Parser(n,e);return t.version=i.parseVersion(),t.fontRevision=Math.round(i.parseFixed()*1e3)/1e3,t.checkSumAdjustment=i.parseULong(),t.magicNumber=i.parseULong(),Ot.argument(t.magicNumber===1594834165,"Font header has wrong magic number."),t.flags=i.parseUShort(),t.unitsPerEm=i.parseUShort(),t.created=i.parseLongDateTime(),t.modified=i.parseLongDateTime(),t.xMin=i.parseShort(),t.yMin=i.parseShort(),t.xMax=i.parseShort(),t.yMax=i.parseShort(),t.macStyle=i.parseUShort(),t.lowestRecPPEM=i.parseUShort(),t.fontDirectionHint=i.parseShort(),t.indexToLocFormat=i.parseShort(),t.glyphDataFormat=i.parseShort(),t}function Cie(n){var e=Math.round(new Date().getTime()/1e3)+2082844800,t=e;return n.createdTimestamp&&(t=n.createdTimestamp+2082844800),new pt.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:t},{name:"modified",type:"LONGDATETIME",value:e},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],n)}var wie={parse:Eie,make:Cie};function _ie(n,e){var t={},i=new zt.Parser(n,e);return t.version=i.parseVersion(),t.ascender=i.parseShort(),t.descender=i.parseShort(),t.lineGap=i.parseShort(),t.advanceWidthMax=i.parseUShort(),t.minLeftSideBearing=i.parseShort(),t.minRightSideBearing=i.parseShort(),t.xMaxExtent=i.parseShort(),t.caretSlopeRise=i.parseShort(),t.caretSlopeRun=i.parseShort(),t.caretOffset=i.parseShort(),i.relativeOffset+=8,t.metricDataFormat=i.parseShort(),t.numberOfHMetrics=i.parseUShort(),t}function Mie(n){return new pt.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],n)}var Tie={parse:_ie,make:Mie};function bie(n,e,t,i,r){for(var s,o,a=new zt.Parser(n,e),l=0;l<i;l+=1){l<t&&(s=a.parseUShort(),o=a.parseShort());var c=r.get(l);c.advanceWidth=s,c.leftSideBearing=o}}function Iie(n,e,t,i,r){n._hmtxTableData={};for(var s,o,a=new zt.Parser(e,t),l=0;l<r;l+=1)l<i&&(s=a.parseUShort(),o=a.parseShort()),n._hmtxTableData[l]={advanceWidth:s,leftSideBearing:o}}function Rie(n,e,t,i,r,s,o){o.lowMemory?Iie(n,e,t,i,r):bie(e,t,i,r,s)}function Bie(n){for(var e=new pt.Table("hmtx",[]),t=0;t<n.length;t+=1){var i=n.get(t),r=i.advanceWidth||0,s=i.leftSideBearing||0;e.fields.push({name:"advanceWidth_"+t,type:"USHORT",value:r}),e.fields.push({name:"leftSideBearing_"+t,type:"SHORT",value:s})}return e}var kie={parse:Rie,make:Bie};function Pie(n){for(var e=new pt.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:n.length}]),t="",i=12+n.length*4,r=0;r<n.length;++r){var s=t.indexOf(n[r]);s<0&&(s=t.length,t+=n[r]),e.fields.push({name:"offset "+r,type:"USHORT",value:i+s}),e.fields.push({name:"length "+r,type:"USHORT",value:n[r].length})}return e.fields.push({name:"stringPool",type:"CHARARRAY",value:t}),e}function Lie(n,e){var t=new zt.Parser(n,e),i=t.parseULong();Ot.argument(i===1,"Unsupported ltag table version."),t.skip("uLong",1);for(var r=t.parseULong(),s=[],o=0;o<r;o++){for(var a="",l=e+t.parseUShort(),c=t.parseUShort(),u=l;u<l+c;++u)a+=String.fromCharCode(n.getInt8(u));s.push(a)}return s}var Die={make:Pie,parse:Lie};function Oie(n,e){var t={},i=new zt.Parser(n,e);return t.version=i.parseVersion(),t.numGlyphs=i.parseUShort(),t.version===1&&(t.maxPoints=i.parseUShort(),t.maxContours=i.parseUShort(),t.maxCompositePoints=i.parseUShort(),t.maxCompositeContours=i.parseUShort(),t.maxZones=i.parseUShort(),t.maxTwilightPoints=i.parseUShort(),t.maxStorage=i.parseUShort(),t.maxFunctionDefs=i.parseUShort(),t.maxInstructionDefs=i.parseUShort(),t.maxStackElements=i.parseUShort(),t.maxSizeOfInstructions=i.parseUShort(),t.maxComponentElements=i.parseUShort(),t.maxComponentDepth=i.parseUShort()),t}function Nie(n){return new pt.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:n}])}var Fie={parse:Oie,make:Nie},cU=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],uU={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Uie={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},hU={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function Gie(n,e,t){switch(n){case 0:if(e===65535)return"und";if(t)return t[e];break;case 1:return uU[e];case 3:return hU[e]}}var Px="utf-16",zie={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Qie={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function fU(n,e,t){switch(n){case 0:return Px;case 1:return Qie[t]||zie[e];case 3:if(e===1||e===10)return Px;break}}function Hie(n,e,t){for(var i={},r=new zt.Parser(n,e),s=r.parseUShort(),o=r.parseUShort(),a=r.offset+r.parseUShort(),l=0;l<o;l++){var c=r.parseUShort(),u=r.parseUShort(),h=r.parseUShort(),f=r.parseUShort(),p=cU[f]||f,m=r.parseUShort(),S=r.parseUShort(),v=Gie(c,h,t),A=fU(c,u,h);if(A!==void 0&&v!==void 0){var y=void 0;if(A===Px?y=B2.UTF16(n,a+S,m):y=B2.MACSTRING(n,a+S,m,A),y){var x=i[p];x===void 0&&(x=i[p]={}),x[v]=y}}}return s===1&&r.parseUShort(),i}function qA(n){var e={};for(var t in n)e[n[t]]=parseInt(t);return e}function HI(n,e,t,i,r,s){return new pt.Record("NameRecord",[{name:"platformID",type:"USHORT",value:n},{name:"encodingID",type:"USHORT",value:e},{name:"languageID",type:"USHORT",value:t},{name:"nameID",type:"USHORT",value:i},{name:"length",type:"USHORT",value:r},{name:"offset",type:"USHORT",value:s}])}function Vie(n,e){var t=n.length,i=e.length-t+1;e:for(var r=0;r<i;r++)for(;r<i;r++){for(var s=0;s<t;s++)if(e[r+s]!==n[s])continue e;return r}return-1}function VI(n,e){var t=Vie(n,e);if(t<0){t=e.length;for(var i=0,r=n.length;i<r;++i)e.push(n[i])}return t}function Wie(n,e){var t,i=[],r={},s=qA(cU);for(var o in n){var a=s[o];if(a===void 0&&(a=o),t=parseInt(a),isNaN(t))throw new Error('Name table entry "'+o+'" does not exist, see nameTableNames for complete list.');r[t]=n[o],i.push(t)}for(var l=qA(uU),c=qA(hU),u=[],h=[],f=0;f<i.length;f++){t=i[f];var p=r[t];for(var m in p){var S=p[m],v=1,A=l[m],y=Uie[A],x=fU(v,y,A),C=it.MACSTRING(S,x);C===void 0&&(v=0,A=e.indexOf(m),A<0&&(A=e.length,e.push(m)),y=4,C=it.UTF16(S));var w=VI(C,h);u.push(HI(v,y,A,t,C.length,w));var M=c[m];if(M!==void 0){var T=it.UTF16(S),R=VI(T,h);u.push(HI(3,1,M,t,T.length,R))}}}u.sort(function(P,O){return P.platformID-O.platformID||P.encodingID-O.encodingID||P.languageID-O.languageID||P.nameID-O.nameID});for(var b=new pt.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:u.length},{name:"stringOffset",type:"USHORT",value:6+u.length*12}]),B=0;B<u.length;B++)b.fields.push({name:"record_"+B,type:"RECORD",value:u[B]});return b.fields.push({name:"strings",type:"LITERAL",value:h}),b}var jie={parse:Hie,make:Wie},Lx=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function Xie(n){for(var e=0;e<Lx.length;e+=1){var t=Lx[e];if(n>=t.begin&&n<t.end)return e}return-1}function qie(n,e){var t={},i=new zt.Parser(n,e);t.version=i.parseUShort(),t.xAvgCharWidth=i.parseShort(),t.usWeightClass=i.parseUShort(),t.usWidthClass=i.parseUShort(),t.fsType=i.parseUShort(),t.ySubscriptXSize=i.parseShort(),t.ySubscriptYSize=i.parseShort(),t.ySubscriptXOffset=i.parseShort(),t.ySubscriptYOffset=i.parseShort(),t.ySuperscriptXSize=i.parseShort(),t.ySuperscriptYSize=i.parseShort(),t.ySuperscriptXOffset=i.parseShort(),t.ySuperscriptYOffset=i.parseShort(),t.yStrikeoutSize=i.parseShort(),t.yStrikeoutPosition=i.parseShort(),t.sFamilyClass=i.parseShort(),t.panose=[];for(var r=0;r<10;r++)t.panose[r]=i.parseByte();return t.ulUnicodeRange1=i.parseULong(),t.ulUnicodeRange2=i.parseULong(),t.ulUnicodeRange3=i.parseULong(),t.ulUnicodeRange4=i.parseULong(),t.achVendID=String.fromCharCode(i.parseByte(),i.parseByte(),i.parseByte(),i.parseByte()),t.fsSelection=i.parseUShort(),t.usFirstCharIndex=i.parseUShort(),t.usLastCharIndex=i.parseUShort(),t.sTypoAscender=i.parseShort(),t.sTypoDescender=i.parseShort(),t.sTypoLineGap=i.parseShort(),t.usWinAscent=i.parseUShort(),t.usWinDescent=i.parseUShort(),t.version>=1&&(t.ulCodePageRange1=i.parseULong(),t.ulCodePageRange2=i.parseULong()),t.version>=2&&(t.sxHeight=i.parseShort(),t.sCapHeight=i.parseShort(),t.usDefaultChar=i.parseUShort(),t.usBreakChar=i.parseUShort(),t.usMaxContent=i.parseUShort()),t}function Yie(n){return new pt.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],n)}var WI={parse:qie,make:Yie,unicodeRanges:Lx,getUnicodeRange:Xie};function Kie(n,e){var t={},i=new zt.Parser(n,e);switch(t.version=i.parseVersion(),t.italicAngle=i.parseFixed(),t.underlinePosition=i.parseShort(),t.underlineThickness=i.parseShort(),t.isFixedPitch=i.parseULong(),t.minMemType42=i.parseULong(),t.maxMemType42=i.parseULong(),t.minMemType1=i.parseULong(),t.maxMemType1=i.parseULong(),t.version){case 1:t.names=FI.slice();break;case 2:t.numberOfGlyphs=i.parseUShort(),t.glyphNameIndex=new Array(t.numberOfGlyphs);for(var r=0;r<t.numberOfGlyphs;r++)t.glyphNameIndex[r]=i.parseUShort();t.names=[];for(var s=0;s<t.numberOfGlyphs;s++)if(t.glyphNameIndex[s]>=FI.length){var o=i.parseChar();t.names.push(i.parseString(o))}break;case 2.5:t.numberOfGlyphs=i.parseUShort(),t.offset=new Array(t.numberOfGlyphs);for(var a=0;a<t.numberOfGlyphs;a++)t.offset[a]=i.parseChar();break}return t}function Jie(){return new pt.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var $ie={parse:Kie,make:Jie},xa=new Array(9);xa[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(t===1)return{substFormat:1,coverage:this.parsePointer(be.coverage),deltaGlyphId:this.parseUShort()};if(t===2)return{substFormat:2,coverage:this.parsePointer(be.coverage),substitute:this.parseOffset16List()};Ot.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")};xa[2]=function(){var e=this.parseUShort();return Ot.argument(e===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(be.coverage),sequences:this.parseListOfLists()}};xa[3]=function(){var e=this.parseUShort();return Ot.argument(e===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(be.coverage),alternateSets:this.parseListOfLists()}};xa[4]=function(){var e=this.parseUShort();return Ot.argument(e===1,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(be.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var h2={sequenceIndex:be.uShort,lookupListIndex:be.uShort};xa[5]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(t===1)return{substFormat:t,coverage:this.parsePointer(be.coverage),ruleSets:this.parseListOfLists(function(){var s=this.parseUShort(),o=this.parseUShort();return{input:this.parseUShortList(s-1),lookupRecords:this.parseRecordList(o,h2)}})};if(t===2)return{substFormat:t,coverage:this.parsePointer(be.coverage),classDef:this.parsePointer(be.classDef),classSets:this.parseListOfLists(function(){var s=this.parseUShort(),o=this.parseUShort();return{classes:this.parseUShortList(s-1),lookupRecords:this.parseRecordList(o,h2)}})};if(t===3){var i=this.parseUShort(),r=this.parseUShort();return{substFormat:t,coverages:this.parseList(i,be.pointer(be.coverage)),lookupRecords:this.parseRecordList(r,h2)}}Ot.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};xa[6]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(t===1)return{substFormat:1,coverage:this.parsePointer(be.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(h2)}})};if(t===2)return{substFormat:2,coverage:this.parsePointer(be.coverage),backtrackClassDef:this.parsePointer(be.classDef),inputClassDef:this.parsePointer(be.classDef),lookaheadClassDef:this.parsePointer(be.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(h2)}})};if(t===3)return{substFormat:3,backtrackCoverage:this.parseList(be.pointer(be.coverage)),inputCoverage:this.parseList(be.pointer(be.coverage)),lookaheadCoverage:this.parseList(be.pointer(be.coverage)),lookupRecords:this.parseRecordList(h2)};Ot.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};xa[7]=function(){var e=this.parseUShort();Ot.argument(e===1,"GSUB Extension Substitution subtable identifier-format must be 1");var t=this.parseUShort(),i=new be(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:t,extension:xa[t].call(i)}};xa[8]=function(){var e=this.parseUShort();return Ot.argument(e===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(be.coverage),backtrackCoverage:this.parseList(be.pointer(be.coverage)),lookaheadCoverage:this.parseList(be.pointer(be.coverage)),substitutes:this.parseUShortList()}};function Zie(n,e){e=e||0;var t=new be(n,e),i=t.parseVersion(1);return Ot.argument(i===1||i===1.1,"Unsupported GSUB table version."),i===1?{version:i,scripts:t.parseScriptList(),features:t.parseFeatureList(),lookups:t.parseLookupList(xa)}:{version:i,scripts:t.parseScriptList(),features:t.parseFeatureList(),lookups:t.parseLookupList(xa),variations:t.parseFeatureVariationsList()}}var i0=new Array(9);i0[1]=function(e){return e.substFormat===1?new pt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new pt.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new pt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new pt.Coverage(e.coverage)}].concat(pt.ushortList("substitute",e.substitute)))};i0[2]=function(e){return Ot.assert(e.substFormat===1,"Lookup type 2 substFormat must be 1."),new pt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new pt.Coverage(e.coverage)}].concat(pt.tableList("seqSet",e.sequences,function(t){return new pt.Table("sequenceSetTable",pt.ushortList("sequence",t))})))};i0[3]=function(e){return Ot.assert(e.substFormat===1,"Lookup type 3 substFormat must be 1."),new pt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new pt.Coverage(e.coverage)}].concat(pt.tableList("altSet",e.alternateSets,function(t){return new pt.Table("alternateSetTable",pt.ushortList("alternate",t))})))};i0[4]=function(e){return Ot.assert(e.substFormat===1,"Lookup type 4 substFormat must be 1."),new pt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new pt.Coverage(e.coverage)}].concat(pt.tableList("ligSet",e.ligatureSets,function(t){return new pt.Table("ligatureSetTable",pt.tableList("ligature",t,function(i){return new pt.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:i.ligGlyph}].concat(pt.ushortList("component",i.components,i.components.length+1)))}))})))};i0[6]=function(e){if(e.substFormat===1){var t=new pt.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:e.substFormat},{name:"coverage",type:"TABLE",value:new pt.Coverage(e.coverage)}].concat(pt.tableList("chainRuleSet",e.chainRuleSets,function(s){return new pt.Table("chainRuleSetTable",pt.tableList("chainRule",s,function(o){var a=pt.ushortList("backtrackGlyph",o.backtrack,o.backtrack.length).concat(pt.ushortList("inputGlyph",o.input,o.input.length+1)).concat(pt.ushortList("lookaheadGlyph",o.lookahead,o.lookahead.length)).concat(pt.ushortList("substitution",[],o.lookupRecords.length));return o.lookupRecords.forEach(function(l,c){a=a.concat({name:"sequenceIndex"+c,type:"USHORT",value:l.sequenceIndex}).concat({name:"lookupListIndex"+c,type:"USHORT",value:l.lookupListIndex})}),new pt.Table("chainRuleTable",a)}))})));return t}else if(e.substFormat===2)Ot.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(e.substFormat===3){var i=[{name:"substFormat",type:"USHORT",value:e.substFormat}];i.push({name:"backtrackGlyphCount",type:"USHORT",value:e.backtrackCoverage.length}),e.backtrackCoverage.forEach(function(s,o){i.push({name:"backtrackCoverage"+o,type:"TABLE",value:new pt.Coverage(s)})}),i.push({name:"inputGlyphCount",type:"USHORT",value:e.inputCoverage.length}),e.inputCoverage.forEach(function(s,o){i.push({name:"inputCoverage"+o,type:"TABLE",value:new pt.Coverage(s)})}),i.push({name:"lookaheadGlyphCount",type:"USHORT",value:e.lookaheadCoverage.length}),e.lookaheadCoverage.forEach(function(s,o){i.push({name:"lookaheadCoverage"+o,type:"TABLE",value:new pt.Coverage(s)})}),i.push({name:"substitutionCount",type:"USHORT",value:e.lookupRecords.length}),e.lookupRecords.forEach(function(s,o){i=i.concat({name:"sequenceIndex"+o,type:"USHORT",value:s.sequenceIndex}).concat({name:"lookupListIndex"+o,type:"USHORT",value:s.lookupListIndex})});var r=new pt.Table("chainContextTable",i);return r}Ot.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function ere(n){return new pt.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new pt.ScriptList(n.scripts)},{name:"features",type:"TABLE",value:new pt.FeatureList(n.features)},{name:"lookups",type:"TABLE",value:new pt.LookupList(n.lookups,i0)}])}var tre={parse:Zie,make:ere};function nre(n,e){var t=new zt.Parser(n,e),i=t.parseULong();Ot.argument(i===1,"Unsupported META table version."),t.parseULong(),t.parseULong();for(var r=t.parseULong(),s={},o=0;o<r;o++){var a=t.parseTag(),l=t.parseULong(),c=t.parseULong(),u=B2.UTF8(n,e+l,c);s[a]=u}return s}function ire(n){var e=Object.keys(n).length,t="",i=16+e*12,r=new pt.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:i},{name:"numTags",type:"ULONG",value:e}]);for(var s in n){var o=t.length;t+=n[s],r.fields.push({name:"tag "+s,type:"TAG",value:s}),r.fields.push({name:"offset "+s,type:"ULONG",value:i+o}),r.fields.push({name:"length "+s,type:"ULONG",value:n[s].length})}return r.fields.push({name:"stringPool",type:"CHARARRAY",value:t}),r}var rre={parse:nre,make:ire};function jI(n){return Math.log(n)/Math.log(2)|0}function ZC(n){for(;n.length%4!==0;)n.push(0);for(var e=0,t=0;t<n.length;t+=4)e+=(n[t]<<24)+(n[t+1]<<16)+(n[t+2]<<8)+n[t+3];return e%=Math.pow(2,32),e}function XI(n,e,t,i){return new pt.Record("Table Record",[{name:"tag",type:"TAG",value:n!==void 0?n:""},{name:"checkSum",type:"ULONG",value:e!==void 0?e:0},{name:"offset",type:"ULONG",value:t!==void 0?t:0},{name:"length",type:"ULONG",value:i!==void 0?i:0}])}function dU(n){var e=new pt.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);e.tables=n,e.numTables=n.length;var t=Math.pow(2,jI(e.numTables));e.searchRange=16*t,e.entrySelector=jI(t),e.rangeShift=e.numTables*16-e.searchRange;for(var i=[],r=[],s=e.sizeOf()+XI().sizeOf()*e.numTables;s%4!==0;)s+=1,r.push({name:"padding",type:"BYTE",value:0});for(var o=0;o<n.length;o+=1){var a=n[o];Ot.argument(a.tableName.length===4,"Table name"+a.tableName+" is invalid.");var l=a.sizeOf(),c=XI(a.tableName,ZC(a.encode()),s,l);for(i.push({name:c.tag+" Table Record",type:"RECORD",value:c}),r.push({name:a.tableName+" table",type:"RECORD",value:a}),s+=l,Ot.argument(!isNaN(s),"Something went wrong calculating the offset.");s%4!==0;)s+=1,r.push({name:"padding",type:"BYTE",value:0})}return i.sort(function(u,h){return u.value.tag>h.value.tag?1:-1}),e.fields=e.fields.concat(i),e.fields=e.fields.concat(r),e}function qI(n,e,t){for(var i=0;i<e.length;i+=1){var r=n.charToGlyphIndex(e[i]);if(r>0){var s=n.glyphs.get(r);return s.getMetrics()}}return t}function sre(n){for(var e=0,t=0;t<n.length;t+=1)e+=n[t];return e/n.length}function ore(n){for(var e=[],t=[],i=[],r=[],s=[],o=[],a=[],l,c=0,u=0,h=0,f=0,p=0,m=0;m<n.glyphs.length;m+=1){var S=n.glyphs.get(m),v=S.unicode|0;if(isNaN(S.advanceWidth))throw new Error("Glyph "+S.name+" ("+m+"): advanceWidth is not a number.");(l>v||l===void 0)&&v>0&&(l=v),c<v&&(c=v);var A=WI.getUnicodeRange(v);if(A<32)u|=1<<A;else if(A<64)h|=1<<A-32;else if(A<96)f|=1<<A-64;else if(A<123)p|=1<<A-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(S.name!==".notdef"){var y=S.getMetrics();e.push(y.xMin),t.push(y.yMin),i.push(y.xMax),r.push(y.yMax),o.push(y.leftSideBearing),a.push(y.rightSideBearing),s.push(S.advanceWidth)}}var x={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,t),xMax:Math.max.apply(null,i),yMax:Math.max.apply(null,r),advanceWidthMax:Math.max.apply(null,s),advanceWidthAvg:sre(s),minLeftSideBearing:Math.min.apply(null,o),maxLeftSideBearing:Math.max.apply(null,o),minRightSideBearing:Math.min.apply(null,a)};x.ascender=n.ascender,x.descender=n.descender;var C=wie.make({flags:3,unitsPerEm:n.unitsPerEm,xMin:x.xMin,yMin:x.yMin,xMax:x.xMax,yMax:x.yMax,lowestRecPPEM:3,createdTimestamp:n.createdTimestamp}),w=Tie.make({ascender:x.ascender,descender:x.descender,advanceWidthMax:x.advanceWidthMax,minLeftSideBearing:x.minLeftSideBearing,minRightSideBearing:x.minRightSideBearing,xMaxExtent:x.maxLeftSideBearing+(x.xMax-x.xMin),numberOfHMetrics:n.glyphs.length}),M=Fie.make(n.glyphs.length),T=WI.make(Object.assign({xAvgCharWidth:Math.round(x.advanceWidthAvg),usFirstCharIndex:l,usLastCharIndex:c,ulUnicodeRange1:u,ulUnicodeRange2:h,ulUnicodeRange3:f,ulUnicodeRange4:p,sTypoAscender:x.ascender,sTypoDescender:x.descender,sTypoLineGap:0,usWinAscent:x.yMax,usWinDescent:Math.abs(x.yMin),ulCodePageRange1:1,sxHeight:qI(n,"xyvw",{yMax:Math.round(x.ascender/2)}).yMax,sCapHeight:qI(n,"HIKLEFJMNTZBDPRAGOQSUVWXY",x).yMax,usDefaultChar:n.hasChar(" ")?32:0,usBreakChar:n.hasChar(" ")?32:0},n.tables.os2)),R=kie.make(n.glyphs),b=Xne.make(n.glyphs),B=n.getEnglishName("fontFamily"),P=n.getEnglishName("fontSubfamily"),O=B+" "+P,G=n.getEnglishName("postScriptName");G||(G=B.replace(/\s/g,"")+"-"+P);var H={};for(var j in n.names)H[j]=n.names[j];H.uniqueID||(H.uniqueID={en:n.getEnglishName("manufacturer")+":"+O}),H.postScriptName||(H.postScriptName={en:G}),H.preferredFamily||(H.preferredFamily=n.names.fontFamily),H.preferredSubfamily||(H.preferredSubfamily=n.names.fontSubfamily);var q=[],J=jie.make(H,q),L=q.length>0?Die.make(q):void 0,D=$ie.make(),F=Sie.make(n.glyphs,{version:n.getEnglishName("version"),fullName:O,familyName:B,weightName:P,postScriptName:G,unitsPerEm:n.unitsPerEm,fontBBox:[0,x.yMin,x.ascender,x.advanceWidthMax]}),z=n.metas&&Object.keys(n.metas).length>0?rre.make(n.metas):void 0,U=[C,w,M,T,J,b,D,F,R];L&&U.push(L),n.tables.gsub&&U.push(tre.make(n.tables.gsub)),z&&U.push(z);for(var $=dU(U),ee=$.encode(),ie=ZC(ee),se=$.fields,re=!1,he=0;he<se.length;he+=1)if(se[he].name==="head table"){se[he].value.checkSumAdjustment=2981146554-ie,re=!0;break}if(!re)throw new Error("Could not find head table with checkSum to adjust.");return $}var are={make:dU,fontToTable:ore,computeCheckSum:ZC};function YA(n,e){for(var t=0,i=n.length-1;t<=i;){var r=t+i>>>1,s=n[r].tag;if(s===e)return r;s<e?t=r+1:i=r-1}return-t-1}function YI(n,e){for(var t=0,i=n.length-1;t<=i;){var r=t+i>>>1,s=n[r];if(s===e)return r;s<e?t=r+1:i=r-1}return-t-1}function KI(n,e){for(var t,i=0,r=n.length-1;i<=r;){var s=i+r>>>1;t=n[s];var o=t.start;if(o===e)return t;o<e?i=s+1:r=s-1}if(i>0)return t=n[i-1],e>t.end?0:t}function W4(n,e){this.font=n,this.tableName=e}W4.prototype={searchTag:YA,binSearch:YI,getTable:function(n){var e=this.font.tables[this.tableName];return!e&&n&&(e=this.font.tables[this.tableName]=this.createDefaultTable()),e},getScriptNames:function(){var n=this.getTable();return n?n.scripts.map(function(e){return e.tag}):[]},getDefaultScriptName:function(){var n=this.getTable();if(n){for(var e=!1,t=0;t<n.scripts.length;t++){var i=n.scripts[t].tag;if(i==="DFLT")return i;i==="latn"&&(e=!0)}if(e)return"latn"}},getScriptTable:function(n,e){var t=this.getTable(e);if(t){n=n||"DFLT";var i=t.scripts,r=YA(t.scripts,n);if(r>=0)return i[r].script;if(e){var s={tag:n,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return i.splice(-1-r,0,s),s.script}}},getLangSysTable:function(n,e,t){var i=this.getScriptTable(n,t);if(i){if(!e||e==="dflt"||e==="DFLT")return i.defaultLangSys;var r=YA(i.langSysRecords,e);if(r>=0)return i.langSysRecords[r].langSys;if(t){var s={tag:e,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return i.langSysRecords.splice(-1-r,0,s),s.langSys}}},getFeatureTable:function(n,e,t,i){var r=this.getLangSysTable(n,e,i);if(r){for(var s,o=r.featureIndexes,a=this.font.tables[this.tableName].features,l=0;l<o.length;l++)if(s=a[o[l]],s.tag===t)return s.feature;if(i){var c=a.length;return Ot.assert(c===0||t>=a[c-1].tag,"Features must be added in alphabetical order."),s={tag:t,feature:{params:0,lookupListIndexes:[]}},a.push(s),o.push(c),s.feature}}},getLookupTables:function(n,e,t,i,r){var s=this.getFeatureTable(n,e,t,r),o=[];if(s){for(var a,l=s.lookupListIndexes,c=this.font.tables[this.tableName].lookups,u=0;u<l.length;u++)a=c[l[u]],a.lookupType===i&&o.push(a);if(o.length===0&&r){a={lookupType:i,lookupFlag:0,subtables:[],markFilteringSet:void 0};var h=c.length;return c.push(a),l.push(h),[a]}}return o},getGlyphClass:function(n,e){switch(n.format){case 1:return n.startGlyph<=e&&e<n.startGlyph+n.classes.length?n.classes[e-n.startGlyph]:0;case 2:var t=KI(n.ranges,e);return t?t.classId:0}},getCoverageIndex:function(n,e){switch(n.format){case 1:var t=YI(n.glyphs,e);return t>=0?t:-1;case 2:var i=KI(n.ranges,e);return i?i.index+e-i.start:-1}},expandCoverage:function(n){if(n.format===1)return n.glyphs;for(var e=[],t=n.ranges,i=0;i<t.length;i++)for(var r=t[i],s=r.start,o=r.end,a=s;a<=o;a++)e.push(a);return e}};function j4(n){W4.call(this,n,"gpos")}j4.prototype=W4.prototype;j4.prototype.init=function(){var n=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(n)};j4.prototype.getKerningValue=function(n,e,t){for(var i=0;i<n.length;i++)for(var r=n[i].subtables,s=0;s<r.length;s++){var o=r[s],a=this.getCoverageIndex(o.coverage,e);if(!(a<0))switch(o.posFormat){case 1:for(var l=o.pairSets[a],c=0;c<l.length;c++){var u=l[c];if(u.secondGlyph===t)return u.value1&&u.value1.xAdvance||0}break;case 2:var h=this.getGlyphClass(o.classDef1,e),f=this.getGlyphClass(o.classDef2,t),p=o.classRecords[h][f];return p.value1&&p.value1.xAdvance||0}}return 0};j4.prototype.getKerningTables=function(n,e){if(this.font.tables.gpos)return this.getLookupTables(n,e,"kern",2)};function go(n){W4.call(this,n,"gsub")}function lre(n,e){var t=n.length;if(t!==e.length)return!1;for(var i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}function ew(n,e,t){for(var i=n.subtables,r=0;r<i.length;r++){var s=i[r];if(s.substFormat===e)return s}if(t)return i.push(t),t}go.prototype=W4.prototype;go.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};go.prototype.getSingle=function(n,e,t){for(var i=[],r=this.getLookupTables(e,t,n,1),s=0;s<r.length;s++)for(var o=r[s].subtables,a=0;a<o.length;a++){var l=o[a],c=this.expandCoverage(l.coverage),u=void 0;if(l.substFormat===1){var h=l.deltaGlyphId;for(u=0;u<c.length;u++){var f=c[u];i.push({sub:f,by:f+h})}}else{var p=l.substitute;for(u=0;u<c.length;u++)i.push({sub:c[u],by:p[u]})}}return i};go.prototype.getMultiple=function(n,e,t){for(var i=[],r=this.getLookupTables(e,t,n,2),s=0;s<r.length;s++)for(var o=r[s].subtables,a=0;a<o.length;a++){var l=o[a],c=this.expandCoverage(l.coverage),u=void 0;for(u=0;u<c.length;u++){var h=c[u],f=l.sequences[u];i.push({sub:h,by:f})}}return i};go.prototype.getAlternates=function(n,e,t){for(var i=[],r=this.getLookupTables(e,t,n,3),s=0;s<r.length;s++)for(var o=r[s].subtables,a=0;a<o.length;a++)for(var l=o[a],c=this.expandCoverage(l.coverage),u=l.alternateSets,h=0;h<c.length;h++)i.push({sub:c[h],by:u[h]});return i};go.prototype.getLigatures=function(n,e,t){for(var i=[],r=this.getLookupTables(e,t,n,4),s=0;s<r.length;s++)for(var o=r[s].subtables,a=0;a<o.length;a++)for(var l=o[a],c=this.expandCoverage(l.coverage),u=l.ligatureSets,h=0;h<c.length;h++)for(var f=c[h],p=u[h],m=0;m<p.length;m++){var S=p[m];i.push({sub:[f].concat(S.components),by:S.ligGlyph})}return i};go.prototype.addSingle=function(n,e,t,i){var r=this.getLookupTables(t,i,n,1,!0)[0],s=ew(r,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});Ot.assert(s.coverage.format===1,"Single: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.substitute.splice(a,0,0)),s.substitute[a]=e.by};go.prototype.addMultiple=function(n,e,t,i){Ot.assert(e.by instanceof Array&&e.by.length>1,'Multiple: "by" must be an array of two or more ids');var r=this.getLookupTables(t,i,n,2,!0)[0],s=ew(r,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});Ot.assert(s.coverage.format===1,"Multiple: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.sequences.splice(a,0,0)),s.sequences[a]=e.by};go.prototype.addAlternate=function(n,e,t,i){var r=this.getLookupTables(t,i,n,3,!0)[0],s=ew(r,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});Ot.assert(s.coverage.format===1,"Alternate: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.alternateSets.splice(a,0,0)),s.alternateSets[a]=e.by};go.prototype.addLigature=function(n,e,t,i){var r=this.getLookupTables(t,i,n,4,!0)[0],s=r.subtables[0];s||(s={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},r.subtables[0]=s),Ot.assert(s.coverage.format===1,"Ligature: unable to modify coverage table format "+s.coverage.format);var o=e.sub[0],a=e.sub.slice(1),l={ligGlyph:e.by,components:a},c=this.binSearch(s.coverage.glyphs,o);if(c>=0){for(var u=s.ligatureSets[c],h=0;h<u.length;h++)if(lre(u[h].components,a))return;u.push(l)}else c=-1-c,s.coverage.glyphs.splice(c,0,o),s.ligatureSets.splice(c,0,[l])};go.prototype.getFeature=function(n,e,t){if(/ss\d\d/.test(n))return this.getSingle(n,e,t);switch(n){case"aalt":case"salt":return this.getSingle(n,e,t).concat(this.getAlternates(n,e,t));case"dlig":case"liga":case"rlig":return this.getLigatures(n,e,t);case"ccmp":return this.getMultiple(n,e,t).concat(this.getLigatures(n,e,t));case"stch":return this.getMultiple(n,e,t)}};go.prototype.add=function(n,e,t,i){if(/ss\d\d/.test(n))return this.addSingle(n,e,t,i);switch(n){case"aalt":case"salt":return typeof e.by=="number"?this.addSingle(n,e,t,i):this.addAlternate(n,e,t,i);case"dlig":case"liga":case"rlig":return this.addLigature(n,e,t,i);case"ccmp":return e.by instanceof Array?this.addMultiple(n,e,t,i):this.addLigature(n,e,t,i)}};function cre(){return typeof window<"u"}function ure(n){for(var e=new Buffer(n.byteLength),t=new Uint8Array(n),i=0;i<e.length;++i)e[i]=t[i];return e}function rf(n,e){if(!n)throw e}function JI(n,e,t,i,r){var s;return(e&i)>0?(s=n.parseByte(),e&r||(s=-s),s=t+s):(e&r)>0?s=t:s=t+n.parseShort(),s}function pU(n,e,t){var i=new zt.Parser(e,t);n.numberOfContours=i.parseShort(),n._xMin=i.parseShort(),n._yMin=i.parseShort(),n._xMax=i.parseShort(),n._yMax=i.parseShort();var r,s;if(n.numberOfContours>0){for(var o=n.endPointIndices=[],a=0;a<n.numberOfContours;a+=1)o.push(i.parseUShort());n.instructionLength=i.parseUShort(),n.instructions=[];for(var l=0;l<n.instructionLength;l+=1)n.instructions.push(i.parseByte());var c=o[o.length-1]+1;r=[];for(var u=0;u<c;u+=1)if(s=i.parseByte(),r.push(s),(s&8)>0)for(var h=i.parseByte(),f=0;f<h;f+=1)r.push(s),u+=1;if(Ot.argument(r.length===c,"Bad flags."),o.length>0){var p=[],m;if(c>0){for(var S=0;S<c;S+=1)s=r[S],m={},m.onCurve=!!(s&1),m.lastPointOfContour=o.indexOf(S)>=0,p.push(m);for(var v=0,A=0;A<c;A+=1)s=r[A],m=p[A],m.x=JI(i,s,v,2,16),v=m.x;for(var y=0,x=0;x<c;x+=1)s=r[x],m=p[x],m.y=JI(i,s,y,4,32),y=m.y}n.points=p}else n.points=[]}else if(n.numberOfContours===0)n.points=[];else{n.isComposite=!0,n.points=[],n.components=[];for(var C=!0;C;){r=i.parseUShort();var w={glyphIndex:i.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(r&1)>0?(r&2)>0?(w.dx=i.parseShort(),w.dy=i.parseShort()):w.matchedPoints=[i.parseUShort(),i.parseUShort()]:(r&2)>0?(w.dx=i.parseChar(),w.dy=i.parseChar()):w.matchedPoints=[i.parseByte(),i.parseByte()],(r&8)>0?w.xScale=w.yScale=i.parseF2Dot14():(r&64)>0?(w.xScale=i.parseF2Dot14(),w.yScale=i.parseF2Dot14()):(r&128)>0&&(w.xScale=i.parseF2Dot14(),w.scale01=i.parseF2Dot14(),w.scale10=i.parseF2Dot14(),w.yScale=i.parseF2Dot14()),n.components.push(w),C=!!(r&32)}if(r&256){n.instructionLength=i.parseUShort(),n.instructions=[];for(var M=0;M<n.instructionLength;M+=1)n.instructions.push(i.parseByte())}}}function KA(n,e){for(var t=[],i=0;i<n.length;i+=1){var r=n[i],s={x:e.xScale*r.x+e.scale01*r.y+e.dx,y:e.scale10*r.x+e.yScale*r.y+e.dy,onCurve:r.onCurve,lastPointOfContour:r.lastPointOfContour};t.push(s)}return t}function hre(n){for(var e=[],t=[],i=0;i<n.length;i+=1){var r=n[i];t.push(r),r.lastPointOfContour&&(e.push(t),t=[])}return Ot.argument(t.length===0,"There are still points left in the current contour."),e}function gU(n){var e=new Xi;if(!n)return e;for(var t=hre(n),i=0;i<t.length;++i){var r=t[i],s=null,o=r[r.length-1],a=r[0];if(o.onCurve)e.moveTo(o.x,o.y);else if(a.onCurve)e.moveTo(a.x,a.y);else{var l={x:(o.x+a.x)*.5,y:(o.y+a.y)*.5};e.moveTo(l.x,l.y)}for(var c=0;c<r.length;++c)if(s=o,o=a,a=r[(c+1)%r.length],o.onCurve)e.lineTo(o.x,o.y);else{var u=a;s.onCurve||((o.x+s.x)*.5,(o.y+s.y)*.5),a.onCurve||(u={x:(o.x+a.x)*.5,y:(o.y+a.y)*.5}),e.quadraticCurveTo(o.x,o.y,u.x,u.y)}e.closePath()}return e}function mU(n,e){if(e.isComposite)for(var t=0;t<e.components.length;t+=1){var i=e.components[t],r=n.get(i.glyphIndex);if(r.getPath(),r.points){var s=void 0;if(i.matchedPoints===void 0)s=KA(r.points,i);else{if(i.matchedPoints[0]>e.points.length-1||i.matchedPoints[1]>r.points.length-1)throw Error("Matched points out of range in "+e.name);var o=e.points[i.matchedPoints[0]],a=r.points[i.matchedPoints[1]],l={xScale:i.xScale,scale01:i.scale01,scale10:i.scale10,yScale:i.yScale,dx:0,dy:0};a=KA([a],l)[0],l.dx=o.x-a.x,l.dy=o.y-a.y,s=KA(r.points,l)}e.points=e.points.concat(s)}}return gU(e.points)}function fre(n,e,t,i){for(var r=new al.GlyphSet(i),s=0;s<t.length-1;s+=1){var o=t[s],a=t[s+1];o!==a?r.push(s,al.ttfGlyphLoader(i,s,pU,n,e+o,mU)):r.push(s,al.glyphLoader(i,s))}return r}function dre(n,e,t,i){var r=new al.GlyphSet(i);return i._push=function(s){var o=t[s],a=t[s+1];o!==a?r.push(s,al.ttfGlyphLoader(i,s,pU,n,e+o,mU)):r.push(s,al.glyphLoader(i,s))},r}function pre(n,e,t,i,r){return r.lowMemory?dre(n,e,t,i):fre(n,e,t,i)}var gre={getPath:gU,parse:pre},AU,f3,vU,Dx;function yU(n){this.font=n,this.getCommands=function(e){return gre.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function mre(n){return n}function xU(n){return Math.sign(n)*Math.round(Math.abs(n))}function Are(n){return Math.sign(n)*Math.round(Math.abs(n*2))/2}function vre(n){return Math.sign(n)*(Math.round(Math.abs(n)+.5)-.5)}function yre(n){return Math.sign(n)*Math.ceil(Math.abs(n))}function xre(n){return Math.sign(n)*Math.floor(Math.abs(n))}var SU=function(n){var e=this.srPeriod,t=this.srPhase,i=this.srThreshold,r=1;return n<0&&(n=-n,r=-1),n+=i-t,n=Math.trunc(n/e)*e,n+=t,n<0?t*r:n*r},el={x:1,y:0,axis:"x",distance:function(n,e,t,i){return(t?n.xo:n.x)-(i?e.xo:e.x)},interpolate:function(n,e,t,i){var r,s,o,a,l,c,u;if(!i||i===this){if(r=n.xo-e.xo,s=n.xo-t.xo,l=e.x-e.xo,c=t.x-t.xo,o=Math.abs(r),a=Math.abs(s),u=o+a,u===0){n.x=n.xo+(l+c)/2;return}n.x=n.xo+(l*a+c*o)/u;return}if(r=i.distance(n,e,!0,!0),s=i.distance(n,t,!0,!0),l=i.distance(e,e,!1,!0),c=i.distance(t,t,!1,!0),o=Math.abs(r),a=Math.abs(s),u=o+a,u===0){el.setRelative(n,n,(l+c)/2,i,!0);return}el.setRelative(n,n,(l*a+c*o)/u,i,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(n,e,t,i,r){if(!i||i===this){n.x=(r?e.xo:e.x)+t;return}var s=r?e.xo:e.x,o=r?e.yo:e.y,a=s+t*i.x,l=o+t*i.y;n.x=a+(n.y-l)/i.normalSlope},slope:0,touch:function(n){n.xTouched=!0},touched:function(n){return n.xTouched},untouch:function(n){n.xTouched=!1}},Jl={x:0,y:1,axis:"y",distance:function(n,e,t,i){return(t?n.yo:n.y)-(i?e.yo:e.y)},interpolate:function(n,e,t,i){var r,s,o,a,l,c,u;if(!i||i===this){if(r=n.yo-e.yo,s=n.yo-t.yo,l=e.y-e.yo,c=t.y-t.yo,o=Math.abs(r),a=Math.abs(s),u=o+a,u===0){n.y=n.yo+(l+c)/2;return}n.y=n.yo+(l*a+c*o)/u;return}if(r=i.distance(n,e,!0,!0),s=i.distance(n,t,!0,!0),l=i.distance(e,e,!1,!0),c=i.distance(t,t,!1,!0),o=Math.abs(r),a=Math.abs(s),u=o+a,u===0){Jl.setRelative(n,n,(l+c)/2,i,!0);return}Jl.setRelative(n,n,(l*a+c*o)/u,i,!0)},normalSlope:0,setRelative:function(n,e,t,i,r){if(!i||i===this){n.y=(r?e.yo:e.y)+t;return}var s=r?e.xo:e.x,o=r?e.yo:e.y,a=s+t*i.x,l=o+t*i.y;n.y=l+i.normalSlope*(n.x-a)},slope:Number.POSITIVE_INFINITY,touch:function(n){n.yTouched=!0},touched:function(n){return n.yTouched},untouch:function(n){n.yTouched=!1}};Object.freeze(el);Object.freeze(Jl);function X4(n,e){this.x=n,this.y=e,this.axis=void 0,this.slope=e/n,this.normalSlope=-n/e,Object.freeze(this)}X4.prototype.distance=function(n,e,t,i){return this.x*el.distance(n,e,t,i)+this.y*Jl.distance(n,e,t,i)};X4.prototype.interpolate=function(n,e,t,i){var r,s,o,a,l,c,u;if(o=i.distance(n,e,!0,!0),a=i.distance(n,t,!0,!0),r=i.distance(e,e,!1,!0),s=i.distance(t,t,!1,!0),l=Math.abs(o),c=Math.abs(a),u=l+c,u===0){this.setRelative(n,n,(r+s)/2,i,!0);return}this.setRelative(n,n,(r*c+s*l)/u,i,!0)};X4.prototype.setRelative=function(n,e,t,i,r){i=i||this;var s=r?e.xo:e.x,o=r?e.yo:e.y,a=s+t*i.x,l=o+t*i.y,c=i.normalSlope,u=this.slope,h=n.x,f=n.y;n.x=(u*h-c*a+l-f)/(u-c),n.y=u*(n.x-h)+f};X4.prototype.touch=function(n){n.xTouched=!0,n.yTouched=!0};function q4(n,e){var t=Math.sqrt(n*n+e*e);return n/=t,e/=t,n===1&&e===0?el:n===0&&e===1?Jl:new X4(n,e)}function t1(n,e,t,i){this.x=this.xo=Math.round(n*64)/64,this.y=this.yo=Math.round(e*64)/64,this.lastPointOfContour=t,this.onCurve=i,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}t1.prototype.nextTouched=function(n){for(var e=this.nextPointOnContour;!n.touched(e)&&e!==this;)e=e.nextPointOnContour;return e};t1.prototype.prevTouched=function(n){for(var e=this.prevPointOnContour;!n.touched(e)&&e!==this;)e=e.prevPointOnContour;return e};var e4=Object.freeze(new t1(0,0)),Sre={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function $1(n,e){switch(this.env=n,this.stack=[],this.prog=e,n){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=el,this.round=xU}}yU.prototype.exec=function(n,e){if(typeof e!="number")throw new Error("Point size is not a number!");if(!(this._errorState>2)){var t=this.font,i=this._prepState;if(!i||i.ppem!==e){var r=this._fpgmState;if(!r){$1.prototype=Sre,r=this._fpgmState=new $1("fpgm",t.tables.fpgm),r.funcs=[],r.font=t,Oe.DEBUG&&(console.log("---EXEC FPGM---"),r.step=-1);try{f3(r)}catch(c){console.log("Hinting error in FPGM:"+c),this._errorState=3;return}}$1.prototype=r,i=this._prepState=new $1("prep",t.tables.prep),i.ppem=e;var s=t.tables.cvt;if(s)for(var o=i.cvt=new Array(s.length),a=e/t.unitsPerEm,l=0;l<s.length;l++)o[l]=s[l]*a;else i.cvt=[];Oe.DEBUG&&(console.log("---EXEC PREP---"),i.step=-1);try{f3(i)}catch(c){this._errorState<2&&console.log("Hinting error in PREP:"+c),this._errorState=2}}if(!(this._errorState>1))try{return vU(n,i)}catch(c){this._errorState<1&&(console.log("Hinting error:"+c),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}}};vU=function(n,e){var t=e.ppem/e.font.unitsPerEm,i=t,r=n.components,s,o,a;if($1.prototype=e,!r)a=new $1("glyf",n.instructions),Oe.DEBUG&&(console.log("---EXEC GLYPH---"),a.step=-1),Dx(n,a,t,i),o=a.gZone;else{var l=e.font;o=[],s=[];for(var c=0;c<r.length;c++){var u=r[c],h=l.glyphs.get(u.glyphIndex);a=new $1("glyf",h.instructions),Oe.DEBUG&&(console.log("---EXEC COMP "+c+"---"),a.step=-1),Dx(h,a,t,i);for(var f=Math.round(u.dx*t),p=Math.round(u.dy*i),m=a.gZone,S=a.contours,v=0;v<m.length;v++){var A=m[v];A.xTouched=A.yTouched=!1,A.xo=A.x=A.x+f,A.yo=A.y=A.y+p}var y=o.length;o.push.apply(o,m);for(var x=0;x<S.length;x++)s.push(S[x]+y)}n.instructions&&!a.inhibitGridFit&&(a=new $1("glyf",n.instructions),a.gZone=a.z0=a.z1=a.z2=o,a.contours=s,o.push(new t1(0,0),new t1(Math.round(n.advanceWidth*t),0)),Oe.DEBUG&&(console.log("---EXEC COMPOSITE---"),a.step=-1),f3(a),o.length-=2)}return o};Dx=function(n,e,t,i){for(var r=n.points||[],s=r.length,o=e.gZone=e.z0=e.z1=e.z2=[],a=e.contours=[],l,c=0;c<s;c++)l=r[c],o[c]=new t1(l.x*t,l.y*i,l.lastPointOfContour,l.onCurve);for(var u,h,f=0;f<s;f++)l=o[f],u||(u=l,a.push(f)),l.lastPointOfContour?(l.nextPointOnContour=u,u.prevPointOnContour=l,u=void 0):(h=o[f+1],l.nextPointOnContour=h,h.prevPointOnContour=l);if(!e.inhibitGridFit){if(Oe.DEBUG){console.log("PROCESSING GLYPH",e.stack);for(var p=0;p<s;p++)console.log(p,o[p].x,o[p].y)}if(o.push(new t1(0,0),new t1(Math.round(n.advanceWidth*t),0)),f3(e),o.length-=2,Oe.DEBUG){console.log("FINISHED GLYPH",e.stack);for(var m=0;m<s;m++)console.log(m,o[m].x,o[m].y)}}};f3=function(n){var e=n.prog;if(e){var t=e.length,i;for(n.ip=0;n.ip<t;n.ip++){if(Oe.DEBUG&&n.step++,i=AU[e[n.ip]],!i)throw new Error("unknown instruction: 0x"+Number(e[n.ip]).toString(16));i(n)}}};function J7(n){for(var e=n.tZone=new Array(n.gZone.length),t=0;t<e.length;t++)e[t]=new t1(0,0)}function EU(n,e){var t=n.prog,i=n.ip,r=1,s;do if(s=t[++i],s===88)r++;else if(s===89)r--;else if(s===64)i+=t[i+1]+1;else if(s===65)i+=2*t[i+1]+1;else if(s>=176&&s<=183)i+=s-176+1;else if(s>=184&&s<=191)i+=(s-184+1)*2;else if(e&&r===1&&s===27)break;while(r>0);n.ip=i}function $I(n,e){Oe.DEBUG&&console.log(e.step,"SVTCA["+n.axis+"]"),e.fv=e.pv=e.dpv=n}function ZI(n,e){Oe.DEBUG&&console.log(e.step,"SPVTCA["+n.axis+"]"),e.pv=e.dpv=n}function eR(n,e){Oe.DEBUG&&console.log(e.step,"SFVTCA["+n.axis+"]"),e.fv=n}function tR(n,e){var t=e.stack,i=t.pop(),r=t.pop(),s=e.z2[i],o=e.z1[r];Oe.DEBUG&&console.log("SPVTL["+n+"]",i,r);var a,l;n?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.pv=e.dpv=q4(a,l)}function nR(n,e){var t=e.stack,i=t.pop(),r=t.pop(),s=e.z2[i],o=e.z1[r];Oe.DEBUG&&console.log("SFVTL["+n+"]",i,r);var a,l;n?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.fv=q4(a,l)}function Ere(n){var e=n.stack,t=e.pop(),i=e.pop();Oe.DEBUG&&console.log(n.step,"SPVFS[]",t,i),n.pv=n.dpv=q4(i,t)}function Cre(n){var e=n.stack,t=e.pop(),i=e.pop();Oe.DEBUG&&console.log(n.step,"SPVFS[]",t,i),n.fv=q4(i,t)}function wre(n){var e=n.stack,t=n.pv;Oe.DEBUG&&console.log(n.step,"GPV[]"),e.push(t.x*16384),e.push(t.y*16384)}function _re(n){var e=n.stack,t=n.fv;Oe.DEBUG&&console.log(n.step,"GFV[]"),e.push(t.x*16384),e.push(t.y*16384)}function Mre(n){n.fv=n.pv,Oe.DEBUG&&console.log(n.step,"SFVTPV[]")}function Tre(n){var e=n.stack,t=e.pop(),i=e.pop(),r=e.pop(),s=e.pop(),o=e.pop(),a=n.z0,l=n.z1,c=a[t],u=a[i],h=l[r],f=l[s],p=n.z2[o];Oe.DEBUG&&console.log("ISECT[], ",t,i,r,s,o);var m=c.x,S=c.y,v=u.x,A=u.y,y=h.x,x=h.y,C=f.x,w=f.y,M=(m-v)*(x-w)-(S-A)*(y-C),T=m*A-S*v,R=y*w-x*C;p.x=(T*(y-C)-R*(m-v))/M,p.y=(T*(x-w)-R*(S-A))/M}function bre(n){n.rp0=n.stack.pop(),Oe.DEBUG&&console.log(n.step,"SRP0[]",n.rp0)}function Ire(n){n.rp1=n.stack.pop(),Oe.DEBUG&&console.log(n.step,"SRP1[]",n.rp1)}function Rre(n){n.rp2=n.stack.pop(),Oe.DEBUG&&console.log(n.step,"SRP2[]",n.rp2)}function Bre(n){var e=n.stack.pop();switch(Oe.DEBUG&&console.log(n.step,"SZP0[]",e),n.zp0=e,e){case 0:n.tZone||J7(n),n.z0=n.tZone;break;case 1:n.z0=n.gZone;break;default:throw new Error("Invalid zone pointer")}}function kre(n){var e=n.stack.pop();switch(Oe.DEBUG&&console.log(n.step,"SZP1[]",e),n.zp1=e,e){case 0:n.tZone||J7(n),n.z1=n.tZone;break;case 1:n.z1=n.gZone;break;default:throw new Error("Invalid zone pointer")}}function Pre(n){var e=n.stack.pop();switch(Oe.DEBUG&&console.log(n.step,"SZP2[]",e),n.zp2=e,e){case 0:n.tZone||J7(n),n.z2=n.tZone;break;case 1:n.z2=n.gZone;break;default:throw new Error("Invalid zone pointer")}}function Lre(n){var e=n.stack.pop();switch(Oe.DEBUG&&console.log(n.step,"SZPS[]",e),n.zp0=n.zp1=n.zp2=e,e){case 0:n.tZone||J7(n),n.z0=n.z1=n.z2=n.tZone;break;case 1:n.z0=n.z1=n.z2=n.gZone;break;default:throw new Error("Invalid zone pointer")}}function Dre(n){n.loop=n.stack.pop(),Oe.DEBUG&&console.log(n.step,"SLOOP[]",n.loop)}function Ore(n){Oe.DEBUG&&console.log(n.step,"RTG[]"),n.round=xU}function Nre(n){Oe.DEBUG&&console.log(n.step,"RTHG[]"),n.round=vre}function Fre(n){var e=n.stack.pop();Oe.DEBUG&&console.log(n.step,"SMD[]",e),n.minDis=e/64}function Ure(n){Oe.DEBUG&&console.log(n.step,"ELSE[]"),EU(n,!1)}function Gre(n){var e=n.stack.pop();Oe.DEBUG&&console.log(n.step,"JMPR[]",e),n.ip+=e-1}function zre(n){var e=n.stack.pop();Oe.DEBUG&&console.log(n.step,"SCVTCI[]",e),n.cvCutIn=e/64}function Qre(n){var e=n.stack;Oe.DEBUG&&console.log(n.step,"DUP[]"),e.push(e[e.length-1])}function JA(n){Oe.DEBUG&&console.log(n.step,"POP[]"),n.stack.pop()}function Hre(n){Oe.DEBUG&&console.log(n.step,"CLEAR[]"),n.stack.length=0}function Vre(n){var e=n.stack,t=e.pop(),i=e.pop();Oe.DEBUG&&console.log(n.step,"SWAP[]"),e.push(t),e.push(i)}function Wre(n){var e=n.stack;Oe.DEBUG&&console.log(n.step,"DEPTH[]"),e.push(e.length)}function jre(n){var e=n.stack,t=e.pop(),i=e.pop();Oe.DEBUG&&console.log(n.step,"LOOPCALL[]",t,i);var r=n.ip,s=n.prog;n.prog=n.funcs[t];for(var o=0;o<i;o++)f3(n),Oe.DEBUG&&console.log(++n.step,o+1<i?"next loopcall":"done loopcall",o);n.ip=r,n.prog=s}function Xre(n){var e=n.stack.pop();Oe.DEBUG&&console.log(n.step,"CALL[]",e);var t=n.ip,i=n.prog;n.prog=n.funcs[e],f3(n),n.ip=t,n.prog=i,Oe.DEBUG&&console.log(++n.step,"returning from",e)}function qre(n){var e=n.stack,t=e.pop();Oe.DEBUG&&console.log(n.step,"CINDEX[]",t),e.push(e[e.length-t])}function Yre(n){var e=n.stack,t=e.pop();Oe.DEBUG&&console.log(n.step,"MINDEX[]",t),e.push(e.splice(e.length-t,1)[0])}function Kre(n){if(n.env!=="fpgm")throw new Error("FDEF not allowed here");var e=n.stack,t=n.prog,i=n.ip,r=e.pop(),s=i;for(Oe.DEBUG&&console.log(n.step,"FDEF[]",r);t[++i]!==45;);n.ip=i,n.funcs[r]=t.slice(s+1,i)}function iR(n,e){var t=e.stack.pop(),i=e.z0[t],r=e.fv,s=e.pv;Oe.DEBUG&&console.log(e.step,"MDAP["+n+"]",t);var o=s.distance(i,e4);n&&(o=e.round(o)),r.setRelative(i,e4,o,s),r.touch(i),e.rp0=e.rp1=t}function rR(n,e){var t=e.z2,i=t.length-2,r,s,o;Oe.DEBUG&&console.log(e.step,"IUP["+n.axis+"]");for(var a=0;a<i;a++)r=t[a],!n.touched(r)&&(s=r.prevTouched(n),s!==r&&(o=r.nextTouched(n),s===o&&n.setRelative(r,r,n.distance(s,s,!1,!0),n,!0),n.interpolate(r,s,o,n)))}function sR(n,e){for(var t=e.stack,i=n?e.rp1:e.rp2,r=(n?e.z0:e.z1)[i],s=e.fv,o=e.pv,a=e.loop,l=e.z2;a--;){var c=t.pop(),u=l[c],h=o.distance(r,r,!1,!0);s.setRelative(u,u,h,o),s.touch(u),Oe.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-a)+": ":"")+"SHP["+(n?"rp1":"rp2")+"]",c)}e.loop=1}function oR(n,e){var t=e.stack,i=n?e.rp1:e.rp2,r=(n?e.z0:e.z1)[i],s=e.fv,o=e.pv,a=t.pop(),l=e.z2[e.contours[a]],c=l;Oe.DEBUG&&console.log(e.step,"SHC["+n+"]",a);var u=o.distance(r,r,!1,!0);do c!==r&&s.setRelative(c,c,u,o),c=c.nextPointOnContour;while(c!==l)}function aR(n,e){var t=e.stack,i=n?e.rp1:e.rp2,r=(n?e.z0:e.z1)[i],s=e.fv,o=e.pv,a=t.pop();Oe.DEBUG&&console.log(e.step,"SHZ["+n+"]",a);var l;switch(a){case 0:l=e.tZone;break;case 1:l=e.gZone;break;default:throw new Error("Invalid zone")}for(var c,u=o.distance(r,r,!1,!0),h=l.length-2,f=0;f<h;f++)c=l[f],s.setRelative(c,c,u,o)}function Jre(n){for(var e=n.stack,t=n.loop,i=n.fv,r=e.pop()/64,s=n.z2;t--;){var o=e.pop(),a=s[o];Oe.DEBUG&&console.log(n.step,(n.loop>1?"loop "+(n.loop-t)+": ":"")+"SHPIX[]",o,r),i.setRelative(a,a,r),i.touch(a)}n.loop=1}function $re(n){for(var e=n.stack,t=n.rp1,i=n.rp2,r=n.loop,s=n.z0[t],o=n.z1[i],a=n.fv,l=n.dpv,c=n.z2;r--;){var u=e.pop(),h=c[u];Oe.DEBUG&&console.log(n.step,(n.loop>1?"loop "+(n.loop-r)+": ":"")+"IP[]",u,t,"<->",i),a.interpolate(h,s,o,l),a.touch(h)}n.loop=1}function lR(n,e){var t=e.stack,i=t.pop()/64,r=t.pop(),s=e.z1[r],o=e.z0[e.rp0],a=e.fv,l=e.pv;a.setRelative(s,o,i,l),a.touch(s),Oe.DEBUG&&console.log(e.step,"MSIRP["+n+"]",i,r),e.rp1=e.rp0,e.rp2=r,n&&(e.rp0=r)}function Zre(n){for(var e=n.stack,t=n.rp0,i=n.z0[t],r=n.loop,s=n.fv,o=n.pv,a=n.z1;r--;){var l=e.pop(),c=a[l];Oe.DEBUG&&console.log(n.step,(n.loop>1?"loop "+(n.loop-r)+": ":"")+"ALIGNRP[]",l),s.setRelative(c,i,0,o),s.touch(c)}n.loop=1}function ese(n){Oe.DEBUG&&console.log(n.step,"RTDG[]"),n.round=Are}function cR(n,e){var t=e.stack,i=t.pop(),r=t.pop(),s=e.z0[r],o=e.fv,a=e.pv,l=e.cvt[i];Oe.DEBUG&&console.log(e.step,"MIAP["+n+"]",i,"(",l,")",r);var c=a.distance(s,e4);n&&(Math.abs(c-l)<e.cvCutIn&&(c=l),c=e.round(c)),o.setRelative(s,e4,c,a),e.zp0===0&&(s.xo=s.x,s.yo=s.y),o.touch(s),e.rp0=e.rp1=r}function tse(n){var e=n.prog,t=n.ip,i=n.stack,r=e[++t];Oe.DEBUG&&console.log(n.step,"NPUSHB[]",r);for(var s=0;s<r;s++)i.push(e[++t]);n.ip=t}function nse(n){var e=n.ip,t=n.prog,i=n.stack,r=t[++e];Oe.DEBUG&&console.log(n.step,"NPUSHW[]",r);for(var s=0;s<r;s++){var o=t[++e]<<8|t[++e];o&32768&&(o=-((o^65535)+1)),i.push(o)}n.ip=e}function ise(n){var e=n.stack,t=n.store;t||(t=n.store=[]);var i=e.pop(),r=e.pop();Oe.DEBUG&&console.log(n.step,"WS",i,r),t[r]=i}function rse(n){var e=n.stack,t=n.store,i=e.pop();Oe.DEBUG&&console.log(n.step,"RS",i);var r=t&&t[i]||0;e.push(r)}function sse(n){var e=n.stack,t=e.pop(),i=e.pop();Oe.DEBUG&&console.log(n.step,"WCVTP",t,i),n.cvt[i]=t/64}function ose(n){var e=n.stack,t=e.pop();Oe.DEBUG&&console.log(n.step,"RCVT",t),e.push(n.cvt[t]*64)}function uR(n,e){var t=e.stack,i=t.pop(),r=e.z2[i];Oe.DEBUG&&console.log(e.step,"GC["+n+"]",i),t.push(e.dpv.distance(r,e4,n,!1)*64)}function hR(n,e){var t=e.stack,i=t.pop(),r=t.pop(),s=e.z1[i],o=e.z0[r],a=e.dpv.distance(o,s,n,n);Oe.DEBUG&&console.log(e.step,"MD["+n+"]",i,r,"->",a),e.stack.push(Math.round(a*64))}function ase(n){Oe.DEBUG&&console.log(n.step,"MPPEM[]"),n.stack.push(n.ppem)}function lse(n){Oe.DEBUG&&console.log(n.step,"FLIPON[]"),n.autoFlip=!0}function cse(n){var e=n.stack,t=e.pop(),i=e.pop();Oe.DEBUG&&console.log(n.step,"LT[]",t,i),e.push(i<t?1:0)}function use(n){var e=n.stack,t=e.pop(),i=e.pop();Oe.DEBUG&&console.log(n.step,"LTEQ[]",t,i),e.push(i<=t?1:0)}function hse(n){var e=n.stack,t=e.pop(),i=e.pop();Oe.DEBUG&&console.log(n.step,"GT[]",t,i),e.push(i>t?1:0)}function fse(n){var e=n.stack,t=e.pop(),i=e.pop();Oe.DEBUG&&console.log(n.step,"GTEQ[]",t,i),e.push(i>=t?1:0)}function dse(n){var e=n.stack,t=e.pop(),i=e.pop();Oe.DEBUG&&console.log(n.step,"EQ[]",t,i),e.push(t===i?1:0)}function pse(n){var e=n.stack,t=e.pop(),i=e.pop();Oe.DEBUG&&console.log(n.step,"NEQ[]",t,i),e.push(t!==i?1:0)}function gse(n){var e=n.stack,t=e.pop();Oe.DEBUG&&console.log(n.step,"ODD[]",t),e.push(Math.trunc(t)%2?1:0)}function mse(n){var e=n.stack,t=e.pop();Oe.DEBUG&&console.log(n.step,"EVEN[]",t),e.push(Math.trunc(t)%2?0:1)}function Ase(n){var e=n.stack.pop();Oe.DEBUG&&console.log(n.step,"IF[]",e),e||(EU(n,!0),Oe.DEBUG&&console.log(n.step,"EIF[]"))}function vse(n){Oe.DEBUG&&console.log(n.step,"EIF[]")}function yse(n){var e=n.stack,t=e.pop(),i=e.pop();Oe.DEBUG&&console.log(n.step,"AND[]",t,i),e.push(t&&i?1:0)}function xse(n){var e=n.stack,t=e.pop(),i=e.pop();Oe.DEBUG&&console.log(n.step,"OR[]",t,i),e.push(t||i?1:0)}function Sse(n){var e=n.stack,t=e.pop();Oe.DEBUG&&console.log(n.step,"NOT[]",t),e.push(t?0:1)}function $A(n,e){var t=e.stack,i=t.pop(),r=e.fv,s=e.pv,o=e.ppem,a=e.deltaBase+(n-1)*16,l=e.deltaShift,c=e.z0;Oe.DEBUG&&console.log(e.step,"DELTAP["+n+"]",i,t);for(var u=0;u<i;u++){var h=t.pop(),f=t.pop(),p=a+((f&240)>>4);if(p===o){var m=(f&15)-8;m>=0&&m++,Oe.DEBUG&&console.log(e.step,"DELTAPFIX",h,"by",m*l);var S=c[h];r.setRelative(S,S,m*l,s)}}}function Ese(n){var e=n.stack,t=e.pop();Oe.DEBUG&&console.log(n.step,"SDB[]",t),n.deltaBase=t}function Cse(n){var e=n.stack,t=e.pop();Oe.DEBUG&&console.log(n.step,"SDS[]",t),n.deltaShift=Math.pow(.5,t)}function wse(n){var e=n.stack,t=e.pop(),i=e.pop();Oe.DEBUG&&console.log(n.step,"ADD[]",t,i),e.push(i+t)}function _se(n){var e=n.stack,t=e.pop(),i=e.pop();Oe.DEBUG&&console.log(n.step,"SUB[]",t,i),e.push(i-t)}function Mse(n){var e=n.stack,t=e.pop(),i=e.pop();Oe.DEBUG&&console.log(n.step,"DIV[]",t,i),e.push(i*64/t)}function Tse(n){var e=n.stack,t=e.pop(),i=e.pop();Oe.DEBUG&&console.log(n.step,"MUL[]",t,i),e.push(i*t/64)}function bse(n){var e=n.stack,t=e.pop();Oe.DEBUG&&console.log(n.step,"ABS[]",t),e.push(Math.abs(t))}function Ise(n){var e=n.stack,t=e.pop();Oe.DEBUG&&console.log(n.step,"NEG[]",t),e.push(-t)}function Rse(n){var e=n.stack,t=e.pop();Oe.DEBUG&&console.log(n.step,"FLOOR[]",t),e.push(Math.floor(t/64)*64)}function Bse(n){var e=n.stack,t=e.pop();Oe.DEBUG&&console.log(n.step,"CEILING[]",t),e.push(Math.ceil(t/64)*64)}function g6(n,e){var t=e.stack,i=t.pop();Oe.DEBUG&&console.log(e.step,"ROUND[]"),t.push(e.round(i/64)*64)}function kse(n){var e=n.stack,t=e.pop(),i=e.pop();Oe.DEBUG&&console.log(n.step,"WCVTF[]",t,i),n.cvt[i]=t*n.ppem/n.font.unitsPerEm}function ZA(n,e){var t=e.stack,i=t.pop(),r=e.ppem,s=e.deltaBase+(n-1)*16,o=e.deltaShift;Oe.DEBUG&&console.log(e.step,"DELTAC["+n+"]",i,t);for(var a=0;a<i;a++){var l=t.pop(),c=t.pop(),u=s+((c&240)>>4);if(u===r){var h=(c&15)-8;h>=0&&h++;var f=h*o;Oe.DEBUG&&console.log(e.step,"DELTACFIX",l,"by",f),e.cvt[l]+=f}}}function Pse(n){var e=n.stack.pop();Oe.DEBUG&&console.log(n.step,"SROUND[]",e),n.round=SU;var t;switch(e&192){case 0:t=.5;break;case 64:t=1;break;case 128:t=2;break;default:throw new Error("invalid SROUND value")}switch(n.srPeriod=t,e&48){case 0:n.srPhase=0;break;case 16:n.srPhase=.25*t;break;case 32:n.srPhase=.5*t;break;case 48:n.srPhase=.75*t;break;default:throw new Error("invalid SROUND value")}e&=15,e===0?n.srThreshold=0:n.srThreshold=(e/8-.5)*t}function Lse(n){var e=n.stack.pop();Oe.DEBUG&&console.log(n.step,"S45ROUND[]",e),n.round=SU;var t;switch(e&192){case 0:t=Math.sqrt(2)/2;break;case 64:t=Math.sqrt(2);break;case 128:t=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(n.srPeriod=t,e&48){case 0:n.srPhase=0;break;case 16:n.srPhase=.25*t;break;case 32:n.srPhase=.5*t;break;case 48:n.srPhase=.75*t;break;default:throw new Error("invalid S45ROUND value")}e&=15,e===0?n.srThreshold=0:n.srThreshold=(e/8-.5)*t}function Dse(n){Oe.DEBUG&&console.log(n.step,"ROFF[]"),n.round=mre}function Ose(n){Oe.DEBUG&&console.log(n.step,"RUTG[]"),n.round=yre}function Nse(n){Oe.DEBUG&&console.log(n.step,"RDTG[]"),n.round=xre}function Fse(n){var e=n.stack.pop();Oe.DEBUG&&console.log(n.step,"SCANCTRL[]",e)}function fR(n,e){var t=e.stack,i=t.pop(),r=t.pop(),s=e.z2[i],o=e.z1[r];Oe.DEBUG&&console.log(e.step,"SDPVTL["+n+"]",i,r);var a,l;n?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.dpv=q4(a,l)}function Use(n){var e=n.stack,t=e.pop(),i=0;Oe.DEBUG&&console.log(n.step,"GETINFO[]",t),t&1&&(i=35),t&32&&(i|=4096),e.push(i)}function Gse(n){var e=n.stack,t=e.pop(),i=e.pop(),r=e.pop();Oe.DEBUG&&console.log(n.step,"ROLL[]"),e.push(i),e.push(t),e.push(r)}function zse(n){var e=n.stack,t=e.pop(),i=e.pop();Oe.DEBUG&&console.log(n.step,"MAX[]",t,i),e.push(Math.max(i,t))}function Qse(n){var e=n.stack,t=e.pop(),i=e.pop();Oe.DEBUG&&console.log(n.step,"MIN[]",t,i),e.push(Math.min(i,t))}function Hse(n){var e=n.stack.pop();Oe.DEBUG&&console.log(n.step,"SCANTYPE[]",e)}function Vse(n){var e=n.stack.pop(),t=n.stack.pop();switch(Oe.DEBUG&&console.log(n.step,"INSTCTRL[]",e,t),e){case 1:n.inhibitGridFit=!!t;return;case 2:n.ignoreCvt=!!t;return;default:throw new Error("invalid INSTCTRL[] selector")}}function F1(n,e){var t=e.stack,i=e.prog,r=e.ip;Oe.DEBUG&&console.log(e.step,"PUSHB["+n+"]");for(var s=0;s<n;s++)t.push(i[++r]);e.ip=r}function U1(n,e){var t=e.ip,i=e.prog,r=e.stack;Oe.DEBUG&&console.log(e.ip,"PUSHW["+n+"]");for(var s=0;s<n;s++){var o=i[++t]<<8|i[++t];o&32768&&(o=-((o^65535)+1)),r.push(o)}e.ip=t}function dt(n,e,t,i,r,s){var o=s.stack,a=n&&o.pop(),l=o.pop(),c=s.rp0,u=s.z0[c],h=s.z1[l],f=s.minDis,p=s.fv,m=s.dpv,S,v,A,y;v=S=m.distance(h,u,!0,!0),A=v>=0?1:-1,v=Math.abs(v),n&&(y=s.cvt[a],i&&Math.abs(v-y)<s.cvCutIn&&(v=y)),t&&v<f&&(v=f),i&&(v=s.round(v)),p.setRelative(h,u,A*v,m),p.touch(h),Oe.DEBUG&&console.log(s.step,(n?"MIRP[":"MDRP[")+(e?"M":"m")+(t?">":"_")+(i?"R":"_")+(r===0?"Gr":r===1?"Bl":r===2?"Wh":"")+"]",n?a+"("+s.cvt[a]+","+y+")":"",l,"(d =",S,"->",A*v,")"),s.rp1=s.rp0,s.rp2=l,e&&(s.rp0=l)}AU=[$I.bind(void 0,Jl),$I.bind(void 0,el),ZI.bind(void 0,Jl),ZI.bind(void 0,el),eR.bind(void 0,Jl),eR.bind(void 0,el),tR.bind(void 0,0),tR.bind(void 0,1),nR.bind(void 0,0),nR.bind(void 0,1),Ere,Cre,wre,_re,Mre,Tre,bre,Ire,Rre,Bre,kre,Pre,Lre,Dre,Ore,Nre,Fre,Ure,Gre,zre,void 0,void 0,Qre,JA,Hre,Vre,Wre,qre,Yre,void 0,void 0,void 0,jre,Xre,Kre,void 0,iR.bind(void 0,0),iR.bind(void 0,1),rR.bind(void 0,Jl),rR.bind(void 0,el),sR.bind(void 0,0),sR.bind(void 0,1),oR.bind(void 0,0),oR.bind(void 0,1),aR.bind(void 0,0),aR.bind(void 0,1),Jre,$re,lR.bind(void 0,0),lR.bind(void 0,1),Zre,ese,cR.bind(void 0,0),cR.bind(void 0,1),tse,nse,ise,rse,sse,ose,uR.bind(void 0,0),uR.bind(void 0,1),void 0,hR.bind(void 0,0),hR.bind(void 0,1),ase,void 0,lse,void 0,void 0,cse,use,hse,fse,dse,pse,gse,mse,Ase,vse,yse,xse,Sse,$A.bind(void 0,1),Ese,Cse,wse,_se,Mse,Tse,bse,Ise,Rse,Bse,g6.bind(void 0,0),g6.bind(void 0,1),g6.bind(void 0,2),g6.bind(void 0,3),void 0,void 0,void 0,void 0,kse,$A.bind(void 0,2),$A.bind(void 0,3),ZA.bind(void 0,1),ZA.bind(void 0,2),ZA.bind(void 0,3),Pse,Lse,void 0,void 0,Dse,void 0,Ose,Nse,JA,JA,void 0,void 0,void 0,void 0,void 0,Fse,fR.bind(void 0,0),fR.bind(void 0,1),Use,void 0,Gse,zse,Qse,Hse,Vse,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,F1.bind(void 0,1),F1.bind(void 0,2),F1.bind(void 0,3),F1.bind(void 0,4),F1.bind(void 0,5),F1.bind(void 0,6),F1.bind(void 0,7),F1.bind(void 0,8),U1.bind(void 0,1),U1.bind(void 0,2),U1.bind(void 0,3),U1.bind(void 0,4),U1.bind(void 0,5),U1.bind(void 0,6),U1.bind(void 0,7),U1.bind(void 0,8),dt.bind(void 0,0,0,0,0,0),dt.bind(void 0,0,0,0,0,1),dt.bind(void 0,0,0,0,0,2),dt.bind(void 0,0,0,0,0,3),dt.bind(void 0,0,0,0,1,0),dt.bind(void 0,0,0,0,1,1),dt.bind(void 0,0,0,0,1,2),dt.bind(void 0,0,0,0,1,3),dt.bind(void 0,0,0,1,0,0),dt.bind(void 0,0,0,1,0,1),dt.bind(void 0,0,0,1,0,2),dt.bind(void 0,0,0,1,0,3),dt.bind(void 0,0,0,1,1,0),dt.bind(void 0,0,0,1,1,1),dt.bind(void 0,0,0,1,1,2),dt.bind(void 0,0,0,1,1,3),dt.bind(void 0,0,1,0,0,0),dt.bind(void 0,0,1,0,0,1),dt.bind(void 0,0,1,0,0,2),dt.bind(void 0,0,1,0,0,3),dt.bind(void 0,0,1,0,1,0),dt.bind(void 0,0,1,0,1,1),dt.bind(void 0,0,1,0,1,2),dt.bind(void 0,0,1,0,1,3),dt.bind(void 0,0,1,1,0,0),dt.bind(void 0,0,1,1,0,1),dt.bind(void 0,0,1,1,0,2),dt.bind(void 0,0,1,1,0,3),dt.bind(void 0,0,1,1,1,0),dt.bind(void 0,0,1,1,1,1),dt.bind(void 0,0,1,1,1,2),dt.bind(void 0,0,1,1,1,3),dt.bind(void 0,1,0,0,0,0),dt.bind(void 0,1,0,0,0,1),dt.bind(void 0,1,0,0,0,2),dt.bind(void 0,1,0,0,0,3),dt.bind(void 0,1,0,0,1,0),dt.bind(void 0,1,0,0,1,1),dt.bind(void 0,1,0,0,1,2),dt.bind(void 0,1,0,0,1,3),dt.bind(void 0,1,0,1,0,0),dt.bind(void 0,1,0,1,0,1),dt.bind(void 0,1,0,1,0,2),dt.bind(void 0,1,0,1,0,3),dt.bind(void 0,1,0,1,1,0),dt.bind(void 0,1,0,1,1,1),dt.bind(void 0,1,0,1,1,2),dt.bind(void 0,1,0,1,1,3),dt.bind(void 0,1,1,0,0,0),dt.bind(void 0,1,1,0,0,1),dt.bind(void 0,1,1,0,0,2),dt.bind(void 0,1,1,0,0,3),dt.bind(void 0,1,1,0,1,0),dt.bind(void 0,1,1,0,1,1),dt.bind(void 0,1,1,0,1,2),dt.bind(void 0,1,1,0,1,3),dt.bind(void 0,1,1,1,0,0),dt.bind(void 0,1,1,1,0,1),dt.bind(void 0,1,1,1,0,2),dt.bind(void 0,1,1,1,0,3),dt.bind(void 0,1,1,1,1,0),dt.bind(void 0,1,1,1,1,1),dt.bind(void 0,1,1,1,1,2),dt.bind(void 0,1,1,1,1,3)];function r0(n){this.char=n,this.state={},this.activeState=null}function tw(n,e,t){this.contextName=t,this.startIndex=n,this.endOffset=e}function Wse(n,e,t){this.contextName=n,this.openRange=null,this.ranges=[],this.checkStart=e,this.checkEnd=t}function Sa(n,e){this.context=n,this.index=e,this.length=n.length,this.current=n[e],this.backtrack=n.slice(0,e),this.lookahead=n.slice(e+1)}function $7(n){this.eventId=n,this.subscribers=[]}function jse(n){var e=this,t=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];t.forEach(function(r){Object.defineProperty(e.events,r,{value:new $7(r)})}),n&&t.forEach(function(r){var s=n[r];typeof s=="function"&&e.events[r].subscribe(s)});var i=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];i.forEach(function(r){e.events[r].subscribe(e.updateContextsRanges)})}function Ai(n){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],jse.call(this,n)}r0.prototype.setState=function(n,e){return this.state[n]=e,this.activeState={key:n,value:this.state[n]},this.activeState};r0.prototype.getState=function(n){return this.state[n]||null};Ai.prototype.inboundIndex=function(n){return n>=0&&n<this.tokens.length};Ai.prototype.composeRUD=function(n){var e=this,t=!0,i=n.map(function(s){return e[s[0]].apply(e,s.slice(1).concat(t))}),r=function(s){return typeof s=="object"&&s.hasOwnProperty("FAIL")};if(i.every(r))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:i.filter(r)};this.dispatch("composeRUD",[i.filter(function(s){return!r(s)})])};Ai.prototype.replaceRange=function(n,e,t,i){e=e!==null?e:this.tokens.length;var r=t.every(function(o){return o instanceof r0});if(!isNaN(n)&&this.inboundIndex(n)&&r){var s=this.tokens.splice.apply(this.tokens,[n,e].concat(t));return i||this.dispatch("replaceToken",[n,e,t]),[s,t]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};Ai.prototype.replaceToken=function(n,e,t){if(!isNaN(n)&&this.inboundIndex(n)&&e instanceof r0){var i=this.tokens.splice(n,1,e);return t||this.dispatch("replaceToken",[n,e]),[i[0],e]}else return{FAIL:"replaceToken: invalid token or index."}};Ai.prototype.removeRange=function(n,e,t){e=isNaN(e)?this.tokens.length:e;var i=this.tokens.splice(n,e);return t||this.dispatch("removeRange",[i,n,e]),i};Ai.prototype.removeToken=function(n,e){if(!isNaN(n)&&this.inboundIndex(n)){var t=this.tokens.splice(n,1);return e||this.dispatch("removeToken",[t,n]),t}else return{FAIL:"removeToken: invalid token index."}};Ai.prototype.insertToken=function(n,e,t){var i=n.every(function(r){return r instanceof r0});return i?(this.tokens.splice.apply(this.tokens,[e,0].concat(n)),t||this.dispatch("insertToken",[n,e]),n):{FAIL:"insertToken: invalid token(s)."}};Ai.prototype.registerModifier=function(n,e,t){this.events.newToken.subscribe(function(i,r){var s=[i,r],o=e===null||e.apply(this,s)===!0,a=[i,r];if(o){var l=t.apply(this,a);i.setState(n,l)}}),this.registeredModifiers.push(n)};$7.prototype.subscribe=function(n){return typeof n=="function"?this.subscribers.push(n)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}};$7.prototype.unsubscribe=function(n){this.subscribers.splice(n,1)};Sa.prototype.setCurrentIndex=function(n){this.index=n,this.current=this.context[n],this.backtrack=this.context.slice(0,n),this.lookahead=this.context.slice(n+1)};Sa.prototype.get=function(n){switch(!0){case n===0:return this.current;case(n<0&&Math.abs(n)<=this.backtrack.length):return this.backtrack.slice(n)[0];case(n>0&&n<=this.lookahead.length):return this.lookahead[n-1];default:return null}};Ai.prototype.rangeToText=function(n){if(n instanceof tw)return this.getRangeTokens(n).map(function(e){return e.char}).join("")};Ai.prototype.getText=function(){return this.tokens.map(function(n){return n.char}).join("")};Ai.prototype.getContext=function(n){var e=this.registeredContexts[n];return e||null};Ai.prototype.on=function(n,e){var t=this.events[n];return t?t.subscribe(e):null};Ai.prototype.dispatch=function(n,e){var t=this,i=this.events[n];i instanceof $7&&i.subscribers.forEach(function(r){r.apply(t,e||[])})};Ai.prototype.registerContextChecker=function(n,e,t){if(this.getContext(n))return{FAIL:"context name '"+n+"' is already registered."};if(typeof e!="function")return{FAIL:"missing context start check."};if(typeof t!="function")return{FAIL:"missing context end check."};var i=new Wse(n,e,t);return this.registeredContexts[n]=i,this.contextCheckers.push(i),i};Ai.prototype.getRangeTokens=function(n){var e=n.startIndex+n.endOffset;return[].concat(this.tokens.slice(n.startIndex,e))};Ai.prototype.getContextRanges=function(n){var e=this.getContext(n);return e?e.ranges:{FAIL:"context checker '"+n+"' is not registered."}};Ai.prototype.resetContextsRanges=function(){var n=this.registeredContexts;for(var e in n)if(n.hasOwnProperty(e)){var t=n[e];t.ranges=[]}};Ai.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var n=this.tokens.map(function(i){return i.char}),e=0;e<n.length;e++){var t=new Sa(n,e);this.runContextCheck(t)}this.dispatch("updateContextsRanges",[this.registeredContexts])};Ai.prototype.setEndOffset=function(n,e){var t=this.getContext(e).openRange.startIndex,i=new tw(t,n,e),r=this.getContext(e).ranges;return i.rangeId=e+"."+r.length,r.push(i),this.getContext(e).openRange=null,i};Ai.prototype.runContextCheck=function(n){var e=this,t=n.index;this.contextCheckers.forEach(function(i){var r=i.contextName,s=e.getContext(r).openRange;if(!s&&i.checkStart(n)&&(s=new tw(t,null,r),e.getContext(r).openRange=s,e.dispatch("contextStart",[r,t])),s&&i.checkEnd(n)){var o=t-s.startIndex+1,a=e.setEndOffset(o,r);e.dispatch("contextEnd",[r,a])}})};Ai.prototype.tokenize=function(n){this.tokens=[],this.resetContextsRanges();var e=Array.from(n);this.dispatch("start");for(var t=0;t<e.length;t++){var i=e[t],r=new Sa(e,t);this.dispatch("next",[r]),this.runContextCheck(r);var s=new r0(i);this.tokens.push(s),this.dispatch("newToken",[s,r])}return this.dispatch("end",[this.tokens]),this.tokens};function gc(n){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(n)}function CU(n){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(n)}function wc(n){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(n)}function m8(n){return/[A-z]/.test(n)}function Xse(n){return/\s/.test(n)}function mo(n){this.font=n,this.features={}}function Iu(n){this.id=n.id,this.tag=n.tag,this.substitution=n.substitution}function Y4(n,e){if(!n)return-1;switch(e.format){case 1:return e.glyphs.indexOf(n);case 2:for(var t=e.ranges,i=0;i<t.length;i++){var r=t[i];if(n>=r.start&&n<=r.end){var s=n-r.start;return r.index+s}}break;default:return-1}return-1}function qse(n,e){var t=Y4(n,e.coverage);return t===-1?null:n+e.deltaGlyphId}function Yse(n,e){var t=Y4(n,e.coverage);return t===-1?null:e.substitute[t]}function ev(n,e){for(var t=[],i=0;i<n.length;i++){var r=n[i],s=e.current;s=Array.isArray(s)?s[0]:s;var o=Y4(s,r);o!==-1&&t.push(o)}return t.length!==n.length?-1:t}function Kse(n,e){var t=e.inputCoverage.length+e.lookaheadCoverage.length+e.backtrackCoverage.length;if(n.context.length<t)return[];var i=ev(e.inputCoverage,n);if(i===-1)return[];var r=e.inputCoverage.length-1;if(n.lookahead.length<e.lookaheadCoverage.length)return[];for(var s=n.lookahead.slice(r);s.length&&wc(s[0].char);)s.shift();var o=new Sa(s,0),a=ev(e.lookaheadCoverage,o),l=[].concat(n.backtrack);for(l.reverse();l.length&&wc(l[0].char);)l.shift();if(l.length<e.backtrackCoverage.length)return[];var c=new Sa(l,0),u=ev(e.backtrackCoverage,c),h=i.length===e.inputCoverage.length&&a.length===e.lookaheadCoverage.length&&u.length===e.backtrackCoverage.length,f=[];if(h)for(var p=0;p<e.lookupRecords.length;p++)for(var m=e.lookupRecords[p],S=m.lookupListIndex,v=this.getLookupByIndex(S),A=0;A<v.subtables.length;A++){var y=v.subtables[A],x=this.getLookupMethod(v,y),C=this.getSubstitutionType(v,y);if(C==="12")for(var w=0;w<i.length;w++){var M=n.get(w),T=x(M);T&&f.push(T)}}return f}function Jse(n,e){var t=n.current,i=Y4(t,e.coverage);if(i===-1)return null;for(var r,s=e.ligatureSets[i],o=0;o<s.length;o++){r=s[o];for(var a=0;a<r.components.length;a++){var l=n.lookahead[a],c=r.components[a];if(l!==c)break;if(a===r.components.length-1)return r}}return null}function $se(n,e){var t=Y4(n,e.coverage);return t===-1?null:e.sequences[t]}mo.prototype.getDefaultScriptFeaturesIndexes=function(){for(var n=this.font.tables.gsub.scripts,e=0;e<n.length;e++){var t=n[e];if(t.tag==="DFLT")return t.script.defaultLangSys.featureIndexes}return[]};mo.prototype.getScriptFeaturesIndexes=function(n){var e=this.font.tables;if(!e.gsub)return[];if(!n)return this.getDefaultScriptFeaturesIndexes();for(var t=this.font.tables.gsub.scripts,i=0;i<t.length;i++){var r=t[i];if(r.tag===n&&r.script.defaultLangSys)return r.script.defaultLangSys.featureIndexes;var s=r.langSysRecords;if(s)for(var o=0;o<s.length;o++){var a=s[o];if(a.tag===n){var l=a.langSys;return l.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()};mo.prototype.mapTagsToFeatures=function(n,e){for(var t={},i=0;i<n.length;i++){var r=n[i].tag,s=n[i].feature;t[r]=s}this.features[e].tags=t};mo.prototype.getScriptFeatures=function(n){var e=this.features[n];if(this.features.hasOwnProperty(n))return e;var t=this.getScriptFeaturesIndexes(n);if(!t)return null;var i=this.font.tables.gsub;return e=t.map(function(r){return i.features[r]}),this.features[n]=e,this.mapTagsToFeatures(e,n),e};mo.prototype.getSubstitutionType=function(n,e){var t=n.lookupType.toString(),i=e.substFormat.toString();return t+i};mo.prototype.getLookupMethod=function(n,e){var t=this,i=this.getSubstitutionType(n,e);switch(i){case"11":return function(r){return qse.apply(t,[r,e])};case"12":return function(r){return Yse.apply(t,[r,e])};case"63":return function(r){return Kse.apply(t,[r,e])};case"41":return function(r){return Jse.apply(t,[r,e])};case"21":return function(r){return $se.apply(t,[r,e])};default:throw new Error("lookupType: "+n.lookupType+" - substFormat: "+e.substFormat+" is not yet supported")}};mo.prototype.lookupFeature=function(n){var e=n.contextParams,t=e.index,i=this.getFeature({tag:n.tag,script:n.script});if(!i)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+n.tag+"' for script '"+n.script+"'.");for(var r=this.getFeatureLookups(i),s=[].concat(e.context),o=0;o<r.length;o++)for(var a=r[o],l=this.getLookupSubtables(a),c=0;c<l.length;c++){var u=l[c],h=this.getSubstitutionType(a,u),f=this.getLookupMethod(a,u),p=void 0;switch(h){case"11":p=f(e.current),p&&s.splice(t,1,new Iu({id:11,tag:n.tag,substitution:p}));break;case"12":p=f(e.current),p&&s.splice(t,1,new Iu({id:12,tag:n.tag,substitution:p}));break;case"63":p=f(e),Array.isArray(p)&&p.length&&s.splice(t,1,new Iu({id:63,tag:n.tag,substitution:p}));break;case"41":p=f(e),p&&s.splice(t,1,new Iu({id:41,tag:n.tag,substitution:p}));break;case"21":p=f(e.current),p&&s.splice(t,1,new Iu({id:21,tag:n.tag,substitution:p}));break}e=new Sa(s,t),!(Array.isArray(p)&&!p.length)&&(p=null)}return s.length?s:null};mo.prototype.supports=function(n){if(!n.script)return!1;this.getScriptFeatures(n.script);var e=this.features.hasOwnProperty(n.script);if(!n.tag)return e;var t=this.features[n.script].some(function(i){return i.tag===n.tag});return e&&t};mo.prototype.getLookupSubtables=function(n){return n.subtables||null};mo.prototype.getLookupByIndex=function(n){var e=this.font.tables.gsub.lookups;return e[n]||null};mo.prototype.getFeatureLookups=function(n){return n.lookupListIndexes.map(this.getLookupByIndex.bind(this))};mo.prototype.getFeature=function(e){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(e.script)||this.getScriptFeatures(e.script);var t=this.features[e.script];return t?t.tags[e.tag]?this.features[e.script].tags[e.tag]:null:{FAIL:"No feature for script "+e.script}};function Zse(n){var e=n.current,t=n.get(-1);return t===null&&gc(e)||!gc(t)&&gc(e)}function eoe(n){var e=n.get(1);return e===null||!gc(e)}var toe={startCheck:Zse,endCheck:eoe};function noe(n){var e=n.current,t=n.get(-1);return(gc(e)||wc(e))&&!gc(t)}function ioe(n){var e=n.get(1);switch(!0){case e===null:return!0;case(!gc(e)&&!wc(e)):var t=Xse(e);if(!t)return!0;if(t){var i=!1;if(i=n.lookahead.some(function(r){return gc(r)||wc(r)}),!i)return!0}break;default:return!1}}var roe={startCheck:noe,endCheck:ioe};function soe(n,e,t){e[t].setState(n.tag,n.substitution)}function ooe(n,e,t){e[t].setState(n.tag,n.substitution)}function aoe(n,e,t){n.substitution.forEach(function(i,r){var s=e[t+r];s.setState(n.tag,i)})}function loe(n,e,t){var i=e[t];i.setState(n.tag,n.substitution.ligGlyph);for(var r=n.substitution.components.length,s=0;s<r;s++)i=e[t+s+1],i.setState("deleted",!0)}var dR={11:soe,12:ooe,63:aoe,41:loe};function nw(n,e,t){n instanceof Iu&&dR[n.id]&&dR[n.id](n,e,t)}function coe(n){for(var e=[].concat(n.backtrack),t=e.length-1;t>=0;t--){var i=e[t],r=CU(i),s=wc(i);if(!r&&!s)return!0;if(r)return!1}return!1}function uoe(n){if(CU(n.current))return!1;for(var e=0;e<n.lookahead.length;e++){var t=n.lookahead[e],i=wc(t);if(!i)return!0}return!1}function hoe(n){var e=this,t="arab",i=this.featuresTags[t],r=this.tokenizer.getRangeTokens(n);if(r.length!==1){var s=new Sa(r.map(function(a){return a.getState("glyphIndex")}),0),o=new Sa(r.map(function(a){return a.char}),0);r.forEach(function(a,l){if(!wc(a.char)){s.setCurrentIndex(l),o.setCurrentIndex(l);var c=0;coe(o)&&(c|=1),uoe(o)&&(c|=2);var u;switch(c){case 1:u="fina";break;case 2:u="init";break;case 3:u="medi";break}if(i.indexOf(u)!==-1){var h=e.query.lookupFeature({tag:u,script:t,contextParams:s});if(h instanceof Error)return console.info(h.message);h.forEach(function(f,p){f instanceof Iu&&(nw(f,r,p),s.context[p]=f.substitution)})}}})}}function pR(n,e){var t=n.map(function(i){return i.activeState.value});return new Sa(t,e||0)}function foe(n){var e=this,t="arab",i=this.tokenizer.getRangeTokens(n),r=pR(i);r.context.forEach(function(s,o){r.setCurrentIndex(o);var a=e.query.lookupFeature({tag:"rlig",script:t,contextParams:r});a.length&&(a.forEach(function(l){return nw(l,i,o)}),r=pR(i))})}function doe(n){var e=n.current,t=n.get(-1);return t===null&&m8(e)||!m8(t)&&m8(e)}function poe(n){var e=n.get(1);return e===null||!m8(e)}var goe={startCheck:doe,endCheck:poe};function gR(n,e){var t=n.map(function(i){return i.activeState.value});return new Sa(t,e||0)}function moe(n){var e=this,t="latn",i=this.tokenizer.getRangeTokens(n),r=gR(i);r.context.forEach(function(s,o){r.setCurrentIndex(o);var a=e.query.lookupFeature({tag:"liga",script:t,contextParams:r});a.length&&(a.forEach(function(l){return nw(l,i,o)}),r=gR(i))})}function ba(n){this.baseDir=n||"ltr",this.tokenizer=new Ai,this.featuresTags={}}ba.prototype.setText=function(n){this.text=n};ba.prototype.contextChecks={latinWordCheck:goe,arabicWordCheck:toe,arabicSentenceCheck:roe};function tv(n){var e=this.contextChecks[n+"Check"];return this.tokenizer.registerContextChecker(n,e.startCheck,e.endCheck)}function Aoe(){return tv.call(this,"latinWord"),tv.call(this,"arabicWord"),tv.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function voe(){var n=this,e=this.tokenizer.getContextRanges("arabicSentence");e.forEach(function(t){var i=n.tokenizer.getRangeTokens(t);n.tokenizer.replaceRange(t.startIndex,t.endOffset,i.reverse())})}ba.prototype.registerFeatures=function(n,e){var t=this,i=e.filter(function(r){return t.query.supports({script:n,tag:r})});this.featuresTags.hasOwnProperty(n)?this.featuresTags[n]=this.featuresTags[n].concat(i):this.featuresTags[n]=i};ba.prototype.applyFeatures=function(n,e){if(!n)throw new Error("No valid font was provided to apply features");this.query||(this.query=new mo(n));for(var t=0;t<e.length;t++){var i=e[t];this.query.supports({script:i.script})&&this.registerFeatures(i.script,i.tags)}};ba.prototype.registerModifier=function(n,e,t){this.tokenizer.registerModifier(n,e,t)};function iw(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function yoe(){var n=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){iw.call(this);var t=this.tokenizer.getContextRanges("arabicWord");t.forEach(function(i){hoe.call(n,i)})}}function xoe(){var n=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){var t=this.featuresTags[e];if(t.indexOf("rlig")!==-1){iw.call(this);var i=this.tokenizer.getContextRanges("arabicWord");i.forEach(function(r){foe.call(n,r)})}}}function Soe(){var n=this,e="latn";if(this.featuresTags.hasOwnProperty(e)){var t=this.featuresTags[e];if(t.indexOf("liga")!==-1){iw.call(this);var i=this.tokenizer.getContextRanges("latinWord");i.forEach(function(r){moe.call(n,r)})}}}ba.prototype.checkContextReady=function(n){return!!this.tokenizer.getContext(n)};ba.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(yoe.call(this),xoe.call(this)),this.checkContextReady("latinWord")&&Soe.call(this),this.checkContextReady("arabicSentence")&&voe.call(this)};ba.prototype.processText=function(n){(!this.text||this.text!==n)&&(this.setText(n),Aoe.call(this),this.applyFeaturesToContexts())};ba.prototype.getBidiText=function(n){return this.processText(n),this.tokenizer.getText()};ba.prototype.getTextGlyphs=function(n){this.processText(n);for(var e=[],t=0;t<this.tokenizer.tokens.length;t++){var i=this.tokenizer.tokens[t];if(!i.state.deleted){var r=i.activeState.value;e.push(Array.isArray(r)?r[0]:r)}}return e};function Nn(n){n=n||{},n.tables=n.tables||{},n.empty||(rf(n.familyName,"When creating a new Font object, familyName is required."),rf(n.styleName,"When creating a new Font object, styleName is required."),rf(n.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),rf(n.ascender,"When creating a new Font object, ascender is required."),rf(n.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:n.familyName||" "},fontSubfamily:{en:n.styleName||" "},fullName:{en:n.fullName||n.familyName+" "+n.styleName},postScriptName:{en:n.postScriptName||(n.familyName+n.styleName).replace(/\s/g,"")},designer:{en:n.designer||" "},designerURL:{en:n.designerURL||" "},manufacturer:{en:n.manufacturer||" "},manufacturerURL:{en:n.manufacturerURL||" "},license:{en:n.license||" "},licenseURL:{en:n.licenseURL||" "},version:{en:n.version||"Version 0.1"},description:{en:n.description||" "},copyright:{en:n.copyright||" "},trademark:{en:n.trademark||" "}},this.unitsPerEm=n.unitsPerEm||1e3,this.ascender=n.ascender,this.descender=n.descender,this.createdTimestamp=n.createdTimestamp,this.tables=Object.assign(n.tables,{os2:Object.assign({usWeightClass:n.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:n.widthClass||this.usWidthClasses.MEDIUM,fsSelection:n.fsSelection||this.fsSelectionValues.REGULAR},n.tables.os2)})),this.supported=!0,this.glyphs=new al.GlyphSet(this,n.glyphs||[]),this.encoding=new eU(this),this.position=new j4(this),this.substitution=new go(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new yU(this)}})}Nn.prototype.hasChar=function(n){return this.encoding.charToGlyphIndex(n)!==null};Nn.prototype.charToGlyphIndex=function(n){return this.encoding.charToGlyphIndex(n)};Nn.prototype.charToGlyph=function(n){var e=this.charToGlyphIndex(n),t=this.glyphs.get(e);return t||(t=this.glyphs.get(0)),t};Nn.prototype.updateFeatures=function(n){return this.defaultRenderOptions.features.map(function(e){return e.script==="latn"?{script:"latn",tags:e.tags.filter(function(t){return n[t]})}:e})};Nn.prototype.stringToGlyphs=function(n,e){var t=this,i=new ba,r=function(h){return t.charToGlyphIndex(h.char)};i.registerModifier("glyphIndex",null,r);var s=e?this.updateFeatures(e.features):this.defaultRenderOptions.features;i.applyFeatures(this,s);for(var o=i.getTextGlyphs(n),a=o.length,l=new Array(a),c=this.glyphs.get(0),u=0;u<a;u+=1)l[u]=this.glyphs.get(o[u])||c;return l};Nn.prototype.nameToGlyphIndex=function(n){return this.glyphNames.nameToGlyphIndex(n)};Nn.prototype.nameToGlyph=function(n){var e=this.nameToGlyphIndex(n),t=this.glyphs.get(e);return t||(t=this.glyphs.get(0)),t};Nn.prototype.glyphIndexToName=function(n){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(n):""};Nn.prototype.getKerningValue=function(n,e){n=n.index||n,e=e.index||e;var t=this.position.defaultKerningTables;return t?this.position.getKerningValue(t,n,e):this.kerningPairs[n+","+e]||0};Nn.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};Nn.prototype.forEachGlyph=function(n,e,t,i,r,s){e=e!==void 0?e:0,t=t!==void 0?t:0,i=i!==void 0?i:72,r=Object.assign({},this.defaultRenderOptions,r);var o=1/this.unitsPerEm*i,a=this.stringToGlyphs(n,r),l;if(r.kerning){var c=r.script||this.position.getDefaultScriptName();l=this.position.getKerningTables(c,r.language)}for(var u=0;u<a.length;u+=1){var h=a[u];if(s.call(this,h,e,t,i,r),h.advanceWidth&&(e+=h.advanceWidth*o),r.kerning&&u<a.length-1){var f=l?this.position.getKerningValue(l,h.index,a[u+1].index):this.getKerningValue(h,a[u+1]);e+=f*o}r.letterSpacing?e+=r.letterSpacing*i:r.tracking&&(e+=r.tracking/1e3*i)}return e};Nn.prototype.getPath=function(n,e,t,i,r){var s=new Xi;return this.forEachGlyph(n,e,t,i,r,function(o,a,l,c){var u=o.getPath(a,l,c,r,this);s.extend(u)}),s};Nn.prototype.getPaths=function(n,e,t,i,r){var s=[];return this.forEachGlyph(n,e,t,i,r,function(o,a,l,c){var u=o.getPath(a,l,c,r,this);s.push(u)}),s};Nn.prototype.getAdvanceWidth=function(n,e,t){return this.forEachGlyph(n,0,0,e,t,function(){})};Nn.prototype.draw=function(n,e,t,i,r,s){this.getPath(e,t,i,r,s).draw(n)};Nn.prototype.drawPoints=function(n,e,t,i,r,s){this.forEachGlyph(e,t,i,r,s,function(o,a,l,c){o.drawPoints(n,a,l,c)})};Nn.prototype.drawMetrics=function(n,e,t,i,r,s){this.forEachGlyph(e,t,i,r,s,function(o,a,l,c){o.drawMetrics(n,a,l,c)})};Nn.prototype.getEnglishName=function(n){var e=this.names[n];if(e)return e.en};Nn.prototype.validate=function(){var n=this;function e(i,r){}function t(i){var r=n.getEnglishName(i);r&&r.trim().length>0}t("fontFamily"),t("weightName"),t("manufacturer"),t("copyright"),t("version"),this.unitsPerEm>0};Nn.prototype.toTables=function(){return are.fontToTable(this)};Nn.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};Nn.prototype.toArrayBuffer=function(){for(var n=this.toTables(),e=n.encode(),t=new ArrayBuffer(e.length),i=new Uint8Array(t),r=0;r<e.length;r++)i[r]=e[r];return t};Nn.prototype.download=function(n){var e=this.getEnglishName("fontFamily"),t=this.getEnglishName("fontSubfamily");n=n||e.replace(/\s/g,"")+"-"+t+".otf";var i=this.toArrayBuffer();if(cre())if(window.URL=window.URL||window.webkitURL,window.URL){var r=new DataView(i),s=new Blob([r],{type:"font/opentype"}),o=document.createElement("a");o.href=window.URL.createObjectURL(s),o.download=n;var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!1),o.dispatchEvent(a)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var l=require("fs"),c=ure(i);l.writeFileSync(n,c)}};Nn.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};Nn.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};Nn.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var A1=new Array(10);A1[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(t===1)return{posFormat:1,coverage:this.parsePointer(be.coverage),value:this.parseValueRecord()};if(t===2)return{posFormat:2,coverage:this.parsePointer(be.coverage),values:this.parseValueRecordList()};Ot.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};A1[2]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();Ot.assert(t===1||t===2,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var i=this.parsePointer(be.coverage),r=this.parseUShort(),s=this.parseUShort();if(t===1)return{posFormat:t,coverage:i,valueFormat1:r,valueFormat2:s,pairSets:this.parseList(be.pointer(be.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(r),value2:this.parseValueRecord(s)}})))};if(t===2){var o=this.parsePointer(be.classDef),a=this.parsePointer(be.classDef),l=this.parseUShort(),c=this.parseUShort();return{posFormat:t,coverage:i,valueFormat1:r,valueFormat2:s,classDef1:o,classDef2:a,class1Count:l,class2Count:c,classRecords:this.parseList(l,be.list(c,function(){return{value1:this.parseValueRecord(r),value2:this.parseValueRecord(s)}}))}}};A1[3]=function(){return{error:"GPOS Lookup 3 not supported"}};A1[4]=function(){return{error:"GPOS Lookup 4 not supported"}};A1[5]=function(){return{error:"GPOS Lookup 5 not supported"}};A1[6]=function(){return{error:"GPOS Lookup 6 not supported"}};A1[7]=function(){return{error:"GPOS Lookup 7 not supported"}};A1[8]=function(){return{error:"GPOS Lookup 8 not supported"}};A1[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var Eoe=Object.defineProperty,Coe=(n,e,t)=>e in n?Eoe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ve=(n,e,t)=>(Coe(n,typeof e!="symbol"?e+"":e,t),t);new Je;const wU=class{parse(n,e={decodeSpeed:5,encodeSpeed:5,encoderMethod:wU.MESH_EDGEBREAKER_ENCODING,quantization:[16,8,8,8,8],exportUvs:!0,exportNormals:!0,exportColor:!1}){if(n instanceof Lt&&n.isBufferGeometry)throw new Error("DRACOExporter: The first parameter of parse() is now an instance of Mesh or Points.");if(DracoEncoderModule===void 0)throw new Error("THREE.DRACOExporter: required the draco_encoder to work.");const t=n.geometry,i=DracoEncoderModule(),r=new i.Encoder;let s,o;if(!t.isBufferGeometry)throw new Error("THREE.DRACOExporter.parse(geometry, options): geometry is not a THREE.BufferGeometry instance.");if(n instanceof mn&&n.isMesh){s=new i.MeshBuilder,o=new i.Mesh;const f=t.getAttribute("position");s.AddFloatAttributeToMesh(o,i.POSITION,f.count,f.itemSize,f.array);const p=t.getIndex();if(p!==null)s.AddFacesToMesh(o,p.count/3,p.array);else{const m=new(f.count>65535?Uint32Array:Uint16Array)(f.count);for(let S=0;S<m.length;S++)m[S]=S;s.AddFacesToMesh(o,f.count,m)}if(e.exportNormals){const m=t.getAttribute("normal");m!==void 0&&s.AddFloatAttributeToMesh(o,i.NORMAL,m.count,m.itemSize,m.array)}if(e.exportUvs){const m=t.getAttribute("uv");m!==void 0&&s.AddFloatAttributeToMesh(o,i.TEX_COORD,m.count,m.itemSize,m.array)}if(e.exportColor){const m=t.getAttribute("color");m!==void 0&&s.AddFloatAttributeToMesh(o,i.COLOR,m.count,m.itemSize,m.array)}}else if(n instanceof V7&&n.isPoints){s=new i.PointCloudBuilder,o=new i.PointCloud;const f=t.getAttribute("position");if(s.AddFloatAttribute(o,i.POSITION,f.count,f.itemSize,f.array),e.exportColor){const p=t.getAttribute("color");p!==void 0&&s.AddFloatAttribute(o,i.COLOR,p.count,p.itemSize,p.array)}}else throw new Error("DRACOExporter: Unsupported object type.");const a=new i.DracoInt8Array,l=e.encodeSpeed!==void 0?e.encodeSpeed:5,c=e.decodeSpeed!==void 0?e.decodeSpeed:5;if(r.SetSpeedOptions(l,c),e.encoderMethod!==void 0&&r.SetEncodingMethod(e.encoderMethod),e.quantization!==void 0)for(let f=0;f<5;f++)e.quantization[f]!==void 0&&r.SetAttributeQuantization(f,e.quantization[f]);let u;if(n instanceof mn&&n.isMesh?u=r.EncodeMeshToDracoBuffer(o,a):u=r.EncodePointCloudToDracoBuffer(o,!0,a),i.destroy(o),u===0)throw new Error("THREE.DRACOExporter: Draco encoding failed.");const h=new Int8Array(new ArrayBuffer(u));for(let f=0;f<u;f++)h[f]=a.GetValue(f);return i.destroy(a),i.destroy(r),i.destroy(s),h}};let ml=wU;Ve(ml,"MESH_EDGEBREAKER_ENCODING",1);Ve(ml,"MESH_SEQUENTIAL_ENCODING",0);Ve(ml,"POINT_CLOUD",0);Ve(ml,"TRIANGULAR_MESH",1);Ve(ml,"INVALID",-1);Ve(ml,"POSITION",0);Ve(ml,"NORMAL",1);Ve(ml,"COLOR",2);Ve(ml,"TEX_COORD",3);Ve(ml,"GENERIC",4);const _U=class extends mn{constructor(n,e={}){super(n),this.isReflector=!0,this.type="Reflector",this.camera=new Xn;const t=this,i=e.color!==void 0?new Je(e.color):new Je(8355711),r=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.shader||_U.ReflectorShader,l=e.multisample!==void 0?e.multisample:4,c=new Lo,u=new Q,h=new Q,f=new Q,p=new At,m=new Q(0,0,-1),S=new en,v=new Q,A=new Q,y=new en,x=new At,C=this.camera,w=new In(r,s,{samples:l,type:_i}),M=new un({uniforms:qn.clone(a.uniforms),fragmentShader:a.fragmentShader,vertexShader:a.vertexShader});M.uniforms.tDiffuse.value=w.texture,M.uniforms.color.value=i,M.uniforms.textureMatrix.value=x,this.material=M,this.onBeforeRender=function(T,R,b){if(h.setFromMatrixPosition(t.matrixWorld),f.setFromMatrixPosition(b.matrixWorld),p.extractRotation(t.matrixWorld),u.set(0,0,1),u.applyMatrix4(p),v.subVectors(h,f),v.dot(u)>0)return;v.reflect(u).negate(),v.add(h),p.extractRotation(b.matrixWorld),m.set(0,0,-1),m.applyMatrix4(p),m.add(f),A.subVectors(h,m),A.reflect(u).negate(),A.add(h),C.position.copy(v),C.up.set(0,1,0),C.up.applyMatrix4(p),C.up.reflect(u),C.lookAt(A),C.far=b.far,C.updateMatrixWorld(),C.projectionMatrix.copy(b.projectionMatrix),x.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),x.multiply(C.projectionMatrix),x.multiply(C.matrixWorldInverse),x.multiply(t.matrixWorld),c.setFromNormalAndCoplanarPoint(u,h),c.applyMatrix4(C.matrixWorldInverse),S.set(c.normal.x,c.normal.y,c.normal.z,c.constant);const B=C.projectionMatrix;y.x=(Math.sign(S.x)+B.elements[8])/B.elements[0],y.y=(Math.sign(S.y)+B.elements[9])/B.elements[5],y.z=-1,y.w=(1+B.elements[10])/B.elements[14],S.multiplyScalar(2/S.dot(y)),B.elements[2]=S.x,B.elements[6]=S.y,B.elements[10]=S.z+1-o,B.elements[14]=S.w,t.visible=!1;const P=T.getRenderTarget(),O=T.xr.enabled,G=T.shadowMap.autoUpdate,H=T.toneMapping;let j=!1;"outputColorSpace"in T?j=T.outputColorSpace==="srgb":j=T.outputEncoding===3001,T.xr.enabled=!1,T.shadowMap.autoUpdate=!1,"outputColorSpace"in T?T.outputColorSpace="linear-srgb":T.outputEncoding=3e3,T.toneMapping=ro,T.setRenderTarget(w),T.state.buffers.depth.setMask(!0),T.autoClear===!1&&T.clear(),T.render(R,C),T.xr.enabled=O,T.shadowMap.autoUpdate=G,T.toneMapping=H,"outputColorSpace"in T?T.outputColorSpace=j?"srgb":"srgb-linear":T.outputEncoding=j?3001:3e3,T.setRenderTarget(P);const q=b.viewport;q!==void 0&&T.state.viewport(q),t.visible=!0},this.getRenderTarget=function(){return w},this.dispose=function(){w.dispose(),t.material.dispose()}}};let Ox=_U;Ve(Ox,"ReflectorShader",{uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:`
		uniform mat4 textureMatrix;
		varying vec4 vUv;

		#include <common>
		#include <logdepthbuf_pars_vertex>

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

			#include <logdepthbuf_vertex>

		}`,fragmentShader:`
		uniform vec3 color;
		uniform sampler2D tDiffuse;
		varying vec4 vUv;

		#include <logdepthbuf_pars_fragment>

		float blendOverlay( float base, float blend ) {

			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );

		}

		vec3 blendOverlay( vec3 base, vec3 blend ) {

			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );

		}

		void main() {

			#include <logdepthbuf_fragment>

			vec4 base = texture2DProj( tDiffuse, vUv );
			gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );

			#include <tonemapping_fragment>
			#include <${parseInt(Nc.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>

		}`});const MU=class extends mn{constructor(n,e={}){super(n),this.isRefractor=!0,this.type="Refractor",this.camera=new Xn;const t=this,i=e.color!==void 0?new Je(e.color):new Je(8355711),r=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.shader||MU.RefractorShader,l=e.multisample!==void 0?e.multisample:4,c=this.camera;c.matrixAutoUpdate=!1,c.userData.refractor=!0;const u=new Lo,h=new At,f=new In(r,s,{samples:l,type:_i});this.material=new un({uniforms:qn.clone(a.uniforms),vertexShader:a.vertexShader,fragmentShader:a.fragmentShader,transparent:!0}),this.material.uniforms.color.value=i,this.material.uniforms.tDiffuse.value=f.texture,this.material.uniforms.textureMatrix.value=h;const p=function(){const y=new Q,x=new Q,C=new At,w=new Q,M=new Q;return function(R){return y.setFromMatrixPosition(t.matrixWorld),x.setFromMatrixPosition(R.matrixWorld),w.subVectors(y,x),C.extractRotation(t.matrixWorld),M.set(0,0,1),M.applyMatrix4(C),w.dot(M)<0}}(),m=function(){const y=new Q,x=new Q,C=new Ar,w=new Q;return function(){t.matrixWorld.decompose(x,C,w),y.set(0,0,1).applyQuaternion(C).normalize(),y.negate(),u.setFromNormalAndCoplanarPoint(y,x)}}(),S=function(){const y=new Lo,x=new en,C=new en;return function(M){c.matrixWorld.copy(M.matrixWorld),c.matrixWorldInverse.copy(c.matrixWorld).invert(),c.projectionMatrix.copy(M.projectionMatrix),c.far=M.far,y.copy(u),y.applyMatrix4(c.matrixWorldInverse),x.set(y.normal.x,y.normal.y,y.normal.z,y.constant);const T=c.projectionMatrix;C.x=(Math.sign(x.x)+T.elements[8])/T.elements[0],C.y=(Math.sign(x.y)+T.elements[9])/T.elements[5],C.z=-1,C.w=(1+T.elements[10])/T.elements[14],x.multiplyScalar(2/x.dot(C)),T.elements[2]=x.x,T.elements[6]=x.y,T.elements[10]=x.z+1-o,T.elements[14]=x.w}}();function v(y){h.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),h.multiply(y.projectionMatrix),h.multiply(y.matrixWorldInverse),h.multiply(t.matrixWorld)}function A(y,x,C){t.visible=!1;const w=y.getRenderTarget(),M=y.xr.enabled,T=y.shadowMap.autoUpdate,R=y.toneMapping;let b=!1;"outputColorSpace"in y?b=y.outputColorSpace==="srgb":b=y.outputEncoding===3001,y.xr.enabled=!1,y.shadowMap.autoUpdate=!1,"outputColorSpace"in y?y.outputColorSpace="linear-srgb":y.outputEncoding=3e3,y.toneMapping=ro,y.setRenderTarget(f),y.autoClear===!1&&y.clear(),y.render(x,c),y.xr.enabled=M,y.shadowMap.autoUpdate=T,y.toneMapping=R,y.setRenderTarget(w),"outputColorSpace"in y?y.outputColorSpace=b?"srgb":"srgb-linear":y.outputEncoding=b?3001:3e3;const B=C.viewport;B!==void 0&&y.state.viewport(B),t.visible=!0}this.onBeforeRender=function(y,x,C){C.userData.refractor!==!0&&p(C)&&(m(),v(C),S(C),A(y,x,C))},this.getRenderTarget=function(){return f},this.dispose=function(){f.dispose(),t.material.dispose()}}};let Nx=MU;Ve(Nx,"RefractorShader",{uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:`

		uniform mat4 textureMatrix;

		varying vec4 vUv;

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform vec3 color;
		uniform sampler2D tDiffuse;

		varying vec4 vUv;

		float blendOverlay( float base, float blend ) {

			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );

		}

		vec3 blendOverlay( vec3 base, vec3 blend ) {

			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );

		}

		void main() {

			vec4 base = texture2DProj( tDiffuse, vUv );
			gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );

			#include <tonemapping_fragment>
			#include <${parseInt(Nc.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>

		}`});const woe=new Lt,Fx=class extends mn{constructor(){super(Fx.Geometry,new ao({opacity:0,transparent:!0})),this.isLensflare=!0,this.type="Lensflare",this.frustumCulled=!1,this.renderOrder=1/0;const n=new Q,e=new Q,t=new sl(new Uint8Array(16*16*3),16,16,gi);t.minFilter=Pt,t.magFilter=Pt,t.wrapS=pi,t.wrapT=pi;const i=new sl(new Uint8Array(16*16*3),16,16,gi);i.minFilter=Pt,i.magFilter=Pt,i.wrapS=pi,i.wrapT=pi;const r=Fx.Geometry,s=new Jf({uniforms:{scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;

				void main() {

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				void main() {

					gl_FragColor = vec4( 1.0, 0.0, 1.0, 1.0 );

				}`,depthTest:!0,depthWrite:!1,transparent:!1}),o=new Jf({uniforms:{map:{value:t},scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;
				attribute vec2 uv;

				varying vec2 vUV;

				void main() {

					vUV = uv;

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				uniform sampler2D map;

				varying vec2 vUV;

				void main() {

					gl_FragColor = texture2D( map, vUV );

				}`,depthTest:!1,depthWrite:!1,transparent:!1}),a=new mn(r,s),l=[],c=TU.Shader,u=new Jf({uniforms:{map:{value:null},occlusionMap:{value:i},color:{value:new Je(16777215)},scale:{value:new _e},screenPosition:{value:new Q}},vertexShader:c.vertexShader,fragmentShader:c.fragmentShader,blending:Md,transparent:!0,depthWrite:!1}),h=new mn(r,u);this.addElement=function(v){l.push(v)};const f=new _e,p=new _e,m=new uF,S=new en;this.onBeforeRender=function(v,A,y){v.getCurrentViewport(S);const x=S.w/S.z,C=S.z/2,w=S.w/2;let M=16/S.w;if(f.set(M*x,M),m.min.set(S.x,S.y),m.max.set(S.x+(S.z-16),S.y+(S.w-16)),e.setFromMatrixPosition(this.matrixWorld),e.applyMatrix4(y.matrixWorldInverse),!(e.z>0)&&(n.copy(e).applyMatrix4(y.projectionMatrix),p.x=S.x+n.x*C+C-8,p.y=S.y+n.y*w+w-8,m.containsPoint(p))){v.copyFramebufferToTexture(p,t);let T=s.uniforms;T.scale.value=f,T.screenPosition.value=n,v.renderBufferDirect(y,null,r,s,a,null),v.copyFramebufferToTexture(p,i),T=o.uniforms,T.scale.value=f,T.screenPosition.value=n,v.renderBufferDirect(y,null,r,o,a,null);const R=-n.x*2,b=-n.y*2;for(let B=0,P=l.length;B<P;B++){const O=l[B],G=u.uniforms;G.color.value.copy(O.color),G.map.value=O.texture,G.screenPosition.value.x=n.x+R*O.distance,G.screenPosition.value.y=n.y+b*O.distance,M=O.size/S.w;const H=S.w/S.z;G.scale.value.set(M*H,M),u.uniformsNeedUpdate=!0,v.renderBufferDirect(y,null,r,u,h,null)}}},this.dispose=function(){s.dispose(),o.dispose(),u.dispose(),t.dispose(),i.dispose();for(let v=0,A=l.length;v<A;v++)l[v].texture.dispose()}}};let _oe=Fx;Ve(_oe,"Geometry",woe);class TU{constructor(e,t=1,i=0,r=new Je(16777215)){this.texture=e,this.size=t,this.distance=i,this.color=r}}Ve(TU,"Shader",{uniforms:{map:{value:null},occlusionMap:{value:null},color:{value:null},scale:{value:null},screenPosition:{value:null}},vertexShader:`

		precision highp float;

		uniform vec3 screenPosition;
		uniform vec2 scale;

		uniform sampler2D occlusionMap;

		attribute vec3 position;
		attribute vec2 uv;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vUV = uv;

			vec2 pos = position.xy;

			vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );

			vVisibility =        visibility.r / 9.0;
			vVisibility *= 1.0 - visibility.g / 9.0;
			vVisibility *=       visibility.b / 9.0;

			gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );

		}`,fragmentShader:`

		precision highp float;

		uniform sampler2D map;
		uniform vec3 color;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vec4 texture = texture2D( map, vUV );
			texture.a *= vVisibility;
			gl_FragColor = texture;
			gl_FragColor.rgb *= color;

		}`});class Zf{constructor(e=Math){Ve(this,"grad3",[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]]),Ve(this,"grad4",[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]]),Ve(this,"p",[]),Ve(this,"perm",[]),Ve(this,"simplex",[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]),Ve(this,"dot",(t,i,r)=>t[0]*i+t[1]*r),Ve(this,"dot3",(t,i,r,s)=>t[0]*i+t[1]*r+t[2]*s),Ve(this,"dot4",(t,i,r,s,o)=>t[0]*i+t[1]*r+t[2]*s+t[3]*o),Ve(this,"noise",(t,i)=>{let r,s,o;const a=.5*(Math.sqrt(3)-1),l=(t+i)*a,c=Math.floor(t+l),u=Math.floor(i+l),h=(3-Math.sqrt(3))/6,f=(c+u)*h,p=c-f,m=u-f,S=t-p,v=i-m;let A=0,y=1;S>v&&(A=1,y=0);const x=S-A+h,C=v-y+h,w=S-1+2*h,M=v-1+2*h,T=c&255,R=u&255,b=this.perm[T+this.perm[R]]%12,B=this.perm[T+A+this.perm[R+y]]%12,P=this.perm[T+1+this.perm[R+1]]%12;let O=.5-S*S-v*v;O<0?r=0:(O*=O,r=O*O*this.dot(this.grad3[b],S,v));let G=.5-x*x-C*C;G<0?s=0:(G*=G,s=G*G*this.dot(this.grad3[B],x,C));let H=.5-w*w-M*M;return H<0?o=0:(H*=H,o=H*H*this.dot(this.grad3[P],w,M)),70*(r+s+o)}),Ve(this,"noise3d",(t,i,r)=>{let s,o,a,l;const c=.3333333333333333,u=(t+i+r)*c,h=Math.floor(t+u),f=Math.floor(i+u),p=Math.floor(r+u),m=1/6,S=(h+f+p)*m,v=h-S,A=f-S,y=p-S,x=t-v,C=i-A,w=r-y;let M,T,R,b,B,P;x>=C?C>=w?(M=1,T=0,R=0,b=1,B=1,P=0):x>=w?(M=1,T=0,R=0,b=1,B=0,P=1):(M=0,T=0,R=1,b=1,B=0,P=1):C<w?(M=0,T=0,R=1,b=0,B=1,P=1):x<w?(M=0,T=1,R=0,b=0,B=1,P=1):(M=0,T=1,R=0,b=1,B=1,P=0);const O=x-M+m,G=C-T+m,H=w-R+m,j=x-b+2*m,q=C-B+2*m,J=w-P+2*m,L=x-1+3*m,D=C-1+3*m,F=w-1+3*m,z=h&255,U=f&255,$=p&255,ee=this.perm[z+this.perm[U+this.perm[$]]]%12,ie=this.perm[z+M+this.perm[U+T+this.perm[$+R]]]%12,se=this.perm[z+b+this.perm[U+B+this.perm[$+P]]]%12,re=this.perm[z+1+this.perm[U+1+this.perm[$+1]]]%12;let he=.6-x*x-C*C-w*w;he<0?s=0:(he*=he,s=he*he*this.dot3(this.grad3[ee],x,C,w));let Ce=.6-O*O-G*G-H*H;Ce<0?o=0:(Ce*=Ce,o=Ce*Ce*this.dot3(this.grad3[ie],O,G,H));let ze=.6-j*j-q*q-J*J;ze<0?a=0:(ze*=ze,a=ze*ze*this.dot3(this.grad3[se],j,q,J));let Se=.6-L*L-D*D-F*F;return Se<0?l=0:(Se*=Se,l=Se*Se*this.dot3(this.grad3[re],L,D,F)),32*(s+o+a+l)}),Ve(this,"noise4d",(t,i,r,s)=>{const o=this.grad4,a=this.simplex,l=this.perm,c=(Math.sqrt(5)-1)/4,u=(5-Math.sqrt(5))/20;let h,f,p,m,S;const v=(t+i+r+s)*c,A=Math.floor(t+v),y=Math.floor(i+v),x=Math.floor(r+v),C=Math.floor(s+v),w=(A+y+x+C)*u,M=A-w,T=y-w,R=x-w,b=C-w,B=t-M,P=i-T,O=r-R,G=s-b,H=B>P?32:0,j=B>O?16:0,q=P>O?8:0,J=B>G?4:0,L=P>G?2:0,D=O>G?1:0,F=H+j+q+J+L+D;let z,U,$,ee,ie,se,re,he,Ce,ze,Se,V;z=a[F][0]>=3?1:0,U=a[F][1]>=3?1:0,$=a[F][2]>=3?1:0,ee=a[F][3]>=3?1:0,ie=a[F][0]>=2?1:0,se=a[F][1]>=2?1:0,re=a[F][2]>=2?1:0,he=a[F][3]>=2?1:0,Ce=a[F][0]>=1?1:0,ze=a[F][1]>=1?1:0,Se=a[F][2]>=1?1:0,V=a[F][3]>=1?1:0;const ye=B-z+u,fe=P-U+u,xe=O-$+u,ge=G-ee+u,qe=B-ie+2*u,me=P-se+2*u,Pe=O-re+2*u,Ue=G-he+2*u,we=B-Ce+3*u,Ke=P-ze+3*u,W=O-Se+3*u,N=G-V+3*u,oe=B-1+4*u,Ne=P-1+4*u,Ie=O-1+4*u,Re=G-1+4*u,je=A&255,Qe=y&255,pe=x&255,Y=C&255,de=l[je+l[Qe+l[pe+l[Y]]]]%32,Me=l[je+z+l[Qe+U+l[pe+$+l[Y+ee]]]]%32,Ee=l[je+ie+l[Qe+se+l[pe+re+l[Y+he]]]]%32,Fe=l[je+Ce+l[Qe+ze+l[pe+Se+l[Y+V]]]]%32,nt=l[je+1+l[Qe+1+l[pe+1+l[Y+1]]]]%32;let ft=.6-B*B-P*P-O*O-G*G;ft<0?h=0:(ft*=ft,h=ft*ft*this.dot4(o[de],B,P,O,G));let Z=.6-ye*ye-fe*fe-xe*xe-ge*ge;Z<0?f=0:(Z*=Z,f=Z*Z*this.dot4(o[Me],ye,fe,xe,ge));let He=.6-qe*qe-me*me-Pe*Pe-Ue*Ue;He<0?p=0:(He*=He,p=He*He*this.dot4(o[Ee],qe,me,Pe,Ue));let ce=.6-we*we-Ke*Ke-W*W-N*N;ce<0?m=0:(ce*=ce,m=ce*ce*this.dot4(o[Fe],we,Ke,W,N));let We=.6-oe*oe-Ne*Ne-Ie*Ie-Re*Re;return We<0?S=0:(We*=We,S=We*We*this.dot4(o[nt],oe,Ne,Ie,Re)),27*(h+f+p+m+S)});for(let t=0;t<256;t++)this.p[t]=Math.floor(e.random()*256);for(let t=0;t<512;t++)this.perm[t]=this.p[t&255]}}const Zr=class extends Lt{constructor(n={}){super(),this.isLightningStrike=!0,this.type="LightningStrike",this.init(Zr.copyParameters(n,n)),this.createMesh()}static createRandomGenerator(){const e=[];for(let i=0;i<2053;i++)e.push(Math.random());const t={currentSeed:0,random:function(){const i=e[t.currentSeed];return t.currentSeed=(t.currentSeed+1)%2053,i},getSeed:function(){return t.currentSeed/2053},setSeed:function(i){t.currentSeed=Math.floor(i*2053)%2053}};return t}static copyParameters(n={},e={}){const t=function(i){return e===n?i:i.clone()};return n.sourceOffset=e.sourceOffset!==void 0?t(e.sourceOffset):new Q(0,100,0),n.destOffset=e.destOffset!==void 0?t(e.destOffset):new Q(0,0,0),n.timeScale=e.timeScale!==void 0?e.timeScale:1,n.roughness=e.roughness!==void 0?e.roughness:.9,n.straightness=e.straightness!==void 0?e.straightness:.7,n.up0=e.up0!==void 0?t(e.up0):new Q(0,0,1),n.up1=e.up1!==void 0?t(e.up1):new Q(0,0,1),n.radius0=e.radius0!==void 0?e.radius0:1,n.radius1=e.radius1!==void 0?e.radius1:1,n.radius0Factor=e.radius0Factor!==void 0?e.radius0Factor:.5,n.radius1Factor=e.radius1Factor!==void 0?e.radius1Factor:.2,n.minRadius=e.minRadius!==void 0?e.minRadius:.2,n.isEternal=e.isEternal!==void 0?e.isEternal:e.birthTime===void 0||e.deathTime===void 0,n.birthTime=e.birthTime,n.deathTime=e.deathTime,n.propagationTimeFactor=e.propagationTimeFactor!==void 0?e.propagationTimeFactor:.1,n.vanishingTimeFactor=e.vanishingTimeFactor!==void 0?e.vanishingTimeFactor:.9,n.subrayPeriod=e.subrayPeriod!==void 0?e.subrayPeriod:4,n.subrayDutyCycle=e.subrayDutyCycle!==void 0?e.subrayDutyCycle:.6,n.maxIterations=e.maxIterations!==void 0?e.maxIterations:9,n.isStatic=e.isStatic!==void 0?e.isStatic:!1,n.ramification=e.ramification!==void 0?e.ramification:5,n.maxSubrayRecursion=e.maxSubrayRecursion!==void 0?e.maxSubrayRecursion:3,n.recursionProbability=e.recursionProbability!==void 0?e.recursionProbability:.6,n.generateUVs=e.generateUVs!==void 0?e.generateUVs:!1,n.randomGenerator=e.randomGenerator,n.noiseSeed=e.noiseSeed,n.onDecideSubrayCreation=e.onDecideSubrayCreation,n.onSubrayCreation=e.onSubrayCreation,n}update(n){this.isStatic||(this.rayParameters.isEternal||this.rayParameters.birthTime<=n&&n<=this.rayParameters.deathTime?(this.updateMesh(n),n<this.subrays[0].endPropagationTime?this.state=Zr.RAY_PROPAGATING:n>this.subrays[0].beginVanishingTime?this.state=Zr.RAY_VANISHING:this.state=Zr.RAY_STEADY,this.visible=!0):(this.visible=!1,n<this.rayParameters.birthTime?this.state=Zr.RAY_UNBORN:this.state=Zr.RAY_EXTINGUISHED))}init(n){this.rayParameters=n,this.maxIterations=n.maxIterations!==void 0?Math.floor(n.maxIterations):9,n.maxIterations=this.maxIterations,this.isStatic=n.isStatic!==void 0?n.isStatic:!1,n.isStatic=this.isStatic,this.ramification=n.ramification!==void 0?Math.floor(n.ramification):5,n.ramification=this.ramification,this.maxSubrayRecursion=n.maxSubrayRecursion!==void 0?Math.floor(n.maxSubrayRecursion):3,n.maxSubrayRecursion=this.maxSubrayRecursion,this.recursionProbability=n.recursionProbability!==void 0?n.recursionProbability:.6,n.recursionProbability=this.recursionProbability,this.generateUVs=n.generateUVs!==void 0?n.generateUVs:!1,n.generateUVs=this.generateUVs,n.randomGenerator!==void 0?(this.randomGenerator=n.randomGenerator,this.seedGenerator=n.randomGenerator,n.noiseSeed!==void 0&&this.seedGenerator.setSeed(n.noiseSeed)):(this.randomGenerator=Zr.createRandomGenerator(),this.seedGenerator=Math),n.onDecideSubrayCreation!==void 0?this.onDecideSubrayCreation=n.onDecideSubrayCreation:(this.createDefaultSubrayCreationCallbacks(),n.onSubrayCreation!==void 0&&(this.onSubrayCreation=n.onSubrayCreation)),this.state=Zr.RAY_INITIALIZED,this.maxSubrays=Math.ceil(1+Math.pow(this.ramification,Math.max(0,this.maxSubrayRecursion-1))),n.maxSubrays=this.maxSubrays,this.maxRaySegments=2*(1<<this.maxIterations),this.subrays=[];for(let e=0;e<this.maxSubrays;e++)this.subrays.push(this.createSubray());this.raySegments=[];for(let e=0;e<this.maxRaySegments;e++)this.raySegments.push(this.createSegment());this.time=0,this.timeFraction=0,this.currentSegmentCallback=null,this.currentCreateTriangleVertices=this.generateUVs?this.createTriangleVerticesWithUVs:this.createTriangleVerticesWithoutUVs,this.numSubrays=0,this.currentSubray=null,this.currentSegmentIndex=0,this.isInitialSegment=!1,this.subrayProbability=0,this.currentVertex=0,this.currentIndex=0,this.currentCoordinate=0,this.currentUVCoordinate=0,this.vertices=null,this.uvs=null,this.indices=null,this.positionAttribute=null,this.uvsAttribute=null,this.simplexX=new Zf(this.seedGenerator),this.simplexY=new Zf(this.seedGenerator),this.simplexZ=new Zf(this.seedGenerator),this.forwards=new Q,this.forwardsFill=new Q,this.side=new Q,this.down=new Q,this.middlePos=new Q,this.middleLinPos=new Q,this.newPos=new Q,this.vPos=new Q,this.cross1=new Q}createMesh(){const n=1<<this.maxIterations,e=3*(n+1)*this.maxSubrays,t=18*n*this.maxSubrays;this.vertices=new Float32Array(e*3),this.indices=new Uint32Array(t),this.generateUVs&&(this.uvs=new Float32Array(e*2)),this.fillMesh(0),this.setIndex(new O7(this.indices,1)),this.positionAttribute=new ht(this.vertices,3),this.setAttribute("position",this.positionAttribute),this.generateUVs&&(this.uvsAttribute=new ht(new Float32Array(this.uvs),2),this.setAttribute("uv",this.uvsAttribute)),this.isStatic||(this.index.usage=ju,this.positionAttribute.usage=ju,this.generateUVs&&(this.uvsAttribute.usage=ju)),this.vertices=this.positionAttribute.array,this.indices=this.index.array,this.generateUVs&&(this.uvs=this.uvsAttribute.array)}updateMesh(n){this.fillMesh(n),this.drawRange.count=this.currentIndex,this.index.needsUpdate=!0,this.positionAttribute.needsUpdate=!0,this.generateUVs&&(this.uvsAttribute.needsUpdate=!0)}fillMesh(n){const e=this;this.currentVertex=0,this.currentIndex=0,this.currentCoordinate=0,this.currentUVCoordinate=0,this.fractalRay(n,function(i){const r=e.currentSubray;n<r.birthTime||(this.rayParameters.isEternal&&e.currentSubray.recursion==0?(e.createPrism(i),e.onDecideSubrayCreation(i,e)):n<r.endPropagationTime?e.timeFraction>=i.fraction0*r.propagationTimeFactor&&(e.createPrism(i),e.onDecideSubrayCreation(i,e)):n<r.beginVanishingTime?(e.createPrism(i),e.onDecideSubrayCreation(i,e)):(e.timeFraction<=r.vanishingTimeFactor+i.fraction1*(1-r.vanishingTimeFactor)&&e.createPrism(i),e.onDecideSubrayCreation(i,e)))})}addNewSubray(){return this.subrays[this.numSubrays++]}initSubray(n,e){n.pos0.copy(e.sourceOffset),n.pos1.copy(e.destOffset),n.up0.copy(e.up0),n.up1.copy(e.up1),n.radius0=e.radius0,n.radius1=e.radius1,n.birthTime=e.birthTime,n.deathTime=e.deathTime,n.timeScale=e.timeScale,n.roughness=e.roughness,n.straightness=e.straightness,n.propagationTimeFactor=e.propagationTimeFactor,n.vanishingTimeFactor=e.vanishingTimeFactor,n.maxIterations=this.maxIterations,n.seed=e.noiseSeed!==void 0?e.noiseSeed:0,n.recursion=0}fractalRay(n,e){this.time=n,this.currentSegmentCallback=e,this.numSubrays=0,this.initSubray(this.addNewSubray(),this.rayParameters);for(let t=0;t<this.numSubrays;t++){const i=this.subrays[t];this.currentSubray=i,this.randomGenerator.setSeed(i.seed),i.endPropagationTime=c2.lerp(i.birthTime,i.deathTime,i.propagationTimeFactor),i.beginVanishingTime=c2.lerp(i.deathTime,i.birthTime,1-i.vanishingTimeFactor);const r=this.randomGenerator.random;i.linPos0.set(r(),r(),r()).multiplyScalar(1e3),i.linPos1.set(r(),r(),r()).multiplyScalar(1e3),this.timeFraction=(n-i.birthTime)/(i.deathTime-i.birthTime),this.currentSegmentIndex=0,this.isInitialSegment=!0;const s=this.getNewSegment();s.iteration=0,s.pos0.copy(i.pos0),s.pos1.copy(i.pos1),s.linPos0.copy(i.linPos0),s.linPos1.copy(i.linPos1),s.up0.copy(i.up0),s.up1.copy(i.up1),s.radius0=i.radius0,s.radius1=i.radius1,s.fraction0=0,s.fraction1=1,s.positionVariationFactor=1-i.straightness,this.subrayProbability=this.ramification*Math.pow(this.recursionProbability,i.recursion)/(1<<i.maxIterations),this.fractalRayRecursive(s)}this.currentSegmentCallback=null,this.currentSubray=null}fractalRayRecursive(n){if(n.iteration>=this.currentSubray.maxIterations){this.currentSegmentCallback(n);return}this.forwards.subVectors(n.pos1,n.pos0);let e=this.forwards.length();e<1e-6&&(this.forwards.set(0,0,.01),e=this.forwards.length());const t=(n.radius0+n.radius1)*.5,i=(n.fraction0+n.fraction1)*.5,r=this.time*this.currentSubray.timeScale*Math.pow(2,n.iteration);this.middlePos.lerpVectors(n.pos0,n.pos1,.5),this.middleLinPos.lerpVectors(n.linPos0,n.linPos1,.5);const s=this.middleLinPos;this.newPos.set(this.simplexX.noise4d(s.x,s.y,s.z,r),this.simplexY.noise4d(s.x,s.y,s.z,r),this.simplexZ.noise4d(s.x,s.y,s.z,r)),this.newPos.multiplyScalar(n.positionVariationFactor*e),this.newPos.add(this.middlePos);const o=this.getNewSegment();o.pos0.copy(n.pos0),o.pos1.copy(this.newPos),o.linPos0.copy(n.linPos0),o.linPos1.copy(this.middleLinPos),o.up0.copy(n.up0),o.up1.copy(n.up1),o.radius0=n.radius0,o.radius1=t,o.fraction0=n.fraction0,o.fraction1=i,o.positionVariationFactor=n.positionVariationFactor*this.currentSubray.roughness,o.iteration=n.iteration+1;const a=this.getNewSegment();a.pos0.copy(this.newPos),a.pos1.copy(n.pos1),a.linPos0.copy(this.middleLinPos),a.linPos1.copy(n.linPos1),this.cross1.crossVectors(n.up0,this.forwards.normalize()),a.up0.crossVectors(this.forwards,this.cross1).normalize(),a.up1.copy(n.up1),a.radius0=t,a.radius1=n.radius1,a.fraction0=i,a.fraction1=n.fraction1,a.positionVariationFactor=n.positionVariationFactor*this.currentSubray.roughness,a.iteration=n.iteration+1,this.fractalRayRecursive(o),this.fractalRayRecursive(a)}createPrism(n){this.forwardsFill.subVectors(n.pos1,n.pos0).normalize(),this.isInitialSegment&&(this.currentCreateTriangleVertices(n.pos0,n.up0,this.forwardsFill,n.radius0,0),this.isInitialSegment=!1),this.currentCreateTriangleVertices(n.pos1,n.up0,this.forwardsFill,n.radius1,n.fraction1),this.createPrismFaces()}createTriangleVerticesWithoutUVs(n,e,t,i){this.side.crossVectors(e,t).multiplyScalar(i*Zr.COS30DEG),this.down.copy(e).multiplyScalar(-i*Zr.SIN30DEG);const r=this.vPos,s=this.vertices;r.copy(n).sub(this.side).add(this.down),s[this.currentCoordinate++]=r.x,s[this.currentCoordinate++]=r.y,s[this.currentCoordinate++]=r.z,r.copy(n).add(this.side).add(this.down),s[this.currentCoordinate++]=r.x,s[this.currentCoordinate++]=r.y,s[this.currentCoordinate++]=r.z,r.copy(e).multiplyScalar(i).add(n),s[this.currentCoordinate++]=r.x,s[this.currentCoordinate++]=r.y,s[this.currentCoordinate++]=r.z,this.currentVertex+=3}createTriangleVerticesWithUVs(n,e,t,i,r){this.side.crossVectors(e,t).multiplyScalar(i*Zr.COS30DEG),this.down.copy(e).multiplyScalar(-i*Zr.SIN30DEG);const s=this.vPos,o=this.vertices,a=this.uvs;s.copy(n).sub(this.side).add(this.down),o[this.currentCoordinate++]=s.x,o[this.currentCoordinate++]=s.y,o[this.currentCoordinate++]=s.z,a[this.currentUVCoordinate++]=r,a[this.currentUVCoordinate++]=0,s.copy(n).add(this.side).add(this.down),o[this.currentCoordinate++]=s.x,o[this.currentCoordinate++]=s.y,o[this.currentCoordinate++]=s.z,a[this.currentUVCoordinate++]=r,a[this.currentUVCoordinate++]=.5,s.copy(e).multiplyScalar(i).add(n),o[this.currentCoordinate++]=s.x,o[this.currentCoordinate++]=s.y,o[this.currentCoordinate++]=s.z,a[this.currentUVCoordinate++]=r,a[this.currentUVCoordinate++]=1,this.currentVertex+=3}createPrismFaces(n){const e=this.indices;n=this.currentVertex-6,e[this.currentIndex++]=n+1,e[this.currentIndex++]=n+2,e[this.currentIndex++]=n+5,e[this.currentIndex++]=n+1,e[this.currentIndex++]=n+5,e[this.currentIndex++]=n+4,e[this.currentIndex++]=n+0,e[this.currentIndex++]=n+1,e[this.currentIndex++]=n+4,e[this.currentIndex++]=n+0,e[this.currentIndex++]=n+4,e[this.currentIndex++]=n+3,e[this.currentIndex++]=n+2,e[this.currentIndex++]=n+0,e[this.currentIndex++]=n+3,e[this.currentIndex++]=n+2,e[this.currentIndex++]=n+3,e[this.currentIndex++]=n+5}createDefaultSubrayCreationCallbacks(){const n=this.randomGenerator.random;this.onDecideSubrayCreation=function(s,o){const a=o.currentSubray,l=o.rayParameters.subrayPeriod,c=o.rayParameters.subrayDutyCycle,u=o.rayParameters.isEternal&&a.recursion==0?-n()*l:c2.lerp(a.birthTime,a.endPropagationTime,s.fraction0)-n()*l,h=o.time-u,f=Math.floor(h/l),p=n()*(f+1),m=h%l<=c*l;let S=0;if(m&&(S=o.subrayProbability),a.recursion<o.maxSubrayRecursion&&o.numSubrays<o.maxSubrays&&n()<S){const v=o.addNewSubray(),A=o.randomGenerator.getSeed();v.seed=p,o.randomGenerator.setSeed(p),v.recursion=a.recursion+1,v.maxIterations=Math.max(1,a.maxIterations-1),v.linPos0.set(n(),n(),n()).multiplyScalar(1e3),v.linPos1.set(n(),n(),n()).multiplyScalar(1e3),v.up0.copy(a.up0),v.up1.copy(a.up1),v.radius0=s.radius0*o.rayParameters.radius0Factor,v.radius1=Math.min(o.rayParameters.minRadius,s.radius1*o.rayParameters.radius1Factor),v.birthTime=u+f*l,v.deathTime=v.birthTime+l*c,!o.rayParameters.isEternal&&a.recursion==0&&(v.birthTime=Math.max(v.birthTime,a.birthTime),v.deathTime=Math.min(v.deathTime,a.deathTime)),v.timeScale=a.timeScale*2,v.roughness=a.roughness,v.straightness=a.straightness,v.propagationTimeFactor=a.propagationTimeFactor,v.vanishingTimeFactor=a.vanishingTimeFactor,o.onSubrayCreation(s,a,v,o),o.randomGenerator.setSeed(A)}};const e=new Q,t=new Q,i=new Q,r=new Q;this.onSubrayCreation=function(s,o,a,l){l.subrayCylinderPosition(s,o,a,.5,.6,.2)},this.subrayConePosition=function(s,o,a,l,c,u){a.pos0.copy(s.pos0),e.subVectors(o.pos1,o.pos0),t.copy(e).normalize(),e.multiplyScalar(s.fraction0+(1-s.fraction0)*(n()*l));const h=e.length();i.crossVectors(o.up0,t);const f=2*Math.PI*n();i.multiplyScalar(Math.cos(f)),r.copy(o.up0).multiplyScalar(Math.sin(f)),a.pos1.copy(i).add(r).multiplyScalar(h*c*(u+n()*(1-u))).add(e).add(o.pos0)},this.subrayCylinderPosition=function(s,o,a,l,c,u){a.pos0.copy(s.pos0),e.subVectors(o.pos1,o.pos0),t.copy(e).normalize(),e.multiplyScalar(s.fraction0+(1-s.fraction0)*((2*n()-1)*l));const h=e.length();i.crossVectors(o.up0,t);const f=2*Math.PI*n();i.multiplyScalar(Math.cos(f)),r.copy(o.up0).multiplyScalar(Math.sin(f)),a.pos1.copy(i).add(r).multiplyScalar(h*c*(u+n()*(1-u))).add(e).add(o.pos0)}}createSubray(){return{seed:0,maxIterations:0,recursion:0,pos0:new Q,pos1:new Q,linPos0:new Q,linPos1:new Q,up0:new Q,up1:new Q,radius0:0,radius1:0,birthTime:0,deathTime:0,timeScale:0,roughness:0,straightness:0,propagationTimeFactor:0,vanishingTimeFactor:0,endPropagationTime:0,beginVanishingTime:0}}createSegment(){return{iteration:0,pos0:new Q,pos1:new Q,linPos0:new Q,linPos1:new Q,up0:new Q,up1:new Q,radius0:0,radius1:0,fraction0:0,fraction1:0,positionVariationFactor:0}}getNewSegment(){return this.raySegments[this.currentSegmentIndex++]}copy(n){return super.copy(n),this.init(Zr.copyParameters({},n.rayParameters)),this}clone(){return new this.constructor(Zr.copyParameters({},this.rayParameters))}};let zc=Zr;Ve(zc,"RAY_INITIALIZED",0);Ve(zc,"RAY_UNBORN",1);Ve(zc,"RAY_PROPAGATING",2);Ve(zc,"RAY_STEADY",3);Ve(zc,"RAY_VANISHING",4);Ve(zc,"RAY_EXTINGUISHED",5);Ve(zc,"COS30DEG",Math.cos(30*Math.PI/180));Ve(zc,"SIN30DEG",Math.sin(30*Math.PI/180));const wu=class extends mn{constructor(n,e={}){super(n),this.isReflectorForSSRPass=!0,this.type="ReflectorForSSRPass";const t=this,i=e.color!==void 0?new Je(e.color):new Je(8355711),r=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.shader||wu.ReflectorShader,l=e.useDepthTexture===!0,c=new Q(0,1,0),u=new Q,h=new Q;t.needsUpdate=!1,t.maxDistance=wu.ReflectorShader.uniforms.maxDistance.value,t.opacity=wu.ReflectorShader.uniforms.opacity.value,t.color=i,t.resolution=e.resolution||new _e(window.innerWidth,window.innerHeight),t._distanceAttenuation=wu.ReflectorShader.defines.DISTANCE_ATTENUATION,Object.defineProperty(t,"distanceAttenuation",{get(){return t._distanceAttenuation},set(P){t._distanceAttenuation!==P&&(t._distanceAttenuation=P,t.material.defines.DISTANCE_ATTENUATION=P,t.material.needsUpdate=!0)}}),t._fresnel=wu.ReflectorShader.defines.FRESNEL,Object.defineProperty(t,"fresnel",{get(){return t._fresnel},set(P){t._fresnel!==P&&(t._fresnel=P,t.material.defines.FRESNEL=P,t.material.needsUpdate=!0)}});const f=new Q,p=new Q,m=new Q,S=new At,v=new Q(0,0,-1),A=new Q,y=new Q,x=new At,C=new Xn;let w;l&&(w=new $2,w.type=E3,w.minFilter=Pt,w.magFilter=Pt);const M={depthTexture:l?w:null,type:_i},T=new In(r,s,M),R=new un({transparent:l,defines:Object.assign({},wu.ReflectorShader.defines,{useDepthTexture:l}),uniforms:qn.clone(a.uniforms),fragmentShader:a.fragmentShader,vertexShader:a.vertexShader});R.uniforms.tDiffuse.value=T.texture,R.uniforms.color.value=t.color,R.uniforms.textureMatrix.value=x,l&&(R.uniforms.tDepth.value=T.depthTexture),this.material=R;const B=[new Lo(new Q(0,1,0),o)];this.doRender=function(P,O,G){if(R.uniforms.maxDistance.value=t.maxDistance,R.uniforms.color.value=t.color,R.uniforms.opacity.value=t.opacity,u.copy(G.position).normalize(),h.copy(u).reflect(c),R.uniforms.fresnelCoe.value=(u.dot(h)+1)/2,p.setFromMatrixPosition(t.matrixWorld),m.setFromMatrixPosition(G.matrixWorld),S.extractRotation(t.matrixWorld),f.set(0,0,1),f.applyMatrix4(S),A.subVectors(p,m),A.dot(f)>0)return;A.reflect(f).negate(),A.add(p),S.extractRotation(G.matrixWorld),v.set(0,0,-1),v.applyMatrix4(S),v.add(m),y.subVectors(p,v),y.reflect(f).negate(),y.add(p),C.position.copy(A),C.up.set(0,1,0),C.up.applyMatrix4(S),C.up.reflect(f),C.lookAt(y),C.far=G.far,C.updateMatrixWorld(),C.projectionMatrix.copy(G.projectionMatrix),R.uniforms.virtualCameraNear.value=G.near,R.uniforms.virtualCameraFar.value=G.far,R.uniforms.virtualCameraMatrixWorld.value=C.matrixWorld,R.uniforms.virtualCameraProjectionMatrix.value=G.projectionMatrix,R.uniforms.virtualCameraProjectionMatrixInverse.value=G.projectionMatrixInverse,R.uniforms.resolution.value=t.resolution,x.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),x.multiply(C.projectionMatrix),x.multiply(C.matrixWorldInverse),x.multiply(t.matrixWorld);const H=P.getRenderTarget(),j=P.xr.enabled,q=P.shadowMap.autoUpdate,J=P.clippingPlanes;P.xr.enabled=!1,P.shadowMap.autoUpdate=!1,P.clippingPlanes=B,P.setRenderTarget(T),P.state.buffers.depth.setMask(!0),P.autoClear===!1&&P.clear(),P.render(O,C),P.xr.enabled=j,P.shadowMap.autoUpdate=q,P.clippingPlanes=J,P.setRenderTarget(H);const L=G.viewport;L!==void 0&&P.state.viewport(L)},this.getRenderTarget=function(){return T}}};let Moe=wu;Ve(Moe,"ReflectorShader",{defines:{DISTANCE_ATTENUATION:!0,FRESNEL:!0},uniforms:{color:{value:null},tDiffuse:{value:null},tDepth:{value:null},textureMatrix:{value:new At},maxDistance:{value:180},opacity:{value:.5},fresnelCoe:{value:null},virtualCameraNear:{value:null},virtualCameraFar:{value:null},virtualCameraProjectionMatrix:{value:new At},virtualCameraMatrixWorld:{value:new At},virtualCameraProjectionMatrixInverse:{value:new At},resolution:{value:new _e}},vertexShader:`
		uniform mat4 textureMatrix;
		varying vec4 vUv;

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`
		uniform vec3 color;
		uniform sampler2D tDiffuse;
		uniform sampler2D tDepth;
		uniform float maxDistance;
		uniform float opacity;
		uniform float fresnelCoe;
		uniform float virtualCameraNear;
		uniform float virtualCameraFar;
		uniform mat4 virtualCameraProjectionMatrix;
		uniform mat4 virtualCameraProjectionMatrixInverse;
		uniform mat4 virtualCameraMatrixWorld;
		uniform vec2 resolution;
		varying vec4 vUv;
		#include <packing>
		float blendOverlay( float base, float blend ) {
			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );
		}
		vec3 blendOverlay( vec3 base, vec3 blend ) {
			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );
		}
		float getDepth( const in vec2 uv ) {
			return texture2D( tDepth, uv ).x;
		}
		float getViewZ( const in float depth ) {
			return perspectiveDepthToViewZ( depth, virtualCameraNear, virtualCameraFar );
		}
		vec3 getViewPosition( const in vec2 uv, const in float depth/*clip space*/, const in float clipW ) {
			vec4 clipPosition = vec4( ( vec3( uv, depth ) - 0.5 ) * 2.0, 1.0 );//ndc
			clipPosition *= clipW; //clip
			return ( virtualCameraProjectionMatrixInverse * clipPosition ).xyz;//view
		}
		void main() {
			vec4 base = texture2DProj( tDiffuse, vUv );
			#ifdef useDepthTexture
				vec2 uv=(gl_FragCoord.xy-.5)/resolution.xy;
				uv.x=1.-uv.x;
				float depth = texture2DProj( tDepth, vUv ).r;
				float viewZ = getViewZ( depth );
				float clipW = virtualCameraProjectionMatrix[2][3] * viewZ+virtualCameraProjectionMatrix[3][3];
				vec3 viewPosition=getViewPosition( uv, depth, clipW );
				vec3 worldPosition=(virtualCameraMatrixWorld*vec4(viewPosition,1)).xyz;
				if(worldPosition.y>maxDistance) discard;
				float op=opacity;
				#ifdef DISTANCE_ATTENUATION
					float ratio=1.-(worldPosition.y/maxDistance);
					float attenuation=ratio*ratio;
					op=opacity*attenuation;
				#endif
				#ifdef FRESNEL
					op*=fresnelCoe;
				#endif
				gl_FragColor = vec4( blendOverlay( base.rgb, color ), op );
			#else
				gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );
			#endif
		}
	`});const A8={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new Q},up:{value:new Q(0,1,0)}},vertexShader:`
      uniform vec3 sunPosition;
      uniform float rayleigh;
      uniform float turbidity;
      uniform float mieCoefficient;
      uniform vec3 up;

      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      // constants for atmospheric scattering
      const float e = 2.71828182845904523536028747135266249775724709369995957;
      const float pi = 3.141592653589793238462643383279502884197169;

      // wavelength of used primaries, according to preetham
      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

      // mie stuff
      // K coefficient for the primaries
      const float v = 4.0;
      const vec3 K = vec3( 0.686, 0.678, 0.666 );
      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

      // earth shadow hack
      // cutoffAngle = pi / 1.95;
      const float cutoffAngle = 1.6110731556870734;
      const float steepness = 1.5;
      const float EE = 1000.0;

      float sunIntensity( float zenithAngleCos ) {
        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
      }

      vec3 totalMie( float T ) {
        float c = ( 0.2 * T ) * 10E-18;
        return 0.434 * c * MieConst;
      }

      void main() {

        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
        vWorldPosition = worldPosition.xyz;

        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        gl_Position.z = gl_Position.w; // set z to camera.far

        vSunDirection = normalize( sunPosition );

        vSunE = sunIntensity( dot( vSunDirection, up ) );

        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

      // extinction (absorbtion + out scattering)
      // rayleigh coefficients
        vBetaR = totalRayleigh * rayleighCoefficient;

      // mie coefficients
        vBetaM = totalMie( turbidity ) * mieCoefficient;

      }
    `,fragmentShader:`
      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      uniform float mieDirectionalG;
      uniform vec3 up;

      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );

      // constants for atmospheric scattering
      const float pi = 3.141592653589793238462643383279502884197169;

      const float n = 1.0003; // refractive index of air
      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

      // optical length at zenith for molecules
      const float rayleighZenithLength = 8.4E3;
      const float mieZenithLength = 1.25E3;
      // 66 arc seconds -> degrees, and the cosine of that
      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

      // 3.0 / ( 16.0 * pi )
      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
      // 1.0 / ( 4.0 * pi )
      const float ONE_OVER_FOURPI = 0.07957747154594767;

      float rayleighPhase( float cosTheta ) {
        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
      }

      float hgPhase( float cosTheta, float g ) {
        float g2 = pow( g, 2.0 );
        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
      }

      void main() {

        vec3 direction = normalize( vWorldPosition - cameraPos );

      // optical length
      // cutoff angle at 90 to avoid singularity in next formula.
        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
        float sR = rayleighZenithLength * inverse;
        float sM = mieZenithLength * inverse;

      // combined extinction factor
        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

      // in scattering
        float cosTheta = dot( direction, vSunDirection );

        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
        vec3 betaRTheta = vBetaR * rPhase;

        float mPhase = hgPhase( cosTheta, mieDirectionalG );
        vec3 betaMTheta = vBetaM * mPhase;

        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

      // nightsky
        float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
        float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
        vec3 L0 = vec3( 0.1 ) * Fex;

      // composition + solar disc
        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

        gl_FragColor = vec4( retColor, 1.0 );

      #include <tonemapping_fragment>
      #include <${parseInt(Nc.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>

      }
    `},bU=new un({name:"SkyShader",fragmentShader:A8.fragmentShader,vertexShader:A8.vertexShader,uniforms:qn.clone(A8.uniforms),side:mr,depthWrite:!1});class IU extends mn{constructor(){super(new g1(1,1,1),bU)}}Ve(IU,"SkyShader",A8);Ve(IU,"material",bU);const RU=class extends mn{constructor(n,e={}){super(n),this.isWater=!0,this.type="Water";const t=this,i=e.color!==void 0?new Je(e.color):new Je(16777215),r=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.flowDirection||new _e(1,0),l=e.flowSpeed||.03,c=e.reflectivity||.02,u=e.scale||1,h=e.shader||RU.WaterShader,f=e.encoding!==void 0?e.encoding:3e3,p=e.flowMap||void 0,m=e.normalMap0,S=e.normalMap1,v=.15,A=v*.5,y=new At,x=new K7;if(Ox===void 0){console.error("THREE.Water: Required component Reflector not found.");return}if(Nx===void 0){console.error("THREE.Water: Required component Refractor not found.");return}const C=new Ox(n,{textureWidth:r,textureHeight:s,clipBias:o,encoding:f}),w=new Nx(n,{textureWidth:r,textureHeight:s,clipBias:o,encoding:f});C.matrixAutoUpdate=!1,w.matrixAutoUpdate=!1,this.material=new un({uniforms:qn.merge([et.fog,h.uniforms]),vertexShader:h.vertexShader,fragmentShader:h.fragmentShader,transparent:!0,fog:!0}),p!==void 0?(this.material.defines.USE_FLOWMAP="",this.material.uniforms.tFlowMap={type:"t",value:p}):this.material.uniforms.flowDirection={type:"v2",value:a},m.wrapS=m.wrapT=a1,S.wrapS=S.wrapT=a1,this.material.uniforms.tReflectionMap.value=C.getRenderTarget().texture,this.material.uniforms.tRefractionMap.value=w.getRenderTarget().texture,this.material.uniforms.tNormalMap0.value=m,this.material.uniforms.tNormalMap1.value=S,this.material.uniforms.color.value=i,this.material.uniforms.reflectivity.value=c,this.material.uniforms.textureMatrix.value=y,this.material.uniforms.config.value.x=0,this.material.uniforms.config.value.y=A,this.material.uniforms.config.value.z=A,this.material.uniforms.config.value.w=u;function M(R){y.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),y.multiply(R.projectionMatrix),y.multiply(R.matrixWorldInverse),y.multiply(t.matrixWorld)}function T(){const R=x.getDelta(),b=t.material.uniforms.config;b.value.x+=l*R,b.value.y=b.value.x+A,b.value.x>=v?(b.value.x=0,b.value.y=A):b.value.y>=v&&(b.value.y=b.value.y-v)}this.onBeforeRender=function(R,b,B){M(B),T(),t.visible=!1,C.matrixWorld.copy(t.matrixWorld),w.matrixWorld.copy(t.matrixWorld),C.onBeforeRender(R,b,B),w.onBeforeRender(R,b,B),t.visible=!0}}};let Toe=RU;Ve(Toe,"WaterShader",{uniforms:{color:{value:null},reflectivity:{value:0},tReflectionMap:{value:null},tRefractionMap:{value:null},tNormalMap0:{value:null},tNormalMap1:{value:null},textureMatrix:{value:null},config:{value:new en}},vertexShader:`

		#include <common>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>

		uniform mat4 textureMatrix;

		varying vec4 vCoord;
		varying vec2 vUv;
		varying vec3 vToEye;

		void main() {

			vUv = uv;
			vCoord = textureMatrix * vec4( position, 1.0 );

			vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
			vToEye = cameraPosition - worldPosition.xyz;

			vec4 mvPosition =  viewMatrix * worldPosition; // used in fog_vertex
			gl_Position = projectionMatrix * mvPosition;

			#include <logdepthbuf_vertex>
			#include <fog_vertex>

		}`,fragmentShader:`

		#include <common>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>

		uniform sampler2D tReflectionMap;
		uniform sampler2D tRefractionMap;
		uniform sampler2D tNormalMap0;
		uniform sampler2D tNormalMap1;

		#ifdef USE_FLOWMAP
			uniform sampler2D tFlowMap;
		#else
			uniform vec2 flowDirection;
		#endif

		uniform vec3 color;
		uniform float reflectivity;
		uniform vec4 config;

		varying vec4 vCoord;
		varying vec2 vUv;
		varying vec3 vToEye;

		void main() {

			#include <logdepthbuf_fragment>

			float flowMapOffset0 = config.x;
			float flowMapOffset1 = config.y;
			float halfCycle = config.z;
			float scale = config.w;

			vec3 toEye = normalize( vToEye );

			// determine flow direction
			vec2 flow;
			#ifdef USE_FLOWMAP
				flow = texture2D( tFlowMap, vUv ).rg * 2.0 - 1.0;
			#else
				flow = flowDirection;
			#endif
			flow.x *= - 1.0;

			// sample normal maps (distort uvs with flowdata)
			vec4 normalColor0 = texture2D( tNormalMap0, ( vUv * scale ) + flow * flowMapOffset0 );
			vec4 normalColor1 = texture2D( tNormalMap1, ( vUv * scale ) + flow * flowMapOffset1 );

			// linear interpolate to get the final normal color
			float flowLerp = abs( halfCycle - flowMapOffset0 ) / halfCycle;
			vec4 normalColor = mix( normalColor0, normalColor1, flowLerp );

			// calculate normal vector
			vec3 normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );

			// calculate the fresnel term to blend reflection and refraction maps
			float theta = max( dot( toEye, normal ), 0.0 );
			float reflectance = reflectivity + ( 1.0 - reflectivity ) * pow( ( 1.0 - theta ), 5.0 );

			// calculate final uv coords
			vec3 coord = vCoord.xyz / vCoord.w;
			vec2 uv = coord.xy + coord.z * normal.xz * 0.05;

			vec4 reflectColor = texture2D( tReflectionMap, vec2( 1.0 - uv.x, uv.y ) );
			vec4 refractColor = texture2D( tRefractionMap, uv );

			// multiply water color with the mix of both textures
			gl_FragColor = vec4( color, 1.0 ) * mix( refractColor, reflectColor, reflectance );

			#include <tonemapping_fragment>
			#include <${parseInt(Nc.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
			#include <fog_fragment>

		}`});const nv={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","#include <packing>","void main() {","	float depth = 1.0 - unpackRGBAToDepth( texture2D( tDiffuse, vUv ) );","	gl_FragColor = vec4( vec3( depth ), opacity );","}"].join(`
`)},mR=(n,e)=>(n%e+e)%e;let boe=class extends dl{constructor(e,t){super(),Ve(this,"object"),Ve(this,"domElement"),Ve(this,"enabled",!0),Ve(this,"target",new Q),Ve(this,"minDistance",0),Ve(this,"maxDistance",1/0),Ve(this,"minZoom",0),Ve(this,"maxZoom",1/0),Ve(this,"minPolarAngle",0),Ve(this,"maxPolarAngle",Math.PI),Ve(this,"minAzimuthAngle",-1/0),Ve(this,"maxAzimuthAngle",1/0),Ve(this,"enableDamping",!1),Ve(this,"dampingFactor",.05),Ve(this,"enableZoom",!0),Ve(this,"zoomSpeed",1),Ve(this,"enableRotate",!0),Ve(this,"rotateSpeed",1),Ve(this,"enablePan",!0),Ve(this,"panSpeed",1),Ve(this,"screenSpacePanning",!0),Ve(this,"keyPanSpeed",7),Ve(this,"autoRotate",!1),Ve(this,"autoRotateSpeed",2),Ve(this,"reverseOrbit",!1),Ve(this,"reverseHorizontalOrbit",!1),Ve(this,"reverseVerticalOrbit",!1),Ve(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Ve(this,"mouseButtons",{LEFT:Su.ROTATE,MIDDLE:Su.DOLLY,RIGHT:Su.PAN}),Ve(this,"touches",{ONE:Eu.ROTATE,TWO:Eu.DOLLY_PAN}),Ve(this,"target0"),Ve(this,"position0"),Ve(this,"zoom0"),Ve(this,"_domElementKeyEvents",null),Ve(this,"getPolarAngle"),Ve(this,"getAzimuthalAngle"),Ve(this,"setPolarAngle"),Ve(this,"setAzimuthalAngle"),Ve(this,"getDistance"),Ve(this,"listenToKeyEvents"),Ve(this,"stopListenToKeyEvents"),Ve(this,"saveState"),Ve(this,"reset"),Ve(this,"update"),Ve(this,"connect"),Ve(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=Y=>{let de=mR(Y,2*Math.PI),Me=u.phi;Me<0&&(Me+=2*Math.PI),de<0&&(de+=2*Math.PI);let Ee=Math.abs(de-Me);2*Math.PI-Ee<Ee&&(de<Me?de+=2*Math.PI:Me+=2*Math.PI),h.phi=de-Me,i.update()},this.setAzimuthalAngle=Y=>{let de=mR(Y,2*Math.PI),Me=u.theta;Me<0&&(Me+=2*Math.PI),de<0&&(de+=2*Math.PI);let Ee=Math.abs(de-Me);2*Math.PI-Ee<Ee&&(de<Me?de+=2*Math.PI:Me+=2*Math.PI),h.theta=de-Me,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=Y=>{Y.addEventListener("keydown",N),this._domElementKeyEvents=Y},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",N),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const Y=new Q,de=new Q(0,1,0),Me=new Ar().setFromUnitVectors(e.up,de),Ee=Me.clone().invert(),Fe=new Q,nt=new Ar,ft=2*Math.PI;return function(){const He=i.object.position;Me.setFromUnitVectors(e.up,de),Ee.copy(Me).invert(),Y.copy(He).sub(i.target),Y.applyQuaternion(Me),u.setFromVector3(Y),i.autoRotate&&l===a.NONE&&O(B()),i.enableDamping?(u.theta+=h.theta*i.dampingFactor,u.phi+=h.phi*i.dampingFactor):(u.theta+=h.theta,u.phi+=h.phi);let ce=i.minAzimuthAngle,We=i.maxAzimuthAngle;return isFinite(ce)&&isFinite(We)&&(ce<-Math.PI?ce+=ft:ce>Math.PI&&(ce-=ft),We<-Math.PI?We+=ft:We>Math.PI&&(We-=ft),ce<=We?u.theta=Math.max(ce,Math.min(We,u.theta)):u.theta=u.theta>(ce+We)/2?Math.max(ce,u.theta):Math.min(We,u.theta)),u.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=f,u.radius=Math.max(i.minDistance,Math.min(i.maxDistance,u.radius)),i.enableDamping===!0?i.target.addScaledVector(p,i.dampingFactor):i.target.add(p),Y.setFromSpherical(u),Y.applyQuaternion(Ee),He.copy(i.target).add(Y),i.object.lookAt(i.target),i.enableDamping===!0?(h.theta*=1-i.dampingFactor,h.phi*=1-i.dampingFactor,p.multiplyScalar(1-i.dampingFactor)):(h.set(0,0,0),p.set(0,0,0)),f=1,m||Fe.distanceToSquared(i.object.position)>c||8*(1-nt.dot(i.object.quaternion))>c?(i.dispatchEvent(r),Fe.copy(i.object.position),nt.copy(i.object.quaternion),m=!1,!0):!1}})(),this.connect=Y=>{Y===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=Y,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Ie),i.domElement.addEventListener("pointerdown",qe),i.domElement.addEventListener("pointercancel",Ue),i.domElement.addEventListener("wheel",W)},this.dispose=()=>{var Y,de,Me,Ee,Fe,nt;(Y=i.domElement)==null||Y.removeEventListener("contextmenu",Ie),(de=i.domElement)==null||de.removeEventListener("pointerdown",qe),(Me=i.domElement)==null||Me.removeEventListener("pointercancel",Ue),(Ee=i.domElement)==null||Ee.removeEventListener("wheel",W),(Fe=i.domElement)==null||Fe.ownerDocument.removeEventListener("pointermove",me),(nt=i.domElement)==null||nt.ownerDocument.removeEventListener("pointerup",Pe),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",N)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new Ex,h=new Ex;let f=1;const p=new Q;let m=!1;const S=new _e,v=new _e,A=new _e,y=new _e,x=new _e,C=new _e,w=new _e,M=new _e,T=new _e,R=[],b={};function B(){return 2*Math.PI/60/60*i.autoRotateSpeed}function P(){return Math.pow(.95,i.zoomSpeed)}function O(Y){i.reverseOrbit||i.reverseHorizontalOrbit?h.theta+=Y:h.theta-=Y}function G(Y){i.reverseOrbit||i.reverseVerticalOrbit?h.phi+=Y:h.phi-=Y}const H=(()=>{const Y=new Q;return function(Me,Ee){Y.setFromMatrixColumn(Ee,0),Y.multiplyScalar(-Me),p.add(Y)}})(),j=(()=>{const Y=new Q;return function(Me,Ee){i.screenSpacePanning===!0?Y.setFromMatrixColumn(Ee,1):(Y.setFromMatrixColumn(Ee,0),Y.crossVectors(i.object.up,Y)),Y.multiplyScalar(Me),p.add(Y)}})(),q=(()=>{const Y=new Q;return function(Me,Ee){const Fe=i.domElement;if(Fe&&i.object instanceof Xn&&i.object.isPerspectiveCamera){const nt=i.object.position;Y.copy(nt).sub(i.target);let ft=Y.length();ft*=Math.tan(i.object.fov/2*Math.PI/180),H(2*Me*ft/Fe.clientHeight,i.object.matrix),j(2*Ee*ft/Fe.clientHeight,i.object.matrix)}else Fe&&i.object instanceof e1&&i.object.isOrthographicCamera?(H(Me*(i.object.right-i.object.left)/i.object.zoom/Fe.clientWidth,i.object.matrix),j(Ee*(i.object.top-i.object.bottom)/i.object.zoom/Fe.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function J(Y){i.object instanceof Xn&&i.object.isPerspectiveCamera?f/=Y:i.object instanceof e1&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*Y)),i.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function L(Y){i.object instanceof Xn&&i.object.isPerspectiveCamera?f*=Y:i.object instanceof e1&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/Y)),i.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function D(Y){S.set(Y.clientX,Y.clientY)}function F(Y){w.set(Y.clientX,Y.clientY)}function z(Y){y.set(Y.clientX,Y.clientY)}function U(Y){v.set(Y.clientX,Y.clientY),A.subVectors(v,S).multiplyScalar(i.rotateSpeed);const de=i.domElement;de&&(O(2*Math.PI*A.x/de.clientHeight),G(2*Math.PI*A.y/de.clientHeight)),S.copy(v),i.update()}function $(Y){M.set(Y.clientX,Y.clientY),T.subVectors(M,w),T.y>0?J(P()):T.y<0&&L(P()),w.copy(M),i.update()}function ee(Y){x.set(Y.clientX,Y.clientY),C.subVectors(x,y).multiplyScalar(i.panSpeed),q(C.x,C.y),y.copy(x),i.update()}function ie(Y){Y.deltaY<0?L(P()):Y.deltaY>0&&J(P()),i.update()}function se(Y){let de=!1;switch(Y.code){case i.keys.UP:q(0,i.keyPanSpeed),de=!0;break;case i.keys.BOTTOM:q(0,-i.keyPanSpeed),de=!0;break;case i.keys.LEFT:q(i.keyPanSpeed,0),de=!0;break;case i.keys.RIGHT:q(-i.keyPanSpeed,0),de=!0;break}de&&(Y.preventDefault(),i.update())}function re(){if(R.length==1)S.set(R[0].pageX,R[0].pageY);else{const Y=.5*(R[0].pageX+R[1].pageX),de=.5*(R[0].pageY+R[1].pageY);S.set(Y,de)}}function he(){if(R.length==1)y.set(R[0].pageX,R[0].pageY);else{const Y=.5*(R[0].pageX+R[1].pageX),de=.5*(R[0].pageY+R[1].pageY);y.set(Y,de)}}function Ce(){const Y=R[0].pageX-R[1].pageX,de=R[0].pageY-R[1].pageY,Me=Math.sqrt(Y*Y+de*de);w.set(0,Me)}function ze(){i.enableZoom&&Ce(),i.enablePan&&he()}function Se(){i.enableZoom&&Ce(),i.enableRotate&&re()}function V(Y){if(R.length==1)v.set(Y.pageX,Y.pageY);else{const Me=pe(Y),Ee=.5*(Y.pageX+Me.x),Fe=.5*(Y.pageY+Me.y);v.set(Ee,Fe)}A.subVectors(v,S).multiplyScalar(i.rotateSpeed);const de=i.domElement;de&&(O(2*Math.PI*A.x/de.clientHeight),G(2*Math.PI*A.y/de.clientHeight)),S.copy(v)}function ye(Y){if(R.length==1)x.set(Y.pageX,Y.pageY);else{const de=pe(Y),Me=.5*(Y.pageX+de.x),Ee=.5*(Y.pageY+de.y);x.set(Me,Ee)}C.subVectors(x,y).multiplyScalar(i.panSpeed),q(C.x,C.y),y.copy(x)}function fe(Y){const de=pe(Y),Me=Y.pageX-de.x,Ee=Y.pageY-de.y,Fe=Math.sqrt(Me*Me+Ee*Ee);M.set(0,Fe),T.set(0,Math.pow(M.y/w.y,i.zoomSpeed)),J(T.y),w.copy(M)}function xe(Y){i.enableZoom&&fe(Y),i.enablePan&&ye(Y)}function ge(Y){i.enableZoom&&fe(Y),i.enableRotate&&V(Y)}function qe(Y){var de,Me;i.enabled!==!1&&(R.length===0&&((de=i.domElement)==null||de.ownerDocument.addEventListener("pointermove",me),(Me=i.domElement)==null||Me.ownerDocument.addEventListener("pointerup",Pe)),Re(Y),Y.pointerType==="touch"?oe(Y):we(Y))}function me(Y){i.enabled!==!1&&(Y.pointerType==="touch"?Ne(Y):Ke(Y))}function Pe(Y){var de,Me,Ee;je(Y),R.length===0&&((de=i.domElement)==null||de.releasePointerCapture(Y.pointerId),(Me=i.domElement)==null||Me.ownerDocument.removeEventListener("pointermove",me),(Ee=i.domElement)==null||Ee.ownerDocument.removeEventListener("pointerup",Pe)),i.dispatchEvent(o),l=a.NONE}function Ue(Y){je(Y)}function we(Y){let de;switch(Y.button){case 0:de=i.mouseButtons.LEFT;break;case 1:de=i.mouseButtons.MIDDLE;break;case 2:de=i.mouseButtons.RIGHT;break;default:de=-1}switch(de){case Su.DOLLY:if(i.enableZoom===!1)return;F(Y),l=a.DOLLY;break;case Su.ROTATE:if(Y.ctrlKey||Y.metaKey||Y.shiftKey){if(i.enablePan===!1)return;z(Y),l=a.PAN}else{if(i.enableRotate===!1)return;D(Y),l=a.ROTATE}break;case Su.PAN:if(Y.ctrlKey||Y.metaKey||Y.shiftKey){if(i.enableRotate===!1)return;D(Y),l=a.ROTATE}else{if(i.enablePan===!1)return;z(Y),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Ke(Y){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;U(Y);break;case a.DOLLY:if(i.enableZoom===!1)return;$(Y);break;case a.PAN:if(i.enablePan===!1)return;ee(Y);break}}function W(Y){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(Y.preventDefault(),i.dispatchEvent(s),ie(Y),i.dispatchEvent(o))}function N(Y){i.enabled===!1||i.enablePan===!1||se(Y)}function oe(Y){switch(Qe(Y),R.length){case 1:switch(i.touches.ONE){case Eu.ROTATE:if(i.enableRotate===!1)return;re(),l=a.TOUCH_ROTATE;break;case Eu.PAN:if(i.enablePan===!1)return;he(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case Eu.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;ze(),l=a.TOUCH_DOLLY_PAN;break;case Eu.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Se(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Ne(Y){switch(Qe(Y),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;V(Y),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;ye(Y),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;xe(Y),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;ge(Y),i.update();break;default:l=a.NONE}}function Ie(Y){i.enabled!==!1&&Y.preventDefault()}function Re(Y){R.push(Y)}function je(Y){delete b[Y.pointerId];for(let de=0;de<R.length;de++)if(R[de].pointerId==Y.pointerId){R.splice(de,1);return}}function Qe(Y){let de=b[Y.pointerId];de===void 0&&(de=new _e,b[Y.pointerId]=de),de.set(Y.pageX,Y.pageY)}function pe(Y){const de=Y.pointerId===R[0].pointerId?R[1]:R[0];return b[de.pointerId]}t!==void 0&&this.connect(t),this.update()}};class Z7{constructor(){Ve(this,"enabled",!0),Ve(this,"needsSwap",!0),Ve(this,"clear",!1),Ve(this,"renderToScreen",!1)}setSize(e,t){}render(e,t,i,r,s){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}class eg{constructor(e){Ve(this,"camera",new e1(-1,1,1,-1,0,1)),Ve(this,"geometry",new pl(2,2)),Ve(this,"mesh"),this.mesh=new mn(this.geometry,e)}get material(){return this.mesh.material}set material(e){this.mesh.material=e}dispose(){this.mesh.geometry.dispose()}render(e){e.render(this.mesh,this.camera)}}const ll={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	gl_FragColor = opacity * texel;","}"].join(`
`)},sf={defines:{PERSPECTIVE_CAMERA:1,KERNEL_SIZE:32},uniforms:{tDiffuse:{value:null},tNormal:{value:null},tDepth:{value:null},tNoise:{value:null},kernel:{value:null},cameraNear:{value:null},cameraFar:{value:null},resolution:{value:new _e},cameraProjectionMatrix:{value:new At},cameraInverseProjectionMatrix:{value:new At},kernelRadius:{value:8},minDistance:{value:.005},maxDistance:{value:.05}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform sampler2D tNormal;","uniform sampler2D tDepth;","uniform sampler2D tNoise;","uniform vec3 kernel[ KERNEL_SIZE ];","uniform vec2 resolution;","uniform float cameraNear;","uniform float cameraFar;","uniform mat4 cameraProjectionMatrix;","uniform mat4 cameraInverseProjectionMatrix;","uniform float kernelRadius;","uniform float minDistance;","uniform float maxDistance;","varying vec2 vUv;","#include <packing>","float getDepth( const in vec2 screenPosition ) {","	return texture2D( tDepth, screenPosition ).x;","}","float getLinearDepth( const in vec2 screenPosition ) {","	#if PERSPECTIVE_CAMERA == 1","		float fragCoordZ = texture2D( tDepth, screenPosition ).x;","		float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );","		return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );","	#else","		return texture2D( tDepth, screenPosition ).x;","	#endif","}","float getViewZ( const in float depth ) {","	#if PERSPECTIVE_CAMERA == 1","		return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","	#else","		return orthographicDepthToViewZ( depth, cameraNear, cameraFar );","	#endif","}","vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {","	float clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];","	vec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );","	clipPosition *= clipW; // unprojection.","	return ( cameraInverseProjectionMatrix * clipPosition ).xyz;","}","vec3 getViewNormal( const in vec2 screenPosition ) {","	return unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );","}","void main() {","	float depth = getDepth( vUv );","	float viewZ = getViewZ( depth );","	vec3 viewPosition = getViewPosition( vUv, depth, viewZ );","	vec3 viewNormal = getViewNormal( vUv );"," vec2 noiseScale = vec2( resolution.x / 4.0, resolution.y / 4.0 );","	vec3 random = texture2D( tNoise, vUv * noiseScale ).xyz;","	vec3 tangent = normalize( random - viewNormal * dot( random, viewNormal ) );","	vec3 bitangent = cross( viewNormal, tangent );","	mat3 kernelMatrix = mat3( tangent, bitangent, viewNormal );"," float occlusion = 0.0;"," for ( int i = 0; i < KERNEL_SIZE; i ++ ) {","		vec3 sampleVector = kernelMatrix * kernel[ i ];","		vec3 samplePoint = viewPosition + ( sampleVector * kernelRadius );","		vec4 samplePointNDC = cameraProjectionMatrix * vec4( samplePoint, 1.0 );","		samplePointNDC /= samplePointNDC.w;","		vec2 samplePointUv = samplePointNDC.xy * 0.5 + 0.5;","		float realDepth = getLinearDepth( samplePointUv );","		float sampleDepth = viewZToOrthographicDepth( samplePoint.z, cameraNear, cameraFar );","		float delta = sampleDepth - realDepth;","		if ( delta > minDistance && delta < maxDistance ) {","			occlusion += 1.0;","		}","	}","	occlusion = clamp( occlusion / float( KERNEL_SIZE ), 0.0, 1.0 );","	gl_FragColor = vec4( vec3( 1.0 - occlusion ), 1.0 );","}"].join(`
`)},m6={defines:{PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDepth;","uniform float cameraNear;","uniform float cameraFar;","varying vec2 vUv;","#include <packing>","float getLinearDepth( const in vec2 screenPosition ) {","	#if PERSPECTIVE_CAMERA == 1","		float fragCoordZ = texture2D( tDepth, screenPosition ).x;","		float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );","		return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );","	#else","		return texture2D( tDepth, screenPosition ).x;","	#endif","}","void main() {","	float depth = getLinearDepth( vUv );","	gl_FragColor = vec4( vec3( 1.0 - depth ), 1.0 );","}"].join(`
`)},A6={uniforms:{tDiffuse:{value:null},resolution:{value:new _e}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec2 resolution;","varying vec2 vUv;","void main() {","	vec2 texelSize = ( 1.0 / resolution );","	float result = 0.0;","	for ( int i = - 2; i <= 2; i ++ ) {","		for ( int j = - 2; j <= 2; j ++ ) {","			vec2 offset = ( vec2( float( i ), float( j ) ) ) * texelSize;","			result += texture2D( tDiffuse, vUv + offset ).r;","		}","	}","	gl_FragColor = vec4( vec3( result / ( 5.0 * 5.0 ) ), 1.0 );","}"].join(`
`)},_u=class extends Z7{constructor(n,e,t,i){super(),this.width=t!==void 0?t:512,this.height=i!==void 0?i:512,this.clear=!0,this.camera=e,this.scene=n,this.kernelRadius=8,this.kernelSize=32,this.kernel=[],this.noiseTexture=null,this.output=0,this.minDistance=.005,this.maxDistance=.1,this._visibilityCache=new Map,this.generateSampleKernel(),this.generateRandomKernelRotations();const r=new $2;r.format=Ec,r.type=Zl,this.beautyRenderTarget=new In(this.width,this.height),this.normalRenderTarget=new In(this.width,this.height,{minFilter:Pt,magFilter:Pt,depthTexture:r}),this.ssaoRenderTarget=new In(this.width,this.height),this.blurRenderTarget=this.ssaoRenderTarget.clone(),sf===void 0&&console.error("THREE.SSAOPass: The pass relies on SSAOShader."),this.ssaoMaterial=new un({defines:Object.assign({},sf.defines),uniforms:qn.clone(sf.uniforms),vertexShader:sf.vertexShader,fragmentShader:sf.fragmentShader,blending:Zt}),this.ssaoMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.ssaoMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.ssaoMaterial.uniforms.tDepth.value=this.normalRenderTarget.depthTexture,this.ssaoMaterial.uniforms.tNoise.value=this.noiseTexture,this.ssaoMaterial.uniforms.kernel.value=this.kernel,this.ssaoMaterial.uniforms.cameraNear.value=this.camera.near,this.ssaoMaterial.uniforms.cameraFar.value=this.camera.far,this.ssaoMaterial.uniforms.resolution.value.set(this.width,this.height),this.ssaoMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssaoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.normalMaterial=new Q4,this.normalMaterial.blending=Zt,this.blurMaterial=new un({defines:Object.assign({},A6.defines),uniforms:qn.clone(A6.uniforms),vertexShader:A6.vertexShader,fragmentShader:A6.fragmentShader}),this.blurMaterial.uniforms.tDiffuse.value=this.ssaoRenderTarget.texture,this.blurMaterial.uniforms.resolution.value.set(this.width,this.height),this.depthRenderMaterial=new un({defines:Object.assign({},m6.defines),uniforms:qn.clone(m6.uniforms),vertexShader:m6.vertexShader,fragmentShader:m6.fragmentShader,blending:Zt}),this.depthRenderMaterial.uniforms.tDepth.value=this.normalRenderTarget.depthTexture,this.depthRenderMaterial.uniforms.cameraNear.value=this.camera.near,this.depthRenderMaterial.uniforms.cameraFar.value=this.camera.far,this.copyMaterial=new un({uniforms:qn.clone(ll.uniforms),vertexShader:ll.vertexShader,fragmentShader:ll.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,blendSrc:R7,blendDst:M2,blendEquation:Ks,blendSrcAlpha:I7,blendDstAlpha:M2,blendEquationAlpha:Ks}),this.fsQuad=new eg(null),this.originalClearColor=new Je}dispose(){this.beautyRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.ssaoRenderTarget.dispose(),this.blurRenderTarget.dispose(),this.normalMaterial.dispose(),this.blurMaterial.dispose(),this.copyMaterial.dispose(),this.depthRenderMaterial.dispose(),this.fsQuad.dispose()}render(n,e){switch(n.capabilities.isWebGL2===!1&&(this.noiseTexture.format=cC),n.setRenderTarget(this.beautyRenderTarget),n.clear(),n.render(this.scene,this.camera),this.overrideVisibility(),this.renderOverride(n,this.normalMaterial,this.normalRenderTarget,7829503,1),this.restoreVisibility(),this.ssaoMaterial.uniforms.kernelRadius.value=this.kernelRadius,this.ssaoMaterial.uniforms.minDistance.value=this.minDistance,this.ssaoMaterial.uniforms.maxDistance.value=this.maxDistance,this.renderPass(n,this.ssaoMaterial,this.ssaoRenderTarget),this.renderPass(n,this.blurMaterial,this.blurRenderTarget),this.output){case _u.OUTPUT.SSAO:this.copyMaterial.uniforms.tDiffuse.value=this.ssaoRenderTarget.texture,this.copyMaterial.blending=Zt,this.renderPass(n,this.copyMaterial,this.renderToScreen?null:e);break;case _u.OUTPUT.Blur:this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.copyMaterial.blending=Zt,this.renderPass(n,this.copyMaterial,this.renderToScreen?null:e);break;case _u.OUTPUT.Beauty:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Zt,this.renderPass(n,this.copyMaterial,this.renderToScreen?null:e);break;case _u.OUTPUT.Depth:this.renderPass(n,this.depthRenderMaterial,this.renderToScreen?null:e);break;case _u.OUTPUT.Normal:this.copyMaterial.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.copyMaterial.blending=Zt,this.renderPass(n,this.copyMaterial,this.renderToScreen?null:e);break;case _u.OUTPUT.Default:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Zt,this.renderPass(n,this.copyMaterial,this.renderToScreen?null:e),this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.copyMaterial.blending=Td,this.renderPass(n,this.copyMaterial,this.renderToScreen?null:e);break;default:console.warn("THREE.SSAOPass: Unknown output type.")}}renderPass(n,e,t,i,r){n.getClearColor(this.originalClearColor);const s=n.getClearAlpha(),o=n.autoClear;n.setRenderTarget(t),n.autoClear=!1,i!=null&&(n.setClearColor(i),n.setClearAlpha(r||0),n.clear()),this.fsQuad.material=e,this.fsQuad.render(n),n.autoClear=o,n.setClearColor(this.originalClearColor),n.setClearAlpha(s)}renderOverride(n,e,t,i,r){n.getClearColor(this.originalClearColor);const s=n.getClearAlpha(),o=n.autoClear;n.setRenderTarget(t),n.autoClear=!1,i=e.clearColor||i,r=e.clearAlpha||r,i!=null&&(n.setClearColor(i),n.setClearAlpha(r||0),n.clear()),this.scene.overrideMaterial=e,n.render(this.scene,this.camera),this.scene.overrideMaterial=null,n.autoClear=o,n.setClearColor(this.originalClearColor),n.setClearAlpha(s)}setSize(n,e){this.width=n,this.height=e,this.beautyRenderTarget.setSize(n,e),this.ssaoRenderTarget.setSize(n,e),this.normalRenderTarget.setSize(n,e),this.blurRenderTarget.setSize(n,e),this.ssaoMaterial.uniforms.resolution.value.set(n,e),this.ssaoMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssaoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.blurMaterial.uniforms.resolution.value.set(n,e)}generateSampleKernel(){const n=this.kernelSize,e=this.kernel;for(let t=0;t<n;t++){const i=new Q;i.x=Math.random()*2-1,i.y=Math.random()*2-1,i.z=Math.random(),i.normalize();let r=t/n;r=c2.lerp(.1,1,r*r),i.multiplyScalar(r),e.push(i)}}generateRandomKernelRotations(){Zf===void 0&&console.error("THREE.SSAOPass: The pass relies on SimplexNoise.");const t=new Zf,i=4*4,r=new Float32Array(i);for(let s=0;s<i;s++){const o=Math.random()*2-1,a=Math.random()*2-1,l=0;r[s]=t.noise3d(o,a,l)}this.noiseTexture=new sl(r,4,4,Du,rs),this.noiseTexture.wrapS=a1,this.noiseTexture.wrapT=a1,this.noiseTexture.needsUpdate=!0}overrideVisibility(){const n=this.scene,e=this._visibilityCache;n.traverse(function(t){e.set(t,t.visible),(t.isPoints||t.isLine)&&(t.visible=!1)})}restoreVisibility(){const n=this.scene,e=this._visibilityCache;n.traverse(function(t){const i=e.get(t);t.visible=i}),e.clear()}};let Ioe=_u;Ve(Ioe,"OUTPUT",{Default:0,SSAO:1,Blur:2,Beauty:3,Depth:4,Normal:5});const Roe={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new Je(0)},defaultOpacity:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec3 defaultColor;","uniform float defaultOpacity;","uniform float luminosityThreshold;","uniform float smoothWidth;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	vec3 luma = vec3( 0.299, 0.587, 0.114 );","	float v = dot( texel.xyz, luma );","	vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );","	float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );","	gl_FragColor = mix( outputColor, texel, alpha );","}"].join(`
`)},Ux=class extends Z7{constructor(n,e,t,i){super(),this.strength=e!==void 0?e:1,this.radius=t,this.threshold=i,this.resolution=n!==void 0?new _e(n.x,n.y):new _e(256,256),this.clearColor=new Je(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let r=Math.round(this.resolution.x/2),s=Math.round(this.resolution.y/2);this.renderTargetBright=new In(r,s,{type:_i}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let u=0;u<this.nMips;u++){const h=new In(r,s,{type:_i});h.texture.name="UnrealBloomPass.h"+u,h.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(h);const f=new In(r,s,{type:_i});f.texture.name="UnrealBloomPass.v"+u,f.texture.generateMipmaps=!1,this.renderTargetsVertical.push(f),r=Math.round(r/2),s=Math.round(s/2)}const o=Roe;this.highPassUniforms=qn.clone(o.uniforms),this.highPassUniforms.luminosityThreshold.value=i,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new un({uniforms:this.highPassUniforms,vertexShader:o.vertexShader,fragmentShader:o.fragmentShader,defines:{}}),this.separableBlurMaterials=[];const a=[3,5,7,9,11];r=Math.round(this.resolution.x/2),s=Math.round(this.resolution.y/2);for(let u=0;u<this.nMips;u++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(a[u])),this.separableBlurMaterials[u].uniforms.texSize.value=new _e(r,s),r=Math.round(r/2),s=Math.round(s/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=e,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;const l=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=l,this.bloomTintColors=[new Q(1,1,1),new Q(1,1,1),new Q(1,1,1),new Q(1,1,1),new Q(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const c=ll;this.copyUniforms=qn.clone(c.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new un({uniforms:this.copyUniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader,blending:Md,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new Je,this.oldClearAlpha=1,this.basic=new ao,this.fsQuad=new eg(null)}dispose(){for(let n=0;n<this.renderTargetsHorizontal.length;n++)this.renderTargetsHorizontal[n].dispose();for(let n=0;n<this.renderTargetsVertical.length;n++)this.renderTargetsVertical[n].dispose();this.renderTargetBright.dispose();for(let n=0;n<this.separableBlurMaterials.length;n++)this.separableBlurMaterials[n].dispose();this.compositeMaterial.dispose(),this.materialCopy.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(n,e){let t=Math.round(n/2),i=Math.round(e/2);this.renderTargetBright.setSize(t,i);for(let r=0;r<this.nMips;r++)this.renderTargetsHorizontal[r].setSize(t,i),this.renderTargetsVertical[r].setSize(t,i),this.separableBlurMaterials[r].uniforms.texSize.value=new _e(t,i),t=Math.round(t/2),i=Math.round(i/2)}render(n,e,t,i,r){n.getClearColor(this._oldClearColor),this.oldClearAlpha=n.getClearAlpha();const s=n.autoClear;n.autoClear=!1,n.setClearColor(this.clearColor,0),r&&n.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=t.texture,n.setRenderTarget(null),n.clear(),this.fsQuad.render(n)),this.highPassUniforms.tDiffuse.value=t.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,n.setRenderTarget(this.renderTargetBright),n.clear(),this.fsQuad.render(n);let o=this.renderTargetBright;for(let a=0;a<this.nMips;a++)this.fsQuad.material=this.separableBlurMaterials[a],this.separableBlurMaterials[a].uniforms.colorTexture.value=o.texture,this.separableBlurMaterials[a].uniforms.direction.value=Ux.BlurDirectionX,n.setRenderTarget(this.renderTargetsHorizontal[a]),n.clear(),this.fsQuad.render(n),this.separableBlurMaterials[a].uniforms.colorTexture.value=this.renderTargetsHorizontal[a].texture,this.separableBlurMaterials[a].uniforms.direction.value=Ux.BlurDirectionY,n.setRenderTarget(this.renderTargetsVertical[a]),n.clear(),this.fsQuad.render(n),o=this.renderTargetsVertical[a];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,n.setRenderTarget(this.renderTargetsHorizontal[0]),n.clear(),this.fsQuad.render(n),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,r&&n.state.buffers.stencil.setTest(!0),this.renderToScreen?(n.setRenderTarget(null),this.fsQuad.render(n)):(n.setRenderTarget(t),this.fsQuad.render(n)),n.setClearColor(this._oldClearColor,this.oldClearAlpha),n.autoClear=s}getSeperableBlurMaterial(n){return new un({defines:{KERNEL_RADIUS:n,SIGMA:n},uniforms:{colorTexture:{value:null},texSize:{value:new _e(.5,.5)},direction:{value:new _e(.5,.5)}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;
				uniform vec2 direction;

				float gaussianPdf(in float x, in float sigma) {
					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;
				}
				void main() {
					vec2 invSize = 1.0 / texSize;
					float fSigma = float(SIGMA);
					float weightSum = gaussianPdf(0.0, fSigma);
					vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianPdf(x, fSigma);
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(n){return new un({defines:{NUM_MIPS:n},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}};let BU=Ux;Ve(BU,"BlurDirectionX",new _e(1,0));Ve(BU,"BlurDirectionY",new _e(0,1));const v6={defines:{NUM_SAMPLES:7,NUM_RINGS:4,NORMAL_TEXTURE:0,DIFFUSE_TEXTURE:0,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},tDiffuse:{value:null},tNormal:{value:null},size:{value:new _e(512,512)},cameraNear:{value:1},cameraFar:{value:100},cameraProjectionMatrix:{value:new At},cameraInverseProjectionMatrix:{value:new At},scale:{value:1},intensity:{value:.1},bias:{value:.5},minResolution:{value:0},kernelRadius:{value:100},randomSeed:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["#include <common>","varying vec2 vUv;","#if DIFFUSE_TEXTURE == 1","uniform sampler2D tDiffuse;","#endif","uniform sampler2D tDepth;","#if NORMAL_TEXTURE == 1","uniform sampler2D tNormal;","#endif","uniform float cameraNear;","uniform float cameraFar;","uniform mat4 cameraProjectionMatrix;","uniform mat4 cameraInverseProjectionMatrix;","uniform float scale;","uniform float intensity;","uniform float bias;","uniform float kernelRadius;","uniform float minResolution;","uniform vec2 size;","uniform float randomSeed;","// RGBA depth","#include <packing>","vec4 getDefaultColor( const in vec2 screenPosition ) {","	#if DIFFUSE_TEXTURE == 1","	return texture2D( tDiffuse, vUv );","	#else","	return vec4( 1.0 );","	#endif","}","float getDepth( const in vec2 screenPosition ) {","	#if DEPTH_PACKING == 1","	return unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );","	#else","	return texture2D( tDepth, screenPosition ).x;","	#endif","}","float getViewZ( const in float depth ) {","	#if PERSPECTIVE_CAMERA == 1","	return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","	#else","	return orthographicDepthToViewZ( depth, cameraNear, cameraFar );","	#endif","}","vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {","	float clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];","	vec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );","	clipPosition *= clipW; // unprojection.","	return ( cameraInverseProjectionMatrix * clipPosition ).xyz;","}","vec3 getViewNormal( const in vec3 viewPosition, const in vec2 screenPosition ) {","	#if NORMAL_TEXTURE == 1","	return unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );","	#else","	return normalize( cross( dFdx( viewPosition ), dFdy( viewPosition ) ) );","	#endif","}","float scaleDividedByCameraFar;","float minResolutionMultipliedByCameraFar;","float getOcclusion( const in vec3 centerViewPosition, const in vec3 centerViewNormal, const in vec3 sampleViewPosition ) {","	vec3 viewDelta = sampleViewPosition - centerViewPosition;","	float viewDistance = length( viewDelta );","	float scaledScreenDistance = scaleDividedByCameraFar * viewDistance;","	return max(0.0, (dot(centerViewNormal, viewDelta) - minResolutionMultipliedByCameraFar) / scaledScreenDistance - bias) / (1.0 + pow2( scaledScreenDistance ) );","}","// moving costly divides into consts","const float ANGLE_STEP = PI2 * float( NUM_RINGS ) / float( NUM_SAMPLES );","const float INV_NUM_SAMPLES = 1.0 / float( NUM_SAMPLES );","float getAmbientOcclusion( const in vec3 centerViewPosition ) {","	// precompute some variables require in getOcclusion.","	scaleDividedByCameraFar = scale / cameraFar;","	minResolutionMultipliedByCameraFar = minResolution * cameraFar;","	vec3 centerViewNormal = getViewNormal( centerViewPosition, vUv );","	// jsfiddle that shows sample pattern: https://jsfiddle.net/a16ff1p7/","	float angle = rand( vUv + randomSeed ) * PI2;","	vec2 radius = vec2( kernelRadius * INV_NUM_SAMPLES ) / size;","	vec2 radiusStep = radius;","	float occlusionSum = 0.0;","	float weightSum = 0.0;","	for( int i = 0; i < NUM_SAMPLES; i ++ ) {","		vec2 sampleUv = vUv + vec2( cos( angle ), sin( angle ) ) * radius;","		radius += radiusStep;","		angle += ANGLE_STEP;","		float sampleDepth = getDepth( sampleUv );","		if( sampleDepth >= ( 1.0 - EPSILON ) ) {","			continue;","		}","		float sampleViewZ = getViewZ( sampleDepth );","		vec3 sampleViewPosition = getViewPosition( sampleUv, sampleDepth, sampleViewZ );","		occlusionSum += getOcclusion( centerViewPosition, centerViewNormal, sampleViewPosition );","		weightSum += 1.0;","	}","	if( weightSum == 0.0 ) discard;","	return occlusionSum * ( intensity / weightSum );","}","void main() {","	float centerDepth = getDepth( vUv );","	if( centerDepth >= ( 1.0 - EPSILON ) ) {","		discard;","	}","	float centerViewZ = getViewZ( centerDepth );","	vec3 viewPosition = getViewPosition( vUv, centerDepth, centerViewZ );","	float ambientOcclusion = getAmbientOcclusion( viewPosition );","	gl_FragColor = getDefaultColor( vUv );","	gl_FragColor.xyz *=  1.0 - ambientOcclusion;","}"].join(`
`)},G1={defines:{KERNEL_RADIUS:4,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDiffuse:{value:null},size:{value:new _e(512,512)},sampleUvOffsets:{value:[new _e(0,0)]},sampleWeights:{value:[1]},tDepth:{value:null},cameraNear:{value:10},cameraFar:{value:1e3},depthCutoff:{value:10}},vertexShader:["#include <common>","uniform vec2 size;","varying vec2 vUv;","varying vec2 vInvSize;","void main() {","	vUv = uv;","	vInvSize = 1.0 / size;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["#include <common>","#include <packing>","uniform sampler2D tDiffuse;","uniform sampler2D tDepth;","uniform float cameraNear;","uniform float cameraFar;","uniform float depthCutoff;","uniform vec2 sampleUvOffsets[ KERNEL_RADIUS + 1 ];","uniform float sampleWeights[ KERNEL_RADIUS + 1 ];","varying vec2 vUv;","varying vec2 vInvSize;","float getDepth( const in vec2 screenPosition ) {","	#if DEPTH_PACKING == 1","	return unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );","	#else","	return texture2D( tDepth, screenPosition ).x;","	#endif","}","float getViewZ( const in float depth ) {","	#if PERSPECTIVE_CAMERA == 1","	return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","	#else","	return orthographicDepthToViewZ( depth, cameraNear, cameraFar );","	#endif","}","void main() {","	float depth = getDepth( vUv );","	if( depth >= ( 1.0 - EPSILON ) ) {","		discard;","	}","	float centerViewZ = -getViewZ( depth );","	bool rBreak = false, lBreak = false;","	float weightSum = sampleWeights[0];","	vec4 diffuseSum = texture2D( tDiffuse, vUv ) * weightSum;","	for( int i = 1; i <= KERNEL_RADIUS; i ++ ) {","		float sampleWeight = sampleWeights[i];","		vec2 sampleUvOffset = sampleUvOffsets[i] * vInvSize;","		vec2 sampleUv = vUv + sampleUvOffset;","		float viewZ = -getViewZ( getDepth( sampleUv ) );","		if( abs( viewZ - centerViewZ ) > depthCutoff ) rBreak = true;","		if( ! rBreak ) {","			diffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;","			weightSum += sampleWeight;","		}","		sampleUv = vUv - sampleUvOffset;","		viewZ = -getViewZ( getDepth( sampleUv ) );","		if( abs( viewZ - centerViewZ ) > depthCutoff ) lBreak = true;","		if( ! lBreak ) {","			diffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;","			weightSum += sampleWeight;","		}","	}","	gl_FragColor = diffuseSum / weightSum;","}"].join(`
`)},S9={createSampleWeights:(n,e)=>{const t=(r,s)=>Math.exp(-(r*r)/(2*(s*s)))/(Math.sqrt(2*Math.PI)*s),i=[];for(let r=0;r<=n;r++)i.push(t(r,e));return i},createSampleOffsets:(n,e)=>{const t=[];for(let i=0;i<=n;i++)t.push(e.clone().multiplyScalar(i));return t},configure:(n,e,t,i)=>{n.defines.KERNEL_RADIUS=e,n.uniforms.sampleUvOffsets.value=S9.createSampleOffsets(e,i),n.uniforms.sampleWeights.value=S9.createSampleWeights(e,t),n.needsUpdate=!0}};class Boe extends Z7{constructor(e,t,i=!1,r=!1,s=new _e(256,256)){super(),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.supportsDepthTextureExtension=i,this.supportsNormalTexture=r,this.originalClearColor=new Je,this._oldClearColor=new Je,this.oldClearAlpha=1,this.params={output:0,saoBias:.5,saoIntensity:.18,saoScale:1,saoKernelRadius:100,saoMinResolution:0,saoBlur:!0,saoBlurRadius:8,saoBlurStdDev:4,saoBlurDepthCutoff:.01},this.resolution=new _e(s.x,s.y),this.saoRenderTarget=new In(this.resolution.x,this.resolution.y,{type:_i}),this.blurIntermediateRenderTarget=this.saoRenderTarget.clone(),this.beautyRenderTarget=this.saoRenderTarget.clone(),this.normalRenderTarget=new In(this.resolution.x,this.resolution.y,{minFilter:Pt,magFilter:Pt,type:_i}),this.depthRenderTarget=this.normalRenderTarget.clone();let o;this.supportsDepthTextureExtension&&(o=new $2,o.type=E3,this.beautyRenderTarget.depthTexture=o,this.beautyRenderTarget.depthBuffer=!0),this.depthMaterial=new I4,this.depthMaterial.depthPacking=L7,this.depthMaterial.blending=Zt,this.normalMaterial=new Q4,this.normalMaterial.blending=Zt,this.saoMaterial=new un({defines:Object.assign({},v6.defines),fragmentShader:v6.fragmentShader,vertexShader:v6.vertexShader,uniforms:qn.clone(v6.uniforms)}),this.saoMaterial.extensions.derivatives=!0,this.saoMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.saoMaterial.defines.NORMAL_TEXTURE=this.supportsNormalTexture?1:0,this.saoMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.saoMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.saoMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.saoMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.blending=Zt,this.vBlurMaterial=new un({uniforms:qn.clone(G1.uniforms),defines:Object.assign({},G1.defines),vertexShader:G1.vertexShader,fragmentShader:G1.fragmentShader}),this.vBlurMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.vBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.vBlurMaterial.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.vBlurMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.vBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.vBlurMaterial.blending=Zt,this.hBlurMaterial=new un({uniforms:qn.clone(G1.uniforms),defines:Object.assign({},G1.defines),vertexShader:G1.vertexShader,fragmentShader:G1.fragmentShader}),this.hBlurMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.hBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.hBlurMaterial.uniforms.tDiffuse.value=this.blurIntermediateRenderTarget.texture,this.hBlurMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.hBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.hBlurMaterial.blending=Zt,this.materialCopy=new un({uniforms:qn.clone(ll.uniforms),vertexShader:ll.vertexShader,fragmentShader:ll.fragmentShader,blending:Zt}),this.materialCopy.transparent=!0,this.materialCopy.depthTest=!1,this.materialCopy.depthWrite=!1,this.materialCopy.blending=Td,this.materialCopy.blendSrc=R7,this.materialCopy.blendDst=M2,this.materialCopy.blendEquation=Ks,this.materialCopy.blendSrcAlpha=I7,this.materialCopy.blendDstAlpha=M2,this.materialCopy.blendEquationAlpha=Ks,this.depthCopy=new un({uniforms:qn.clone(nv.uniforms),vertexShader:nv.vertexShader,fragmentShader:nv.fragmentShader,blending:Zt}),this.fsQuad=new eg(null)}render(e,t,i){if(this.renderToScreen&&(this.materialCopy.blending=Zt,this.materialCopy.uniforms.tDiffuse.value=i.texture,this.materialCopy.needsUpdate=!0,this.renderPass(e,this.materialCopy,null)),this.params.output===1)return;e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const r=e.autoClear;e.autoClear=!1,e.setRenderTarget(this.depthRenderTarget),e.clear(),this.saoMaterial.uniforms.bias.value=this.params.saoBias,this.saoMaterial.uniforms.intensity.value=this.params.saoIntensity,this.saoMaterial.uniforms.scale.value=this.params.saoScale,this.saoMaterial.uniforms.kernelRadius.value=this.params.saoKernelRadius,this.saoMaterial.uniforms.minResolution.value=this.params.saoMinResolution,this.saoMaterial.uniforms.cameraNear.value=this.camera.near,this.saoMaterial.uniforms.cameraFar.value=this.camera.far;const s=this.params.saoBlurDepthCutoff*(this.camera.far-this.camera.near);this.vBlurMaterial.uniforms.depthCutoff.value=s,this.hBlurMaterial.uniforms.depthCutoff.value=s,this.vBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.vBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.hBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.hBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.params.saoBlurRadius=Math.floor(this.params.saoBlurRadius),(this.prevStdDev!==this.params.saoBlurStdDev||this.prevNumSamples!==this.params.saoBlurRadius)&&(S9.configure(this.vBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new _e(0,1)),S9.configure(this.hBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new _e(1,0)),this.prevStdDev=this.params.saoBlurStdDev,this.prevNumSamples=this.params.saoBlurRadius),e.setClearColor(0),e.setRenderTarget(this.beautyRenderTarget),e.clear(),e.render(this.scene,this.camera),this.supportsDepthTextureExtension||this.renderOverride(e,this.depthMaterial,this.depthRenderTarget,0,1),this.supportsNormalTexture&&this.renderOverride(e,this.normalMaterial,this.normalRenderTarget,7829503,1),this.renderPass(e,this.saoMaterial,this.saoRenderTarget,16777215,1),this.params.saoBlur&&(this.renderPass(e,this.vBlurMaterial,this.blurIntermediateRenderTarget,16777215,1),this.renderPass(e,this.hBlurMaterial,this.saoRenderTarget,16777215,1));let o=this.materialCopy;this.params.output===3?this.supportsDepthTextureExtension?(this.materialCopy.uniforms.tDiffuse.value=this.beautyRenderTarget.depthTexture,this.materialCopy.needsUpdate=!0):(this.depthCopy.uniforms.tDiffuse.value=this.depthRenderTarget.texture,this.depthCopy.needsUpdate=!0,o=this.depthCopy):this.params.output===4?(this.materialCopy.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.materialCopy.needsUpdate=!0):(this.materialCopy.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.materialCopy.needsUpdate=!0),this.params.output===0?o.blending=Td:o.blending=Zt,this.renderPass(e,o,this.renderToScreen?null:i),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=r}renderPass(e,t,i,r,s){e.getClearColor(this.originalClearColor);const o=e.getClearAlpha(),a=e.autoClear;e.setRenderTarget(i),e.autoClear=!1,r!=null&&(e.setClearColor(r),e.setClearAlpha(s||0),e.clear()),this.fsQuad.material=t,this.fsQuad.render(e),e.autoClear=a,e.setClearColor(this.originalClearColor),e.setClearAlpha(o)}renderOverride(e,t,i,r,s){e.getClearColor(this.originalClearColor);const o=e.getClearAlpha(),a=e.autoClear;e.setRenderTarget(i),e.autoClear=!1,r=t.clearColor||r,s=t.clearAlpha||s,r!=null&&(e.setClearColor(r),e.setClearAlpha(s||0),e.clear()),this.scene.overrideMaterial=t,e.render(this.scene,this.camera),this.scene.overrideMaterial=null,e.autoClear=a,e.setClearColor(this.originalClearColor),e.setClearAlpha(o)}setSize(e,t){this.beautyRenderTarget.setSize(e,t),this.saoRenderTarget.setSize(e,t),this.blurIntermediateRenderTarget.setSize(e,t),this.normalRenderTarget.setSize(e,t),this.depthRenderTarget.setSize(e,t),this.saoMaterial.uniforms.size.value.set(e,t),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.needsUpdate=!0,this.vBlurMaterial.uniforms.size.value.set(e,t),this.vBlurMaterial.needsUpdate=!0,this.hBlurMaterial.uniforms.size.value.set(e,t),this.hBlurMaterial.needsUpdate=!0}dispose(){this.saoRenderTarget.dispose(),this.blurIntermediateRenderTarget.dispose(),this.beautyRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.depthRenderTarget.dispose(),this.depthMaterial.dispose(),this.normalMaterial.dispose(),this.saoMaterial.dispose(),this.vBlurMaterial.dispose(),this.hBlurMaterial.dispose(),this.materialCopy.dispose(),this.depthCopy.dispose(),this.fsQuad.dispose()}}Ve(Boe,"OUTPUT",{Beauty:1,Default:0,SAO:2,Depth:3,Normal:4});const Qa={defines:{MAX_STEP:0,isPerspectiveCamera:!0,isDistanceAttenuation:!0,isFresnel:!0,isInfiniteThick:!1,isSelective:!1},uniforms:{tDiffuse:{value:null},tNormal:{value:null},tMetalness:{value:null},tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null},resolution:{value:new _e},cameraProjectionMatrix:{value:new At},cameraInverseProjectionMatrix:{value:new At},opacity:{value:.5},maxDistance:{value:180},cameraRange:{value:0},surfDist:{value:.007},thickTolerance:{value:.03}},vertexShader:`

    varying vec2 vUv;

    void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }

  `,fragmentShader:`
		// precision highp float;
		precision highp sampler2D;
		varying vec2 vUv;
		uniform sampler2D tDepth;
		uniform sampler2D tNormal;
		uniform sampler2D tMetalness;
		uniform sampler2D tDiffuse;
		uniform float cameraRange;
		uniform vec2 resolution;
		uniform float opacity;
		uniform float cameraNear;
		uniform float cameraFar;
		uniform float maxDistance;
		uniform float surfDist;
		uniform mat4 cameraProjectionMatrix;
		uniform mat4 cameraInverseProjectionMatrix;
		uniform float thickTolerance;
		#include <packing>
		float pointToLineDistance(vec3 x0, vec3 x1, vec3 x2) {
			//x0: point, x1: linePointA, x2: linePointB
			//https://mathworld.wolfram.com/Point-LineDistance3-Dimensional.html
			return length(cross(x0-x1,x0-x2))/length(x2-x1);
		}
		float pointPlaneDistance(vec3 point,vec3 planePoint,vec3 planeNormal){
			// https://mathworld.wolfram.com/Point-PlaneDistance.html
			//// https://en.wikipedia.org/wiki/Plane_(geometry)
			//// http://paulbourke.net/geometry/pointlineplane/
			float a=planeNormal.x,b=planeNormal.y,c=planeNormal.z;
			float x0=point.x,y0=point.y,z0=point.z;
			float x=planePoint.x,y=planePoint.y,z=planePoint.z;
			float d=-(a*x+b*y+c*z);
			float distance=(a*x0+b*y0+c*z0+d)/sqrt(a*a+b*b+c*c);
			return distance;
		}
		float getDepth( const in vec2 uv ) {
			return texture2D( tDepth, uv ).x;
		}
		float getViewZ( const in float depth ) {
			#ifdef isPerspectiveCamera
				return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );
			#else
				return orthographicDepthToViewZ( depth, cameraNear, cameraFar );
			#endif
		}
		vec3 getViewPosition( const in vec2 uv, const in float depth/*clip space*/, const in float clipW ) {
			vec4 clipPosition = vec4( ( vec3( uv, depth ) - 0.5 ) * 2.0, 1.0 );//ndc
			clipPosition *= clipW; //clip
			return ( cameraInverseProjectionMatrix * clipPosition ).xyz;//view
		}
		vec3 getViewNormal( const in vec2 uv ) {
			return unpackRGBToNormal( texture2D( tNormal, uv ).xyz );
		}
		vec2 viewPositionToXY(vec3 viewPosition){
			vec2 xy;
			vec4 clip=cameraProjectionMatrix*vec4(viewPosition,1);
			xy=clip.xy;//clip
			float clipW=clip.w;
			xy/=clipW;//NDC
			xy=(xy+1.)/2.;//uv
			xy*=resolution;//screen
			return xy;
		}
		void main(){
			#ifdef isSelective
				float metalness=texture2D(tMetalness,vUv).r;
				if(metalness==0.) return;
			#endif

			float depth = getDepth( vUv );
			float viewZ = getViewZ( depth );
			if(-viewZ>=cameraFar) return;

			float clipW = cameraProjectionMatrix[2][3] * viewZ+cameraProjectionMatrix[3][3];
			vec3 viewPosition=getViewPosition( vUv, depth, clipW );

			vec2 d0=gl_FragCoord.xy;
			vec2 d1;

			vec3 viewNormal=getViewNormal( vUv );

			#ifdef isPerspectiveCamera
				vec3 viewIncidenceDir=normalize(viewPosition);
				vec3 viewReflectDir=reflect(viewIncidenceDir,viewNormal);
			#else
				vec3 viewIncidenceDir=vec3(0,0,-1);
				vec3 viewReflectDir=reflect(viewIncidenceDir,viewNormal);
			#endif

			float maxReflectRayLen=maxDistance/dot(-viewIncidenceDir,viewNormal);
			// dot(a,b)==length(a)*length(b)*cos(theta) // https://www.mathsisfun.com/algebra/vectors-dot-product.html
			// if(a.isNormalized&&b.isNormalized) dot(a,b)==cos(theta)
			// maxDistance/maxReflectRayLen=cos(theta)
			// maxDistance/maxReflectRayLen==dot(a,b)
			// maxReflectRayLen==maxDistance/dot(a,b)

			vec3 d1viewPosition=viewPosition+viewReflectDir*maxReflectRayLen;
			#ifdef isPerspectiveCamera
				if(d1viewPosition.z>-cameraNear){
					//https://tutorial.math.lamar.edu/Classes/CalcIII/EqnsOfLines.aspx
					float t=(-cameraNear-viewPosition.z)/viewReflectDir.z;
					d1viewPosition=viewPosition+viewReflectDir*t;
				}
			#endif
			d1=viewPositionToXY(d1viewPosition);

			float totalLen=length(d1-d0);
			float xLen=d1.x-d0.x;
			float yLen=d1.y-d0.y;
			float totalStep=max(abs(xLen),abs(yLen));
			float xSpan=xLen/totalStep;
			float ySpan=yLen/totalStep;
			for(float i=0.;i<MAX_STEP;i++){
				if(i>=totalStep) break;
				vec2 xy=vec2(d0.x+i*xSpan,d0.y+i*ySpan);
				if(xy.x<0.||xy.x>resolution.x||xy.y<0.||xy.y>resolution.y) break;
				float s=length(xy-d0)/totalLen;
				vec2 uv=xy/resolution;

				float d = getDepth(uv);
				float vZ = getViewZ( d );
				if(-vZ>=cameraFar) continue;
				float cW = cameraProjectionMatrix[2][3] * vZ+cameraProjectionMatrix[3][3];
				vec3 vP=getViewPosition( uv, d, cW );

				#ifdef isPerspectiveCamera
					// https://www.comp.nus.edu.sg/~lowkl/publications/lowk_persp_interp_techrep.pdf
					float recipVPZ=1./viewPosition.z;
					float viewReflectRayZ=1./(recipVPZ+s*(1./d1viewPosition.z-recipVPZ));
					float sD=surfDist*cW;
				#else
					float viewReflectRayZ=viewPosition.z+s*(d1viewPosition.z-viewPosition.z);
					float sD=surfDist;
				#endif
				if(viewReflectRayZ-sD>vZ) continue;

				#ifdef isInfiniteThick
					if(viewReflectRayZ+thickTolerance*clipW<vP.z) break;
				#endif
				float away=pointToLineDistance(vP,viewPosition,d1viewPosition);

				float op=opacity;

				if(away<sD){
					vec3 vN=getViewNormal( uv );
					if(dot(viewReflectDir,vN)>=0.) continue;
					float distance=pointPlaneDistance(vP,viewPosition,viewNormal);
					if(distance>maxDistance) break;
					#ifdef isDistanceAttenuation
						float ratio=1.-(distance/maxDistance);
						float attenuation=ratio*ratio;
						op=opacity*attenuation;
					#endif
					#ifdef isFresnel
						float fresnel=(dot(viewIncidenceDir,viewReflectDir)+1.)/2.;
						op*=fresnel;
					#endif
					vec4 reflectColor=texture2D(tDiffuse,uv);
					gl_FragColor.xyz=reflectColor.xyz;
					gl_FragColor.a=op;
					break;
				}
			}
		}
	`},y6={defines:{PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null}},vertexShader:`

    varying vec2 vUv;

    void main() {

    	vUv = uv;
    	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }

  `,fragmentShader:`

    uniform sampler2D tDepth;

    uniform float cameraNear;
    uniform float cameraFar;

    varying vec2 vUv;

    #include <packing>

		float getLinearDepth( const in vec2 uv ) {

			#if PERSPECTIVE_CAMERA == 1

				float fragCoordZ = texture2D( tDepth, uv ).x;
				float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );
				return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );

			#else

				return texture2D( tDepth, uv ).x;

			#endif

		}

    void main() {

    	float depth = getLinearDepth( vUv );
			float d = 1.0 - depth;
			// d=(d-.999)*1000.;
    	gl_FragColor = vec4( vec3( d ), 1.0 );

    }

  `},z1={uniforms:{tDiffuse:{value:null},resolution:{value:new _e},opacity:{value:.5}},vertexShader:`

    varying vec2 vUv;

    void main() {

    	vUv = uv;
    	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }

  `,fragmentShader:`

    uniform sampler2D tDiffuse;
    uniform vec2 resolution;
    varying vec2 vUv;
    void main() {
			//reverse engineering from PhotoShop blur filter, then change coefficient

    	vec2 texelSize = ( 1.0 / resolution );

			vec4 c=texture2D(tDiffuse,vUv);

			vec2 offset;

			offset=(vec2(-1,0))*texelSize;
			vec4 cl=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(1,0))*texelSize;
			vec4 cr=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(0,-1))*texelSize;
			vec4 cb=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(0,1))*texelSize;
			vec4 ct=texture2D(tDiffuse,vUv+offset);

			// float coeCenter=.5;
			// float coeSide=.125;
			float coeCenter=.2;
			float coeSide=.2;
			float a=c.a*coeCenter+cl.a*coeSide+cr.a*coeSide+cb.a*coeSide+ct.a*coeSide;
			vec3 rgb=(c.rgb*c.a*coeCenter+cl.rgb*cl.a*coeSide+cr.rgb*cr.a*coeSide+cb.rgb*cb.a*coeSide+ct.rgb*ct.a*coeSide)/a;
			gl_FragColor=vec4(rgb,a);

		}
	`},Mu=class extends Z7{constructor({renderer:n,scene:e,camera:t,width:i,height:r,selects:s,bouncing:o=!1,groundReflector:a}){super(),this.width=i!==void 0?i:512,this.height=r!==void 0?r:512,this.clear=!0,this.renderer=n,this.scene=e,this.camera=t,this.groundReflector=a,this.opacity=Qa.uniforms.opacity.value,this.output=0,this.maxDistance=Qa.uniforms.maxDistance.value,this.thickness=Qa.uniforms.thickness.value,this.tempColor=new Je,this._selects=s,this.selective=Array.isArray(this._selects),Object.defineProperty(this,"selects",{get(){return this._selects},set(c){this._selects!==c&&(this._selects=c,Array.isArray(c)?(this.selective=!0,this.ssrMaterial.defines.SELECTIVE=!0,this.ssrMaterial.needsUpdate=!0):(this.selective=!1,this.ssrMaterial.defines.SELECTIVE=!1,this.ssrMaterial.needsUpdate=!0))}}),this._bouncing=o,Object.defineProperty(this,"bouncing",{get(){return this._bouncing},set(c){this._bouncing!==c&&(this._bouncing=c,c?this.ssrMaterial.uniforms.tDiffuse.value=this.prevRenderTarget.texture:this.ssrMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture)}}),this.blur=!0,this._distanceAttenuation=Qa.defines.DISTANCE_ATTENUATION,Object.defineProperty(this,"distanceAttenuation",{get(){return this._distanceAttenuation},set(c){this._distanceAttenuation!==c&&(this._distanceAttenuation=c,this.ssrMaterial.defines.DISTANCE_ATTENUATION=c,this.ssrMaterial.needsUpdate=!0)}}),this._fresnel=Qa.defines.FRESNEL,Object.defineProperty(this,"fresnel",{get(){return this._fresnel},set(c){this._fresnel!==c&&(this._fresnel=c,this.ssrMaterial.defines.FRESNEL=c,this.ssrMaterial.needsUpdate=!0)}}),this._infiniteThick=Qa.defines.INFINITE_THICK,Object.defineProperty(this,"infiniteThick",{get(){return this._infiniteThick},set(c){this._infiniteThick!==c&&(this._infiniteThick=c,this.ssrMaterial.defines.INFINITE_THICK=c,this.ssrMaterial.needsUpdate=!0)}});const l=new $2;l.type=E3,l.minFilter=Pt,l.magFilter=Pt,this.beautyRenderTarget=new In(this.width,this.height,{minFilter:Pt,magFilter:Pt,type:_i,depthTexture:l,depthBuffer:!0}),this.prevRenderTarget=new In(this.width,this.height,{minFilter:Pt,magFilter:Pt}),this.normalRenderTarget=new In(this.width,this.height,{minFilter:Pt,magFilter:Pt,type:_i}),this.metalnessRenderTarget=new In(this.width,this.height,{minFilter:Pt,magFilter:Pt,type:_i}),this.ssrRenderTarget=new In(this.width,this.height,{minFilter:Pt,magFilter:Pt}),this.blurRenderTarget=this.ssrRenderTarget.clone(),this.blurRenderTarget2=this.ssrRenderTarget.clone(),this.ssrMaterial=new un({defines:Object.assign({},Qa.defines,{MAX_STEP:Math.sqrt(this.width*this.width+this.height*this.height)}),uniforms:qn.clone(Qa.uniforms),vertexShader:Qa.vertexShader,fragmentShader:Qa.fragmentShader,blending:Zt}),this.ssrMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.ssrMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.ssrMaterial.defines.SELECTIVE=this.selective,this.ssrMaterial.needsUpdate=!0,this.ssrMaterial.uniforms.tMetalness.value=this.metalnessRenderTarget.texture,this.ssrMaterial.uniforms.tDepth.value=this.beautyRenderTarget.depthTexture,this.ssrMaterial.uniforms.cameraNear.value=this.camera.near,this.ssrMaterial.uniforms.cameraFar.value=this.camera.far,this.ssrMaterial.uniforms.thickness.value=this.thickness,this.ssrMaterial.uniforms.resolution.value.set(this.width,this.height),this.ssrMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssrMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.normalMaterial=new Q4,this.normalMaterial.blending=Zt,this.metalnessOnMaterial=new ao({color:"white"}),this.metalnessOffMaterial=new ao({color:"black"}),this.blurMaterial=new un({defines:Object.assign({},z1.defines),uniforms:qn.clone(z1.uniforms),vertexShader:z1.vertexShader,fragmentShader:z1.fragmentShader}),this.blurMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.blurMaterial.uniforms.resolution.value.set(this.width,this.height),this.blurMaterial2=new un({defines:Object.assign({},z1.defines),uniforms:qn.clone(z1.uniforms),vertexShader:z1.vertexShader,fragmentShader:z1.fragmentShader}),this.blurMaterial2.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.blurMaterial2.uniforms.resolution.value.set(this.width,this.height),this.depthRenderMaterial=new un({defines:Object.assign({},y6.defines),uniforms:qn.clone(y6.uniforms),vertexShader:y6.vertexShader,fragmentShader:y6.fragmentShader,blending:Zt}),this.depthRenderMaterial.uniforms.tDepth.value=this.beautyRenderTarget.depthTexture,this.depthRenderMaterial.uniforms.cameraNear.value=this.camera.near,this.depthRenderMaterial.uniforms.cameraFar.value=this.camera.far,this.copyMaterial=new un({uniforms:qn.clone(ll.uniforms),vertexShader:ll.vertexShader,fragmentShader:ll.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,blendSrc:bd,blendDst:Id,blendEquation:Ks,blendSrcAlpha:bd,blendDstAlpha:Id,blendEquationAlpha:Ks}),this.fsQuad=new eg(null),this.originalClearColor=new Je}dispose(){this.beautyRenderTarget.dispose(),this.prevRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.metalnessRenderTarget.dispose(),this.ssrRenderTarget.dispose(),this.blurRenderTarget.dispose(),this.blurRenderTarget2.dispose(),this.normalMaterial.dispose(),this.metalnessOnMaterial.dispose(),this.metalnessOffMaterial.dispose(),this.blurMaterial.dispose(),this.blurMaterial2.dispose(),this.copyMaterial.dispose(),this.depthRenderMaterial.dispose(),this.fsQuad.dispose()}render(n,e){switch(n.setRenderTarget(this.beautyRenderTarget),n.clear(),this.groundReflector&&(this.groundReflector.visible=!1,this.groundReflector.doRender(this.renderer,this.scene,this.camera),this.groundReflector.visible=!0),n.render(this.scene,this.camera),this.groundReflector&&(this.groundReflector.visible=!1),this.renderOverride(n,this.normalMaterial,this.normalRenderTarget,0,0),this.selective&&this.renderMetalness(n,this.metalnessOnMaterial,this.metalnessRenderTarget,0,0),this.ssrMaterial.uniforms.opacity.value=this.opacity,this.ssrMaterial.uniforms.maxDistance.value=this.maxDistance,this.ssrMaterial.uniforms.thickness.value=this.thickness,this.renderPass(n,this.ssrMaterial,this.ssrRenderTarget),this.blur&&(this.renderPass(n,this.blurMaterial,this.blurRenderTarget),this.renderPass(n,this.blurMaterial2,this.blurRenderTarget2)),this.output){case Mu.OUTPUT.Default:this.bouncing?(this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Zt,this.renderPass(n,this.copyMaterial,this.prevRenderTarget),this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=zo,this.renderPass(n,this.copyMaterial,this.prevRenderTarget),this.copyMaterial.uniforms.tDiffuse.value=this.prevRenderTarget.texture,this.copyMaterial.blending=Zt,this.renderPass(n,this.copyMaterial,this.renderToScreen?null:e)):(this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Zt,this.renderPass(n,this.copyMaterial,this.renderToScreen?null:e),this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=zo,this.renderPass(n,this.copyMaterial,this.renderToScreen?null:e));break;case Mu.OUTPUT.SSR:this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=Zt,this.renderPass(n,this.copyMaterial,this.renderToScreen?null:e),this.bouncing&&(this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Zt,this.renderPass(n,this.copyMaterial,this.prevRenderTarget),this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=zo,this.renderPass(n,this.copyMaterial,this.prevRenderTarget));break;case Mu.OUTPUT.Beauty:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Zt,this.renderPass(n,this.copyMaterial,this.renderToScreen?null:e);break;case Mu.OUTPUT.Depth:this.renderPass(n,this.depthRenderMaterial,this.renderToScreen?null:e);break;case Mu.OUTPUT.Normal:this.copyMaterial.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.copyMaterial.blending=Zt,this.renderPass(n,this.copyMaterial,this.renderToScreen?null:e);break;case Mu.OUTPUT.Metalness:this.copyMaterial.uniforms.tDiffuse.value=this.metalnessRenderTarget.texture,this.copyMaterial.blending=Zt,this.renderPass(n,this.copyMaterial,this.renderToScreen?null:e);break;default:console.warn("THREE.SSRPass: Unknown output type.")}}renderPass(n,e,t,i,r){this.originalClearColor.copy(n.getClearColor(this.tempColor));const s=n.getClearAlpha(this.tempColor),o=n.autoClear;n.setRenderTarget(t),n.autoClear=!1,i!=null&&(n.setClearColor(i),n.setClearAlpha(r||0),n.clear()),this.fsQuad.material=e,this.fsQuad.render(n),n.autoClear=o,n.setClearColor(this.originalClearColor),n.setClearAlpha(s)}renderOverride(n,e,t,i,r){this.originalClearColor.copy(n.getClearColor(this.tempColor));const s=n.getClearAlpha(this.tempColor),o=n.autoClear;n.setRenderTarget(t),n.autoClear=!1,i=e.clearColor||i,r=e.clearAlpha||r,i!=null&&(n.setClearColor(i),n.setClearAlpha(r||0),n.clear()),this.scene.overrideMaterial=e,n.render(this.scene,this.camera),this.scene.overrideMaterial=null,n.autoClear=o,n.setClearColor(this.originalClearColor),n.setClearAlpha(s)}renderMetalness(n,e,t,i,r){this.originalClearColor.copy(n.getClearColor(this.tempColor));const s=n.getClearAlpha(this.tempColor),o=n.autoClear;n.setRenderTarget(t),n.autoClear=!1,i=e.clearColor||i,r=e.clearAlpha||r,i!=null&&(n.setClearColor(i),n.setClearAlpha(r||0),n.clear()),this.scene.traverseVisible(a=>{a._SSRPassBackupMaterial=a.material,this._selects.includes(a)?a.material=this.metalnessOnMaterial:a.material=this.metalnessOffMaterial}),n.render(this.scene,this.camera),this.scene.traverseVisible(a=>{a.material=a._SSRPassBackupMaterial}),n.autoClear=o,n.setClearColor(this.originalClearColor),n.setClearAlpha(s)}setSize(n,e){this.width=n,this.height=e,this.ssrMaterial.defines.MAX_STEP=Math.sqrt(n*n+e*e),this.ssrMaterial.needsUpdate=!0,this.beautyRenderTarget.setSize(n,e),this.prevRenderTarget.setSize(n,e),this.ssrRenderTarget.setSize(n,e),this.normalRenderTarget.setSize(n,e),this.metalnessRenderTarget.setSize(n,e),this.blurRenderTarget.setSize(n,e),this.blurRenderTarget2.setSize(n,e),this.ssrMaterial.uniforms.resolution.value.set(n,e),this.ssrMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssrMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.blurMaterial.uniforms.resolution.value.set(n,e),this.blurMaterial2.uniforms.resolution.value.set(n,e)}};let koe=Mu;Ve(koe,"OUTPUT",{Default:0,SSR:1,Beauty:3,Depth:4,Normal:5,Metalness:7});const Gx=class{static createButton(n,e={}){const t=document.createElement("button");function i(){let a=null;async function l(u){u.addEventListener("end",c),await n.xr.setSession(u),t.textContent="EXIT VR",a=u}function c(){a.removeEventListener("end",c),t.textContent="ENTER VR",a=null}t.style.display="",t.style.cursor="pointer",t.style.left="calc(50% - 50px)",t.style.width="100px",t.textContent="ENTER VR",t.onmouseenter=()=>{t.style.opacity="1.0"},t.onmouseleave=()=>{t.style.opacity="0.5"},t.onclick=()=>{var u;if(a===null){const h=[e.optionalFeatures,"local-floor","bounded-floor","hand-tracking"].flat().filter(Boolean);(u=navigator.xr)==null||u.requestSession("immersive-vr",{...e,optionalFeatures:h}).then(l)}else a.end()}}function r(){t.style.display="",t.style.cursor="auto",t.style.left="calc(50% - 75px)",t.style.width="150px",t.onmouseenter=null,t.onmouseleave=null,t.onclick=null}function s(){r(),t.textContent="VR NOT SUPPORTED"}function o(a){a.style.position="absolute",a.style.bottom="20px",a.style.padding="12px 6px",a.style.border="1px solid #fff",a.style.borderRadius="4px",a.style.background="rgba(0,0,0,0.1)",a.style.color="#fff",a.style.font="normal 13px sans-serif",a.style.textAlign="center",a.style.opacity="0.5",a.style.outline="none",a.style.zIndex="999"}if("xr"in navigator)return o(t),t.id="VRButton",t.style.display="none",navigator.xr.isSessionSupported("immersive-vr").then(a=>{a?i():s(),a&&Gx.xrSessionIsGranted&&t.click()}),t;{const a=document.createElement("a");return window.isSecureContext===!1?(a.href=document.location.href.replace(/^http:/,"https:"),a.innerHTML="WEBXR NEEDS HTTPS"):(a.href="https://immersiveweb.dev/",a.innerHTML="WEBXR NOT AVAILABLE"),a.style.left="calc(50% - 90px)",a.style.width="180px",a.style.textDecoration="none",o(a),a}}static registerSessionGrantedListener(){"xr"in navigator&&navigator.xr.addEventListener("sessiongranted",()=>{Gx.xrSessionIsGranted=!0})}};let Poe=Gx;Ve(Poe,"xrSessionIsGranted",!1);class kU{constructor(e){Ve(this,"data"),this.data=e}generateShapes(e,t=100,i){const r=[],s={letterSpacing:0,lineHeight:1,...i},o=Loe(e,t,this.data,s);for(let a=0,l=o.length;a<l;a++)Array.prototype.push.apply(r,o[a].toShapes(!1));return r}}Ve(kU,"isFont");Ve(kU,"type");function Loe(n,e,t,i){const r=Array.from(n),s=e/t.resolution,o=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*s,a=[];let l=0,c=0;for(let u=0;u<r.length;u++){const h=r[u];if(h===`
`)l=0,c-=o*i.lineHeight;else{const f=Doe(h,s,l,c,t);f&&(l+=f.offsetX+i.letterSpacing,a.push(f.path))}}return a}function Doe(n,e,t,i,r){const s=r.glyphs[n]||r.glyphs["?"];if(!s){console.error('THREE.Font: character "'+n+'" does not exists in font family '+r.familyName+".");return}const o=new fF;let a,l,c,u,h,f,p,m;if(s.o){const S=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let v=0,A=S.length;v<A;)switch(S[v++]){case"m":a=parseInt(S[v++])*e+t,l=parseInt(S[v++])*e+i,o.moveTo(a,l);break;case"l":a=parseInt(S[v++])*e+t,l=parseInt(S[v++])*e+i,o.lineTo(a,l);break;case"q":c=parseInt(S[v++])*e+t,u=parseInt(S[v++])*e+i,h=parseInt(S[v++])*e+t,f=parseInt(S[v++])*e+i,o.quadraticCurveTo(h,f,c,u);break;case"b":c=parseInt(S[v++])*e+t,u=parseInt(S[v++])*e+i,h=parseInt(S[v++])*e+t,f=parseInt(S[v++])*e+i,p=parseInt(S[v++])*e+t,m=parseInt(S[v++])*e+i,o.bezierCurveTo(h,f,p,m,c,u);break}}return{offsetX:s.ha*e,path:o}}class Ooe extends Kn{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Pt,this.minFilter=Pt,this.wrapR=pi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}var Noe=typeof global=="object"&&global&&global.Object===Object&&global;const PU=Noe;var Foe=typeof self=="object"&&self&&self.Object===Object&&self,Uoe=PU||Foe||Function("return this")();const Al=Uoe;var Goe=Al.Symbol;const qo=Goe;var LU=Object.prototype,zoe=LU.hasOwnProperty,Qoe=LU.toString,of=qo?qo.toStringTag:void 0;function Hoe(n){var e=zoe.call(n,of),t=n[of];try{n[of]=void 0;var i=!0}catch{}var r=Qoe.call(n);return i&&(e?n[of]=t:delete n[of]),r}var Voe=Object.prototype,Woe=Voe.toString;function joe(n){return Woe.call(n)}var Xoe="[object Null]",qoe="[object Undefined]",AR=qo?qo.toStringTag:void 0;function Qc(n){return n==null?n===void 0?qoe:Xoe:AR&&AR in Object(n)?Hoe(n):joe(n)}function Ea(n){return n!=null&&typeof n=="object"}var Yoe="[object Symbol]";function tg(n){return typeof n=="symbol"||Ea(n)&&Qc(n)==Yoe}function K4(n,e){for(var t=-1,i=n==null?0:n.length,r=Array(i);++t<i;)r[t]=e(n[t],t,n);return r}var Koe=Array.isArray;const hn=Koe;var Joe=1/0,vR=qo?qo.prototype:void 0,yR=vR?vR.toString:void 0;function DU(n){if(typeof n=="string")return n;if(hn(n))return K4(n,DU)+"";if(tg(n))return yR?yR.call(n):"";var e=n+"";return e=="0"&&1/n==-Joe?"-0":e}var $oe=/\s/;function Zoe(n){for(var e=n.length;e--&&$oe.test(n.charAt(e)););return e}var eae=/^\s+/;function tae(n){return n&&n.slice(0,Zoe(n)+1).replace(eae,"")}function Yo(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var xR=0/0,nae=/^[-+]0x[0-9a-f]+$/i,iae=/^0b[01]+$/i,rae=/^0o[0-7]+$/i,sae=parseInt;function oae(n){if(typeof n=="number")return n;if(tg(n))return xR;if(Yo(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Yo(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=tae(n);var t=iae.test(n);return t||rae.test(n)?sae(n.slice(2),t?2:8):nae.test(n)?xR:+n}var SR=1/0,aae=17976931348623157e292;function lae(n){if(!n)return n===0?n:0;if(n=oae(n),n===SR||n===-SR){var e=n<0?-1:1;return e*aae}return n===n?n:0}function J4(n){var e=lae(n),t=e%1;return e===e?t?e-t:e:0}function k2(n){return n}var cae="[object AsyncFunction]",uae="[object Function]",hae="[object GeneratorFunction]",fae="[object Proxy]";function v1(n){if(!Yo(n))return!1;var e=Qc(n);return e==uae||e==hae||e==cae||e==fae}var dae=Al["__core-js_shared__"];const iv=dae;var ER=function(){var n=/[^.]+$/.exec(iv&&iv.keys&&iv.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function pae(n){return!!ER&&ER in n}var gae=Function.prototype,mae=gae.toString;function T3(n){if(n!=null){try{return mae.call(n)}catch{}try{return n+""}catch{}}return""}var Aae=/[\\^$.*+?()[\]{}|]/g,vae=/^\[object .+?Constructor\]$/,yae=Function.prototype,xae=Object.prototype,Sae=yae.toString,Eae=xae.hasOwnProperty,Cae=RegExp("^"+Sae.call(Eae).replace(Aae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function wae(n){if(!Yo(n)||pae(n))return!1;var e=v1(n)?Cae:vae;return e.test(T3(n))}function _ae(n,e){return n==null?void 0:n[e]}function b3(n,e){var t=_ae(n,e);return wae(t)?t:void 0}var Mae=b3(Al,"WeakMap");const zx=Mae;var CR=Object.create,Tae=function(){function n(){}return function(e){if(!Yo(e))return{};if(CR)return CR(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();const bae=Tae;function Iae(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function Ni(){}function Rae(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e}var Bae=800,kae=16,Pae=Date.now;function Lae(n){var e=0,t=0;return function(){var i=Pae(),r=kae-(i-t);if(t=i,r>0){if(++e>=Bae)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function Dae(n){return function(){return n}}var Oae=function(){try{var n=b3(Object,"defineProperty");return n({},"",{}),n}catch{}}();const E9=Oae;var Nae=E9?function(n,e){return E9(n,"toString",{configurable:!0,enumerable:!1,value:Dae(e),writable:!0})}:k2;const Fae=Nae;var Uae=Lae(Fae);const Gae=Uae;function OU(n,e){for(var t=-1,i=n==null?0:n.length;++t<i&&e(n[t],t,n)!==!1;);return n}function NU(n,e,t,i){for(var r=n.length,s=t+(i?1:-1);i?s--:++s<r;)if(e(n[s],s,n))return s;return-1}function zae(n){return n!==n}function Qae(n,e,t){for(var i=t-1,r=n.length;++i<r;)if(n[i]===e)return i;return-1}function rw(n,e,t){return e===e?Qae(n,e,t):NU(n,zae,t)}function FU(n,e){var t=n==null?0:n.length;return!!t&&rw(n,e,0)>-1}var Hae=9007199254740991,Vae=/^(?:0|[1-9]\d*)$/;function ng(n,e){var t=typeof n;return e=e??Hae,!!e&&(t=="number"||t!="symbol"&&Vae.test(n))&&n>-1&&n%1==0&&n<e}function sw(n,e,t){e=="__proto__"&&E9?E9(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function $4(n,e){return n===e||n!==n&&e!==e}var Wae=Object.prototype,jae=Wae.hasOwnProperty;function ig(n,e,t){var i=n[e];(!(jae.call(n,e)&&$4(i,t))||t===void 0&&!(e in n))&&sw(n,e,t)}function Z4(n,e,t,i){var r=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=i?i(t[a],n[a],a,t,n):void 0;l===void 0&&(l=n[a]),r?sw(t,a,l):ig(t,a,l)}return t}var wR=Math.max;function Xae(n,e,t){return e=wR(e===void 0?n.length-1:e,0),function(){for(var i=arguments,r=-1,s=wR(i.length-e,0),o=Array(s);++r<s;)o[r]=i[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=i[r];return a[e]=t(o),Iae(n,this,a)}}function ow(n,e){return Gae(Xae(n,e,k2),n+"")}var qae=9007199254740991;function aw(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=qae}function vl(n){return n!=null&&aw(n.length)&&!v1(n)}function rg(n,e,t){if(!Yo(t))return!1;var i=typeof e;return(i=="number"?vl(t)&&ng(e,t.length):i=="string"&&e in t)?$4(t[e],n):!1}function Yae(n){return ow(function(e,t){var i=-1,r=t.length,s=r>1?t[r-1]:void 0,o=r>2?t[2]:void 0;for(s=n.length>3&&typeof s=="function"?(r--,s):void 0,o&&rg(t[0],t[1],o)&&(s=r<3?void 0:s,r=1),e=Object(e);++i<r;){var a=t[i];a&&n(e,a,i,s)}return e})}var Kae=Object.prototype;function e5(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||Kae;return n===t}function Jae(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var $ae="[object Arguments]";function _R(n){return Ea(n)&&Qc(n)==$ae}var UU=Object.prototype,Zae=UU.hasOwnProperty,ele=UU.propertyIsEnumerable,tle=_R(function(){return arguments}())?_R:function(n){return Ea(n)&&Zae.call(n,"callee")&&!ele.call(n,"callee")};const sg=tle;function nle(){return!1}var GU=typeof Oe=="object"&&Oe&&!Oe.nodeType&&Oe,MR=GU&&typeof no=="object"&&no&&!no.nodeType&&no,ile=MR&&MR.exports===GU,TR=ile?Al.Buffer:void 0,rle=TR?TR.isBuffer:void 0,sle=rle||nle;const t4=sle;var ole="[object Arguments]",ale="[object Array]",lle="[object Boolean]",cle="[object Date]",ule="[object Error]",hle="[object Function]",fle="[object Map]",dle="[object Number]",ple="[object Object]",gle="[object RegExp]",mle="[object Set]",Ale="[object String]",vle="[object WeakMap]",yle="[object ArrayBuffer]",xle="[object DataView]",Sle="[object Float32Array]",Ele="[object Float64Array]",Cle="[object Int8Array]",wle="[object Int16Array]",_le="[object Int32Array]",Mle="[object Uint8Array]",Tle="[object Uint8ClampedArray]",ble="[object Uint16Array]",Ile="[object Uint32Array]",Un={};Un[Sle]=Un[Ele]=Un[Cle]=Un[wle]=Un[_le]=Un[Mle]=Un[Tle]=Un[ble]=Un[Ile]=!0;Un[ole]=Un[ale]=Un[yle]=Un[lle]=Un[xle]=Un[cle]=Un[ule]=Un[hle]=Un[fle]=Un[dle]=Un[ple]=Un[gle]=Un[mle]=Un[Ale]=Un[vle]=!1;function Rle(n){return Ea(n)&&aw(n.length)&&!!Un[Qc(n)]}function t5(n){return function(e){return n(e)}}var zU=typeof Oe=="object"&&Oe&&!Oe.nodeType&&Oe,ed=zU&&typeof no=="object"&&no&&!no.nodeType&&no,Ble=ed&&ed.exports===zU,rv=Ble&&PU.process,kle=function(){try{var n=ed&&ed.require&&ed.require("util").types;return n||rv&&rv.binding&&rv.binding("util")}catch{}}();const _c=kle;var bR=_c&&_c.isTypedArray,Ple=bR?t5(bR):Rle;const lw=Ple;var Lle=Object.prototype,Dle=Lle.hasOwnProperty;function QU(n,e){var t=hn(n),i=!t&&sg(n),r=!t&&!i&&t4(n),s=!t&&!i&&!r&&lw(n),o=t||i||r||s,a=o?Jae(n.length,String):[],l=a.length;for(var c in n)(e||Dle.call(n,c))&&!(o&&(c=="length"||r&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||ng(c,l)))&&a.push(c);return a}function HU(n,e){return function(t){return n(e(t))}}var Ole=HU(Object.keys,Object);const Nle=Ole;var Fle=Object.prototype,Ule=Fle.hasOwnProperty;function VU(n){if(!e5(n))return Nle(n);var e=[];for(var t in Object(n))Ule.call(n,t)&&t!="constructor"&&e.push(t);return e}function lo(n){return vl(n)?QU(n):VU(n)}var Gle=Object.prototype,zle=Gle.hasOwnProperty,Qle=Yae(function(n,e){if(e5(e)||vl(e)){Z4(e,lo(e),n);return}for(var t in e)zle.call(e,t)&&ig(n,t,e[t])});const co=Qle;function Hle(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var Vle=Object.prototype,Wle=Vle.hasOwnProperty;function jle(n){if(!Yo(n))return Hle(n);var e=e5(n),t=[];for(var i in n)i=="constructor"&&(e||!Wle.call(n,i))||t.push(i);return t}function og(n){return vl(n)?QU(n,!0):jle(n)}var Xle=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qle=/^\w*$/;function cw(n,e){if(hn(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||tg(n)?!0:qle.test(n)||!Xle.test(n)||e!=null&&n in Object(e)}var Yle=b3(Object,"create");const n4=Yle;function Kle(){this.__data__=n4?n4(null):{},this.size=0}function Jle(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var $le="__lodash_hash_undefined__",Zle=Object.prototype,e1e=Zle.hasOwnProperty;function t1e(n){var e=this.__data__;if(n4){var t=e[n];return t===$le?void 0:t}return e1e.call(e,n)?e[n]:void 0}var n1e=Object.prototype,i1e=n1e.hasOwnProperty;function r1e(n){var e=this.__data__;return n4?e[n]!==void 0:i1e.call(e,n)}var s1e="__lodash_hash_undefined__";function o1e(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=n4&&e===void 0?s1e:e,this}function d3(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}d3.prototype.clear=Kle;d3.prototype.delete=Jle;d3.prototype.get=t1e;d3.prototype.has=r1e;d3.prototype.set=o1e;function a1e(){this.__data__=[],this.size=0}function ag(n,e){for(var t=n.length;t--;)if($4(n[t][0],e))return t;return-1}var l1e=Array.prototype,c1e=l1e.splice;function u1e(n){var e=this.__data__,t=ag(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():c1e.call(e,t,1),--this.size,!0}function h1e(n){var e=this.__data__,t=ag(e,n);return t<0?void 0:e[t][1]}function f1e(n){return ag(this.__data__,n)>-1}function d1e(n,e){var t=this.__data__,i=ag(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}function y1(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}y1.prototype.clear=a1e;y1.prototype.delete=u1e;y1.prototype.get=h1e;y1.prototype.has=f1e;y1.prototype.set=d1e;var p1e=b3(Al,"Map");const i4=p1e;function g1e(){this.size=0,this.__data__={hash:new d3,map:new(i4||y1),string:new d3}}function m1e(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function lg(n,e){var t=n.__data__;return m1e(e)?t[typeof e=="string"?"string":"hash"]:t.map}function A1e(n){var e=lg(this,n).delete(n);return this.size-=e?1:0,e}function v1e(n){return lg(this,n).get(n)}function y1e(n){return lg(this,n).has(n)}function x1e(n,e){var t=lg(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}function x1(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}x1.prototype.clear=g1e;x1.prototype.delete=A1e;x1.prototype.get=v1e;x1.prototype.has=y1e;x1.prototype.set=x1e;var S1e="Expected a function";function uw(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(S1e);var t=function(){var i=arguments,r=e?e.apply(this,i):i[0],s=t.cache;if(s.has(r))return s.get(r);var o=n.apply(this,i);return t.cache=s.set(r,o)||s,o};return t.cache=new(uw.Cache||x1),t}uw.Cache=x1;var E1e=500;function C1e(n){var e=uw(n,function(i){return t.size===E1e&&t.clear(),i}),t=e.cache;return e}var w1e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_1e=/\\(\\)?/g,M1e=C1e(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(w1e,function(t,i,r,s){e.push(r?s.replace(_1e,"$1"):i||t)}),e});const T1e=M1e;function b1e(n){return n==null?"":DU(n)}function cg(n,e){return hn(n)?n:cw(n,e)?[n]:T1e(b1e(n))}var I1e=1/0;function n5(n){if(typeof n=="string"||tg(n))return n;var e=n+"";return e=="0"&&1/n==-I1e?"-0":e}function hw(n,e){e=cg(e,n);for(var t=0,i=e.length;n!=null&&t<i;)n=n[n5(e[t++])];return t&&t==i?n:void 0}function R1e(n,e,t){var i=n==null?void 0:hw(n,e);return i===void 0?t:i}function fw(n,e){for(var t=-1,i=e.length,r=n.length;++t<i;)n[r+t]=e[t];return n}var IR=qo?qo.isConcatSpreadable:void 0;function B1e(n){return hn(n)||sg(n)||!!(IR&&n&&n[IR])}function ug(n,e,t,i,r){var s=-1,o=n.length;for(t||(t=B1e),r||(r=[]);++s<o;){var a=n[s];e>0&&t(a)?e>1?ug(a,e-1,t,i,r):fw(r,a):i||(r[r.length]=a)}return r}function ma(n){var e=n==null?0:n.length;return e?ug(n,1):[]}var k1e=HU(Object.getPrototypeOf,Object);const WU=k1e;function jU(n,e,t){var i=-1,r=n.length;e<0&&(e=-e>r?0:r+e),t=t>r?r:t,t<0&&(t+=r),r=e>t?0:t-e>>>0,e>>>=0;for(var s=Array(r);++i<r;)s[i]=n[i+e];return s}function P1e(n,e,t,i){var r=-1,s=n==null?0:n.length;for(i&&s&&(t=n[++r]);++r<s;)t=e(t,n[r],r,n);return t}function L1e(){this.__data__=new y1,this.size=0}function D1e(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function O1e(n){return this.__data__.get(n)}function N1e(n){return this.__data__.has(n)}var F1e=200;function U1e(n,e){var t=this.__data__;if(t instanceof y1){var i=t.__data__;if(!i4||i.length<F1e-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new x1(i)}return t.set(n,e),this.size=t.size,this}function cl(n){var e=this.__data__=new y1(n);this.size=e.size}cl.prototype.clear=L1e;cl.prototype.delete=D1e;cl.prototype.get=O1e;cl.prototype.has=N1e;cl.prototype.set=U1e;function G1e(n,e){return n&&Z4(e,lo(e),n)}function z1e(n,e){return n&&Z4(e,og(e),n)}var XU=typeof Oe=="object"&&Oe&&!Oe.nodeType&&Oe,RR=XU&&typeof no=="object"&&no&&!no.nodeType&&no,Q1e=RR&&RR.exports===XU,BR=Q1e?Al.Buffer:void 0,kR=BR?BR.allocUnsafe:void 0;function H1e(n,e){if(e)return n.slice();var t=n.length,i=kR?kR(t):new n.constructor(t);return n.copy(i),i}function dw(n,e){for(var t=-1,i=n==null?0:n.length,r=0,s=[];++t<i;){var o=n[t];e(o,t,n)&&(s[r++]=o)}return s}function qU(){return[]}var V1e=Object.prototype,W1e=V1e.propertyIsEnumerable,PR=Object.getOwnPropertySymbols,j1e=PR?function(n){return n==null?[]:(n=Object(n),dw(PR(n),function(e){return W1e.call(n,e)}))}:qU;const pw=j1e;function X1e(n,e){return Z4(n,pw(n),e)}var q1e=Object.getOwnPropertySymbols,Y1e=q1e?function(n){for(var e=[];n;)fw(e,pw(n)),n=WU(n);return e}:qU;const YU=Y1e;function K1e(n,e){return Z4(n,YU(n),e)}function KU(n,e,t){var i=e(n);return hn(n)?i:fw(i,t(n))}function Qx(n){return KU(n,lo,pw)}function JU(n){return KU(n,og,YU)}var J1e=b3(Al,"DataView");const Hx=J1e;var $1e=b3(Al,"Promise");const Vx=$1e;var Z1e=b3(Al,"Set");const f2=Z1e;var LR="[object Map]",ece="[object Object]",DR="[object Promise]",OR="[object Set]",NR="[object WeakMap]",FR="[object DataView]",tce=T3(Hx),nce=T3(i4),ice=T3(Vx),rce=T3(f2),sce=T3(zx),Tu=Qc;(Hx&&Tu(new Hx(new ArrayBuffer(1)))!=FR||i4&&Tu(new i4)!=LR||Vx&&Tu(Vx.resolve())!=DR||f2&&Tu(new f2)!=OR||zx&&Tu(new zx)!=NR)&&(Tu=function(n){var e=Qc(n),t=e==ece?n.constructor:void 0,i=t?T3(t):"";if(i)switch(i){case tce:return FR;case nce:return LR;case ice:return DR;case rce:return OR;case sce:return NR}return e});const P2=Tu;var oce=Object.prototype,ace=oce.hasOwnProperty;function lce(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&ace.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var cce=Al.Uint8Array;const C9=cce;function gw(n){var e=new n.constructor(n.byteLength);return new C9(e).set(new C9(n)),e}function uce(n,e){var t=e?gw(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var hce=/\w*$/;function fce(n){var e=new n.constructor(n.source,hce.exec(n));return e.lastIndex=n.lastIndex,e}var UR=qo?qo.prototype:void 0,GR=UR?UR.valueOf:void 0;function dce(n){return GR?Object(GR.call(n)):{}}function pce(n,e){var t=e?gw(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var gce="[object Boolean]",mce="[object Date]",Ace="[object Map]",vce="[object Number]",yce="[object RegExp]",xce="[object Set]",Sce="[object String]",Ece="[object Symbol]",Cce="[object ArrayBuffer]",wce="[object DataView]",_ce="[object Float32Array]",Mce="[object Float64Array]",Tce="[object Int8Array]",bce="[object Int16Array]",Ice="[object Int32Array]",Rce="[object Uint8Array]",Bce="[object Uint8ClampedArray]",kce="[object Uint16Array]",Pce="[object Uint32Array]";function Lce(n,e,t){var i=n.constructor;switch(e){case Cce:return gw(n);case gce:case mce:return new i(+n);case wce:return uce(n,t);case _ce:case Mce:case Tce:case bce:case Ice:case Rce:case Bce:case kce:case Pce:return pce(n,t);case Ace:return new i;case vce:case Sce:return new i(n);case yce:return fce(n);case xce:return new i;case Ece:return dce(n)}}function Dce(n){return typeof n.constructor=="function"&&!e5(n)?bae(WU(n)):{}}var Oce="[object Map]";function Nce(n){return Ea(n)&&P2(n)==Oce}var zR=_c&&_c.isMap,Fce=zR?t5(zR):Nce;const Uce=Fce;var Gce="[object Set]";function zce(n){return Ea(n)&&P2(n)==Gce}var QR=_c&&_c.isSet,Qce=QR?t5(QR):zce;const Hce=Qce;var Vce=1,Wce=2,jce=4,$U="[object Arguments]",Xce="[object Array]",qce="[object Boolean]",Yce="[object Date]",Kce="[object Error]",ZU="[object Function]",Jce="[object GeneratorFunction]",$ce="[object Map]",Zce="[object Number]",eG="[object Object]",eue="[object RegExp]",tue="[object Set]",nue="[object String]",iue="[object Symbol]",rue="[object WeakMap]",sue="[object ArrayBuffer]",oue="[object DataView]",aue="[object Float32Array]",lue="[object Float64Array]",cue="[object Int8Array]",uue="[object Int16Array]",hue="[object Int32Array]",fue="[object Uint8Array]",due="[object Uint8ClampedArray]",pue="[object Uint16Array]",gue="[object Uint32Array]",Pn={};Pn[$U]=Pn[Xce]=Pn[sue]=Pn[oue]=Pn[qce]=Pn[Yce]=Pn[aue]=Pn[lue]=Pn[cue]=Pn[uue]=Pn[hue]=Pn[$ce]=Pn[Zce]=Pn[eG]=Pn[eue]=Pn[tue]=Pn[nue]=Pn[iue]=Pn[fue]=Pn[due]=Pn[pue]=Pn[gue]=!0;Pn[Kce]=Pn[ZU]=Pn[rue]=!1;function v8(n,e,t,i,r,s){var o,a=e&Vce,l=e&Wce,c=e&jce;if(t&&(o=r?t(n,i,r,s):t(n)),o!==void 0)return o;if(!Yo(n))return n;var u=hn(n);if(u){if(o=lce(n),!a)return Rae(n,o)}else{var h=P2(n),f=h==ZU||h==Jce;if(t4(n))return H1e(n,a);if(h==eG||h==$U||f&&!r){if(o=l||f?{}:Dce(n),!a)return l?K1e(n,z1e(o,n)):X1e(n,G1e(o,n))}else{if(!Pn[h])return r?n:{};o=Lce(n,h,a)}}s||(s=new cl);var p=s.get(n);if(p)return p;s.set(n,o),Hce(n)?n.forEach(function(v){o.add(v8(v,e,t,v,n,s))}):Uce(n)&&n.forEach(function(v,A){o.set(A,v8(v,e,t,A,n,s))});var m=c?l?JU:Qx:l?og:lo,S=u?void 0:m(n);return OU(S||n,function(v,A){S&&(A=v,v=n[A]),ig(o,A,v8(v,e,t,A,n,s))}),o}var mue=4;function Ur(n){return v8(n,mue)}function i5(n){for(var e=-1,t=n==null?0:n.length,i=0,r=[];++e<t;){var s=n[e];s&&(r[i++]=s)}return r}var Aue="__lodash_hash_undefined__";function vue(n){return this.__data__.set(n,Aue),this}function yue(n){return this.__data__.has(n)}function L2(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new x1;++e<t;)this.add(n[e])}L2.prototype.add=L2.prototype.push=vue;L2.prototype.has=yue;function tG(n,e){for(var t=-1,i=n==null?0:n.length;++t<i;)if(e(n[t],t,n))return!0;return!1}function mw(n,e){return n.has(e)}var xue=1,Sue=2;function nG(n,e,t,i,r,s){var o=t&xue,a=n.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(n),u=s.get(e);if(c&&u)return c==e&&u==n;var h=-1,f=!0,p=t&Sue?new L2:void 0;for(s.set(n,e),s.set(e,n);++h<a;){var m=n[h],S=e[h];if(i)var v=o?i(S,m,h,e,n,s):i(m,S,h,n,e,s);if(v!==void 0){if(v)continue;f=!1;break}if(p){if(!tG(e,function(A,y){if(!mw(p,y)&&(m===A||r(m,A,t,i,s)))return p.push(y)})){f=!1;break}}else if(!(m===S||r(m,S,t,i,s))){f=!1;break}}return s.delete(n),s.delete(e),f}function Eue(n){var e=-1,t=Array(n.size);return n.forEach(function(i,r){t[++e]=[r,i]}),t}function Aw(n){var e=-1,t=Array(n.size);return n.forEach(function(i){t[++e]=i}),t}var Cue=1,wue=2,_ue="[object Boolean]",Mue="[object Date]",Tue="[object Error]",bue="[object Map]",Iue="[object Number]",Rue="[object RegExp]",Bue="[object Set]",kue="[object String]",Pue="[object Symbol]",Lue="[object ArrayBuffer]",Due="[object DataView]",HR=qo?qo.prototype:void 0,sv=HR?HR.valueOf:void 0;function Oue(n,e,t,i,r,s,o){switch(t){case Due:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case Lue:return!(n.byteLength!=e.byteLength||!s(new C9(n),new C9(e)));case _ue:case Mue:case Iue:return $4(+n,+e);case Tue:return n.name==e.name&&n.message==e.message;case Rue:case kue:return n==e+"";case bue:var a=Eue;case Bue:var l=i&Cue;if(a||(a=Aw),n.size!=e.size&&!l)return!1;var c=o.get(n);if(c)return c==e;i|=wue,o.set(n,e);var u=nG(a(n),a(e),i,r,s,o);return o.delete(n),u;case Pue:if(sv)return sv.call(n)==sv.call(e)}return!1}var Nue=1,Fue=Object.prototype,Uue=Fue.hasOwnProperty;function Gue(n,e,t,i,r,s){var o=t&Nue,a=Qx(n),l=a.length,c=Qx(e),u=c.length;if(l!=u&&!o)return!1;for(var h=l;h--;){var f=a[h];if(!(o?f in e:Uue.call(e,f)))return!1}var p=s.get(n),m=s.get(e);if(p&&m)return p==e&&m==n;var S=!0;s.set(n,e),s.set(e,n);for(var v=o;++h<l;){f=a[h];var A=n[f],y=e[f];if(i)var x=o?i(y,A,f,e,n,s):i(A,y,f,n,e,s);if(!(x===void 0?A===y||r(A,y,t,i,s):x)){S=!1;break}v||(v=f=="constructor")}if(S&&!v){var C=n.constructor,w=e.constructor;C!=w&&"constructor"in n&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof w=="function"&&w instanceof w)&&(S=!1)}return s.delete(n),s.delete(e),S}var zue=1,VR="[object Arguments]",WR="[object Array]",x6="[object Object]",Que=Object.prototype,jR=Que.hasOwnProperty;function Hue(n,e,t,i,r,s){var o=hn(n),a=hn(e),l=o?WR:P2(n),c=a?WR:P2(e);l=l==VR?x6:l,c=c==VR?x6:c;var u=l==x6,h=c==x6,f=l==c;if(f&&t4(n)){if(!t4(e))return!1;o=!0,u=!1}if(f&&!u)return s||(s=new cl),o||lw(n)?nG(n,e,t,i,r,s):Oue(n,e,l,t,i,r,s);if(!(t&zue)){var p=u&&jR.call(n,"__wrapped__"),m=h&&jR.call(e,"__wrapped__");if(p||m){var S=p?n.value():n,v=m?e.value():e;return s||(s=new cl),r(S,v,t,i,s)}}return f?(s||(s=new cl),Gue(n,e,t,i,r,s)):!1}function vw(n,e,t,i,r){return n===e?!0:n==null||e==null||!Ea(n)&&!Ea(e)?n!==n&&e!==e:Hue(n,e,t,i,vw,r)}var Vue=1,Wue=2;function jue(n,e,t,i){var r=t.length,s=r,o=!i;if(n==null)return!s;for(n=Object(n);r--;){var a=t[r];if(o&&a[2]?a[1]!==n[a[0]]:!(a[0]in n))return!1}for(;++r<s;){a=t[r];var l=a[0],c=n[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in n))return!1}else{var h=new cl;if(i)var f=i(c,u,l,n,e,h);if(!(f===void 0?vw(u,c,Vue|Wue,i,h):f))return!1}}return!0}function iG(n){return n===n&&!Yo(n)}function Xue(n){for(var e=lo(n),t=e.length;t--;){var i=e[t],r=n[i];e[t]=[i,r,iG(r)]}return e}function rG(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}function que(n){var e=Xue(n);return e.length==1&&e[0][2]?rG(e[0][0],e[0][1]):function(t){return t===n||jue(t,n,e)}}function Yue(n,e){return n!=null&&e in Object(n)}function sG(n,e,t){e=cg(e,n);for(var i=-1,r=e.length,s=!1;++i<r;){var o=n5(e[i]);if(!(s=n!=null&&t(n,o)))break;n=n[o]}return s||++i!=r?s:(r=n==null?0:n.length,!!r&&aw(r)&&ng(o,r)&&(hn(n)||sg(n)))}function Kue(n,e){return n!=null&&sG(n,e,Yue)}var Jue=1,$ue=2;function Zue(n,e){return cw(n)&&iG(e)?rG(n5(n),e):function(t){var i=R1e(t,n);return i===void 0&&i===e?Kue(t,n):vw(e,i,Jue|$ue)}}function e3e(n){return function(e){return e==null?void 0:e[n]}}function t3e(n){return function(e){return hw(e,n)}}function n3e(n){return cw(n)?e3e(n5(n)):t3e(n)}function yl(n){return typeof n=="function"?n:n==null?k2:typeof n=="object"?hn(n)?Zue(n[0],n[1]):que(n):n3e(n)}function i3e(n,e,t,i){for(var r=-1,s=n==null?0:n.length;++r<s;){var o=n[r];e(i,o,t(o),n)}return i}function r3e(n){return function(e,t,i){for(var r=-1,s=Object(e),o=i(e),a=o.length;a--;){var l=o[n?a:++r];if(t(s[l],l,s)===!1)break}return e}}var s3e=r3e();const o3e=s3e;function a3e(n,e){return n&&o3e(n,e,lo)}function l3e(n,e){return function(t,i){if(t==null)return t;if(!vl(t))return n(t,i);for(var r=t.length,s=e?r:-1,o=Object(t);(e?s--:++s<r)&&i(o[s],s,o)!==!1;);return t}}var c3e=l3e(a3e);const I3=c3e;function u3e(n,e,t,i){return I3(n,function(r,s,o){e(i,r,t(r),o)}),i}function h3e(n,e){return function(t,i){var r=hn(t)?i3e:u3e,s=e?e():{};return r(t,n,yl(i),s)}}var oG=Object.prototype,f3e=oG.hasOwnProperty,d3e=ow(function(n,e){n=Object(n);var t=-1,i=e.length,r=i>2?e[2]:void 0;for(r&&rg(e[0],e[1],r)&&(i=1);++t<i;)for(var s=e[t],o=og(s),a=-1,l=o.length;++a<l;){var c=o[a],u=n[c];(u===void 0||$4(u,oG[c])&&!f3e.call(n,c))&&(n[c]=s[c])}return n});const yw=d3e;function XR(n){return Ea(n)&&vl(n)}function aG(n,e,t){for(var i=-1,r=n==null?0:n.length;++i<r;)if(t(e,n[i]))return!0;return!1}var p3e=200;function g3e(n,e,t,i){var r=-1,s=FU,o=!0,a=n.length,l=[],c=e.length;if(!a)return l;t&&(e=K4(e,t5(t))),i?(s=aG,o=!1):e.length>=p3e&&(s=mw,o=!1,e=new L2(e));e:for(;++r<a;){var u=n[r],h=t==null?u:t(u);if(u=i||u!==0?u:0,o&&h===h){for(var f=c;f--;)if(e[f]===h)continue e;l.push(u)}else s(e,h,i)||l.push(u)}return l}var m3e=ow(function(n,e){return XR(n)?g3e(n,ug(e,1,XR,!0)):[]});const hg=m3e;function D2(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}function cr(n,e,t){var i=n==null?0:n.length;return i?(e=t||e===void 0?1:J4(e),jU(n,e<0?0:e,i)):[]}function r4(n,e,t){var i=n==null?0:n.length;return i?(e=t||e===void 0?1:J4(e),e=i-e,jU(n,0,e<0?0:e)):[]}function A3e(n){return typeof n=="function"?n:k2}function bt(n,e){var t=hn(n)?OU:I3;return t(n,A3e(e))}function v3e(n,e){for(var t=-1,i=n==null?0:n.length;++t<i;)if(!e(n[t],t,n))return!1;return!0}function y3e(n,e){var t=!0;return I3(n,function(i,r,s){return t=!!e(i,r,s),t}),t}function Aa(n,e,t){var i=hn(n)?v3e:y3e;return t&&rg(n,e,t)&&(e=void 0),i(n,yl(e))}function lG(n,e){var t=[];return I3(n,function(i,r,s){e(i,r,s)&&t.push(i)}),t}function Zo(n,e){var t=hn(n)?dw:lG;return t(n,yl(e))}function x3e(n){return function(e,t,i){var r=Object(e);if(!vl(e)){var s=yl(t);e=lo(e),t=function(a){return s(r[a],a,r)}}var o=n(e,t,i);return o>-1?r[s?e[o]:o]:void 0}}var S3e=Math.max;function E3e(n,e,t){var i=n==null?0:n.length;if(!i)return-1;var r=t==null?0:J4(t);return r<0&&(r=S3e(i+r,0)),NU(n,yl(e),r)}var C3e=x3e(E3e);const O2=C3e;function Ca(n){return n&&n.length?n[0]:void 0}function w3e(n,e){var t=-1,i=vl(n)?Array(n.length):[];return I3(n,function(r,s,o){i[++t]=e(r,s,o)}),i}function xt(n,e){var t=hn(n)?K4:w3e;return t(n,yl(e))}function Qo(n,e){return ug(xt(n,e),1)}var _3e=Object.prototype,M3e=_3e.hasOwnProperty,T3e=h3e(function(n,e,t){M3e.call(n,t)?n[t].push(e):sw(n,t,[e])});const b3e=T3e;var I3e=Object.prototype,R3e=I3e.hasOwnProperty;function B3e(n,e){return n!=null&&R3e.call(n,e)}function _t(n,e){return n!=null&&sG(n,e,B3e)}var k3e="[object String]";function Bs(n){return typeof n=="string"||!hn(n)&&Ea(n)&&Qc(n)==k3e}function P3e(n,e){return K4(e,function(t){return n[t]})}function Ui(n){return n==null?[]:P3e(n,lo(n))}var L3e=Math.max;function ds(n,e,t,i){n=vl(n)?n:Ui(n),t=t&&!i?J4(t):0;var r=n.length;return t<0&&(t=L3e(r+t,0)),Bs(n)?t<=r&&n.indexOf(e,t)>-1:!!r&&rw(n,e,t)>-1}var D3e=Math.max;function qR(n,e,t){var i=n==null?0:n.length;if(!i)return-1;var r=t==null?0:J4(t);return r<0&&(r=D3e(i+r,0)),rw(n,e,r)}var O3e="[object Map]",N3e="[object Set]",F3e=Object.prototype,U3e=F3e.hasOwnProperty;function On(n){if(n==null)return!0;if(vl(n)&&(hn(n)||typeof n=="string"||typeof n.splice=="function"||t4(n)||lw(n)||sg(n)))return!n.length;var e=P2(n);if(e==O3e||e==N3e)return!n.size;if(e5(n))return!VU(n).length;for(var t in n)if(U3e.call(n,t))return!1;return!0}var G3e="[object RegExp]";function z3e(n){return Ea(n)&&Qc(n)==G3e}var YR=_c&&_c.isRegExp,Q3e=YR?t5(YR):z3e;const l1=Q3e;function c1(n){return n===void 0}var H3e="Expected a function";function V3e(n){if(typeof n!="function")throw new TypeError(H3e);return function(){var e=arguments;switch(e.length){case 0:return!n.call(this);case 1:return!n.call(this,e[0]);case 2:return!n.call(this,e[0],e[1]);case 3:return!n.call(this,e[0],e[1],e[2])}return!n.apply(this,e)}}function W3e(n,e,t,i){if(!Yo(n))return n;e=cg(e,n);for(var r=-1,s=e.length,o=s-1,a=n;a!=null&&++r<s;){var l=n5(e[r]),c=t;if(l==="__proto__"||l==="constructor"||l==="prototype")return n;if(r!=o){var u=a[l];c=i?i(u,l,a):void 0,c===void 0&&(c=Yo(u)?u:ng(e[r+1])?[]:{})}ig(a,l,c),a=a[l]}return n}function j3e(n,e,t){for(var i=-1,r=e.length,s={};++i<r;){var o=e[i],a=hw(n,o);t(a,o)&&W3e(s,cg(o,n),a)}return s}function Ia(n,e){if(n==null)return{};var t=K4(JU(n),function(i){return[i]});return e=yl(e),j3e(n,t,function(i,r){return e(i,r[0])})}function X3e(n,e,t,i,r){return r(n,function(s,o,a){t=i?(i=!1,s):e(t,s,o,a)}),t}function uo(n,e,t){var i=hn(n)?P1e:X3e,r=arguments.length<3;return i(n,yl(e),t,r,I3)}function fg(n,e){var t=hn(n)?dw:lG;return t(n,V3e(yl(e)))}function q3e(n,e){var t;return I3(n,function(i,r,s){return t=e(i,r,s),!t}),!!t}function cG(n,e,t){var i=hn(n)?tG:q3e;return t&&rg(n,e,t)&&(e=void 0),i(n,yl(e))}var Y3e=1/0,K3e=f2&&1/Aw(new f2([,-0]))[1]==Y3e?function(n){return new f2(n)}:Ni;const J3e=K3e;var $3e=200;function Z3e(n,e,t){var i=-1,r=FU,s=n.length,o=!0,a=[],l=a;if(t)o=!1,r=aG;else if(s>=$3e){var c=e?null:J3e(n);if(c)return Aw(c);o=!1,r=mw,l=new L2}else l=e?[]:a;e:for(;++i<s;){var u=n[i],h=e?e(u):u;if(u=t||u!==0?u:0,o&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue e;e&&l.push(h),a.push(u)}else r(l,h,t)||(l!==a&&l.push(h),a.push(u))}return a}function xw(n){return n&&n.length?Z3e(n):[]}function Wx(n){console&&console.error&&console.error(`Error: ${n}`)}function uG(n){console&&console.warn&&console.warn(`Warning: ${n}`)}function hG(n){const e=new Date().getTime(),t=n();return{time:new Date().getTime()-e,value:t}}function fG(n){function e(){}e.prototype=n;const t=new e;function i(){return typeof t.bar}return i(),i(),n}function ehe(n){return the(n)?n.LABEL:n.name}function the(n){return Bs(n.LABEL)&&n.LABEL!==""}class xl{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),bt(this.definition,t=>{t.accept(e)})}}class ho extends xl{constructor(e){super([]),this.idx=1,co(this,Ia(e,t=>t!==void 0))}set definition(e){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(e){e.visit(this)}}let s0=class extends xl{constructor(e){super(e.definition),this.orgText="",co(this,Ia(e,t=>t!==void 0))}};class ks extends xl{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,co(this,Ia(e,t=>t!==void 0))}}let Rs=class extends xl{constructor(e){super(e.definition),this.idx=1,co(this,Ia(e,t=>t!==void 0))}};class Sl extends xl{constructor(e){super(e.definition),this.idx=1,co(this,Ia(e,t=>t!==void 0))}}class El extends xl{constructor(e){super(e.definition),this.idx=1,co(this,Ia(e,t=>t!==void 0))}}class Qi extends xl{constructor(e){super(e.definition),this.idx=1,co(this,Ia(e,t=>t!==void 0))}}class Ra extends xl{constructor(e){super(e.definition),this.idx=1,co(this,Ia(e,t=>t!==void 0))}}class Ba extends xl{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,co(this,Ia(e,t=>t!==void 0))}}class si{constructor(e){this.idx=1,co(this,Ia(e,t=>t!==void 0))}accept(e){e.visit(this)}}function nhe(n){return xt(n,y8)}function y8(n){function e(t){return xt(t,y8)}if(n instanceof ho){const t={type:"NonTerminal",name:n.nonTerminalName,idx:n.idx};return Bs(n.label)&&(t.label=n.label),t}else{if(n instanceof ks)return{type:"Alternative",definition:e(n.definition)};if(n instanceof Rs)return{type:"Option",idx:n.idx,definition:e(n.definition)};if(n instanceof Sl)return{type:"RepetitionMandatory",idx:n.idx,definition:e(n.definition)};if(n instanceof El)return{type:"RepetitionMandatoryWithSeparator",idx:n.idx,separator:y8(new si({terminalType:n.separator})),definition:e(n.definition)};if(n instanceof Ra)return{type:"RepetitionWithSeparator",idx:n.idx,separator:y8(new si({terminalType:n.separator})),definition:e(n.definition)};if(n instanceof Qi)return{type:"Repetition",idx:n.idx,definition:e(n.definition)};if(n instanceof Ba)return{type:"Alternation",idx:n.idx,definition:e(n.definition)};if(n instanceof si){const t={type:"Terminal",name:n.terminalType.name,label:ehe(n.terminalType),idx:n.idx};Bs(n.label)&&(t.terminalLabel=n.label);const i=n.terminalType.PATTERN;return n.terminalType.PATTERN&&(t.pattern=l1(i)?i.source:i),t}else{if(n instanceof s0)return{type:"Rule",name:n.name,orgText:n.orgText,definition:e(n.definition)};throw Error("non exhaustive match")}}}class o0{visit(e){const t=e;switch(t.constructor){case ho:return this.visitNonTerminal(t);case ks:return this.visitAlternative(t);case Rs:return this.visitOption(t);case Sl:return this.visitRepetitionMandatory(t);case El:return this.visitRepetitionMandatoryWithSeparator(t);case Ra:return this.visitRepetitionWithSeparator(t);case Qi:return this.visitRepetition(t);case Ba:return this.visitAlternation(t);case si:return this.visitTerminal(t);case s0:return this.visitRule(t);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}function ihe(n){return n instanceof ks||n instanceof Rs||n instanceof Qi||n instanceof Sl||n instanceof El||n instanceof Ra||n instanceof si||n instanceof s0}function w9(n,e=[]){return n instanceof Rs||n instanceof Qi||n instanceof Ra?!0:n instanceof Ba?cG(n.definition,i=>w9(i,e)):n instanceof ho&&ds(e,n)?!1:n instanceof xl?(n instanceof ho&&e.push(n),Aa(n.definition,i=>w9(i,e))):!1}function rhe(n){return n instanceof Ba}function qa(n){if(n instanceof ho)return"SUBRULE";if(n instanceof Rs)return"OPTION";if(n instanceof Ba)return"OR";if(n instanceof Sl)return"AT_LEAST_ONE";if(n instanceof El)return"AT_LEAST_ONE_SEP";if(n instanceof Ra)return"MANY_SEP";if(n instanceof Qi)return"MANY";if(n instanceof si)return"CONSUME";throw Error("non exhaustive match")}class dg{walk(e,t=[]){bt(e.definition,(i,r)=>{const s=cr(e.definition,r+1);if(i instanceof ho)this.walkProdRef(i,s,t);else if(i instanceof si)this.walkTerminal(i,s,t);else if(i instanceof ks)this.walkFlat(i,s,t);else if(i instanceof Rs)this.walkOption(i,s,t);else if(i instanceof Sl)this.walkAtLeastOne(i,s,t);else if(i instanceof El)this.walkAtLeastOneSep(i,s,t);else if(i instanceof Ra)this.walkManySep(i,s,t);else if(i instanceof Qi)this.walkMany(i,s,t);else if(i instanceof Ba)this.walkOr(i,s,t);else throw Error("non exhaustive match")})}walkTerminal(e,t,i){}walkProdRef(e,t,i){}walkFlat(e,t,i){const r=t.concat(i);this.walk(e,r)}walkOption(e,t,i){const r=t.concat(i);this.walk(e,r)}walkAtLeastOne(e,t,i){const r=[new Rs({definition:e.definition})].concat(t,i);this.walk(e,r)}walkAtLeastOneSep(e,t,i){const r=KR(e,t,i);this.walk(e,r)}walkMany(e,t,i){const r=[new Rs({definition:e.definition})].concat(t,i);this.walk(e,r)}walkManySep(e,t,i){const r=KR(e,t,i);this.walk(e,r)}walkOr(e,t,i){const r=t.concat(i);bt(e.definition,s=>{const o=new ks({definition:[s]});this.walk(o,r)})}}function KR(n,e,t){return[new Rs({definition:[new si({terminalType:n.separator})].concat(n.definition)})].concat(e,t)}function r5(n){if(n instanceof ho)return r5(n.referencedRule);if(n instanceof si)return ahe(n);if(ihe(n))return she(n);if(rhe(n))return ohe(n);throw Error("non exhaustive match")}function she(n){let e=[];const t=n.definition;let i=0,r=t.length>i,s,o=!0;for(;r&&o;)s=t[i],o=w9(s),e=e.concat(r5(s)),i=i+1,r=t.length>i;return xw(e)}function ohe(n){const e=xt(n.definition,t=>r5(t));return xw(ma(e))}function ahe(n){return[n.terminalType]}const dG="_~IN~_";class lhe extends dg{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,t,i){}walkProdRef(e,t,i){const r=uhe(e.referencedRule,e.idx)+this.topProd.name,s=t.concat(i),o=new ks({definition:s}),a=r5(o);this.follows[r]=a}}function che(n){const e={};return bt(n,t=>{const i=new lhe(t).startWalking();co(e,i)}),e}function uhe(n,e){return n.name+e+dG}function Bt(n){return n.charCodeAt(0)}function ov(n,e){Array.isArray(n)?n.forEach(function(t){e.push(t)}):e.push(n)}function af(n,e){if(n[e]===!0)throw"duplicate flag "+e;n[e],n[e]=!0}function xh(n){if(n===void 0)throw Error("Internal Error - Should never get here!");return!0}function hhe(){throw Error("Internal Error - Should never get here!")}function JR(n){return n.type==="Character"}const _9=[];for(let n=Bt("0");n<=Bt("9");n++)_9.push(n);const M9=[Bt("_")].concat(_9);for(let n=Bt("a");n<=Bt("z");n++)M9.push(n);for(let n=Bt("A");n<=Bt("Z");n++)M9.push(n);const $R=[Bt(" "),Bt("\f"),Bt(`
`),Bt("\r"),Bt("	"),Bt("\v"),Bt("	"),Bt(""),Bt(""),Bt(""),Bt(""),Bt(""),Bt(""),Bt(""),Bt(""),Bt(""),Bt(""),Bt(""),Bt(""),Bt(""),Bt("\u2028"),Bt("\u2029"),Bt(""),Bt(""),Bt(""),Bt("\uFEFF")],fhe=/[0-9a-fA-F]/,S6=/[0-9]/,dhe=/[1-9]/;class phe{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");const t=this.disjunction();this.consumeChar("/");const i={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":af(i,"global");break;case"i":af(i,"ignoreCase");break;case"m":af(i,"multiLine");break;case"u":af(i,"unicode");break;case"y":af(i,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:i,value:t,loc:this.loc(0)}}disjunction(){const e=[],t=this.idx;for(e.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(t)}}alternative(){const e=[],t=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(t)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let t;switch(this.popChar()){case"=":t="Lookahead";break;case"!":t="NegativeLookahead";break}xh(t);const i=this.disjunction();return this.consumeChar(")"),{type:t,value:i,loc:this.loc(e)}}return hhe()}quantifier(e=!1){let t;const i=this.idx;switch(this.popChar()){case"*":t={atLeast:0,atMost:1/0};break;case"+":t={atLeast:1,atMost:1/0};break;case"?":t={atLeast:0,atMost:1};break;case"{":const r=this.integerIncludingZero();switch(this.popChar()){case"}":t={atLeast:r,atMost:r};break;case",":let s;this.isDigit()?(s=this.integerIncludingZero(),t={atLeast:r,atMost:s}):t={atLeast:r,atMost:1/0},this.consumeChar("}");break}if(e===!0&&t===void 0)return;xh(t);break}if(!(e===!0&&t===void 0)&&xh(t))return this.peekChar(0)==="?"?(this.consumeChar("?"),t.greedy=!1):t.greedy=!0,t.type="Quantifier",t.loc=this.loc(i),t}atom(){let e;const t=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group();break}if(e===void 0&&this.isPatternCharacter()&&(e=this.patternCharacter()),xh(e))return e.loc=this.loc(t),this.isQuantifier()&&(e.quantifier=this.quantifier()),e}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[Bt(`
`),Bt("\r"),Bt("\u2028"),Bt("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,t=!1;switch(this.popChar()){case"d":e=_9;break;case"D":e=_9,t=!0;break;case"s":e=$R;break;case"S":e=$R,t=!0;break;case"w":e=M9;break;case"W":e=M9,t=!0;break}if(xh(e))return{type:"Set",value:e,complement:t}}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=Bt("\f");break;case"n":e=Bt(`
`);break;case"r":e=Bt("\r");break;case"t":e=Bt("	");break;case"v":e=Bt("\v");break}if(xh(e))return{type:"Character",value:e}}controlLetterEscapeAtom(){this.consumeChar("c");const e=this.popChar();if(/[a-zA-Z]/.test(e)===!1)throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:Bt("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){const e=this.popChar();return{type:"Character",value:Bt(e)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:const e=this.popChar();return{type:"Character",value:Bt(e)}}}characterClass(){const e=[];let t=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),t=!0);this.isClassAtom();){const i=this.classAtom();if(i.type,JR(i)&&this.isRangeDash()){this.consumeChar("-");const r=this.classAtom();if(r.type,JR(r)){if(r.value<i.value)throw Error("Range out of order in character class");e.push({from:i.value,to:r.value})}else ov(i.value,e),e.push(Bt("-")),ov(r.value,e)}else ov(i.value,e)}return this.consumeChar("]"),{type:"Set",complement:t,value:e}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:Bt("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++;break}const t=this.disjunction();this.consumeChar(")");const i={type:"Group",capturing:e,value:t};return e&&(i.idx=this.groupIdx),i}positiveInteger(){let e=this.popChar();if(dhe.test(e)===!1)throw Error("Expecting a positive integer");for(;S6.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(S6.test(e)===!1)throw Error("Expecting an integer");for(;S6.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){const e=this.popChar();switch(e){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:Bt(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return S6.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){const e=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let t="";for(let r=0;r<e;r++){const s=this.popChar();if(fhe.test(s)===!1)throw Error("Expecting a HexDecimal digits");t+=s}return{type:"Character",value:parseInt(t,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){const e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(e!==void 0&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}}class Sw{visitChildren(e){for(const t in e){const i=e[t];e.hasOwnProperty(t)&&(i.type!==void 0?this.visit(i):Array.isArray(i)&&i.forEach(r=>{this.visit(r)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e);break}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}let x8={};const ghe=new phe;function pg(n){const e=n.toString();if(x8.hasOwnProperty(e))return x8[e];{const t=ghe.pattern(e);return x8[e]=t,t}}function mhe(){x8={}}const pG="Complement Sets are not supported for first char optimization",T9=`Unable to use "first char" lexer optimizations:
`;function Ahe(n,e=!1){try{const t=pg(n);return jx(t.value,{},t.flags.ignoreCase)}catch(t){if(t.message===pG)e&&uG(`${T9}	Unable to optimize: < ${n.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let i="";e&&(i=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),Wx(`${T9}
	Failed parsing: < ${n.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+i)}}return[]}function jx(n,e,t){switch(n.type){case"Disjunction":for(let r=0;r<n.value.length;r++)jx(n.value[r],e,t);break;case"Alternative":const i=n.value;for(let r=0;r<i.length;r++){const s=i[r];switch(s.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const o=s;switch(o.type){case"Character":E6(o.value,e,t);break;case"Set":if(o.complement===!0)throw Error(pG);bt(o.value,l=>{if(typeof l=="number")E6(l,e,t);else{const c=l;if(t===!0)for(let u=c.from;u<=c.to;u++)E6(u,e,t);else{for(let u=c.from;u<=c.to&&u<Mf;u++)E6(u,e,t);if(c.to>=Mf){const u=c.from>=Mf?c.from:Mf,h=c.to,f=Mc(u),p=Mc(h);for(let m=f;m<=p;m++)e[m]=m}}}});break;case"Group":jx(o.value,e,t);break;default:throw Error("Non Exhaustive Match")}const a=o.quantifier!==void 0&&o.quantifier.atLeast===0;if(o.type==="Group"&&Xx(o)===!1||o.type!=="Group"&&a===!1)break}break;default:throw Error("non exhaustive match!")}return Ui(e)}function E6(n,e,t){const i=Mc(n);e[i]=i,t===!0&&vhe(n,e)}function vhe(n,e){const t=String.fromCharCode(n),i=t.toUpperCase();if(i!==t){const r=Mc(i.charCodeAt(0));e[r]=r}else{const r=t.toLowerCase();if(r!==t){const s=Mc(r.charCodeAt(0));e[s]=s}}}function ZR(n,e){return O2(n.value,t=>{if(typeof t=="number")return ds(e,t);{const i=t;return O2(e,r=>i.from<=r&&r<=i.to)!==void 0}})}function Xx(n){const e=n.quantifier;return e&&e.atLeast===0?!0:n.value?hn(n.value)?Aa(n.value,Xx):Xx(n.value):!1}class yhe extends Sw{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(this.found!==!0){switch(e.type){case"Lookahead":this.visitLookahead(e);return;case"NegativeLookahead":this.visitNegativeLookahead(e);return}super.visitChildren(e)}}visitCharacter(e){ds(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?ZR(e,this.targetCharCodes)===void 0&&(this.found=!0):ZR(e,this.targetCharCodes)!==void 0&&(this.found=!0)}}function Ew(n,e){if(e instanceof RegExp){const t=pg(e),i=new yhe(n);return i.visit(t),i.found}else return O2(e,t=>ds(n,t.charCodeAt(0)))!==void 0}const p3="PATTERN",_f="defaultMode",C6="modes";let gG=typeof new RegExp("(?:)").sticky=="boolean";function xhe(n,e){e=yw(e,{useSticky:gG,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(y,x)=>x()});const t=e.tracer;t("initCharCodeToOptimizedIndexMap",()=>{Hhe()});let i;t("Reject Lexer.NA",()=>{i=fg(n,y=>y[p3]===Ho.NA)});let r=!1,s;t("Transform Patterns",()=>{r=!1,s=xt(i,y=>{const x=y[p3];if(l1(x)){const C=x.source;return C.length===1&&C!=="^"&&C!=="$"&&C!=="."&&!x.ignoreCase?C:C.length===2&&C[0]==="\\"&&!ds(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],C[1])?C[1]:e.useSticky?tB(x):eB(x)}else{if(v1(x))return r=!0,{exec:x};if(typeof x=="object")return r=!0,x;if(typeof x=="string"){if(x.length===1)return x;{const C=x.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),w=new RegExp(C);return e.useSticky?tB(w):eB(w)}}else throw Error("non exhaustive match")}})});let o,a,l,c,u;t("misc mapping",()=>{o=xt(i,y=>y.tokenTypeIdx),a=xt(i,y=>{const x=y.GROUP;if(x!==Ho.SKIPPED){if(Bs(x))return x;if(c1(x))return!1;throw Error("non exhaustive match")}}),l=xt(i,y=>{const x=y.LONGER_ALT;if(x)return hn(x)?xt(x,w=>qR(i,w)):[qR(i,x)]}),c=xt(i,y=>y.PUSH_MODE),u=xt(i,y=>_t(y,"POP_MODE"))});let h;t("Line Terminator Handling",()=>{const y=vG(e.lineTerminatorCharacters);h=xt(i,x=>!1),e.positionTracking!=="onlyOffset"&&(h=xt(i,x=>_t(x,"LINE_BREAKS")?!!x.LINE_BREAKS:AG(x,y)===!1&&Ew(y,x.PATTERN)))});let f,p,m,S;t("Misc Mapping #2",()=>{f=xt(i,mG),p=xt(s,Ghe),m=uo(i,(y,x)=>{const C=x.GROUP;return Bs(C)&&C!==Ho.SKIPPED&&(y[C]=[]),y},{}),S=xt(s,(y,x)=>({pattern:s[x],longerAlt:l[x],canLineTerminator:h[x],isCustom:f[x],short:p[x],group:a[x],push:c[x],pop:u[x],tokenTypeIdx:o[x],tokenType:i[x]}))});let v=!0,A=[];return e.safeMode||t("First Char Optimization",()=>{A=uo(i,(y,x,C)=>{if(typeof x.PATTERN=="string"){const w=x.PATTERN.charCodeAt(0),M=Mc(w);av(y,M,S[C])}else if(hn(x.START_CHARS_HINT)){let w;bt(x.START_CHARS_HINT,M=>{const T=typeof M=="string"?M.charCodeAt(0):M,R=Mc(T);w!==R&&(w=R,av(y,R,S[C]))})}else if(l1(x.PATTERN))if(x.PATTERN.unicode)v=!1,e.ensureOptimizations&&Wx(`${T9}	Unable to analyze < ${x.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const w=Ahe(x.PATTERN,e.ensureOptimizations);On(w)&&(v=!1),bt(w,M=>{av(y,M,S[C])})}else e.ensureOptimizations&&Wx(`${T9}	TokenType: <${x.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),v=!1;return y},[])}),{emptyGroups:m,patternIdxToConfig:S,charCodeToPatternIdxToConfig:A,hasCustom:r,canBeOptimized:v}}function She(n,e){let t=[];const i=Che(n);t=t.concat(i.errors);const r=whe(i.valid),s=r.valid;return t=t.concat(r.errors),t=t.concat(Ehe(s)),t=t.concat(khe(s)),t=t.concat(Phe(s,e)),t=t.concat(Lhe(s)),t}function Ehe(n){let e=[];const t=Zo(n,i=>l1(i[p3]));return e=e.concat(Mhe(t)),e=e.concat(Ihe(t)),e=e.concat(Rhe(t)),e=e.concat(Bhe(t)),e=e.concat(The(t)),e}function Che(n){const e=Zo(n,r=>!_t(r,p3)),t=xt(e,r=>({message:"Token Type: ->"+r.name+"<- missing static 'PATTERN' property",type:mi.MISSING_PATTERN,tokenTypes:[r]})),i=hg(n,e);return{errors:t,valid:i}}function whe(n){const e=Zo(n,r=>{const s=r[p3];return!l1(s)&&!v1(s)&&!_t(s,"exec")&&!Bs(s)}),t=xt(e,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:mi.INVALID_PATTERN,tokenTypes:[r]})),i=hg(n,e);return{errors:t,valid:i}}const _he=/[^\\][$]/;function Mhe(n){class e extends Sw{constructor(){super(...arguments),this.found=!1}visitEndAnchor(s){this.found=!0}}const t=Zo(n,r=>{const s=r.PATTERN;try{const o=pg(s),a=new e;return a.visit(o),a.found}catch{return _he.test(s.source)}});return xt(t,r=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+r.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:mi.EOI_ANCHOR_FOUND,tokenTypes:[r]}))}function The(n){const e=Zo(n,i=>i.PATTERN.test(""));return xt(e,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' must not match an empty string",type:mi.EMPTY_MATCH_PATTERN,tokenTypes:[i]}))}const bhe=/[^\\[][\^]|^\^/;function Ihe(n){class e extends Sw{constructor(){super(...arguments),this.found=!1}visitStartAnchor(s){this.found=!0}}const t=Zo(n,r=>{const s=r.PATTERN;try{const o=pg(s),a=new e;return a.visit(o),a.found}catch{return bhe.test(s.source)}});return xt(t,r=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+r.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:mi.SOI_ANCHOR_FOUND,tokenTypes:[r]}))}function Rhe(n){const e=Zo(n,i=>{const r=i[p3];return r instanceof RegExp&&(r.multiline||r.global)});return xt(e,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:mi.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[i]}))}function Bhe(n){const e=[];let t=xt(n,s=>uo(n,(o,a)=>(s.PATTERN.source===a.PATTERN.source&&!ds(e,a)&&a.PATTERN!==Ho.NA&&(e.push(a),o.push(a)),o),[]));t=i5(t);const i=Zo(t,s=>s.length>1);return xt(i,s=>{const o=xt(s,l=>l.name);return{message:`The same RegExp pattern ->${Ca(s).PATTERN}<-has been used in all of the following Token Types: ${o.join(", ")} <-`,type:mi.DUPLICATE_PATTERNS_FOUND,tokenTypes:s}})}function khe(n){const e=Zo(n,i=>{if(!_t(i,"GROUP"))return!1;const r=i.GROUP;return r!==Ho.SKIPPED&&r!==Ho.NA&&!Bs(r)});return xt(e,i=>({message:"Token Type: ->"+i.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:mi.INVALID_GROUP_TYPE_FOUND,tokenTypes:[i]}))}function Phe(n,e){const t=Zo(n,r=>r.PUSH_MODE!==void 0&&!ds(e,r.PUSH_MODE));return xt(t,r=>({message:`Token Type: ->${r.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${r.PUSH_MODE}<-which does not exist`,type:mi.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[r]}))}function Lhe(n){const e=[],t=uo(n,(i,r,s)=>{const o=r.PATTERN;return o===Ho.NA||(Bs(o)?i.push({str:o,idx:s,tokenType:r}):l1(o)&&Ohe(o)&&i.push({str:o.source,idx:s,tokenType:r})),i},[]);return bt(n,(i,r)=>{bt(t,({str:s,idx:o,tokenType:a})=>{if(r<o&&Dhe(s,i.PATTERN)){const l=`Token: ->${a.name}<- can never be matched.
Because it appears AFTER the Token Type ->${i.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;e.push({message:l,type:mi.UNREACHABLE_PATTERN,tokenTypes:[i,a]})}})}),e}function Dhe(n,e){if(l1(e)){const t=e.exec(n);return t!==null&&t.index===0}else{if(v1(e))return e(n,0,[],{});if(_t(e,"exec"))return e.exec(n,0,[],{});if(typeof e=="string")return e===n;throw Error("non exhaustive match")}}function Ohe(n){return O2([".","\\","[","]","|","^","$","(",")","?","*","+","{"],t=>n.source.indexOf(t)!==-1)===void 0}function eB(n){const e=n.ignoreCase?"i":"";return new RegExp(`^(?:${n.source})`,e)}function tB(n){const e=n.ignoreCase?"iy":"y";return new RegExp(`${n.source}`,e)}function Nhe(n,e,t){const i=[];return _t(n,_f)||i.push({message:"A MultiMode Lexer cannot be initialized without a <"+_f+`> property in its definition
`,type:mi.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),_t(n,C6)||i.push({message:"A MultiMode Lexer cannot be initialized without a <"+C6+`> property in its definition
`,type:mi.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),_t(n,C6)&&_t(n,_f)&&!_t(n.modes,n.defaultMode)&&i.push({message:`A MultiMode Lexer cannot be initialized with a ${_f}: <${n.defaultMode}>which does not exist
`,type:mi.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),_t(n,C6)&&bt(n.modes,(r,s)=>{bt(r,(o,a)=>{if(c1(o))i.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${s}> at index: <${a}>
`,type:mi.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(_t(o,"LONGER_ALT")){const l=hn(o.LONGER_ALT)?o.LONGER_ALT:[o.LONGER_ALT];bt(l,c=>{!c1(c)&&!ds(r,c)&&i.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${c.name}> on token <${o.name}> outside of mode <${s}>
`,type:mi.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),i}function Fhe(n,e,t){const i=[];let r=!1;const s=i5(ma(Ui(n.modes))),o=fg(s,l=>l[p3]===Ho.NA),a=vG(t);return e&&bt(o,l=>{const c=AG(l,a);if(c!==!1){const h={message:Qhe(l,c),type:c.issue,tokenType:l};i.push(h)}else _t(l,"LINE_BREAKS")?l.LINE_BREAKS===!0&&(r=!0):Ew(a,l.PATTERN)&&(r=!0)}),e&&!r&&i.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:mi.NO_LINE_BREAKS_FLAGS}),i}function Uhe(n){const e={},t=lo(n);return bt(t,i=>{const r=n[i];if(hn(r))e[i]=[];else throw Error("non exhaustive match")}),e}function mG(n){const e=n.PATTERN;if(l1(e))return!1;if(v1(e))return!0;if(_t(e,"exec"))return!0;if(Bs(e))return!1;throw Error("non exhaustive match")}function Ghe(n){return Bs(n)&&n.length===1?n.charCodeAt(0):!1}const zhe={test:function(n){const e=n.length;for(let t=this.lastIndex;t<e;t++){const i=n.charCodeAt(t);if(i===10)return this.lastIndex=t+1,!0;if(i===13)return n.charCodeAt(t+1)===10?this.lastIndex=t+2:this.lastIndex=t+1,!0}return!1},lastIndex:0};function AG(n,e){if(_t(n,"LINE_BREAKS"))return!1;if(l1(n.PATTERN)){try{Ew(e,n.PATTERN)}catch(t){return{issue:mi.IDENTIFY_TERMINATOR,errMsg:t.message}}return!1}else{if(Bs(n.PATTERN))return!1;if(mG(n))return{issue:mi.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function Qhe(n,e){if(e.issue===mi.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${n.name}> Token Type
	 Root cause: ${e.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(e.issue===mi.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${n.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function vG(n){return xt(n,t=>Bs(t)?t.charCodeAt(0):t)}function av(n,e,t){n[e]===void 0?n[e]=[t]:n[e].push(t)}const Mf=256;let S8=[];function Mc(n){return n<Mf?n:S8[n]}function Hhe(){if(On(S8)){S8=new Array(65536);for(let n=0;n<65536;n++)S8[n]=n>255?255+~~(n/255):n}}function s5(n,e){const t=n.tokenTypeIdx;return t===e.tokenTypeIdx?!0:e.isParent===!0&&e.categoryMatchesMap[t]===!0}function b9(n,e){return n.tokenTypeIdx===e.tokenTypeIdx}let nB=1;const yG={};function o5(n){const e=Vhe(n);Whe(e),Xhe(e),jhe(e),bt(e,t=>{t.isParent=t.categoryMatches.length>0})}function Vhe(n){let e=Ur(n),t=n,i=!0;for(;i;){t=i5(ma(xt(t,s=>s.CATEGORIES)));const r=hg(t,e);e=e.concat(r),On(r)?i=!1:t=r}return e}function Whe(n){bt(n,e=>{SG(e)||(yG[nB]=e,e.tokenTypeIdx=nB++),iB(e)&&!hn(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),iB(e)||(e.CATEGORIES=[]),qhe(e)||(e.categoryMatches=[]),Yhe(e)||(e.categoryMatchesMap={})})}function jhe(n){bt(n,e=>{e.categoryMatches=[],bt(e.categoryMatchesMap,(t,i)=>{e.categoryMatches.push(yG[i].tokenTypeIdx)})})}function Xhe(n){bt(n,e=>{xG([],e)})}function xG(n,e){bt(n,t=>{e.categoryMatchesMap[t.tokenTypeIdx]=!0}),bt(e.CATEGORIES,t=>{const i=n.concat(e);ds(i,t)||xG(i,t)})}function SG(n){return _t(n,"tokenTypeIdx")}function iB(n){return _t(n,"CATEGORIES")}function qhe(n){return _t(n,"categoryMatches")}function Yhe(n){return _t(n,"categoryMatchesMap")}function Khe(n){return _t(n,"tokenTypeIdx")}const Jhe={buildUnableToPopLexerModeMessage(n){return`Unable to pop Lexer Mode after encountering Token ->${n.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(n,e,t,i,r){return`unexpected character: ->${n.charAt(e)}<- at offset: ${e}, skipped ${t} characters.`}};var mi;(function(n){n[n.MISSING_PATTERN=0]="MISSING_PATTERN",n[n.INVALID_PATTERN=1]="INVALID_PATTERN",n[n.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",n[n.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",n[n.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",n[n.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",n[n.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",n[n.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",n[n.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",n[n.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",n[n.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",n[n.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",n[n.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",n[n.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",n[n.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",n[n.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",n[n.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",n[n.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(mi||(mi={}));const Tf={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:Jhe,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(Tf);class Ho{constructor(e,t=Tf){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(r,s)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const o=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${o}--> <${r}>`);const{time:a,value:l}=hG(s),c=a>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&c(`${o}<-- <${r}> time: ${a}ms`),this.traceInitIndent--,l}else return s()},typeof t=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=co({},Tf,t);const i=this.config.traceInitPerf;i===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof i=="number"&&(this.traceInitMaxIdent=i,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let r,s=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===Tf.lineTerminatorsPattern)this.config.lineTerminatorsPattern=zhe;else if(this.config.lineTerminatorCharacters===Tf.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(t.safeMode&&t.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),hn(e)?r={modes:{defaultMode:Ur(e)},defaultMode:_f}:(s=!1,r=Ur(e))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Nhe(r,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(Fhe(r,this.trackStartLines,this.config.lineTerminatorCharacters))})),r.modes=r.modes?r.modes:{},bt(r.modes,(a,l)=>{r.modes[l]=fg(a,c=>c1(c))});const o=lo(r.modes);if(bt(r.modes,(a,l)=>{this.TRACE_INIT(`Mode: <${l}> processing`,()=>{if(this.modes.push(l),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(She(a,o))}),On(this.lexerDefinitionErrors)){o5(a);let c;this.TRACE_INIT("analyzeTokenTypes",()=>{c=xhe(a,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:t.positionTracking,ensureOptimizations:t.ensureOptimizations,safeMode:t.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[l]=c.patternIdxToConfig,this.charCodeToPatternIdxToConfig[l]=c.charCodeToPatternIdxToConfig,this.emptyGroups=co({},this.emptyGroups,c.emptyGroups),this.hasCustom=c.hasCustom||this.hasCustom,this.canModeBeOptimized[l]=c.canBeOptimized}})}),this.defaultMode=r.defaultMode,!On(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const l=xt(this.lexerDefinitionErrors,c=>c.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+l)}bt(this.lexerDefinitionWarning,a=>{uG(a.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(gG?(this.chopInput=k2,this.match=this.matchWithTest):(this.updateLastIndex=Ni,this.match=this.matchWithExec),s&&(this.handleModes=Ni),this.trackStartLines===!1&&(this.computeNewColumn=k2),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=Ni),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const a=uo(this.canModeBeOptimized,(l,c,u)=>(c===!1&&l.push(u),l),[]);if(t.ensureOptimizations&&!On(a))throw Error(`Lexer Modes: < ${a.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{mhe()}),this.TRACE_INIT("toFastProperties",()=>{fG(this)})})}tokenize(e,t=this.defaultMode){if(!On(this.lexerDefinitionErrors)){const r=xt(this.lexerDefinitionErrors,s=>s.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+r)}return this.tokenizeInternal(e,t)}tokenizeInternal(e,t){let i,r,s,o,a,l,c,u,h,f,p,m,S,v,A;const y=e,x=y.length;let C=0,w=0;const M=this.hasCustom?0:Math.floor(e.length/10),T=new Array(M),R=[];let b=this.trackStartLines?1:void 0,B=this.trackStartLines?1:void 0;const P=Uhe(this.emptyGroups),O=this.trackStartLines,G=this.config.lineTerminatorsPattern;let H=0,j=[],q=[];const J=[],L=[];Object.freeze(L);let D;function F(){return j}function z(se){const re=Mc(se),he=q[re];return he===void 0?L:he}const U=se=>{if(J.length===1&&se.tokenType.PUSH_MODE===void 0){const re=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(se);R.push({offset:se.startOffset,line:se.startLine,column:se.startColumn,length:se.image.length,message:re})}else{J.pop();const re=D2(J);j=this.patternIdxToConfig[re],q=this.charCodeToPatternIdxToConfig[re],H=j.length;const he=this.canModeBeOptimized[re]&&this.config.safeMode===!1;q&&he?D=z:D=F}};function $(se){J.push(se),q=this.charCodeToPatternIdxToConfig[se],j=this.patternIdxToConfig[se],H=j.length,H=j.length;const re=this.canModeBeOptimized[se]&&this.config.safeMode===!1;q&&re?D=z:D=F}$.call(this,t);let ee;const ie=this.config.recoveryEnabled;for(;C<x;){l=null;const se=y.charCodeAt(C),re=D(se),he=re.length;for(i=0;i<he;i++){ee=re[i];const Ce=ee.pattern;c=null;const ze=ee.short;if(ze!==!1?se===ze&&(l=Ce):ee.isCustom===!0?(A=Ce.exec(y,C,T,P),A!==null?(l=A[0],A.payload!==void 0&&(c=A.payload)):l=null):(this.updateLastIndex(Ce,C),l=this.match(Ce,e,C)),l!==null){if(a=ee.longerAlt,a!==void 0){const Se=a.length;for(s=0;s<Se;s++){const V=j[a[s]],ye=V.pattern;if(u=null,V.isCustom===!0?(A=ye.exec(y,C,T,P),A!==null?(o=A[0],A.payload!==void 0&&(u=A.payload)):o=null):(this.updateLastIndex(ye,C),o=this.match(ye,e,C)),o&&o.length>l.length){l=o,c=u,ee=V;break}}}break}}if(l!==null){if(h=l.length,f=ee.group,f!==void 0&&(p=ee.tokenTypeIdx,m=this.createTokenInstance(l,C,p,ee.tokenType,b,B,h),this.handlePayload(m,c),f===!1?w=this.addToken(T,w,m):P[f].push(m)),e=this.chopInput(e,h),C=C+h,B=this.computeNewColumn(B,h),O===!0&&ee.canLineTerminator===!0){let Ce=0,ze,Se;G.lastIndex=0;do ze=G.test(l),ze===!0&&(Se=G.lastIndex-1,Ce++);while(ze===!0);Ce!==0&&(b=b+Ce,B=h-Se,this.updateTokenEndLineColumnLocation(m,f,Se,Ce,b,B,h))}this.handleModes(ee,U,$,m)}else{const Ce=C,ze=b,Se=B;let V=ie===!1;for(;V===!1&&C<x;)for(e=this.chopInput(e,1),C++,r=0;r<H;r++){const ye=j[r],fe=ye.pattern,xe=ye.short;if(xe!==!1?y.charCodeAt(C)===xe&&(V=!0):ye.isCustom===!0?V=fe.exec(y,C,T,P)!==null:(this.updateLastIndex(fe,C),V=fe.exec(e)!==null),V===!0)break}if(S=C-Ce,B=this.computeNewColumn(B,S),v=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(y,Ce,S,ze,Se),R.push({offset:Ce,line:ze,column:Se,length:S,message:v}),ie===!1)break}}return this.hasCustom||(T.length=w),{tokens:T,groups:P,errors:R}}handleModes(e,t,i,r){if(e.pop===!0){const s=e.push;t(r),s!==void 0&&i.call(this,s)}else e.push!==void 0&&i.call(this,e.push)}chopInput(e,t){return e.substring(t)}updateLastIndex(e,t){e.lastIndex=t}updateTokenEndLineColumnLocation(e,t,i,r,s,o,a){let l,c;t!==void 0&&(l=i===a-1,c=l?-1:0,r===1&&l===!0||(e.endLine=s+c,e.endColumn=o-1+-c))}computeNewColumn(e,t){return e+t}createOffsetOnlyToken(e,t,i,r){return{image:e,startOffset:t,tokenTypeIdx:i,tokenType:r}}createStartOnlyToken(e,t,i,r,s,o){return{image:e,startOffset:t,startLine:s,startColumn:o,tokenTypeIdx:i,tokenType:r}}createFullToken(e,t,i,r,s,o,a){return{image:e,startOffset:t,endOffset:t+a-1,startLine:s,endLine:s,startColumn:o,endColumn:o+a-1,tokenTypeIdx:i,tokenType:r}}addTokenUsingPush(e,t,i){return e.push(i),t}addTokenUsingMemberAccess(e,t,i){return e[t]=i,t++,t}handlePayloadNoCustom(e,t){}handlePayloadWithCustom(e,t){t!==null&&(e.payload=t)}matchWithTest(e,t,i){return e.test(t)===!0?t.substring(i,e.lastIndex):null}matchWithExec(e,t){const i=e.exec(t);return i!==null?i[0]:null}}Ho.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";Ho.NA=/NOT_APPLICABLE/;function td(n){return EG(n)?n.LABEL:n.name}function EG(n){return Bs(n.LABEL)&&n.LABEL!==""}const $he="parent",rB="categories",sB="label",oB="group",aB="push_mode",lB="pop_mode",cB="longer_alt",uB="line_breaks",hB="start_chars_hint";function CG(n){return Zhe(n)}function Zhe(n){const e=n.pattern,t={};if(t.name=n.name,c1(e)||(t.PATTERN=e),_t(n,$he))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return _t(n,rB)&&(t.CATEGORIES=n[rB]),o5([t]),_t(n,sB)&&(t.LABEL=n[sB]),_t(n,oB)&&(t.GROUP=n[oB]),_t(n,lB)&&(t.POP_MODE=n[lB]),_t(n,aB)&&(t.PUSH_MODE=n[aB]),_t(n,cB)&&(t.LONGER_ALT=n[cB]),_t(n,uB)&&(t.LINE_BREAKS=n[uB]),_t(n,hB)&&(t.START_CHARS_HINT=n[hB]),t}const g3=CG({name:"EOF",pattern:Ho.NA});o5([g3]);function Cw(n,e,t,i,r,s,o,a){return{image:e,startOffset:t,endOffset:i,startLine:r,endLine:s,startColumn:o,endColumn:a,tokenTypeIdx:n.tokenTypeIdx,tokenType:n}}function e2e(n,e){return s5(n,e)}const wG={buildMismatchTokenMessage({expected:n,actual:e,previous:t,ruleName:i}){return`Expecting ${EG(n)?`--> ${td(n)} <--`:`token of type --> ${n.name} <--`} but found --> '${e.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:n,ruleName:e}){return"Redundant input, expecting EOF but found: "+n.image},buildNoViableAltMessage({expectedPathsPerAlt:n,actual:e,previous:t,customUserDescription:i,ruleName:r}){const s="Expecting: ",a=`
but found: '`+Ca(e).image+"'";if(i)return s+i+a;{const l=uo(n,(f,p)=>f.concat(p),[]),c=xt(l,f=>`[${xt(f,p=>td(p)).join(", ")}]`),h=`one of these possible Token sequences:
${xt(c,(f,p)=>`  ${p+1}. ${f}`).join(`
`)}`;return s+h+a}},buildEarlyExitMessage({expectedIterationPaths:n,actual:e,customUserDescription:t,ruleName:i}){const r="Expecting: ",o=`
but found: '`+Ca(e).image+"'";if(t)return r+t+o;{const l=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${xt(n,c=>`[${xt(c,u=>td(u)).join(",")}]`).join(" ,")}>`;return r+l+o}}};Object.freeze(wG);const t2e={buildRuleNotFoundError(n,e){return"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+`<-
inside top level rule: ->`+n.name+"<-"}},Gu={buildDuplicateFoundError(n,e){function t(u){return u instanceof si?u.terminalType.name:u instanceof ho?u.nonTerminalName:""}const i=n.name,r=Ca(e),s=r.idx,o=qa(r),a=t(r),l=s>0;let c=`->${o}${l?s:""}<- ${a?`with argument: ->${a}<-`:""}
                  appears more than once (${e.length} times) in the top level rule: ->${i}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return c=c.replace(/[ \t]+/g," "),c=c.replace(/\s\s+/g,`
`),c},buildNamespaceConflictError(n){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${n.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(n){const e=xt(n.prefixPath,r=>td(r)).join(", "),t=n.alternation.idx===0?"":n.alternation.idx;return`Ambiguous alternatives: <${n.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${t}> inside <${n.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(n){const e=xt(n.prefixPath,r=>td(r)).join(", "),t=n.alternation.idx===0?"":n.alternation.idx;let i=`Ambiguous Alternatives Detected: <${n.ambiguityIndices.join(" ,")}> in <OR${t}> inside <${n.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return i=i+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,i},buildEmptyRepetitionError(n){let e=qa(n.repetition);return n.repetition.idx!==0&&(e+=n.repetition.idx),`The repetition <${e}> within Rule <${n.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(n){return"deprecated"},buildEmptyAlternationError(n){return`Ambiguous empty alternative: <${n.emptyChoiceIdx+1}> in <OR${n.alternation.idx}> inside <${n.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(n){return`An Alternation cannot have more than 256 alternatives:
<OR${n.alternation.idx}> inside <${n.topLevelRule.name}> Rule.
 has ${n.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(n){const e=n.topLevelRule.name,t=xt(n.leftRecursionPath,s=>s.name),i=`${e} --> ${t.concat([e]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${e}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${i}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(n){return"deprecated"},buildDuplicateRuleNameError(n){let e;return n.topLevelRule instanceof s0?e=n.topLevelRule.name:e=n.topLevelRule,`Duplicate definition, rule: ->${e}<- is already defined in the grammar: ->${n.grammarName}<-`}};function n2e(n,e){const t=new i2e(n,e);return t.resolveRefs(),t.errors}class i2e extends o0{constructor(e,t){super(),this.nameToTopRule=e,this.errMsgProvider=t,this.errors=[]}resolveRefs(){bt(Ui(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){const t=this.nameToTopRule[e.nonTerminalName];if(t)e.referencedRule=t;else{const i=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:i,type:ls.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}class r2e extends dg{constructor(e,t){super(),this.topProd=e,this.path=t,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Ur(this.path.ruleStack).reverse(),this.occurrenceStack=Ur(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,t=[]){this.found||super.walk(e,t)}walkProdRef(e,t,i){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){const r=t.concat(i);this.updateExpectedNext(),this.walk(e.referencedRule,r)}}updateExpectedNext(){On(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class s2e extends r2e{constructor(e,t){super(e,t),this.path=t,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,t,i){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){const r=t.concat(i),s=new ks({definition:r});this.possibleTokTypes=r5(s),this.found=!0}}}class gg extends dg{constructor(e,t){super(),this.topRule=e,this.occurrence=t,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class o2e extends gg{walkMany(e,t,i){if(e.idx===this.occurrence){const r=Ca(t.concat(i));this.result.isEndOfRule=r===void 0,r instanceof si&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else super.walkMany(e,t,i)}}class fB extends gg{walkManySep(e,t,i){if(e.idx===this.occurrence){const r=Ca(t.concat(i));this.result.isEndOfRule=r===void 0,r instanceof si&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else super.walkManySep(e,t,i)}}class a2e extends gg{walkAtLeastOne(e,t,i){if(e.idx===this.occurrence){const r=Ca(t.concat(i));this.result.isEndOfRule=r===void 0,r instanceof si&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else super.walkAtLeastOne(e,t,i)}}class dB extends gg{walkAtLeastOneSep(e,t,i){if(e.idx===this.occurrence){const r=Ca(t.concat(i));this.result.isEndOfRule=r===void 0,r instanceof si&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else super.walkAtLeastOneSep(e,t,i)}}function qx(n,e,t=[]){t=Ur(t);let i=[],r=0;function s(a){return a.concat(cr(n,r+1))}function o(a){const l=qx(s(a),e,t);return i.concat(l)}for(;t.length<e&&r<n.length;){const a=n[r];if(a instanceof ks)return o(a.definition);if(a instanceof ho)return o(a.definition);if(a instanceof Rs)i=o(a.definition);else if(a instanceof Sl){const l=a.definition.concat([new Qi({definition:a.definition})]);return o(l)}else if(a instanceof El){const l=[new ks({definition:a.definition}),new Qi({definition:[new si({terminalType:a.separator})].concat(a.definition)})];return o(l)}else if(a instanceof Ra){const l=a.definition.concat([new Qi({definition:[new si({terminalType:a.separator})].concat(a.definition)})]);i=o(l)}else if(a instanceof Qi){const l=a.definition.concat([new Qi({definition:a.definition})]);i=o(l)}else{if(a instanceof Ba)return bt(a.definition,l=>{On(l.definition)===!1&&(i=o(l.definition))}),i;if(a instanceof si)t.push(a.terminalType);else throw Error("non exhaustive match")}r++}return i.push({partialPath:t,suffixDef:cr(n,r)}),i}function _G(n,e,t,i){const r="EXIT_NONE_TERMINAL",s=[r],o="EXIT_ALTERNATIVE";let a=!1;const l=e.length,c=l-i-1,u=[],h=[];for(h.push({idx:-1,def:n,ruleStack:[],occurrenceStack:[]});!On(h);){const f=h.pop();if(f===o){a&&D2(h).idx<=c&&h.pop();continue}const p=f.def,m=f.idx,S=f.ruleStack,v=f.occurrenceStack;if(On(p))continue;const A=p[0];if(A===r){const y={idx:m,def:cr(p),ruleStack:r4(S),occurrenceStack:r4(v)};h.push(y)}else if(A instanceof si)if(m<l-1){const y=m+1,x=e[y];if(t(x,A.terminalType)){const C={idx:y,def:cr(p),ruleStack:S,occurrenceStack:v};h.push(C)}}else if(m===l-1)u.push({nextTokenType:A.terminalType,nextTokenOccurrence:A.idx,ruleStack:S,occurrenceStack:v}),a=!0;else throw Error("non exhaustive match");else if(A instanceof ho){const y=Ur(S);y.push(A.nonTerminalName);const x=Ur(v);x.push(A.idx);const C={idx:m,def:A.definition.concat(s,cr(p)),ruleStack:y,occurrenceStack:x};h.push(C)}else if(A instanceof Rs){const y={idx:m,def:cr(p),ruleStack:S,occurrenceStack:v};h.push(y),h.push(o);const x={idx:m,def:A.definition.concat(cr(p)),ruleStack:S,occurrenceStack:v};h.push(x)}else if(A instanceof Sl){const y=new Qi({definition:A.definition,idx:A.idx}),x=A.definition.concat([y],cr(p)),C={idx:m,def:x,ruleStack:S,occurrenceStack:v};h.push(C)}else if(A instanceof El){const y=new si({terminalType:A.separator}),x=new Qi({definition:[y].concat(A.definition),idx:A.idx}),C=A.definition.concat([x],cr(p)),w={idx:m,def:C,ruleStack:S,occurrenceStack:v};h.push(w)}else if(A instanceof Ra){const y={idx:m,def:cr(p),ruleStack:S,occurrenceStack:v};h.push(y),h.push(o);const x=new si({terminalType:A.separator}),C=new Qi({definition:[x].concat(A.definition),idx:A.idx}),w=A.definition.concat([C],cr(p)),M={idx:m,def:w,ruleStack:S,occurrenceStack:v};h.push(M)}else if(A instanceof Qi){const y={idx:m,def:cr(p),ruleStack:S,occurrenceStack:v};h.push(y),h.push(o);const x=new Qi({definition:A.definition,idx:A.idx}),C=A.definition.concat([x],cr(p)),w={idx:m,def:C,ruleStack:S,occurrenceStack:v};h.push(w)}else if(A instanceof Ba)for(let y=A.definition.length-1;y>=0;y--){const x=A.definition[y],C={idx:m,def:x.definition.concat(cr(p)),ruleStack:S,occurrenceStack:v};h.push(C),h.push(o)}else if(A instanceof ks)h.push({idx:m,def:A.definition.concat(cr(p)),ruleStack:S,occurrenceStack:v});else if(A instanceof s0)h.push(l2e(A,m,S,v));else throw Error("non exhaustive match")}return u}function l2e(n,e,t,i){const r=Ur(t);r.push(n.name);const s=Ur(i);return s.push(1),{idx:e,def:n.definition,ruleStack:r,occurrenceStack:s}}var di;(function(n){n[n.OPTION=0]="OPTION",n[n.REPETITION=1]="REPETITION",n[n.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",n[n.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",n[n.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",n[n.ALTERNATION=5]="ALTERNATION"})(di||(di={}));function MG(n){if(n instanceof Rs||n==="Option")return di.OPTION;if(n instanceof Qi||n==="Repetition")return di.REPETITION;if(n instanceof Sl||n==="RepetitionMandatory")return di.REPETITION_MANDATORY;if(n instanceof El||n==="RepetitionMandatoryWithSeparator")return di.REPETITION_MANDATORY_WITH_SEPARATOR;if(n instanceof Ra||n==="RepetitionWithSeparator")return di.REPETITION_WITH_SEPARATOR;if(n instanceof Ba||n==="Alternation")return di.ALTERNATION;throw Error("non exhaustive match")}function c2e(n,e,t,i,r,s){const o=ww(n,e,t),a=IG(o)?b9:s5;return s(o,i,a,r)}function u2e(n,e,t,i,r,s){const o=_w(n,e,r,t),a=IG(o)?b9:s5;return s(o[0],a,i)}function h2e(n,e,t,i){const r=n.length,s=Aa(n,o=>Aa(o,a=>a.length===1));if(e)return function(o){const a=xt(o,l=>l.GATE);for(let l=0;l<r;l++){const c=n[l],u=c.length,h=a[l];if(!(h!==void 0&&h.call(this)===!1))e:for(let f=0;f<u;f++){const p=c[f],m=p.length;for(let S=0;S<m;S++){const v=this.LA(S+1);if(t(v,p[S])===!1)continue e}return l}}};if(s&&!i){const o=xt(n,l=>ma(l)),a=uo(o,(l,c,u)=>(bt(c,h=>{_t(l,h.tokenTypeIdx)||(l[h.tokenTypeIdx]=u),bt(h.categoryMatches,f=>{_t(l,f)||(l[f]=u)})}),l),{});return function(){const l=this.LA(1);return a[l.tokenTypeIdx]}}else return function(){for(let o=0;o<r;o++){const a=n[o],l=a.length;e:for(let c=0;c<l;c++){const u=a[c],h=u.length;for(let f=0;f<h;f++){const p=this.LA(f+1);if(t(p,u[f])===!1)continue e}return o}}}}function f2e(n,e,t){const i=Aa(n,s=>s.length===1),r=n.length;if(i&&!t){const s=ma(n);if(s.length===1&&On(s[0].categoryMatches)){const a=s[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===a}}else{const o=uo(s,(a,l,c)=>(a[l.tokenTypeIdx]=!0,bt(l.categoryMatches,u=>{a[u]=!0}),a),[]);return function(){const a=this.LA(1);return o[a.tokenTypeIdx]===!0}}}else return function(){e:for(let s=0;s<r;s++){const o=n[s],a=o.length;for(let l=0;l<a;l++){const c=this.LA(l+1);if(e(c,o[l])===!1)continue e}return!0}return!1}}class d2e extends dg{constructor(e,t,i){super(),this.topProd=e,this.targetOccurrence=t,this.targetProdType=i}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,t,i,r){return e.idx===this.targetOccurrence&&this.targetProdType===t?(this.restDef=i.concat(r),!0):!1}walkOption(e,t,i){this.checkIsTarget(e,di.OPTION,t,i)||super.walkOption(e,t,i)}walkAtLeastOne(e,t,i){this.checkIsTarget(e,di.REPETITION_MANDATORY,t,i)||super.walkOption(e,t,i)}walkAtLeastOneSep(e,t,i){this.checkIsTarget(e,di.REPETITION_MANDATORY_WITH_SEPARATOR,t,i)||super.walkOption(e,t,i)}walkMany(e,t,i){this.checkIsTarget(e,di.REPETITION,t,i)||super.walkOption(e,t,i)}walkManySep(e,t,i){this.checkIsTarget(e,di.REPETITION_WITH_SEPARATOR,t,i)||super.walkOption(e,t,i)}}class TG extends o0{constructor(e,t,i){super(),this.targetOccurrence=e,this.targetProdType=t,this.targetRef=i,this.result=[]}checkIsTarget(e,t){e.idx===this.targetOccurrence&&this.targetProdType===t&&(this.targetRef===void 0||e===this.targetRef)&&(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,di.OPTION)}visitRepetition(e){this.checkIsTarget(e,di.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,di.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,di.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,di.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,di.ALTERNATION)}}function pB(n){const e=new Array(n);for(let t=0;t<n;t++)e[t]=[];return e}function lv(n){let e=[""];for(let t=0;t<n.length;t++){const i=n[t],r=[];for(let s=0;s<e.length;s++){const o=e[s];r.push(o+"_"+i.tokenTypeIdx);for(let a=0;a<i.categoryMatches.length;a++){const l="_"+i.categoryMatches[a];r.push(o+l)}}e=r}return e}function p2e(n,e,t){for(let i=0;i<n.length;i++){if(i===t)continue;const r=n[i];for(let s=0;s<e.length;s++){const o=e[s];if(r[o]===!0)return!1}}return!0}function bG(n,e){const t=xt(n,o=>qx([o],1)),i=pB(t.length),r=xt(t,o=>{const a={};return bt(o,l=>{const c=lv(l.partialPath);bt(c,u=>{a[u]=!0})}),a});let s=t;for(let o=1;o<=e;o++){const a=s;s=pB(a.length);for(let l=0;l<a.length;l++){const c=a[l];for(let u=0;u<c.length;u++){const h=c[u].partialPath,f=c[u].suffixDef,p=lv(h);if(p2e(r,p,l)||On(f)||h.length===e){const S=i[l];if(Yx(S,h)===!1){S.push(h);for(let v=0;v<p.length;v++){const A=p[v];r[l][A]=!0}}}else{const S=qx(f,o+1,h);s[l]=s[l].concat(S),bt(S,v=>{const A=lv(v.partialPath);bt(A,y=>{r[l][y]=!0})})}}}}return i}function ww(n,e,t,i){const r=new TG(n,di.ALTERNATION,i);return e.accept(r),bG(r.result,t)}function _w(n,e,t,i){const r=new TG(n,t);e.accept(r);const s=r.result,a=new d2e(e,n,t).startWalking(),l=new ks({definition:s}),c=new ks({definition:a});return bG([l,c],i)}function Yx(n,e){e:for(let t=0;t<n.length;t++){const i=n[t];if(i.length===e.length){for(let r=0;r<i.length;r++){const s=e[r],o=i[r];if((s===o||o.categoryMatchesMap[s.tokenTypeIdx]!==void 0)===!1)continue e}return!0}}return!1}function g2e(n,e){return n.length<e.length&&Aa(n,(t,i)=>{const r=e[i];return t===r||r.categoryMatchesMap[t.tokenTypeIdx]})}function IG(n){return Aa(n,e=>Aa(e,t=>Aa(t,i=>On(i.categoryMatches))))}function m2e(n){const e=n.lookaheadStrategy.validate({rules:n.rules,tokenTypes:n.tokenTypes,grammarName:n.grammarName});return xt(e,t=>Object.assign({type:ls.CUSTOM_LOOKAHEAD_VALIDATION},t))}function A2e(n,e,t,i){const r=Qo(n,l=>v2e(l,t)),s=R2e(n,e,t),o=Qo(n,l=>M2e(l,t)),a=Qo(n,l=>S2e(l,n,i,t));return r.concat(s,o,a)}function v2e(n,e){const t=new x2e;n.accept(t);const i=t.allProductions,r=b3e(i,y2e),s=Ia(r,a=>a.length>1);return xt(Ui(s),a=>{const l=Ca(a),c=e.buildDuplicateFoundError(n,a),u=qa(l),h={message:c,type:ls.DUPLICATE_PRODUCTIONS,ruleName:n.name,dslName:u,occurrence:l.idx},f=RG(l);return f&&(h.parameter=f),h})}function y2e(n){return`${qa(n)}_#_${n.idx}_#_${RG(n)}`}function RG(n){return n instanceof si?n.terminalType.name:n instanceof ho?n.nonTerminalName:""}class x2e extends o0{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}}function S2e(n,e,t,i){const r=[];if(uo(e,(o,a)=>a.name===n.name?o+1:o,0)>1){const o=i.buildDuplicateRuleNameError({topLevelRule:n,grammarName:t});r.push({message:o,type:ls.DUPLICATE_RULE_NAME,ruleName:n.name})}return r}function E2e(n,e,t){const i=[];let r;return ds(e,n)||(r=`Invalid rule override, rule: ->${n}<- cannot be overridden in the grammar: ->${t}<-as it is not defined in any of the super grammars `,i.push({message:r,type:ls.INVALID_RULE_OVERRIDE,ruleName:n})),i}function BG(n,e,t,i=[]){const r=[],s=E8(e.definition);if(On(s))return[];{const o=n.name;ds(s,n)&&r.push({message:t.buildLeftRecursionError({topLevelRule:n,leftRecursionPath:i}),type:ls.LEFT_RECURSION,ruleName:o});const l=hg(s,i.concat([n])),c=Qo(l,u=>{const h=Ur(i);return h.push(u),BG(n,u,t,h)});return r.concat(c)}}function E8(n){let e=[];if(On(n))return e;const t=Ca(n);if(t instanceof ho)e.push(t.referencedRule);else if(t instanceof ks||t instanceof Rs||t instanceof Sl||t instanceof El||t instanceof Ra||t instanceof Qi)e=e.concat(E8(t.definition));else if(t instanceof Ba)e=ma(xt(t.definition,s=>E8(s.definition)));else if(!(t instanceof si))throw Error("non exhaustive match");const i=w9(t),r=n.length>1;if(i&&r){const s=cr(n);return e.concat(E8(s))}else return e}class Mw extends o0{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}}function C2e(n,e){const t=new Mw;n.accept(t);const i=t.alternations;return Qo(i,s=>{const o=r4(s.definition);return Qo(o,(a,l)=>{const c=_G([a],[],s5,1);return On(c)?[{message:e.buildEmptyAlternationError({topLevelRule:n,alternation:s,emptyChoiceIdx:l}),type:ls.NONE_LAST_EMPTY_ALT,ruleName:n.name,occurrence:s.idx,alternative:l+1}]:[]})})}function w2e(n,e,t){const i=new Mw;n.accept(i);let r=i.alternations;return r=fg(r,o=>o.ignoreAmbiguities===!0),Qo(r,o=>{const a=o.idx,l=o.maxLookahead||e,c=ww(a,n,l,o),u=b2e(c,o,n,t),h=I2e(c,o,n,t);return u.concat(h)})}class _2e extends o0{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}}function M2e(n,e){const t=new Mw;n.accept(t);const i=t.alternations;return Qo(i,s=>s.definition.length>255?[{message:e.buildTooManyAlternativesError({topLevelRule:n,alternation:s}),type:ls.TOO_MANY_ALTS,ruleName:n.name,occurrence:s.idx}]:[])}function T2e(n,e,t){const i=[];return bt(n,r=>{const s=new _2e;r.accept(s);const o=s.allProductions;bt(o,a=>{const l=MG(a),c=a.maxLookahead||e,u=a.idx,f=_w(u,r,l,c)[0];if(On(ma(f))){const p=t.buildEmptyRepetitionError({topLevelRule:r,repetition:a});i.push({message:p,type:ls.NO_NON_EMPTY_LOOKAHEAD,ruleName:r.name})}})}),i}function b2e(n,e,t,i){const r=[],s=uo(n,(a,l,c)=>(e.definition[c].ignoreAmbiguities===!0||bt(l,u=>{const h=[c];bt(n,(f,p)=>{c!==p&&Yx(f,u)&&e.definition[p].ignoreAmbiguities!==!0&&h.push(p)}),h.length>1&&!Yx(r,u)&&(r.push(u),a.push({alts:h,path:u}))}),a),[]);return xt(s,a=>{const l=xt(a.alts,u=>u+1);return{message:i.buildAlternationAmbiguityError({topLevelRule:t,alternation:e,ambiguityIndices:l,prefixPath:a.path}),type:ls.AMBIGUOUS_ALTS,ruleName:t.name,occurrence:e.idx,alternatives:a.alts}})}function I2e(n,e,t,i){const r=uo(n,(o,a,l)=>{const c=xt(a,u=>({idx:l,path:u}));return o.concat(c)},[]);return i5(Qo(r,o=>{if(e.definition[o.idx].ignoreAmbiguities===!0)return[];const l=o.idx,c=o.path,u=Zo(r,f=>e.definition[f.idx].ignoreAmbiguities!==!0&&f.idx<l&&g2e(f.path,c));return xt(u,f=>{const p=[f.idx+1,l+1],m=e.idx===0?"":e.idx;return{message:i.buildAlternationPrefixAmbiguityError({topLevelRule:t,alternation:e,ambiguityIndices:p,prefixPath:f.path}),type:ls.AMBIGUOUS_PREFIX_ALTS,ruleName:t.name,occurrence:m,alternatives:p}})}))}function R2e(n,e,t){const i=[],r=xt(e,s=>s.name);return bt(n,s=>{const o=s.name;if(ds(r,o)){const a=t.buildNamespaceConflictError(s);i.push({message:a,type:ls.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:o})}}),i}function B2e(n){const e=yw(n,{errMsgProvider:t2e}),t={};return bt(n.rules,i=>{t[i.name]=i}),n2e(t,e.errMsgProvider)}function k2e(n){return n=yw(n,{errMsgProvider:Gu}),A2e(n.rules,n.tokenTypes,n.errMsgProvider,n.grammarName)}const kG="MismatchedTokenException",PG="NoViableAltException",LG="EarlyExitException",DG="NotAllInputParsedException",OG=[kG,PG,LG,DG];Object.freeze(OG);function I9(n){return ds(OG,n.name)}class mg extends Error{constructor(e,t){super(e),this.token=t,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class NG extends mg{constructor(e,t,i){super(e,t),this.previousToken=i,this.name=kG}}class P2e extends mg{constructor(e,t,i){super(e,t),this.previousToken=i,this.name=PG}}class L2e extends mg{constructor(e,t){super(e,t),this.name=DG}}class D2e extends mg{constructor(e,t,i){super(e,t),this.previousToken=i,this.name=LG}}const cv={},FG="InRuleRecoveryException";class O2e extends Error{constructor(e){super(e),this.name=FG}}class N2e{initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=_t(e,"recoveryEnabled")?e.recoveryEnabled:Tc.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=F2e)}getTokenToInsert(e){const t=Cw(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return t.isInsertedInRecovery=!0,t}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,t,i,r){const s=this.findReSyncTokenType(),o=this.exportLexerState(),a=[];let l=!1;const c=this.LA(1);let u=this.LA(1);const h=()=>{const f=this.LA(0),p=this.errorMessageProvider.buildMismatchTokenMessage({expected:r,actual:c,previous:f,ruleName:this.getCurrRuleFullName()}),m=new NG(p,c,this.LA(0));m.resyncedTokens=r4(a),this.SAVE_ERROR(m)};for(;!l;)if(this.tokenMatcher(u,r)){h();return}else if(i.call(this)){h(),e.apply(this,t);return}else this.tokenMatcher(u,s)?l=!0:(u=this.SKIP_TOKEN(),this.addToResyncTokens(u,a));this.importLexerState(o)}shouldInRepetitionRecoveryBeTried(e,t,i){return!(i===!1||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,t)))}getFollowsForInRuleRecovery(e,t){const i=this.getCurrentGrammarPath(e,t);return this.getNextPossibleTokenTypes(i)}tryInRuleRecovery(e,t){if(this.canRecoverWithSingleTokenInsertion(e,t))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){const i=this.SKIP_TOKEN();return this.consumeToken(),i}throw new O2e("sad sad panda")}canPerformInRuleRecovery(e,t){return this.canRecoverWithSingleTokenInsertion(e,t)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,t){if(!this.canTokenTypeBeInsertedInRecovery(e)||On(t))return!1;const i=this.LA(1);return O2(t,s=>this.tokenMatcher(i,s))!==void 0}canRecoverWithSingleTokenDeletion(e){return this.canTokenTypeBeDeletedInRecovery(e)?this.tokenMatcher(this.LA(2),e):!1}isInCurrentRuleReSyncSet(e){const t=this.getCurrFollowKey(),i=this.getFollowSetFromFollowKey(t);return ds(i,e)}findReSyncTokenType(){const e=this.flattenFollowSet();let t=this.LA(1),i=2;for(;;){const r=O2(e,s=>e2e(t,s));if(r!==void 0)return r;t=this.LA(i),i++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return cv;const e=this.getLastExplicitRuleShortName(),t=this.getLastExplicitRuleOccurrenceIndex(),i=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:t,inRule:this.shortRuleNameToFullName(i)}}buildFullFollowKeyStack(){const e=this.RULE_STACK,t=this.RULE_OCCURRENCE_STACK;return xt(e,(i,r)=>r===0?cv:{ruleName:this.shortRuleNameToFullName(i),idxInCallingRule:t[r],inRule:this.shortRuleNameToFullName(e[r-1])})}flattenFollowSet(){const e=xt(this.buildFullFollowKeyStack(),t=>this.getFollowSetFromFollowKey(t));return ma(e)}getFollowSetFromFollowKey(e){if(e===cv)return[g3];const t=e.ruleName+e.idxInCallingRule+dG+e.inRule;return this.resyncFollows[t]}addToResyncTokens(e,t){return this.tokenMatcher(e,g3)||t.push(e),t}reSyncTo(e){const t=[];let i=this.LA(1);for(;this.tokenMatcher(i,e)===!1;)i=this.SKIP_TOKEN(),this.addToResyncTokens(i,t);return r4(t)}attemptInRepetitionRecovery(e,t,i,r,s,o,a){}getCurrentGrammarPath(e,t){const i=this.getHumanReadableRuleStack(),r=Ur(this.RULE_OCCURRENCE_STACK);return{ruleStack:i,occurrenceStack:r,lastTok:e,lastTokOccurrence:t}}getHumanReadableRuleStack(){return xt(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}}function F2e(n,e,t,i,r,s,o){const a=this.getKeyForAutomaticLookahead(i,r);let l=this.firstAfterRepMap[a];if(l===void 0){const f=this.getCurrRuleFullName(),p=this.getGAstProductions()[f];l=new s(p,r).startWalking(),this.firstAfterRepMap[a]=l}let c=l.token,u=l.occurrence;const h=l.isEndOfRule;this.RULE_STACK.length===1&&h&&c===void 0&&(c=g3,u=1),!(c===void 0||u===void 0)&&this.shouldInRepetitionRecoveryBeTried(c,u,o)&&this.tryInRepetitionRecovery(n,e,t,c)}const U2e=4,Hc=8,UG=1<<Hc,GG=2<<Hc,Kx=3<<Hc,Jx=4<<Hc,$x=5<<Hc,C8=6<<Hc;function uv(n,e,t){return t|e|n}class G2e{constructor(e){var t;this.maxLookahead=(t=e==null?void 0:e.maxLookahead)!==null&&t!==void 0?t:Tc.maxLookahead}validate(e){const t=this.validateNoLeftRecursion(e.rules);if(On(t)){const i=this.validateEmptyOrAlternatives(e.rules),r=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),s=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...t,...i,...r,...s]}return t}validateNoLeftRecursion(e){return Qo(e,t=>BG(t,t,Gu))}validateEmptyOrAlternatives(e){return Qo(e,t=>C2e(t,Gu))}validateAmbiguousAlternationAlternatives(e,t){return Qo(e,i=>w2e(i,t,Gu))}validateSomeNonEmptyLookaheadPath(e,t){return T2e(e,t,Gu)}buildLookaheadForAlternation(e){return c2e(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,h2e)}buildLookaheadForOptional(e){return u2e(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,MG(e.prodType),f2e)}}class z2e{initLooksAhead(e){this.dynamicTokensEnabled=_t(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:Tc.dynamicTokensEnabled,this.maxLookahead=_t(e,"maxLookahead")?e.maxLookahead:Tc.maxLookahead,this.lookaheadStrategy=_t(e,"lookaheadStrategy")?e.lookaheadStrategy:new G2e({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){bt(e,t=>{this.TRACE_INIT(`${t.name} Rule Lookahead`,()=>{const{alternation:i,repetition:r,option:s,repetitionMandatory:o,repetitionMandatoryWithSeparator:a,repetitionWithSeparator:l}=H2e(t);bt(i,c=>{const u=c.idx===0?"":c.idx;this.TRACE_INIT(`${qa(c)}${u}`,()=>{const h=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:c.idx,rule:t,maxLookahead:c.maxLookahead||this.maxLookahead,hasPredicates:c.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),f=uv(this.fullRuleNameToShort[t.name],UG,c.idx);this.setLaFuncCache(f,h)})}),bt(r,c=>{this.computeLookaheadFunc(t,c.idx,Kx,"Repetition",c.maxLookahead,qa(c))}),bt(s,c=>{this.computeLookaheadFunc(t,c.idx,GG,"Option",c.maxLookahead,qa(c))}),bt(o,c=>{this.computeLookaheadFunc(t,c.idx,Jx,"RepetitionMandatory",c.maxLookahead,qa(c))}),bt(a,c=>{this.computeLookaheadFunc(t,c.idx,C8,"RepetitionMandatoryWithSeparator",c.maxLookahead,qa(c))}),bt(l,c=>{this.computeLookaheadFunc(t,c.idx,$x,"RepetitionWithSeparator",c.maxLookahead,qa(c))})})})}computeLookaheadFunc(e,t,i,r,s,o){this.TRACE_INIT(`${o}${t===0?"":t}`,()=>{const a=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:t,rule:e,maxLookahead:s||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:r}),l=uv(this.fullRuleNameToShort[e.name],i,t);this.setLaFuncCache(l,a)})}getKeyForAutomaticLookahead(e,t){const i=this.getLastExplicitRuleShortName();return uv(i,e,t)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,t){this.lookAheadFuncsCache.set(e,t)}}class Q2e extends o0{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}}const w6=new Q2e;function H2e(n){w6.reset(),n.accept(w6);const e=w6.dslMethods;return w6.reset(),e}function gB(n,e){isNaN(n.startOffset)===!0?(n.startOffset=e.startOffset,n.endOffset=e.endOffset):n.endOffset<e.endOffset&&(n.endOffset=e.endOffset)}function mB(n,e){isNaN(n.startOffset)===!0?(n.startOffset=e.startOffset,n.startColumn=e.startColumn,n.startLine=e.startLine,n.endOffset=e.endOffset,n.endColumn=e.endColumn,n.endLine=e.endLine):n.endOffset<e.endOffset&&(n.endOffset=e.endOffset,n.endColumn=e.endColumn,n.endLine=e.endLine)}function V2e(n,e,t){n.children[t]===void 0?n.children[t]=[e]:n.children[t].push(e)}function W2e(n,e,t){n.children[e]===void 0?n.children[e]=[t]:n.children[e].push(t)}const j2e="name";function zG(n,e){Object.defineProperty(n,j2e,{enumerable:!1,configurable:!0,writable:!1,value:e})}function X2e(n,e){const t=lo(n),i=t.length;for(let r=0;r<i;r++){const s=t[r],o=n[s],a=o.length;for(let l=0;l<a;l++){const c=o[l];c.tokenTypeIdx===void 0&&this[c.name](c.children,e)}}}function q2e(n,e){const t=function(){};zG(t,n+"BaseSemantics");const i={visit:function(r,s){if(hn(r)&&(r=r[0]),!c1(r))return this[r.name](r.children,s)},validateVisitor:function(){const r=K2e(this,e);if(!On(r)){const s=xt(r,o=>o.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${s.join(`

`).replace(/\n/g,`
	`)}`)}}};return t.prototype=i,t.prototype.constructor=t,t._RULE_NAMES=e,t}function Y2e(n,e,t){const i=function(){};zG(i,n+"BaseSemanticsWithDefaults");const r=Object.create(t.prototype);return bt(e,s=>{r[s]=X2e}),i.prototype=r,i.prototype.constructor=i,i}var Zx;(function(n){n[n.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",n[n.MISSING_METHOD=1]="MISSING_METHOD"})(Zx||(Zx={}));function K2e(n,e){return J2e(n,e)}function J2e(n,e){const t=Zo(e,r=>v1(n[r])===!1),i=xt(t,r=>({msg:`Missing visitor method: <${r}> on ${n.constructor.name} CST Visitor.`,type:Zx.MISSING_METHOD,methodName:r}));return i5(i)}class $2e{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=_t(e,"nodeLocationTracking")?e.nodeLocationTracking:Tc.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=Ni,this.cstFinallyStateUpdate=Ni,this.cstPostTerminal=Ni,this.cstPostNonTerminal=Ni,this.cstPostRule=Ni;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=mB,this.setNodeLocationFromNode=mB,this.cstPostRule=Ni,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=Ni,this.setNodeLocationFromNode=Ni,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=gB,this.setNodeLocationFromNode=gB,this.cstPostRule=Ni,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=Ni,this.setNodeLocationFromNode=Ni,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=Ni,this.setNodeLocationFromNode=Ni,this.cstPostRule=Ni,this.setInitialNodeLocation=Ni;else throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){const t=this.LA(1);e.location={startOffset:t.startOffset,startLine:t.startLine,startColumn:t.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){const t={name:e,children:Object.create(null)};this.setInitialNodeLocation(t),this.CST_STACK.push(t)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){const t=this.LA(0),i=e.location;i.startOffset<=t.startOffset?(i.endOffset=t.endOffset,i.endLine=t.endLine,i.endColumn=t.endColumn):(i.startOffset=NaN,i.startLine=NaN,i.startColumn=NaN)}cstPostRuleOnlyOffset(e){const t=this.LA(0),i=e.location;i.startOffset<=t.startOffset?i.endOffset=t.endOffset:i.startOffset=NaN}cstPostTerminal(e,t){const i=this.CST_STACK[this.CST_STACK.length-1];V2e(i,t,e),this.setNodeLocationFromToken(i.location,t)}cstPostNonTerminal(e,t){const i=this.CST_STACK[this.CST_STACK.length-1];W2e(i,t,e),this.setNodeLocationFromNode(i.location,e.location)}getBaseCstVisitorConstructor(){if(c1(this.baseCstVisitorConstructor)){const e=q2e(this.className,lo(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(c1(this.baseCstVisitorWithDefaultsConstructor)){const e=Y2e(this.className,lo(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){const e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}}class Z2e{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):B9}LA(e){const t=this.currIdx+e;return t<0||this.tokVectorLength<=t?B9:this.tokVector[t]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}class e0e{ACTION(e){return e.call(this)}consume(e,t,i){return this.consumeInternal(t,e,i)}subrule(e,t,i){return this.subruleInternal(t,e,i)}option(e,t){return this.optionInternal(t,e)}or(e,t){return this.orInternal(t,e)}many(e,t){return this.manyInternal(e,t)}atLeastOne(e,t){return this.atLeastOneInternal(e,t)}CONSUME(e,t){return this.consumeInternal(e,0,t)}CONSUME1(e,t){return this.consumeInternal(e,1,t)}CONSUME2(e,t){return this.consumeInternal(e,2,t)}CONSUME3(e,t){return this.consumeInternal(e,3,t)}CONSUME4(e,t){return this.consumeInternal(e,4,t)}CONSUME5(e,t){return this.consumeInternal(e,5,t)}CONSUME6(e,t){return this.consumeInternal(e,6,t)}CONSUME7(e,t){return this.consumeInternal(e,7,t)}CONSUME8(e,t){return this.consumeInternal(e,8,t)}CONSUME9(e,t){return this.consumeInternal(e,9,t)}SUBRULE(e,t){return this.subruleInternal(e,0,t)}SUBRULE1(e,t){return this.subruleInternal(e,1,t)}SUBRULE2(e,t){return this.subruleInternal(e,2,t)}SUBRULE3(e,t){return this.subruleInternal(e,3,t)}SUBRULE4(e,t){return this.subruleInternal(e,4,t)}SUBRULE5(e,t){return this.subruleInternal(e,5,t)}SUBRULE6(e,t){return this.subruleInternal(e,6,t)}SUBRULE7(e,t){return this.subruleInternal(e,7,t)}SUBRULE8(e,t){return this.subruleInternal(e,8,t)}SUBRULE9(e,t){return this.subruleInternal(e,9,t)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,t,i=k9){if(ds(this.definedRulesNames,e)){const o={message:Gu.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:ls.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(o)}this.definedRulesNames.push(e);const r=this.defineRule(e,t,i);return this[e]=r,r}OVERRIDE_RULE(e,t,i=k9){const r=E2e(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(r);const s=this.defineRule(e,t,i);return this[e]=s,s}BACKTRACK(e,t){return function(){this.isBackTrackingStack.push(1);const i=this.saveRecogState();try{return e.apply(this,t),!0}catch(r){if(I9(r))return!1;throw r}finally{this.reloadRecogState(i),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return nhe(Ui(this.gastProductionsCache))}}class t0e{initRecognizerEngine(e,t){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=b9,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},_t(t,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(hn(e)){if(On(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(hn(e))this.tokensMap=uo(e,(s,o)=>(s[o.name]=o,s),{});else if(_t(e,"modes")&&Aa(ma(Ui(e.modes)),Khe)){const s=ma(Ui(e.modes)),o=xw(s);this.tokensMap=uo(o,(a,l)=>(a[l.name]=l,a),{})}else if(Yo(e))this.tokensMap=Ur(e);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=g3;const i=_t(e,"modes")?ma(Ui(e.modes)):Ui(e),r=Aa(i,s=>On(s.categoryMatches));this.tokenMatcher=r?b9:s5,o5(Ui(this.tokensMap))}defineRule(e,t,i){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const r=_t(i,"resyncEnabled")?i.resyncEnabled:k9.resyncEnabled,s=_t(i,"recoveryValueFunc")?i.recoveryValueFunc:k9.recoveryValueFunc,o=this.ruleShortNameIdx<<U2e+Hc;this.ruleShortNameIdx++,this.shortRuleNameToFull[o]=e,this.fullRuleNameToShort[e]=o;let a;return this.outputCst===!0?a=function(...u){try{this.ruleInvocationStateUpdate(o,e,this.subruleIdx),t.apply(this,u);const h=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(h),h}catch(h){return this.invokeRuleCatch(h,r,s)}finally{this.ruleFinallyStateUpdate()}}:a=function(...u){try{return this.ruleInvocationStateUpdate(o,e,this.subruleIdx),t.apply(this,u)}catch(h){return this.invokeRuleCatch(h,r,s)}finally{this.ruleFinallyStateUpdate()}},Object.assign(a,{ruleName:e,originalGrammarAction:t})}invokeRuleCatch(e,t,i){const r=this.RULE_STACK.length===1,s=t&&!this.isBackTracking()&&this.recoveryEnabled;if(I9(e)){const o=e;if(s){const a=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(a))if(o.resyncedTokens=this.reSyncTo(a),this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];return l.recoveredNode=!0,l}else return i(e);else{if(this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];l.recoveredNode=!0,o.partialCstResult=l}throw o}}else{if(r)return this.moveToTerminatedState(),i(e);throw o}}else throw e}optionInternal(e,t){const i=this.getKeyForAutomaticLookahead(GG,t);return this.optionInternalLogic(e,t,i)}optionInternalLogic(e,t,i){let r=this.getLaFuncFromCache(i),s;if(typeof e!="function"){s=e.DEF;const o=e.GATE;if(o!==void 0){const a=r;r=()=>o.call(this)&&a.call(this)}}else s=e;if(r.call(this)===!0)return s.call(this)}atLeastOneInternal(e,t){const i=this.getKeyForAutomaticLookahead(Jx,e);return this.atLeastOneInternalLogic(e,t,i)}atLeastOneInternalLogic(e,t,i){let r=this.getLaFuncFromCache(i),s;if(typeof t!="function"){s=t.DEF;const o=t.GATE;if(o!==void 0){const a=r;r=()=>o.call(this)&&a.call(this)}}else s=t;if(r.call(this)===!0){let o=this.doSingleRepetition(s);for(;r.call(this)===!0&&o===!0;)o=this.doSingleRepetition(s)}else throw this.raiseEarlyExitException(e,di.REPETITION_MANDATORY,t.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,t],r,Jx,e,a2e)}atLeastOneSepFirstInternal(e,t){const i=this.getKeyForAutomaticLookahead(C8,e);this.atLeastOneSepFirstInternalLogic(e,t,i)}atLeastOneSepFirstInternalLogic(e,t,i){const r=t.DEF,s=t.SEP;if(this.getLaFuncFromCache(i).call(this)===!0){r.call(this);const a=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,a,r,dB],a,C8,e,dB)}else throw this.raiseEarlyExitException(e,di.REPETITION_MANDATORY_WITH_SEPARATOR,t.ERR_MSG)}manyInternal(e,t){const i=this.getKeyForAutomaticLookahead(Kx,e);return this.manyInternalLogic(e,t,i)}manyInternalLogic(e,t,i){let r=this.getLaFuncFromCache(i),s;if(typeof t!="function"){s=t.DEF;const a=t.GATE;if(a!==void 0){const l=r;r=()=>a.call(this)&&l.call(this)}}else s=t;let o=!0;for(;r.call(this)===!0&&o===!0;)o=this.doSingleRepetition(s);this.attemptInRepetitionRecovery(this.manyInternal,[e,t],r,Kx,e,o2e,o)}manySepFirstInternal(e,t){const i=this.getKeyForAutomaticLookahead($x,e);this.manySepFirstInternalLogic(e,t,i)}manySepFirstInternalLogic(e,t,i){const r=t.DEF,s=t.SEP;if(this.getLaFuncFromCache(i).call(this)===!0){r.call(this);const a=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,a,r,fB],a,$x,e,fB)}}repetitionSepSecondInternal(e,t,i,r,s){for(;i();)this.CONSUME(t),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,t,i,r,s],i,C8,e,s)}doSingleRepetition(e){const t=this.getLexerPosition();return e.call(this),this.getLexerPosition()>t}orInternal(e,t){const i=this.getKeyForAutomaticLookahead(UG,t),r=hn(e)?e:e.DEF,o=this.getLaFuncFromCache(i).call(this,r);if(o!==void 0)return r[o].ALT.call(this);this.raiseNoAltException(t,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const e=this.LA(1),t=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new L2e(t,e))}}subruleInternal(e,t,i){let r;try{const s=i!==void 0?i.ARGS:void 0;return this.subruleIdx=t,r=e.apply(this,s),this.cstPostNonTerminal(r,i!==void 0&&i.LABEL!==void 0?i.LABEL:e.ruleName),r}catch(s){throw this.subruleInternalError(s,i,e.ruleName)}}subruleInternalError(e,t,i){throw I9(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,t!==void 0&&t.LABEL!==void 0?t.LABEL:i),delete e.partialCstResult),e}consumeInternal(e,t,i){let r;try{const s=this.LA(1);this.tokenMatcher(s,e)===!0?(this.consumeToken(),r=s):this.consumeInternalError(e,s,i)}catch(s){r=this.consumeInternalRecovery(e,t,s)}return this.cstPostTerminal(i!==void 0&&i.LABEL!==void 0?i.LABEL:e.name,r),r}consumeInternalError(e,t,i){let r;const s=this.LA(0);throw i!==void 0&&i.ERR_MSG?r=i.ERR_MSG:r=this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:t,previous:s,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new NG(r,t,s))}consumeInternalRecovery(e,t,i){if(this.recoveryEnabled&&i.name==="MismatchedTokenException"&&!this.isBackTracking()){const r=this.getFollowsForInRuleRecovery(e,t);try{return this.tryInRuleRecovery(e,r)}catch(s){throw s.name===FG?i:s}}else throw i}saveRecogState(){const e=this.errors,t=Ur(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:t,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,t,i){this.RULE_OCCURRENCE_STACK.push(i),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(t)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),g3)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}class n0e{initErrorHandler(e){this._errors=[],this.errorMessageProvider=_t(e,"errorMessageProvider")?e.errorMessageProvider:Tc.errorMessageProvider}SAVE_ERROR(e){if(I9(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Ur(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return Ur(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,t,i){const r=this.getCurrRuleFullName(),s=this.getGAstProductions()[r],a=_w(e,s,t,this.maxLookahead)[0],l=[];for(let u=1;u<=this.maxLookahead;u++)l.push(this.LA(u));const c=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:a,actual:l,previous:this.LA(0),customUserDescription:i,ruleName:r});throw this.SAVE_ERROR(new D2e(c,this.LA(1),this.LA(0)))}raiseNoAltException(e,t){const i=this.getCurrRuleFullName(),r=this.getGAstProductions()[i],s=ww(e,r,this.maxLookahead),o=[];for(let c=1;c<=this.maxLookahead;c++)o.push(this.LA(c));const a=this.LA(0),l=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:s,actual:o,previous:a,customUserDescription:t,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new P2e(l,this.LA(1),a))}}class i0e{initContentAssist(){}computeContentAssist(e,t){const i=this.gastProductionsCache[e];if(c1(i))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return _G([i],t,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){const t=Ca(e.ruleStack),r=this.getGAstProductions()[t];return new s2e(r,e).startWalking()}}const Ag={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(Ag);const AB=!0,vB=Math.pow(2,Hc)-1,QG=CG({name:"RECORDING_PHASE_TOKEN",pattern:Ho.NA});o5([QG]);const HG=Cw(QG,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(HG);const r0e={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}};class s0e{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){const t=e>0?e:"";this[`CONSUME${t}`]=function(i,r){return this.consumeInternalRecord(i,e,r)},this[`SUBRULE${t}`]=function(i,r){return this.subruleInternalRecord(i,e,r)},this[`OPTION${t}`]=function(i){return this.optionInternalRecord(i,e)},this[`OR${t}`]=function(i){return this.orInternalRecord(i,e)},this[`MANY${t}`]=function(i){this.manyInternalRecord(e,i)},this[`MANY_SEP${t}`]=function(i){this.manySepFirstInternalRecord(e,i)},this[`AT_LEAST_ONE${t}`]=function(i){this.atLeastOneInternalRecord(e,i)},this[`AT_LEAST_ONE_SEP${t}`]=function(i){this.atLeastOneSepFirstInternalRecord(e,i)}}this.consume=function(e,t,i){return this.consumeInternalRecord(t,e,i)},this.subrule=function(e,t,i){return this.subruleInternalRecord(t,e,i)},this.option=function(e,t){return this.optionInternalRecord(t,e)},this.or=function(e,t){return this.orInternalRecord(t,e)},this.many=function(e,t){this.manyInternalRecord(e,t)},this.atLeastOne=function(e,t){this.atLeastOneInternalRecord(e,t)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const e=this;for(let t=0;t<10;t++){const i=t>0?t:"";delete e[`CONSUME${i}`],delete e[`SUBRULE${i}`],delete e[`OPTION${i}`],delete e[`OR${i}`],delete e[`MANY${i}`],delete e[`MANY_SEP${i}`],delete e[`AT_LEAST_ONE${i}`],delete e[`AT_LEAST_ONE_SEP${i}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,t){return()=>!0}LA_RECORD(e){return B9}topLevelRuleRecord(e,t){try{const i=new s0({definition:[],name:e});return i.name=e,this.recordingProdStack.push(i),t.call(this),this.recordingProdStack.pop(),i}catch(i){if(i.KNOWN_RECORDER_ERROR!==!0)try{i.message=i.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw i}throw i}}optionInternalRecord(e,t){return lf.call(this,Rs,e,t)}atLeastOneInternalRecord(e,t){lf.call(this,Sl,t,e)}atLeastOneSepFirstInternalRecord(e,t){lf.call(this,El,t,e,AB)}manyInternalRecord(e,t){lf.call(this,Qi,t,e)}manySepFirstInternalRecord(e,t){lf.call(this,Ra,t,e,AB)}orInternalRecord(e,t){return o0e.call(this,e,t)}subruleInternalRecord(e,t,i){if(R9(t),!e||_t(e,"ruleName")===!1){const a=new Error(`<SUBRULE${yB(t)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw a.KNOWN_RECORDER_ERROR=!0,a}const r=D2(this.recordingProdStack),s=e.ruleName,o=new ho({idx:t,nonTerminalName:s,label:i==null?void 0:i.LABEL,referencedRule:void 0});return r.definition.push(o),this.outputCst?r0e:Ag}consumeInternalRecord(e,t,i){if(R9(t),!SG(e)){const o=new Error(`<CONSUME${yB(t)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw o.KNOWN_RECORDER_ERROR=!0,o}const r=D2(this.recordingProdStack),s=new si({idx:t,terminalType:e,label:i==null?void 0:i.LABEL});return r.definition.push(s),HG}}function lf(n,e,t,i=!1){R9(t);const r=D2(this.recordingProdStack),s=v1(e)?e:e.DEF,o=new n({definition:[],idx:t});return i&&(o.separator=e.SEP),_t(e,"MAX_LOOKAHEAD")&&(o.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(o),s.call(this),r.definition.push(o),this.recordingProdStack.pop(),Ag}function o0e(n,e){R9(e);const t=D2(this.recordingProdStack),i=hn(n)===!1,r=i===!1?n:n.DEF,s=new Ba({definition:[],idx:e,ignoreAmbiguities:i&&n.IGNORE_AMBIGUITIES===!0});_t(n,"MAX_LOOKAHEAD")&&(s.maxLookahead=n.MAX_LOOKAHEAD);const o=cG(r,a=>v1(a.GATE));return s.hasPredicates=o,t.definition.push(s),bt(r,a=>{const l=new ks({definition:[]});s.definition.push(l),_t(a,"IGNORE_AMBIGUITIES")?l.ignoreAmbiguities=a.IGNORE_AMBIGUITIES:_t(a,"GATE")&&(l.ignoreAmbiguities=!0),this.recordingProdStack.push(l),a.ALT.call(this),this.recordingProdStack.pop()}),Ag}function yB(n){return n===0?"":`${n}`}function R9(n){if(n<0||n>vB){const e=new Error(`Invalid DSL Method idx value: <${n}>
	Idx value must be a none negative value smaller than ${vB+1}`);throw e.KNOWN_RECORDER_ERROR=!0,e}}class a0e{initPerformanceTracer(e){if(_t(e,"traceInitPerf")){const t=e.traceInitPerf,i=typeof t=="number";this.traceInitMaxIdent=i?t:1/0,this.traceInitPerf=i?t>0:t}else this.traceInitMaxIdent=0,this.traceInitPerf=Tc.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,t){if(this.traceInitPerf===!0){this.traceInitIndent++;const i=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${i}--> <${e}>`);const{time:r,value:s}=hG(t),o=r>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&o(`${i}<-- <${e}> time: ${r}ms`),this.traceInitIndent--,s}else return t()}}function l0e(n,e){e.forEach(t=>{const i=t.prototype;Object.getOwnPropertyNames(i).forEach(r=>{if(r==="constructor")return;const s=Object.getOwnPropertyDescriptor(i,r);s&&(s.get||s.set)?Object.defineProperty(n.prototype,r,s):n.prototype[r]=t.prototype[r]})})}const B9=Cw(g3,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(B9);const Tc=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:wG,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),k9=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var ls;(function(n){n[n.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",n[n.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",n[n.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",n[n.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",n[n.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",n[n.LEFT_RECURSION=5]="LEFT_RECURSION",n[n.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",n[n.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",n[n.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",n[n.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",n[n.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",n[n.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",n[n.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",n[n.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(ls||(ls={}));let VG=class WG{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let e;this.selfAnalysisDone=!0;const t=this.className;this.TRACE_INIT("toFastProps",()=>{fG(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),bt(this.definedRulesNames,r=>{const o=this[r].originalGrammarAction;let a;this.TRACE_INIT(`${r} Rule`,()=>{a=this.topLevelRuleRecord(r,o)}),this.gastProductionsCache[r]=a})}finally{this.disableRecording()}});let i=[];if(this.TRACE_INIT("Grammar Resolving",()=>{i=B2e({rules:Ui(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(i)}),this.TRACE_INIT("Grammar Validations",()=>{if(On(i)&&this.skipValidations===!1){const r=k2e({rules:Ui(this.gastProductionsCache),tokenTypes:Ui(this.tokensMap),errMsgProvider:Gu,grammarName:t}),s=m2e({lookaheadStrategy:this.lookaheadStrategy,rules:Ui(this.gastProductionsCache),tokenTypes:Ui(this.tokensMap),grammarName:t});this.definitionErrors=this.definitionErrors.concat(r,s)}}),On(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const r=che(Ui(this.gastProductionsCache));this.resyncFollows=r}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var r,s;(s=(r=this.lookaheadStrategy).initialize)===null||s===void 0||s.call(r,{rules:Ui(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(Ui(this.gastProductionsCache))})),!WG.DEFER_DEFINITION_ERRORS_HANDLING&&!On(this.definitionErrors))throw e=xt(this.definitionErrors,r=>r.message),new Error(`Parser Definition Errors detected:
 ${e.join(`
-------------------------------
`)}`)})}constructor(e,t){this.definitionErrors=[],this.selfAnalysisDone=!1;const i=this;if(i.initErrorHandler(t),i.initLexerAdapter(),i.initLooksAhead(t),i.initRecognizerEngine(e,t),i.initRecoverable(t),i.initTreeBuilder(t),i.initContentAssist(),i.initGastRecorder(t),i.initPerformanceTracer(t),_t(t,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=_t(t,"skipValidations")?t.skipValidations:Tc.skipValidations}};VG.DEFER_DEFINITION_ERRORS_HANDLING=!1;l0e(VG,[N2e,z2e,$2e,Z2e,t0e,e0e,n0e,i0e,s0e,a0e]);class c0e{constructor(e=4){this.pool=e,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(e){if(!this.workers[e]){const t=this.workerCreator();t.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=t}}_getIdleWorker(){for(let e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,t){const i=this.workersResolve[e];if(i&&i(t),this.queue.length){const{resolve:r,msg:s,transfer:o}=this.queue.shift();this.workersResolve[e]=r,this.workers[e].postMessage(s,o)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.pool=e}postMessage(e,t){return new Promise(i=>{const r=this._getIdleWorker();r!==-1?(this._initWorker(r),this.workerStatus|=1<<r,this.workersResolve[r]=i,this.workers[r].postMessage(e,t)):this.queue.push({resolve:i,msg:e,transfer:t})})}dispose(){this.workers.forEach(e=>e.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}class u0e extends l3{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=pi}}const hv=new WeakMap;let fv=0,dv;const bf=class extends fs{constructor(n){super(n),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new c0e,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER<"u"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(n){return this.transcoderPath=n,this}setWorkerLimit(n){return this.workerPool.setWorkerLimit(n),this}detectSupport(n){return this.workerConfig={astcSupported:n.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:n.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:n.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:n.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:n.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:n.extensions.has("WEBGL_compressed_texture_pvrtc")||n.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},n.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}init(){if(!this.transcoderPending){const n=new os(this.manager);n.setPath(this.transcoderPath),n.setWithCredentials(this.withCredentials);const e=n.loadAsync("basis_transcoder.js"),t=new os(this.manager);t.setPath(this.transcoderPath),t.setResponseType("arraybuffer"),t.setWithCredentials(this.withCredentials);const i=t.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([e,i]).then(([r,s])=>{const o=bf.BasisWorker.toString(),a=["/* constants */","let _EngineFormat = "+JSON.stringify(bf.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(bf.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(bf.BasisFormat),"/* basis_transcoder.js */",r,"/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a])),this.transcoderBinary=s,this.workerPool.setWorkerCreator(()=>{const l=new Worker(this.workerSourceURL),c=this.transcoderBinary.slice(0);return l.postMessage({type:"init",config:this.workerConfig,transcoderBinary:c},[c]),l})}),fv>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),fv++}return this.transcoderPending}load(n,e,t,i){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const r=new os(this.manager);r.setResponseType("arraybuffer"),r.setWithCredentials(this.withCredentials),r.load(n,s=>{if(hv.has(s))return hv.get(s).promise.then(e).catch(i);this._createTexture(s).then(o=>e?e(o):null).catch(i)},t,i)}_createTextureFrom(n,e){const{mipmaps:t,width:i,height:r,format:s,type:o,error:a,dfdTransferFn:l,dfdFlags:c}=n;if(o==="error")return Promise.reject(a);const u=e.layerCount>1?new u0e(t,i,r,e.layerCount,s,zi):new l3(t,i,r,s,zi);return u.minFilter=t.length===1?bn:fl,u.magFilter=bn,u.generateMipmaps=!1,u.needsUpdate=!0,"colorSpace"in u?u.colorSpace=l===Tx?"srgb":"srgb-linear":u.encoding=l===Tx?3001:3e3,u.premultiplyAlpha=!!(c&xne),u}async _createTexture(n,e={}){const t=wne(new Uint8Array(n));if(t.vkFormat!==FF)return f0e(t);const i=e,r=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:n,taskConfig:i},[n])).then(s=>this._createTextureFrom(s.data,t));return hv.set(n,{promise:r}),r}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),fv--,this}};let vg=bf;Ve(vg,"BasisFormat",{ETC1S:0,UASTC_4x4:1});Ve(vg,"TranscoderFormat",{ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16});Ve(vg,"EngineFormat",{RGBAFormat:gi,RGBA_ASTC_4x4_Format:Nd,RGBA_BPTC_Format:l2,RGBA_ETC2_EAC_Format:Od,RGBA_PVRTC_4BPPV1_Format:Ld,RGBA_S3TC_DXT5_Format:a2,RGB_ETC1_Format:k7,RGB_ETC2_Format:Dd,RGB_PVRTC_4BPPV1_Format:Pd,RGB_S3TC_DXT1_Format:o2});Ve(vg,"BasisWorker",function(){let n,e,t;const i=_EngineFormat,r=_TranscoderFormat,s=_BasisFormat;self.addEventListener("message",function(m){const S=m.data;switch(S.type){case"init":n=S.config,o(S.transcoderBinary);break;case"transcode":e.then(()=>{try{const{width:v,height:A,hasAlpha:y,mipmaps:x,format:C,dfdTransferFn:w,dfdFlags:M}=a(S.buffer),T=[];for(let R=0;R<x.length;++R)T.push(x[R].data.buffer);self.postMessage({type:"transcode",id:S.id,width:v,height:A,hasAlpha:y,mipmaps:x,format:C,dfdTransferFn:w,dfdFlags:M},T)}catch(v){console.error(v),self.postMessage({type:"error",id:S.id,error:v.message})}});break}});function o(m){e=new Promise(S=>{t={wasmBinary:m,onRuntimeInitialized:S},BASIS(t)}).then(()=>{t.initializeBasis(),t.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function a(m){const S=new t.KTX2File(new Uint8Array(m));function v(){S.close(),S.delete()}if(!S.isValid())throw v(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");const A=S.isUASTC()?s.UASTC_4x4:s.ETC1S,y=S.getWidth(),x=S.getHeight(),C=S.getLayers()||1,w=S.getLevels(),M=S.getHasAlpha(),T=S.getDFDTransferFunc(),R=S.getDFDFlags(),{transcoderFormat:b,engineFormat:B}=h(A,y,x,M);if(!y||!x||!w)throw v(),new Error("THREE.KTX2Loader:	Invalid texture");if(!S.startTranscoding())throw v(),new Error("THREE.KTX2Loader: .startTranscoding failed");const P=[];for(let O=0;O<w;O++){const G=[];let H,j;for(let q=0;q<C;q++){const J=S.getImageLevelInfo(O,q,0);H=J.origWidth<4?J.origWidth:J.width,j=J.origHeight<4?J.origHeight:J.height;const L=new Uint8Array(S.getImageTranscodedSizeInBytes(O,q,0,b));if(!S.transcodeImage(L,O,q,0,b,0,-1,-1))throw v(),new Error("THREE.KTX2Loader: .transcodeImage failed.");G.push(L)}P.push({data:p(G),width:H,height:j})}return v(),{width:y,height:x,hasAlpha:M,mipmaps:P,format:B,dfdTransferFn:T,dfdFlags:R}}const l=[{if:"astcSupported",basisFormat:[s.UASTC_4x4],transcoderFormat:[r.ASTC_4x4,r.ASTC_4x4],engineFormat:[i.RGBA_ASTC_4x4_Format,i.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.BC7_M5,r.BC7_M5],engineFormat:[i.RGBA_BPTC_Format,i.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.BC1,r.BC3],engineFormat:[i.RGB_S3TC_DXT1_Format,i.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.ETC1,r.ETC2],engineFormat:[i.RGB_ETC2_Format,i.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.ETC1],engineFormat:[i.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.PVRTC1_4_RGB,r.PVRTC1_4_RGBA],engineFormat:[i.RGB_PVRTC_4BPPV1_Format,i.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],c=l.sort(function(m,S){return m.priorityETC1S-S.priorityETC1S}),u=l.sort(function(m,S){return m.priorityUASTC-S.priorityUASTC});function h(m,S,v,A){let y,x;const C=m===s.ETC1S?c:u;for(let w=0;w<C.length;w++){const M=C[w];if(n[M.if]&&M.basisFormat.includes(m)&&!(A&&M.transcoderFormat.length<2)&&!(M.needsPowerOfTwo&&!(f(S)&&f(v))))return y=M.transcoderFormat[A?1:0],x=M.engineFormat[A?1:0],{transcoderFormat:y,engineFormat:x}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),y=r.RGBA32,x=i.RGBAFormat,{transcoderFormat:y,engineFormat:x}}function f(m){return m<=2?!0:(m&m-1)===0&&m!==0}function p(m){let S=0;for(let y=0;y<m.length;y++){const x=m[y];S+=x.byteLength}const v=new Uint8Array(S);let A=0;for(let y=0;y<m.length;y++){const x=m[y];v.set(x,A),A+=x.byteLength}return v}});const xB={[XF]:gi,[VF]:gi,[zF]:gi,[KC]:gi,[jF]:zh,[HF]:zh,[GF]:zh,[YC]:zh,[WF]:Du,[QF]:Du,[qC]:Du,[UF]:Du},pv={[XF]:rs,[VF]:_i,[zF]:zi,[KC]:zi,[jF]:rs,[HF]:_i,[GF]:zi,[YC]:zi,[WF]:rs,[QF]:_i,[qC]:zi,[UF]:zi},h0e={[KC]:3001,[YC]:3001,[qC]:3001};async function f0e(n){const{vkFormat:e,pixelWidth:t,pixelHeight:i,pixelDepth:r}=n;if(xB[e]===void 0)throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");const s=n.levels[0];let o,a;if(n.supercompressionScheme===NF)o=s.levelData;else if(n.supercompressionScheme===pne)dv||(dv=new Promise(async c=>{const u=new _ne;await u.init(),c(u)})),o=(await dv).decode(s.levelData,s.uncompressedByteLength);else throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");pv[e]===rs?a=new Float32Array(o.buffer,o.byteOffset,o.byteLength/Float32Array.BYTES_PER_ELEMENT):pv[e]===_i?a=new Uint16Array(o.buffer,o.byteOffset,o.byteLength/Uint16Array.BYTES_PER_ELEMENT):a=o;const l=r===0?new sl(a,t,i):new Ooe(a,t,i,r);return l.type=pv[e],l.format=xB[e],l.encoding=h0e[e]||3e3,l.needsUpdate=!0,Promise.resolve(l)}const gv=new WeakMap,If=class extends fs{constructor(n){super(n),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.workerConfig=null}setTranscoderPath(n){return this.transcoderPath=n,this}setWorkerLimit(n){return this.workerLimit=n,this}detectSupport(n){return this.workerConfig={astcSupported:n.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:n.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:n.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:n.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:n.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:n.extensions.has("WEBGL_compressed_texture_pvrtc")||n.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},this}load(n,e,t,i){const r=new os(this.manager);r.setResponseType("arraybuffer"),r.setWithCredentials(this.withCredentials);const s=new l3;return r.load(n,o=>{if(gv.has(o))return gv.get(o).promise.then(e).catch(i);this._createTexture([o]).then(function(a){s.copy(a),s.needsUpdate=!0,e&&e(s)}).catch(i)},t,i),s}parseInternalAsync(n){const{levels:e}=n,t=new Set;for(let i=0;i<e.length;i++)t.add(e[i].data.buffer);return this._createTexture(Array.from(t),{...n,lowLevel:!0})}_createTexture(n,e={}){let t,i;const r=e;let s=0;for(let a=0;a<n.length;a++)s+=n[a].byteLength;const o=this._allocateWorker(s).then(a=>(t=a,i=this.workerNextTaskID++,new Promise((l,c)=>{t._callbacks[i]={resolve:l,reject:c},t.postMessage({type:"transcode",id:i,buffers:n,taskConfig:r},n)}))).then(a=>{const{mipmaps:l,width:c,height:u,format:h}=a,f=new l3(l,c,u,h,zi);return f.minFilter=l.length===1?bn:fl,f.magFilter=bn,f.generateMipmaps=!1,f.needsUpdate=!0,f});return o.catch(()=>!0).then(()=>{t&&i&&(t._taskLoad-=s,delete t._callbacks[i])}),gv.set(n[0],{promise:o}),o}_initTranscoder(){if(!this.transcoderPending){const n=new os(this.manager);n.setPath(this.transcoderPath),n.setWithCredentials(this.withCredentials);const e=new Promise((r,s)=>{n.load("basis_transcoder.js",r,void 0,s)}),t=new os(this.manager);t.setPath(this.transcoderPath),t.setResponseType("arraybuffer"),t.setWithCredentials(this.withCredentials);const i=new Promise((r,s)=>{t.load("basis_transcoder.wasm",r,void 0,s)});this.transcoderPending=Promise.all([e,i]).then(([r,s])=>{const o=If.BasisWorker.toString(),a=["/* constants */","let _EngineFormat = "+JSON.stringify(If.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(If.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(If.BasisFormat),"/* basis_transcoder.js */",r,"/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a])),this.transcoderBinary=s})}return this.transcoderPending}_allocateWorker(n){return this._initTranscoder().then(()=>{if(this.workerPool.length<this.workerLimit){const t=new Worker(this.workerSourceURL);t._callbacks={},t._taskLoad=0,t.postMessage({type:"init",config:this.workerConfig,transcoderBinary:this.transcoderBinary}),t.onmessage=function(i){const r=i.data;switch(r.type){case"transcode":t._callbacks[r.id].resolve(r);break;case"error":t._callbacks[r.id].reject(r);break;default:console.error('THREE.BasisTextureLoader: Unexpected message, "'+r.type+'"')}},this.workerPool.push(t)}else this.workerPool.sort(function(t,i){return t._taskLoad>i._taskLoad?-1:1});const e=this.workerPool[this.workerPool.length-1];return e._taskLoad+=n,e})}dispose(){for(let n=0;n<this.workerPool.length;n++)this.workerPool[n].terminate();return this.workerPool.length=0,this}};let yg=If;Ve(yg,"BasisFormat",{ETC1S:0,UASTC_4x4:1});Ve(yg,"TranscoderFormat",{ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16});Ve(yg,"EngineFormat",{RGBAFormat:gi,RGBA_ASTC_4x4_Format:Nd,RGBA_BPTC_Format:l2,RGBA_ETC2_EAC_Format:Od,RGBA_PVRTC_4BPPV1_Format:Ld,RGBA_S3TC_DXT5_Format:a2,RGB_ETC1_Format:k7,RGB_ETC2_Format:Dd,RGB_PVRTC_4BPPV1_Format:Pd,RGB_S3TC_DXT1_Format:o2});Ve(yg,"BasisWorker",function(){let n,e,t;const i=_EngineFormat,r=_TranscoderFormat,s=_BasisFormat;onmessage=function(y){const x=y.data;switch(x.type){case"init":n=x.config,o(x.transcoderBinary);break;case"transcode":e.then(()=>{try{const{width:C,height:w,hasAlpha:M,mipmaps:T,format:R}=x.taskConfig.lowLevel?a(x.taskConfig):l(x.buffers[0]),b=[];for(let B=0;B<T.length;++B)b.push(T[B].data.buffer);self.postMessage({type:"transcode",id:x.id,width:C,height:w,hasAlpha:M,mipmaps:T,format:R},b)}catch(C){console.error(C),self.postMessage({type:"error",id:x.id,error:C.message})}});break}};function o(y){e=new Promise(x=>{t={wasmBinary:y,onRuntimeInitialized:x},BASIS(t)}).then(()=>{t.initializeBasis()})}function a(y){const{basisFormat:x,width:C,height:w,hasAlpha:M}=y,{transcoderFormat:T,engineFormat:R}=f(x,C,w,M),b=t.getBytesPerBlockOrPixel(T);p(t.isFormatSupported(T),"THREE.BasisTextureLoader: Unsupported format.");const B=[];if(x===s.ETC1S){const P=new t.LowLevelETC1SImageTranscoder,{endpointCount:O,endpointsData:G,selectorCount:H,selectorsData:j,tablesData:q}=y.globalData;try{let J;J=P.decodePalettes(O,G,H,j),p(J,"THREE.BasisTextureLoader: decodePalettes() failed."),J=P.decodeTables(q),p(J,"THREE.BasisTextureLoader: decodeTables() failed.");for(let L=0;L<y.levels.length;L++){const D=y.levels[L],F=y.globalData.imageDescs[L],z=v(T,D.width,D.height),U=new Uint8Array(z);J=P.transcodeImage(T,U,z/b,D.data,m(T,D.width),S(T,D.height),D.width,D.height,D.index,F.rgbSliceByteOffset,F.rgbSliceByteLength,F.alphaSliceByteOffset,F.alphaSliceByteLength,F.imageFlags,M,!1,0,0),p(J,"THREE.BasisTextureLoader: transcodeImage() failed for level "+D.index+"."),B.push({data:U,width:D.width,height:D.height})}}finally{P.delete()}}else for(let P=0;P<y.levels.length;P++){const O=y.levels[P],G=v(T,O.width,O.height),H=new Uint8Array(G),j=t.transcodeUASTCImage(T,H,G/b,O.data,m(T,O.width),S(T,O.height),O.width,O.height,O.index,0,O.data.byteLength,0,M,!1,0,0,-1,-1);p(j,"THREE.BasisTextureLoader: transcodeUASTCImage() failed for level "+O.index+"."),B.push({data:H,width:O.width,height:O.height})}return{width:C,height:w,hasAlpha:M,mipmaps:B,format:R}}function l(y){const x=new t.BasisFile(new Uint8Array(y)),C=x.isUASTC()?s.UASTC_4x4:s.ETC1S,w=x.getImageWidth(0,0),M=x.getImageHeight(0,0),T=x.getNumLevels(0),R=x.getHasAlpha();function b(){x.close(),x.delete()}const{transcoderFormat:B,engineFormat:P}=f(C,w,M,R);if(!w||!M||!T)throw b(),new Error("THREE.BasisTextureLoader:	Invalid texture");if(!x.startTranscoding())throw b(),new Error("THREE.BasisTextureLoader: .startTranscoding failed");const O=[];for(let G=0;G<T;G++){const H=x.getImageWidth(0,G),j=x.getImageHeight(0,G),q=new Uint8Array(x.getImageTranscodedSizeInBytes(0,G,B));if(!x.transcodeImage(q,0,G,B,0,R))throw b(),new Error("THREE.BasisTextureLoader: .transcodeImage failed.");O.push({data:q,width:H,height:j})}return b(),{width:w,height:M,hasAlpha:R,mipmaps:O,format:P}}const c=[{if:"astcSupported",basisFormat:[s.UASTC_4x4],transcoderFormat:[r.ASTC_4x4,r.ASTC_4x4],engineFormat:[i.RGBA_ASTC_4x4_Format,i.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.BC7_M5,r.BC7_M5],engineFormat:[i.RGBA_BPTC_Format,i.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.BC1,r.BC3],engineFormat:[i.RGB_S3TC_DXT1_Format,i.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.ETC1,r.ETC2],engineFormat:[i.RGB_ETC2_Format,i.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.ETC1,r.ETC1],engineFormat:[i.RGB_ETC1_Format,i.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.PVRTC1_4_RGB,r.PVRTC1_4_RGBA],engineFormat:[i.RGB_PVRTC_4BPPV1_Format,i.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],u=c.sort(function(y,x){return y.priorityETC1S-x.priorityETC1S}),h=c.sort(function(y,x){return y.priorityUASTC-x.priorityUASTC});function f(y,x,C,w){let M,T;const R=y===s.ETC1S?u:h;for(let b=0;b<R.length;b++){const B=R[b];if(n[B.if]&&B.basisFormat.includes(y)&&!(B.needsPowerOfTwo&&!(A(x)&&A(C))))return M=B.transcoderFormat[w?1:0],T=B.engineFormat[w?1:0],{transcoderFormat:M,engineFormat:T}}return console.warn("THREE.BasisTextureLoader: No suitable compressed texture format found. Decoding to RGBA32."),M=r.RGBA32,T=i.RGBAFormat,{transcoderFormat:M,engineFormat:T}}function p(y,x){if(!y)throw new Error(x)}function m(y,x){return Math.ceil(x/t.getFormatBlockWidth(y))}function S(y,x){return Math.ceil(x/t.getFormatBlockHeight(y))}function v(y,x,C){const w=t.getBytesPerBlockOrPixel(y);if(t.formatIsUncompressed(y))return x*C*w;if(y===r.PVRTC1_4_RGB||y===r.PVRTC1_4_RGBA){const M=x+3&-4,T=C+3&-4;return(Math.max(8,M)*Math.max(8,T)*4+7)/8}return m(y,x)*S(y,C)*w}function A(y){return y<=2?!0:(y&y-1)===0&&y!==0}});function d0e(){var n=Object.create(null);function e(r,s){var o=r.id,a=r.name,l=r.dependencies;l===void 0&&(l=[]);var c=r.init;c===void 0&&(c=function(){});var u=r.getTransferables;if(u===void 0&&(u=null),!n[o])try{l=l.map(function(f){return f&&f.isWorkerModule&&(e(f,function(p){if(p instanceof Error)throw p}),f=n[f.id].value),f}),c=i("<"+a+">.init",c),u&&(u=i("<"+a+">.getTransferables",u));var h=null;typeof c=="function"?h=c.apply(void 0,l):console.error("worker module init function failed to rehydrate"),n[o]={id:o,value:h,getTransferables:u},s(h)}catch(f){f&&f.noLog||console.error(f),s(f)}}function t(r,s){var o,a=r.id,l=r.args;(!n[a]||typeof n[a].value!="function")&&s(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var c=(o=n[a]).value.apply(o,l);c&&typeof c.then=="function"?c.then(u,function(h){return s(h instanceof Error?h:new Error(""+h))}):u(c)}catch(h){s(h)}function u(h){try{var f=n[a].getTransferables&&n[a].getTransferables(h);(!f||!Array.isArray(f)||!f.length)&&(f=void 0),s(h,f)}catch(p){console.error(p),s(p)}}}function i(r,s){var o=void 0;self.troikaDefine=function(l){return o=l};var a=URL.createObjectURL(new Blob(["/** "+r.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(a)}catch(l){console.error(l)}return URL.revokeObjectURL(a),delete self.troikaDefine,o}self.addEventListener("message",function(r){var s=r.data,o=s.messageId,a=s.action,l=s.data;try{a==="registerModule"&&e(l,function(c){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof c=="function"}})}),a==="callModule"&&t(l,function(c,u){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:c},u||void 0)})}catch(c){postMessage({messageId:o,success:!1,error:c.stack})}})}function p0e(n){var e=function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];return e._getInitResult().then(function(r){if(typeof r=="function")return r.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var t=n.dependencies,i=n.init;t=Array.isArray(t)?t.map(function(s){return s&&s._getInitResult?s._getInitResult():s}):[];var r=Promise.all(t).then(function(s){return i.apply(null,s)});return e._getInitResult=function(){return r},r},e}var jG=function(){var n=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),n=!0}catch(t){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return jG=function(){return n},n},g0e=0,m0e=0,mv=!1,nd=Object.create(null),id=Object.create(null),eS=Object.create(null);function a5(n){if((!n||typeof n.init!="function")&&!mv)throw new Error("requires `options.init` function");var e=n.dependencies,t=n.init,i=n.getTransferables,r=n.workerId;if(!jG())return p0e(n);r==null&&(r="#default");var s="workerModule"+ ++g0e,o=n.name||s,a=null;e=e&&e.map(function(c){return typeof c=="function"&&!c.workerModuleData&&(mv=!0,c=a5({workerId:r,name:"<"+o+"> function dependency: "+c.name,init:`function(){return (
`+w8(c)+`
)}`}),mv=!1),c&&c.workerModuleData&&(c=c.workerModuleData),c});function l(){for(var c=[],u=arguments.length;u--;)c[u]=arguments[u];if(!a){a=SB(r,"registerModule",l.workerModuleData);var h=function(){a=null,id[r].delete(h)};(id[r]||(id[r]=new Set)).add(h)}return a.then(function(f){var p=f.isCallable;if(p)return SB(r,"callModule",{id:s,args:c});throw new Error("Worker module function was called but `init` did not return a callable function")})}return l.workerModuleData={isWorkerModule:!0,id:s,name:o,dependencies:e,init:w8(t),getTransferables:i&&w8(i)},l}function A0e(n){id[n]&&id[n].forEach(function(e){e()}),nd[n]&&(nd[n].terminate(),delete nd[n])}function w8(n){var e=n.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function v0e(n){var e=nd[n];if(!e){var t=w8(d0e);e=nd[n]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+n.replace(/\*/g,"")+` **/

;(`+t+")()"],{type:"application/javascript"}))),e.onmessage=function(i){var r=i.data,s=r.messageId,o=eS[s];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete eS[s],o(r)}}return e}function SB(n,e,t){return new Promise(function(i,r){var s=++m0e;eS[s]=function(o){o.success?i(o.result):r(new Error("Error in worker "+e+" call: "+o.error))},v0e(n).postMessage({messageId:s,action:e,data:t})})}function XG(){var n=function(e){function t(D,F,z,U,$,ee,ie,se){var re=1-ie;se.x=re*re*D+2*re*ie*z+ie*ie*$,se.y=re*re*F+2*re*ie*U+ie*ie*ee}function i(D,F,z,U,$,ee,ie,se,re,he){var Ce=1-re;he.x=Ce*Ce*Ce*D+3*Ce*Ce*re*z+3*Ce*re*re*$+re*re*re*ie,he.y=Ce*Ce*Ce*F+3*Ce*Ce*re*U+3*Ce*re*re*ee+re*re*re*se}function r(D,F){for(var z=/([MLQCZ])([^MLQCZ]*)/g,U,$,ee,ie,se;U=z.exec(D);){var re=U[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(he){return parseFloat(he)});switch(U[1]){case"M":ie=$=re[0],se=ee=re[1];break;case"L":(re[0]!==ie||re[1]!==se)&&F("L",ie,se,ie=re[0],se=re[1]);break;case"Q":{F("Q",ie,se,ie=re[2],se=re[3],re[0],re[1]);break}case"C":{F("C",ie,se,ie=re[4],se=re[5],re[0],re[1],re[2],re[3]);break}case"Z":(ie!==$||se!==ee)&&F("L",ie,se,$,ee);break}}}function s(D,F,z){z===void 0&&(z=16);var U={x:0,y:0};r(D,function($,ee,ie,se,re,he,Ce,ze,Se){switch($){case"L":F(ee,ie,se,re);break;case"Q":{for(var V=ee,ye=ie,fe=1;fe<z;fe++)t(ee,ie,he,Ce,se,re,fe/(z-1),U),F(V,ye,U.x,U.y),V=U.x,ye=U.y;break}case"C":{for(var xe=ee,ge=ie,qe=1;qe<z;qe++)i(ee,ie,he,Ce,ze,Se,se,re,qe/(z-1),U),F(xe,ge,U.x,U.y),xe=U.x,ge=U.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,c={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function u(D,F){var z=D.getContext?D.getContext("webgl",c):D,U=l.get(z);if(!U){let xe=function(we){var Ke=ee[we];if(!Ke&&(Ke=ee[we]=z.getExtension(we),!Ke))throw new Error(we+" not supported");return Ke},ge=function(we,Ke){var W=z.createShader(Ke);return z.shaderSource(W,we),z.compileShader(W),W},qe=function(we,Ke,W,N){if(!ie[we]){var oe={},Ne={},Ie=z.createProgram();z.attachShader(Ie,ge(Ke,z.VERTEX_SHADER)),z.attachShader(Ie,ge(W,z.FRAGMENT_SHADER)),z.linkProgram(Ie),ie[we]={program:Ie,transaction:function(je){z.useProgram(Ie),je({setUniform:function(pe,Y){for(var de=[],Me=arguments.length-2;Me-- >0;)de[Me]=arguments[Me+2];var Ee=Ne[Y]||(Ne[Y]=z.getUniformLocation(Ie,Y));z["uniform"+pe].apply(z,[Ee].concat(de))},setAttribute:function(pe,Y,de,Me,Ee){var Fe=oe[pe];Fe||(Fe=oe[pe]={buf:z.createBuffer(),loc:z.getAttribLocation(Ie,pe),data:null}),z.bindBuffer(z.ARRAY_BUFFER,Fe.buf),z.vertexAttribPointer(Fe.loc,Y,z.FLOAT,!1,0,0),z.enableVertexAttribArray(Fe.loc),$?z.vertexAttribDivisor(Fe.loc,Me):xe("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Fe.loc,Me),Ee!==Fe.data&&(z.bufferData(z.ARRAY_BUFFER,Ee,de),Fe.data=Ee)}})}}}ie[we].transaction(N)},me=function(we,Ke){re++;try{z.activeTexture(z.TEXTURE0+re);var W=se[we];W||(W=se[we]=z.createTexture(),z.bindTexture(z.TEXTURE_2D,W),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MIN_FILTER,z.NEAREST),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MAG_FILTER,z.NEAREST)),z.bindTexture(z.TEXTURE_2D,W),Ke(W,re)}finally{re--}},Pe=function(we,Ke,W){var N=z.createFramebuffer();he.push(N),z.bindFramebuffer(z.FRAMEBUFFER,N),z.activeTexture(z.TEXTURE0+Ke),z.bindTexture(z.TEXTURE_2D,we),z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_2D,we,0);try{W(N)}finally{z.deleteFramebuffer(N),z.bindFramebuffer(z.FRAMEBUFFER,he[--he.length-1]||null)}},Ue=function(){ee={},ie={},se={},re=-1,he.length=0};var Ce=xe,ze=ge,Se=qe,V=me,ye=Pe,fe=Ue,$=typeof WebGL2RenderingContext<"u"&&z instanceof WebGL2RenderingContext,ee={},ie={},se={},re=-1,he=[];z.canvas.addEventListener("webglcontextlost",function(we){Ue(),we.preventDefault()},!1),l.set(z,U={gl:z,isWebGL2:$,getExtension:xe,withProgram:qe,withTexture:me,withTextureFramebuffer:Pe,handleContextLoss:Ue})}F(U)}function h(D,F,z,U,$,ee,ie,se){ie===void 0&&(ie=15),se===void 0&&(se=null),u(D,function(re){var he=re.gl,Ce=re.withProgram,ze=re.withTexture;ze("copy",function(Se,V){he.texImage2D(he.TEXTURE_2D,0,he.RGBA,$,ee,0,he.RGBA,he.UNSIGNED_BYTE,F),Ce("copy",o,a,function(ye){var fe=ye.setUniform,xe=ye.setAttribute;xe("aUV",2,he.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),fe("1i","image",V),he.bindFramebuffer(he.FRAMEBUFFER,se||null),he.disable(he.BLEND),he.colorMask(ie&8,ie&4,ie&2,ie&1),he.viewport(z,U,$,ee),he.scissor(z,U,$,ee),he.drawArrays(he.TRIANGLES,0,3)})})})}function f(D,F,z){var U=D.width,$=D.height;u(D,function(ee){var ie=ee.gl,se=new Uint8Array(U*$*4);ie.readPixels(0,0,U,$,ie.RGBA,ie.UNSIGNED_BYTE,se),D.width=F,D.height=z,h(ie,se,0,0,U,$)})}var p=Object.freeze({__proto__:null,withWebGLContext:u,renderImageData:h,resizeWebGLCanvasWithoutClearing:f});function m(D,F,z,U,$,ee){ee===void 0&&(ee=1);var ie=new Uint8Array(D*F),se=U[2]-U[0],re=U[3]-U[1],he=[];s(z,function(xe,ge,qe,me){he.push({x1:xe,y1:ge,x2:qe,y2:me,minX:Math.min(xe,qe),minY:Math.min(ge,me),maxX:Math.max(xe,qe),maxY:Math.max(ge,me)})}),he.sort(function(xe,ge){return xe.maxX-ge.maxX});for(var Ce=0;Ce<D;Ce++)for(var ze=0;ze<F;ze++){var Se=ye(U[0]+se*(Ce+.5)/D,U[1]+re*(ze+.5)/F),V=Math.pow(1-Math.abs(Se)/$,ee)/2;Se<0&&(V=1-V),V=Math.max(0,Math.min(255,Math.round(V*255))),ie[ze*D+Ce]=V}return ie;function ye(xe,ge){for(var qe=1/0,me=1/0,Pe=he.length;Pe--;){var Ue=he[Pe];if(Ue.maxX+me<=xe)break;if(xe+me>Ue.minX&&ge-me<Ue.maxY&&ge+me>Ue.minY){var we=A(xe,ge,Ue.x1,Ue.y1,Ue.x2,Ue.y2);we<qe&&(qe=we,me=Math.sqrt(qe))}}return fe(xe,ge)&&(me=-me),me}function fe(xe,ge){for(var qe=0,me=he.length;me--;){var Pe=he[me];if(Pe.maxX<=xe)break;var Ue=Pe.y1>ge!=Pe.y2>ge&&xe<(Pe.x2-Pe.x1)*(ge-Pe.y1)/(Pe.y2-Pe.y1)+Pe.x1;Ue&&(qe+=Pe.y1<Pe.y2?1:-1)}return qe!==0}}function S(D,F,z,U,$,ee,ie,se,re,he){ee===void 0&&(ee=1),se===void 0&&(se=0),re===void 0&&(re=0),he===void 0&&(he=0),v(D,F,z,U,$,ee,ie,null,se,re,he)}function v(D,F,z,U,$,ee,ie,se,re,he,Ce){ee===void 0&&(ee=1),re===void 0&&(re=0),he===void 0&&(he=0),Ce===void 0&&(Ce=0);for(var ze=m(D,F,z,U,$,ee),Se=new Uint8Array(ze.length*4),V=0;V<ze.length;V++)Se[V*4+Ce]=ze[V];h(ie,Se,re,he,D,F,1<<3-Ce,se)}function A(D,F,z,U,$,ee){var ie=$-z,se=ee-U,re=ie*ie+se*se,he=re?Math.max(0,Math.min(1,((D-z)*ie+(F-U)*se)/re)):0,Ce=D-(z+he*ie),ze=F-(U+he*se);return Ce*Ce+ze*ze}var y=Object.freeze({__proto__:null,generate:m,generateIntoCanvas:S,generateIntoFramebuffer:v}),x="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",C="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",w="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",M=new Float32Array([0,0,2,0,0,2]),T=null,R=!1,b={},B=new WeakMap;function P(D){if(!R&&!j(D))throw new Error("WebGL generation not supported")}function O(D,F,z,U,$,ee,ie){if(ee===void 0&&(ee=1),ie===void 0&&(ie=null),!ie&&(ie=T,!ie)){var se=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!se)throw new Error("OffscreenCanvas or DOM canvas not supported");ie=T=se.getContext("webgl",{depth:!1})}P(ie);var re=new Uint8Array(D*F*4);u(ie,function(Se){var V=Se.gl,ye=Se.withTexture,fe=Se.withTextureFramebuffer;ye("readable",function(xe,ge){V.texImage2D(V.TEXTURE_2D,0,V.RGBA,D,F,0,V.RGBA,V.UNSIGNED_BYTE,null),fe(xe,ge,function(qe){H(D,F,z,U,$,ee,V,qe,0,0,0),V.readPixels(0,0,D,F,V.RGBA,V.UNSIGNED_BYTE,re)})})});for(var he=new Uint8Array(D*F),Ce=0,ze=0;Ce<re.length;Ce+=4)he[ze++]=re[Ce];return he}function G(D,F,z,U,$,ee,ie,se,re,he){ee===void 0&&(ee=1),se===void 0&&(se=0),re===void 0&&(re=0),he===void 0&&(he=0),H(D,F,z,U,$,ee,ie,null,se,re,he)}function H(D,F,z,U,$,ee,ie,se,re,he,Ce){ee===void 0&&(ee=1),re===void 0&&(re=0),he===void 0&&(he=0),Ce===void 0&&(Ce=0),P(ie);var ze=[];s(z,function(Se,V,ye,fe){ze.push(Se,V,ye,fe)}),ze=new Float32Array(ze),u(ie,function(Se){var V=Se.gl,ye=Se.isWebGL2,fe=Se.getExtension,xe=Se.withProgram,ge=Se.withTexture,qe=Se.withTextureFramebuffer,me=Se.handleContextLoss;if(ge("rawDistances",function(Pe,Ue){(D!==Pe._lastWidth||F!==Pe._lastHeight)&&V.texImage2D(V.TEXTURE_2D,0,V.RGBA,Pe._lastWidth=D,Pe._lastHeight=F,0,V.RGBA,V.UNSIGNED_BYTE,null),xe("main",x,C,function(we){var Ke=we.setAttribute,W=we.setUniform,N=!ye&&fe("ANGLE_instanced_arrays"),oe=!ye&&fe("EXT_blend_minmax");Ke("aUV",2,V.STATIC_DRAW,0,M),Ke("aLineSegment",4,V.DYNAMIC_DRAW,1,ze),W.apply(void 0,["4f","uGlyphBounds"].concat(U)),W("1f","uMaxDistance",$),W("1f","uExponent",ee),qe(Pe,Ue,function(Ne){V.enable(V.BLEND),V.colorMask(!0,!0,!0,!0),V.viewport(0,0,D,F),V.scissor(0,0,D,F),V.blendFunc(V.ONE,V.ONE),V.blendEquationSeparate(V.FUNC_ADD,ye?V.MAX:oe.MAX_EXT),V.clear(V.COLOR_BUFFER_BIT),ye?V.drawArraysInstanced(V.TRIANGLES,0,3,ze.length/4):N.drawArraysInstancedANGLE(V.TRIANGLES,0,3,ze.length/4)})}),xe("post",o,w,function(we){we.setAttribute("aUV",2,V.STATIC_DRAW,0,M),we.setUniform("1i","tex",Ue),V.bindFramebuffer(V.FRAMEBUFFER,se),V.disable(V.BLEND),V.colorMask(Ce===0,Ce===1,Ce===2,Ce===3),V.viewport(re,he,D,F),V.scissor(re,he,D,F),V.drawArrays(V.TRIANGLES,0,3)})}),V.isContextLost())throw me(),new Error("webgl context lost")})}function j(D){var F=!D||D===T?b:D.canvas||D,z=B.get(F);if(z===void 0){R=!0;var U=null;try{var $=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],ee=O(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,D);z=ee&&$.length===ee.length&&ee.every(function(ie,se){return ie===$[se]}),z||(U="bad trial run results",console.info($,ee))}catch(ie){z=!1,U=ie.message}U&&console.warn("WebGL SDF generation not supported:",U),R=!1,B.set(F,z)}return z}var q=Object.freeze({__proto__:null,generate:O,generateIntoCanvas:G,generateIntoFramebuffer:H,isSupported:j});function J(D,F,z,U,$,ee){$===void 0&&($=Math.max(U[2]-U[0],U[3]-U[1])/2),ee===void 0&&(ee=1);try{return O.apply(q,arguments)}catch(ie){return console.info("WebGL SDF generation failed, falling back to JS",ie),m.apply(y,arguments)}}function L(D,F,z,U,$,ee,ie,se,re,he){$===void 0&&($=Math.max(U[2]-U[0],U[3]-U[1])/2),ee===void 0&&(ee=1),se===void 0&&(se=0),re===void 0&&(re=0),he===void 0&&(he=0);try{return G.apply(q,arguments)}catch(Ce){return console.info("WebGL SDF generation failed, falling back to JS",Ce),S.apply(y,arguments)}}return e.forEachPathCommand=r,e.generate=J,e.generateIntoCanvas=L,e.javascript=y,e.pathToLineSegments=s,e.webgl=q,e.webglUtils=p,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}function y0e(){var n=function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},i={},r={};i.L=1,r[1]="L",Object.keys(t).forEach(function(me,Pe){i[me]=1<<Pe+1,r[i[me]]=me}),Object.freeze(i);var s=i.LRI|i.RLI|i.FSI,o=i.L|i.R|i.AL,a=i.B|i.S|i.WS|i.ON|i.FSI|i.LRI|i.RLI|i.PDI,l=i.BN|i.RLE|i.LRE|i.RLO|i.LRO|i.PDF,c=i.S|i.WS|i.B|s|i.PDI|l,u=null;function h(){if(!u){u=new Map;var me=function(Ue){if(t.hasOwnProperty(Ue)){var we=0;t[Ue].split(",").forEach(function(Ke){var W=Ke.split("+"),N=W[0],oe=W[1];N=parseInt(N,36),oe=oe?parseInt(oe,36):0,u.set(we+=N,i[Ue]);for(var Ne=0;Ne<oe;Ne++)u.set(++we,i[Ue])})}};for(var Pe in t)me(Pe)}}function f(me){return h(),u.get(me.codePointAt(0))||i.L}function p(me){return r[f(me)]}var m={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function S(me,Pe){var Ue=36,we=0,Ke=new Map,W=Pe&&new Map,N;return me.split(",").forEach(function oe(Ne){if(Ne.indexOf("+")!==-1)for(var Ie=+Ne;Ie--;)oe(N);else{N=Ne;var Re=Ne.split(">"),je=Re[0],Qe=Re[1];je=String.fromCodePoint(we+=parseInt(je,Ue)),Qe=String.fromCodePoint(we+=parseInt(Qe,Ue)),Ke.set(je,Qe),Pe&&W.set(Qe,je)}}),{map:Ke,reverseMap:W}}var v,A,y;function x(){if(!v){var me=S(m.pairs,!0),Pe=me.map,Ue=me.reverseMap;v=Pe,A=Ue,y=S(m.canonical,!1).map}}function C(me){return x(),v.get(me)||null}function w(me){return x(),A.get(me)||null}function M(me){return x(),y.get(me)||null}var T=i.L,R=i.R,b=i.EN,B=i.ES,P=i.ET,O=i.AN,G=i.CS,H=i.B,j=i.S,q=i.ON,J=i.BN,L=i.NSM,D=i.AL,F=i.LRO,z=i.RLO,U=i.LRE,$=i.RLE,ee=i.PDF,ie=i.LRI,se=i.RLI,re=i.FSI,he=i.PDI;function Ce(me,Pe){for(var Ue=125,we=new Uint32Array(me.length),Ke=0;Ke<me.length;Ke++)we[Ke]=f(me[Ke]);var W=new Map;function N($i,Xr){var yi=we[$i];we[$i]=Xr,W.set(yi,W.get(yi)-1),yi&a&&W.set(a,W.get(a)-1),W.set(Xr,(W.get(Xr)||0)+1),Xr&a&&W.set(a,(W.get(a)||0)+1)}for(var oe=new Uint8Array(me.length),Ne=new Map,Ie=[],Re=null,je=0;je<me.length;je++)Re||Ie.push(Re={start:je,end:me.length-1,level:Pe==="rtl"?1:Pe==="ltr"?0:N3(je,!1)}),we[je]&H&&(Re.end=je,Re=null);for(var Qe=$|U|z|F|s|he|ee|H,pe=function($i){return $i+($i&1?1:2)},Y=function($i){return $i+($i&1?2:1)},de=0;de<Ie.length;de++){Re=Ie[de];var Me=[{_level:Re.level,_override:0,_isolate:0}],Ee=void 0,Fe=0,nt=0,ft=0;W.clear();for(var Z=Re.start;Z<=Re.end;Z++){var He=we[Z];if(Ee=Me[Me.length-1],W.set(He,(W.get(He)||0)+1),He&a&&W.set(a,(W.get(a)||0)+1),He&Qe)if(He&($|U)){oe[Z]=Ee._level;var ce=(He===$?Y:pe)(Ee._level);ce<=Ue&&!Fe&&!nt?Me.push({_level:ce,_override:0,_isolate:0}):Fe||nt++}else if(He&(z|F)){oe[Z]=Ee._level;var We=(He===z?Y:pe)(Ee._level);We<=Ue&&!Fe&&!nt?Me.push({_level:We,_override:He&z?R:T,_isolate:0}):Fe||nt++}else if(He&s){He&re&&(He=N3(Z+1,!0)===1?se:ie),oe[Z]=Ee._level,Ee._override&&N(Z,Ee._override);var Ze=(He===se?Y:pe)(Ee._level);Ze<=Ue&&Fe===0&&nt===0?(ft++,Me.push({_level:Ze,_override:0,_isolate:1,_isolInitIndex:Z})):Fe++}else if(He&he){if(Fe>0)Fe--;else if(ft>0){for(nt=0;!Me[Me.length-1]._isolate;)Me.pop();var Dt=Me[Me.length-1]._isolInitIndex;Dt!=null&&(Ne.set(Dt,Z),Ne.set(Z,Dt)),Me.pop(),ft--}Ee=Me[Me.length-1],oe[Z]=Ee._level,Ee._override&&N(Z,Ee._override)}else He&ee?(Fe===0&&(nt>0?nt--:!Ee._isolate&&Me.length>1&&(Me.pop(),Ee=Me[Me.length-1])),oe[Z]=Ee._level):He&H&&(oe[Z]=Re.level);else oe[Z]=Ee._level,Ee._override&&He!==J&&N(Z,Ee._override)}for(var Kt=[],tn=null,an=Re.start;an<=Re.end;an++){var An=we[an];if(!(An&l)){var rn=oe[an],Vt=An&s,Sr=An===he;tn&&rn===tn._level?(tn._end=an,tn._endsWithIsolInit=Vt):Kt.push(tn={_start:an,_end:an,_level:rn,_startsWithPDI:Sr,_endsWithIsolInit:Vt})}}for(var Yi=[],fn=0;fn<Kt.length;fn++){var Bn=Kt[fn];if(!Bn._startsWithPDI||Bn._startsWithPDI&&!Ne.has(Bn._start)){for(var or=[tn=Bn],_n=void 0;tn&&tn._endsWithIsolInit&&(_n=Ne.get(tn._end))!=null;)for(var Jn=fn+1;Jn<Kt.length;Jn++)if(Kt[Jn]._start===_n){or.push(tn=Kt[Jn]);break}for(var Di=[],Ao=0;Ao<or.length;Ao++)for(var Qr=or[Ao],X=Qr._start;X<=Qr._end;X++)Di.push(X);for(var Ae=oe[Di[0]],Le=Re.level,ue=Di[0]-1;ue>=0;ue--)if(!(we[ue]&l)){Le=oe[ue];break}var De=Di[Di.length-1],at=oe[De],St=Re.level;if(!(we[De]&s)){for(var Et=De+1;Et<=Re.end;Et++)if(!(we[Et]&l)){St=oe[Et];break}}Yi.push({_seqIndices:Di,_sosType:Math.max(Le,Ae)%2?R:T,_eosType:Math.max(St,at)%2?R:T})}}for(var Mt=0;Mt<Yi.length;Mt++){var Nt=Yi[Mt],Xe=Nt._seqIndices,Ct=Nt._sosType,vn=Nt._eosType,dn=oe[Xe[0]]&1?R:T;if(W.get(L))for(var Ki=0;Ki<Xe.length;Ki++){var Er=Xe[Ki];if(we[Er]&L){for(var yn=Ct,It=Ki-1;It>=0;It--)if(!(we[Xe[It]]&l)){yn=we[Xe[It]];break}N(Er,yn&(s|he)?q:yn)}}if(W.get(b))for(var on=0;on<Xe.length;on++){var Rt=Xe[on];if(we[Rt]&b)for(var vi=on-1;vi>=-1;vi--){var li=vi===-1?Ct:we[Xe[vi]];if(li&o){li===D&&N(Rt,O);break}}}if(W.get(D))for(var Hn=0;Hn<Xe.length;Hn++){var ps=Xe[Hn];we[ps]&D&&N(ps,R)}if(W.get(B)||W.get(G))for(var Cn=1;Cn<Xe.length-1;Cn++){var kn=Xe[Cn];if(we[kn]&(B|G)){for(var Hr=0,Ti=0,Pa=Cn-1;Pa>=0&&(Hr=we[Xe[Pa]],!!(Hr&l));Pa--);for(var La=Cn+1;La<Xe.length&&(Ti=we[Xe[La]],!!(Ti&l));La++);Hr===Ti&&(we[kn]===B?Hr===b:Hr&(b|O))&&N(kn,Hr)}}if(W.get(b))for(var Cr=0;Cr<Xe.length;Cr++){var Ls=Xe[Cr];if(we[Ls]&b){for(var P3=Cr-1;P3>=0&&we[Xe[P3]]&(P|l);P3--)N(Xe[P3],b);for(Cr++;Cr<Xe.length&&we[Xe[Cr]]&(P|l|b);Cr++)we[Xe[Cr]]!==b&&N(Xe[Cr],b)}}if(W.get(P)||W.get(B)||W.get(G))for(var Wc=0;Wc<Xe.length;Wc++){var p5=Xe[Wc];if(we[p5]&(P|B|G)){N(p5,q);for(var Ml=Wc-1;Ml>=0&&we[Xe[Ml]]&l;Ml--)N(Xe[Ml],q);for(var Tl=Wc+1;Tl<Xe.length&&we[Xe[Tl]]&l;Tl++)N(Xe[Tl],q)}}if(W.get(b))for(var bl=0,jc=Ct;bl<Xe.length;bl++){var g5=Xe[bl],f0=we[g5];f0&b?jc===T&&N(g5,T):f0&o&&(jc=f0)}if(W.get(a)){var Il=R|b|O,L3=Il|T,Da=[];{for(var E1=[],Oa=0;Oa<Xe.length;Oa++)if(we[Xe[Oa]]&a){var Jt=me[Xe[Oa]],d0=void 0;if(C(Jt)!==null)if(E1.length<63)E1.push({char:Jt,seqIndex:Oa});else break;else if((d0=w(Jt))!==null)for(var Rl=E1.length-1;Rl>=0;Rl--){var D3=E1[Rl].char;if(D3===d0||D3===w(M(Jt))||C(M(D3))===Jt){Da.push([E1[Rl].seqIndex,Oa]),E1.length=Rl;break}}}Da.sort(function($i,Xr){return $i[0]-Xr[0]})}for(var p0=0;p0<Da.length;p0++){for(var m5=Da[p0],$n=m5[0],Xc=m5[1],A5=!1,Vr=0,g0=$n+1;g0<Xc;g0++){var qc=Xe[g0];if(we[qc]&L3){A5=!0;var Ds=we[qc]&Il?R:T;if(Ds===dn){Vr=Ds;break}}}if(A5&&!Vr){Vr=Ct;for(var m0=$n-1;m0>=0;m0--){var v5=Xe[m0];if(we[v5]&L3){var Os=we[v5]&Il?R:T;Os!==dn?Vr=Os:Vr=dn;break}}}if(Vr){if(we[Xe[$n]]=we[Xe[Xc]]=Vr,Vr!==dn){for(var Wr=$n+1;Wr<Xe.length;Wr++)if(!(we[Xe[Wr]]&l)){f(me[Xe[Wr]])&L&&(we[Xe[Wr]]=Vr);break}}if(Vr!==dn){for(var Na=Xc+1;Na<Xe.length;Na++)if(!(we[Xe[Na]]&l)){f(me[Xe[Na]])&L&&(we[Xe[Na]]=Vr);break}}}}for(var vo=0;vo<Xe.length;vo++)if(we[Xe[vo]]&a){for(var A0=vo,v0=vo,gs=Ct,Yc=vo-1;Yc>=0;Yc--)if(we[Xe[Yc]]&l)A0=Yc;else{gs=we[Xe[Yc]]&Il?R:T;break}for(var Kc=vn,Jc=vo+1;Jc<Xe.length;Jc++)if(we[Xe[Jc]]&(a|l))v0=Jc;else{Kc=we[Xe[Jc]]&Il?R:T;break}for(var jr=A0;jr<=v0;jr++)we[Xe[jr]]=gs===Kc?gs:dn;vo=v0}}}for(var Ji=Re.start;Ji<=Re.end;Ji++){var O3=oe[Ji],ta=we[Ji];if(O3&1?ta&(T|b|O)&&oe[Ji]++:ta&R?oe[Ji]++:ta&(O|b)&&(oe[Ji]+=2),ta&l&&(oe[Ji]=Ji===0?Re.level:oe[Ji-1]),Ji===Re.end||f(me[Ji])&(j|H))for(var C1=Ji;C1>=0&&f(me[C1])&c;C1--)oe[C1]=Re.level}}return{levels:oe,paragraphs:Ie};function N3($i,Xr){for(var yi=$i;yi<me.length;yi++){var xi=we[yi];if(xi&(R|D))return 1;if(xi&(H|T)||Xr&&xi===he)return 0;if(xi&s){var Ns=y5(yi);yi=Ns===-1?me.length:Ns}}return 0}function y5($i){for(var Xr=1,yi=$i+1;yi<me.length;yi++){var xi=we[yi];if(xi&H)break;if(xi&he){if(--Xr===0)return yi}else xi&s&&Xr++}return-1}}var ze="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Se;function V(){if(!Se){var me=S(ze,!0),Pe=me.map,Ue=me.reverseMap;Ue.forEach(function(we,Ke){Pe.set(Ke,we)}),Se=Pe}}function ye(me){return V(),Se.get(me)||null}function fe(me,Pe,Ue,we){var Ke=me.length;Ue=Math.max(0,Ue==null?0:+Ue),we=Math.min(Ke-1,we==null?Ke-1:+we);for(var W=new Map,N=Ue;N<=we;N++)if(Pe[N]&1){var oe=ye(me[N]);oe!==null&&W.set(N,oe)}return W}function xe(me,Pe,Ue,we){var Ke=me.length;Ue=Math.max(0,Ue==null?0:+Ue),we=Math.min(Ke-1,we==null?Ke-1:+we);var W=[];return Pe.paragraphs.forEach(function(N){var oe=Math.max(Ue,N.start),Ne=Math.min(we,N.end);if(oe<Ne){for(var Ie=Pe.levels.slice(oe,Ne+1),Re=Ne;Re>=oe&&f(me[Re])&c;Re--)Ie[Re]=N.level;for(var je=N.level,Qe=1/0,pe=0;pe<Ie.length;pe++){var Y=Ie[pe];Y>je&&(je=Y),Y<Qe&&(Qe=Y|1)}for(var de=je;de>=Qe;de--)for(var Me=0;Me<Ie.length;Me++)if(Ie[Me]>=de){for(var Ee=Me;Me+1<Ie.length&&Ie[Me+1]>=de;)Me++;Me>Ee&&W.push([Ee+oe,Me+oe])}}}),W}function ge(me,Pe,Ue,we){var Ke=qe(me,Pe,Ue,we),W=[].concat(me);return Ke.forEach(function(N,oe){W[oe]=(Pe.levels[N]&1?ye(me[N]):null)||me[N]}),W.join("")}function qe(me,Pe,Ue,we){for(var Ke=xe(me,Pe,Ue,we),W=[],N=0;N<me.length;N++)W[N]=N;return Ke.forEach(function(oe){for(var Ne=oe[0],Ie=oe[1],Re=W.slice(Ne,Ie+1),je=Re.length;je--;)W[Ie-je]=Re[je]}),W}return e.closingToOpeningBracket=w,e.getBidiCharType=f,e.getBidiCharTypeName=p,e.getCanonicalBracket=M,e.getEmbeddingLevels=Ce,e.getMirroredCharacter=ye,e.getMirroredCharactersMap=fe,e.getReorderSegments=xe,e.getReorderedIndices=qe,e.getReorderedString=ge,e.openingToClosingBracket=C,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}const qG=/\bvoid\s+main\s*\(\s*\)\s*{/g;function tS(n){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function t(i,r){let s=Qt[r];return s?tS(s):i}return n.replace(e,t)}const lr=[];for(let n=0;n<256;n++)lr[n]=(n<16?"0":"")+n.toString(16);function x0e(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(lr[n&255]+lr[n>>8&255]+lr[n>>16&255]+lr[n>>24&255]+"-"+lr[e&255]+lr[e>>8&255]+"-"+lr[e>>16&15|64]+lr[e>>24&255]+"-"+lr[t&63|128]+lr[t>>8&255]+"-"+lr[t>>16&255]+lr[t>>24&255]+lr[i&255]+lr[i>>8&255]+lr[i>>16&255]+lr[i>>24&255]).toUpperCase()}const Au=Object.assign||function(){let n=arguments[0];for(let e=1,t=arguments.length;e<t;e++){let i=arguments[e];if(i)for(let r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},S0e=Date.now(),EB=new WeakMap,CB=new Map;let E0e=1e10;function nS(n,e){const t=M0e(e);let i=EB.get(n);if(i||EB.set(n,i=Object.create(null)),i[t])return new i[t];const r=`_onBeforeCompile${t}`,s=function(c,u){n.onBeforeCompile.call(this,c,u);const h=this.customProgramCacheKey()+"|"+c.vertexShader+"|"+c.fragmentShader;let f=CB[h];if(!f){const p=C0e(this,c,e,t);f=CB[h]=p}c.vertexShader=f.vertexShader,c.fragmentShader=f.fragmentShader,Au(c.uniforms,this.uniforms),e.timeUniform&&(c.uniforms[e.timeUniform]={get value(){return Date.now()-S0e}}),this[r]&&this[r](c)},o=function(){return a(e.chained?n:n.clone())},a=function(c){const u=Object.create(c,l);return Object.defineProperty(u,"baseMaterial",{value:n}),Object.defineProperty(u,"id",{value:E0e++}),u.uuid=x0e(),u.uniforms=Au({},c.uniforms,e.uniforms),u.defines=Au({},c.defines,e.defines),u.defines[`TROIKA_DERIVED_MATERIAL_${t}`]="",u.extensions=Au({},c.extensions,e.extensions),u._listeners=void 0,u},l={constructor:{value:o},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return n.customProgramCacheKey()+"|"+t}},onBeforeCompile:{get(){return s},set(c){this[r]=c}},copy:{writable:!0,configurable:!0,value:function(c){return n.copy.call(this,c),!n.isShaderMaterial&&!n.isDerivedMaterial&&(Au(this.extensions,c.extensions),Au(this.defines,c.defines),Au(this.uniforms,qn.clone(c.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const c=new n.constructor;return a(c).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let c=this._depthMaterial;return c||(c=this._depthMaterial=nS(n.isDerivedMaterial?n.getDepthMaterial():new I4({depthPacking:L7}),e),c.defines.IS_DEPTH_MATERIAL="",c.uniforms=this.uniforms),c}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let c=this._distanceMaterial;return c||(c=this._distanceMaterial=nS(n.isDerivedMaterial?n.getDistanceMaterial():new U7,e),c.defines.IS_DISTANCE_MATERIAL="",c.uniforms=this.uniforms),c}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:c,_distanceMaterial:u}=this;c&&c.dispose(),u&&u.dispose(),n.dispose.call(this)}}};return i[t]=o,new o}function C0e(n,{vertexShader:e,fragmentShader:t},i,r){let{vertexDefs:s,vertexMainIntro:o,vertexMainOutro:a,vertexTransform:l,fragmentDefs:c,fragmentMainIntro:u,fragmentMainOutro:h,fragmentColorTransform:f,customRewriter:p,timeUniform:m}=i;if(s=s||"",o=o||"",a=a||"",c=c||"",u=u||"",h=h||"",(l||p)&&(e=tS(e)),(f||p)&&(t=t.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),t=tS(t)),p){let S=p({vertexShader:e,fragmentShader:t});e=S.vertexShader,t=S.fragmentShader}if(f){let S=[];t=t.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,v=>(S.push(v),"")),h=`${f}
${S.join(`
`)}
${h}`}if(m){const S=`
uniform float ${m};
`;s=S+s,c=S+c}return l&&(e=`vec3 troika_position_${r};
vec3 troika_normal_${r};
vec2 troika_uv_${r};
${e}
`,s=`${s}
void troikaVertexTransform${r}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,o=`
troika_position_${r} = vec3(position);
troika_normal_${r} = vec3(normal);
troika_uv_${r} = vec2(uv);
troikaVertexTransform${r}(troika_position_${r}, troika_normal_${r}, troika_uv_${r});
${o}
`,e=e.replace(/\b(position|normal|uv)\b/g,(S,v,A,y)=>/\battribute\s+vec[23]\s+$/.test(y.substr(0,A))?v:`troika_${v}_${r}`),n.map&&n.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${r}`))),e=wB(e,r,s,o,a),t=wB(t,r,c,u,h),{vertexShader:e,fragmentShader:t}}function wB(n,e,t,i,r){return(i||r||t)&&(n=n.replace(qG,`
${t}
void troikaOrigMain${e}() {`),n+=`
void main() {
  ${i}
  troikaOrigMain${e}();
  ${r}
}`),n}function w0e(n,e){return n==="uniforms"?void 0:typeof e=="function"?e.toString():e}let _0e=0;const _B=new Map;function M0e(n){const e=JSON.stringify(n,w0e);let t=_B.get(e);return t==null&&_B.set(e,t=++_0e),t}function T0e(n,e,t){const{defaultFontURL:i}=t,r=Object.create(null),s=1/0,o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,a="[^\\S\\u00A0]",l=new RegExp(`${a}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function c(y,x){function C(){const w=M=>{console.error(`Failure loading font ${y}${y===i?"":"; trying fallback"}`,M),y!==i&&(y=i,C())};try{const M=new XMLHttpRequest;M.open("get",y,!0),M.responseType="arraybuffer",M.onload=function(){if(M.status>=400)w(new Error(M.statusText));else if(M.status>0)try{const T=n(M.response);x(T)}catch(T){w(T)}},M.onerror=w,M.send()}catch(M){w(M)}}C()}function u(y,x){y||(y=i);let C=r[y];C?C.pending?C.pending.push(x):x(C):(r[y]={pending:[x]},c(y,w=>{let M=r[y].pending;r[y]=w,M.forEach(T=>T(w))}))}function h({text:y="",font:x=i,sdfGlyphSize:C=64,fontSize:w=1,letterSpacing:M=0,lineHeight:T="normal",maxWidth:R=s,direction:b,textAlign:B="left",textIndent:P=0,whiteSpace:O="normal",overflowWrap:G="normal",anchorX:H=0,anchorY:j=0,includeCaretPositions:q=!1,chunkedBoundsSize:J=8192,colorRanges:L=null},D,F=!1){const z=S(),U={fontLoad:0,typesetting:0};y.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),y=y.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),w=+w,M=+M,R=+R,T=T||"normal",P=+P,u(x,$=>{const ee=isFinite(R);let ie=null,se=null,re=null,he=null,Ce=null,ze=null,Se=null,V=0,ye=0,fe=O!=="nowrap";const{ascender:xe,descender:ge,unitsPerEm:qe,lineGap:me,capHeight:Pe,xHeight:Ue}=$;U.fontLoad=S()-z;const we=S(),Ke=w/qe;T==="normal"&&(T=(xe-ge+me)/qe),T=T*w;const W=(T-(xe-ge)*Ke)/2,N=-(xe*Ke+W),oe=Math.min(T,(xe-ge)*Ke),Ne=(xe+ge)/2*Ke-oe/2;let Ie=P,Re=new v;const je=[Re];$.forEachGlyph(y,w,M,(Y,de,Me)=>{const Ee=y.charAt(Me),Fe=Y.advanceWidth*Ke,nt=Re.count;let ft;if("isEmpty"in Y||(Y.isWhitespace=!!Ee&&new RegExp(a).test(Ee),Y.canBreakAfter=!!Ee&&l.test(Ee),Y.isEmpty=Y.xMin===Y.xMax||Y.yMin===Y.yMax||o.test(Ee)),!Y.isWhitespace&&!Y.isEmpty&&ye++,fe&&ee&&!Y.isWhitespace&&de+Fe+Ie>R&&nt){if(Re.glyphAt(nt-1).glyphObj.canBreakAfter)ft=new v,Ie=-de;else for(let He=nt;He--;)if(He===0&&G==="break-word"){ft=new v,Ie=-de;break}else if(Re.glyphAt(He).glyphObj.canBreakAfter){ft=Re.splitAt(He+1);const ce=ft.glyphAt(0).x;Ie-=ce;for(let We=ft.count;We--;)ft.glyphAt(We).x-=ce;break}ft&&(Re.isSoftWrapped=!0,Re=ft,je.push(Re),V=R)}let Z=Re.glyphAt(Re.count);Z.glyphObj=Y,Z.x=de+Ie,Z.width=Fe,Z.charIndex=Me,Ee===`
`&&(Re=new v,je.push(Re),Ie=-(de+Fe+M*w)+P)}),je.forEach(Y=>{for(let de=Y.count;de--;){let{glyphObj:Me,x:Ee,width:Fe}=Y.glyphAt(de);if(!Me.isWhitespace){Y.width=Ee+Fe,Y.width>V&&(V=Y.width);return}}});let Qe=0,pe=0;if(H&&(typeof H=="number"?Qe=-H:typeof H=="string"&&(Qe=-V*(H==="left"?0:H==="center"?.5:H==="right"?1:p(H)))),j){if(typeof j=="number")pe=-j;else if(typeof j=="string"){let Y=je.length*T;pe=j==="top"?0:j==="top-baseline"?-N:j==="top-cap"?-N-Pe*Ke:j==="top-ex"?-N-Ue*Ke:j==="middle"?Y/2:j==="bottom"?Y:j==="bottom-baseline"?Y-W+ge*Ke:p(j)*Y}}if(!F){const Y=e.getEmbeddingLevels(y,b);ie=new Uint16Array(ye),se=new Float32Array(ye*2),re={},ze=[s,s,-s,-s],Se=[];let de=N;q&&(Ce=new Float32Array(y.length*3)),L&&(he=new Uint8Array(ye*3));let Me=0,Ee=-1,Fe=-1,nt,ft;if(je.forEach((Z,He)=>{let{count:ce,width:We}=Z;if(ce>0){let Ze=0;for(let rn=ce;rn--&&Z.glyphAt(rn).glyphObj.isWhitespace;)Ze++;let Dt=0,Kt=0;if(B==="center")Dt=(V-We)/2;else if(B==="right")Dt=V-We;else if(B==="justify"&&Z.isSoftWrapped){let rn=0;for(let Vt=ce-Ze;Vt--;)Z.glyphAt(Vt).glyphObj.isWhitespace&&rn++;Kt=(V-We)/rn}if(Kt||Dt){let rn=0;for(let Vt=0;Vt<ce;Vt++){let Sr=Z.glyphAt(Vt);const Yi=Sr.glyphObj;Sr.x+=Dt+rn,Kt!==0&&Yi.isWhitespace&&Vt<ce-Ze&&(rn+=Kt,Sr.width+=Kt)}}const tn=e.getReorderSegments(y,Y,Z.glyphAt(0).charIndex,Z.glyphAt(Z.count-1).charIndex);for(let rn=0;rn<tn.length;rn++){const[Vt,Sr]=tn[rn];let Yi=1/0,fn=-1/0;for(let Bn=0;Bn<ce;Bn++)if(Z.glyphAt(Bn).charIndex>=Vt){let or=Bn,_n=Bn;for(;_n<ce;_n++){let Jn=Z.glyphAt(_n);if(Jn.charIndex>Sr)break;_n<ce-Ze&&(Yi=Math.min(Yi,Jn.x),fn=Math.max(fn,Jn.x+Jn.width))}for(let Jn=or;Jn<_n;Jn++){const Di=Z.glyphAt(Jn);Di.x=fn-(Di.x+Di.width-Yi)}break}}let an;const An=rn=>an=rn;for(let rn=0;rn<ce;rn++){let Vt=Z.glyphAt(rn);an=Vt.glyphObj;const Sr=an.index,Yi=Y.levels[Vt.charIndex]&1;if(Yi){const fn=e.getMirroredCharacter(y[Vt.charIndex]);fn&&$.forEachGlyph(fn,0,0,An)}if(q){const{charIndex:fn}=Vt,Bn=Vt.x+Qe,or=Vt.x+Vt.width+Qe;Ce[fn*3]=Yi?or:Bn,Ce[fn*3+1]=Yi?Bn:or,Ce[fn*3+2]=de+Ne+pe;const _n=fn-Ee;_n>1&&m(Ce,Ee,_n),Ee=fn}if(L){const{charIndex:fn}=Vt;for(;fn>Fe;)Fe++,L.hasOwnProperty(Fe)&&(ft=L[Fe])}if(!an.isWhitespace&&!an.isEmpty){const fn=Me++;re[Sr]||(re[Sr]={path:an.path,pathBounds:[an.xMin,an.yMin,an.xMax,an.yMax]});const Bn=Vt.x+Qe,or=de+pe;se[fn*2]=Bn,se[fn*2+1]=or;const _n=Bn+an.xMin*Ke,Jn=or+an.yMin*Ke,Di=Bn+an.xMax*Ke,Ao=or+an.yMax*Ke;_n<ze[0]&&(ze[0]=_n),Jn<ze[1]&&(ze[1]=Jn),Di>ze[2]&&(ze[2]=Di),Ao>ze[3]&&(ze[3]=Ao),fn%J===0&&(nt={start:fn,end:fn,rect:[s,s,-s,-s]},Se.push(nt)),nt.end++;const Qr=nt.rect;if(_n<Qr[0]&&(Qr[0]=_n),Jn<Qr[1]&&(Qr[1]=Jn),Di>Qr[2]&&(Qr[2]=Di),Ao>Qr[3]&&(Qr[3]=Ao),ie[fn]=Sr,L){const X=fn*3;he[X]=ft>>16&255,he[X+1]=ft>>8&255,he[X+2]=ft&255}}}}de-=T}),Ce){const Z=y.length-Ee;Z>1&&m(Ce,Ee,Z)}}U.typesetting=S()-we,D({glyphIds:ie,glyphPositions:se,glyphData:re,caretPositions:Ce,caretHeight:oe,glyphColors:he,chunkedBounds:Se,fontSize:w,unitsPerEm:qe,ascender:xe*Ke,descender:ge*Ke,capHeight:Pe*Ke,xHeight:Ue*Ke,lineHeight:T,topBaseline:N,blockBounds:[Qe,pe-je.length*T,Qe+V,pe],visibleBounds:ze,timings:U})})}function f(y,x){h(y,C=>{const[w,M,T,R]=C.blockBounds;x({width:T-w,height:R-M})},{metricsOnly:!0})}function p(y){let x=y.match(/^([\d.]+)%$/),C=x?parseFloat(x[1]):NaN;return isNaN(C)?0:C/100}function m(y,x,C){const w=y[x*3],M=y[x*3+1],T=y[x*3+2],R=(M-w)/C;for(let b=0;b<C;b++){const B=(x+b)*3;y[B]=w+R*b,y[B+1]=w+R*(b+1),y[B+2]=T}}function S(){return(self.performance||Date).now()}function v(){this.data=[]}const A=["glyphObj","x","width","charIndex"];return v.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/A.length)},glyphAt(y){let x=v.flyweight;return x.data=this.data,x.index=y,x},splitAt(y){let x=new v;return x.data=this.data.splice(y*A.length),x}},v.flyweight=A.reduce((y,x,C,w)=>(Object.defineProperty(y,x,{get(){return this.data[this.index*A.length+C]},set(M){this.data[this.index*A.length+C]=M}}),y),{data:null,index:0}),{typeset:h,measure:f,loadFont:u}}const Ku=()=>(self.performance||Date).now(),xg=XG();let MB;function b0e(n,e,t,i,r,s,o,a,l,c,u=!0){return u?R0e(n,e,t,i,r,s,o,a,l,c).then(null,h=>(MB||(console.warn("WebGL SDF generation failed, falling back to JS",h),MB=!0),bB(n,e,t,i,r,s,o,a,l,c))):bB(n,e,t,i,r,s,o,a,l,c)}const _8=[],I0e=5;let iS=0;function YG(){const n=Ku();for(;_8.length&&Ku()-n<I0e;)_8.shift()();iS=_8.length?setTimeout(YG,0):0}const R0e=(...n)=>new Promise((e,t)=>{_8.push(()=>{const i=Ku();try{xg.webgl.generateIntoCanvas(...n),e({timing:Ku()-i})}catch(r){t(r)}}),iS||(iS=setTimeout(YG,0))}),B0e=4,k0e=2e3,TB={};let P0e=0;function bB(n,e,t,i,r,s,o,a,l,c){const u="TroikaTextSDFGenerator_JS_"+P0e++%B0e;let h=TB[u];return h||(h=TB[u]={workerModule:a5({name:u,workerId:u,dependencies:[XG,Ku],init(f,p){const m=f().javascript.generate;return function(...S){const v=p();return{textureData:m(...S),timing:p()-v}}},getTransferables(f){return[f.textureData.buffer]}}),requests:0,idleTimer:null}),h.requests++,clearTimeout(h.idleTimer),h.workerModule(n,e,t,i,r,s).then(({textureData:f,timing:p})=>{const m=Ku(),S=new Uint8Array(f.length*4);for(let v=0;v<f.length;v++)S[v*4+c]=f[v];return xg.webglUtils.renderImageData(o,S,a,l,n,e,1<<3-c),p+=Ku()-m,--h.requests===0&&(h.idleTimer=setTimeout(()=>{A0e(u)},k0e)),{timing:p}})}function L0e(n){n._warm||(xg.webgl.isSupported(n),n._warm=!0)}const D0e=xg.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function O0e(){return typeof window>"u"&&(self.window=self),function(n){var e={parse:function(r){var s=e._bin,o=new Uint8Array(r);if(s.readASCII(o,0,4)=="ttcf"){var a=4;s.readUshort(o,a),a+=2,s.readUshort(o,a),a+=2;var l=s.readUint(o,a);a+=4;for(var c=[],u=0;u<l;u++){var h=s.readUint(o,a);a+=4,c.push(e._readFont(o,h))}return c}return[e._readFont(o,0)]},_readFont:function(r,s){var o=e._bin,a=s;o.readFixed(r,s),s+=4;var l=o.readUshort(r,s);s+=2,o.readUshort(r,s),s+=2,o.readUshort(r,s),s+=2,o.readUshort(r,s),s+=2;for(var c=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],u={_data:r,_offset:a},h={},f=0;f<l;f++){var p=o.readASCII(r,s,4);s+=4,o.readUint(r,s),s+=4;var m=o.readUint(r,s);s+=4;var S=o.readUint(r,s);s+=4,h[p]={offset:m,length:S}}for(f=0;f<c.length;f++){var v=c[f];h[v]&&(u[v.trim()]=e[v.trim()].parse(r,h[v].offset,h[v].length,u))}return u},_tabOffset:function(r,s,o){for(var a=e._bin,l=a.readUshort(r,o+4),c=o+12,u=0;u<l;u++){var h=a.readASCII(r,c,4);c+=4,a.readUint(r,c),c+=4;var f=a.readUint(r,c);if(c+=4,a.readUint(r,c),c+=4,h==s)return f}return 0}};e._bin={readFixed:function(r,s){return(r[s]<<8|r[s+1])+(r[s+2]<<8|r[s+3])/65540},readF2dot14:function(r,s){return e._bin.readShort(r,s)/16384},readInt:function(r,s){return e._bin._view(r).getInt32(s)},readInt8:function(r,s){return e._bin._view(r).getInt8(s)},readShort:function(r,s){return e._bin._view(r).getInt16(s)},readUshort:function(r,s){return e._bin._view(r).getUint16(s)},readUshorts:function(r,s,o){for(var a=[],l=0;l<o;l++)a.push(e._bin.readUshort(r,s+2*l));return a},readUint:function(r,s){return e._bin._view(r).getUint32(s)},readUint64:function(r,s){return 4294967296*e._bin.readUint(r,s)+e._bin.readUint(r,s+4)},readASCII:function(r,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(r[s+l]);return a},readUnicode:function(r,s,o){for(var a="",l=0;l<o;l++){var c=r[s++]<<8|r[s++];a+=String.fromCharCode(c)}return a},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(r,s,o){var a=e._bin._tdec;return a&&s==0&&o==r.length?a.decode(r):e._bin.readASCII(r,s,o)},readBytes:function(r,s,o){for(var a=[],l=0;l<o;l++)a.push(r[s+l]);return a},readASCIIArray:function(r,s,o){for(var a=[],l=0;l<o;l++)a.push(String.fromCharCode(r[s+l]));return a},_view:function(r){return r._dataView||(r._dataView=r.buffer?new DataView(r.buffer,r.byteOffset,r.byteLength):new DataView(new Uint8Array(r).buffer))}},e._lctf={},e._lctf.parse=function(r,s,o,a,l){var c=e._bin,u={},h=s;c.readFixed(r,s),s+=4;var f=c.readUshort(r,s);s+=2;var p=c.readUshort(r,s);s+=2;var m=c.readUshort(r,s);return s+=2,u.scriptList=e._lctf.readScriptList(r,h+f),u.featureList=e._lctf.readFeatureList(r,h+p),u.lookupList=e._lctf.readLookupList(r,h+m,l),u},e._lctf.readLookupList=function(r,s,o){var a=e._bin,l=s,c=[],u=a.readUshort(r,s);s+=2;for(var h=0;h<u;h++){var f=a.readUshort(r,s);s+=2;var p=e._lctf.readLookupTable(r,l+f,o);c.push(p)}return c},e._lctf.readLookupTable=function(r,s,o){var a=e._bin,l=s,c={tabs:[]};c.ltype=a.readUshort(r,s),s+=2,c.flag=a.readUshort(r,s),s+=2;var u=a.readUshort(r,s);s+=2;for(var h=c.ltype,f=0;f<u;f++){var p=a.readUshort(r,s);s+=2;var m=o(r,h,l+p,c);c.tabs.push(m)}return c},e._lctf.numOfOnes=function(r){for(var s=0,o=0;o<32;o++)r>>>o&1&&s++;return s},e._lctf.readClassDef=function(r,s){var o=e._bin,a=[],l=o.readUshort(r,s);if(s+=2,l==1){var c=o.readUshort(r,s);s+=2;var u=o.readUshort(r,s);s+=2;for(var h=0;h<u;h++)a.push(c+h),a.push(c+h),a.push(o.readUshort(r,s)),s+=2}if(l==2){var f=o.readUshort(r,s);for(s+=2,h=0;h<f;h++)a.push(o.readUshort(r,s)),s+=2,a.push(o.readUshort(r,s)),s+=2,a.push(o.readUshort(r,s)),s+=2}return a},e._lctf.getInterval=function(r,s){for(var o=0;o<r.length;o+=3){var a=r[o],l=r[o+1];if(r[o+2],a<=s&&s<=l)return o}return-1},e._lctf.readCoverage=function(r,s){var o=e._bin,a={};a.fmt=o.readUshort(r,s),s+=2;var l=o.readUshort(r,s);return s+=2,a.fmt==1&&(a.tab=o.readUshorts(r,s,l)),a.fmt==2&&(a.tab=o.readUshorts(r,s,3*l)),a},e._lctf.coverageIndex=function(r,s){var o=r.tab;if(r.fmt==1)return o.indexOf(s);if(r.fmt==2){var a=e._lctf.getInterval(o,s);if(a!=-1)return o[a+2]+(s-o[a])}return-1},e._lctf.readFeatureList=function(r,s){var o=e._bin,a=s,l=[],c=o.readUshort(r,s);s+=2;for(var u=0;u<c;u++){var h=o.readASCII(r,s,4);s+=4;var f=o.readUshort(r,s);s+=2;var p=e._lctf.readFeatureTable(r,a+f);p.tag=h.trim(),l.push(p)}return l},e._lctf.readFeatureTable=function(r,s){var o=e._bin,a=s,l={},c=o.readUshort(r,s);s+=2,c>0&&(l.featureParams=a+c);var u=o.readUshort(r,s);s+=2,l.tab=[];for(var h=0;h<u;h++)l.tab.push(o.readUshort(r,s+2*h));return l},e._lctf.readScriptList=function(r,s){var o=e._bin,a=s,l={},c=o.readUshort(r,s);s+=2;for(var u=0;u<c;u++){var h=o.readASCII(r,s,4);s+=4;var f=o.readUshort(r,s);s+=2,l[h.trim()]=e._lctf.readScriptTable(r,a+f)}return l},e._lctf.readScriptTable=function(r,s){var o=e._bin,a=s,l={},c=o.readUshort(r,s);s+=2,l.default=e._lctf.readLangSysTable(r,a+c);var u=o.readUshort(r,s);s+=2;for(var h=0;h<u;h++){var f=o.readASCII(r,s,4);s+=4;var p=o.readUshort(r,s);s+=2,l[f.trim()]=e._lctf.readLangSysTable(r,a+p)}return l},e._lctf.readLangSysTable=function(r,s){var o=e._bin,a={};o.readUshort(r,s),s+=2,a.reqFeature=o.readUshort(r,s),s+=2;var l=o.readUshort(r,s);return s+=2,a.features=o.readUshorts(r,s,l),a},e.CFF={},e.CFF.parse=function(r,s,o){var a=e._bin;(r=new Uint8Array(r.buffer,s,o))[s=0],r[++s],r[++s],r[++s],s++;var l=[];s=e.CFF.readIndex(r,s,l);for(var c=[],u=0;u<l.length-1;u++)c.push(a.readASCII(r,s+l[u],l[u+1]-l[u]));s+=l[l.length-1];var h=[];s=e.CFF.readIndex(r,s,h);var f=[];for(u=0;u<h.length-1;u++)f.push(e.CFF.readDict(r,s+h[u],s+h[u+1]));s+=h[h.length-1];var p=f[0],m=[];s=e.CFF.readIndex(r,s,m);var S=[];for(u=0;u<m.length-1;u++)S.push(a.readASCII(r,s+m[u],m[u+1]-m[u]));if(s+=m[m.length-1],e.CFF.readSubrs(r,s,p),p.CharStrings){s=p.CharStrings,m=[],s=e.CFF.readIndex(r,s,m);var v=[];for(u=0;u<m.length-1;u++)v.push(a.readBytes(r,s+m[u],m[u+1]-m[u]));p.CharStrings=v}if(p.ROS){s=p.FDArray;var A=[];for(s=e.CFF.readIndex(r,s,A),p.FDArray=[],u=0;u<A.length-1;u++){var y=e.CFF.readDict(r,s+A[u],s+A[u+1]);e.CFF._readFDict(r,y,S),p.FDArray.push(y)}s+=A[A.length-1],s=p.FDSelect,p.FDSelect=[];var x=r[s];if(s++,x!=3)throw x;var C=a.readUshort(r,s);for(s+=2,u=0;u<C+1;u++)p.FDSelect.push(a.readUshort(r,s),r[s+2]),s+=3}return p.Encoding&&(p.Encoding=e.CFF.readEncoding(r,p.Encoding,p.CharStrings.length)),p.charset&&(p.charset=e.CFF.readCharset(r,p.charset,p.CharStrings.length)),e.CFF._readFDict(r,p,S),p},e.CFF._readFDict=function(r,s,o){var a;for(var l in s.Private&&(a=s.Private[1],s.Private=e.CFF.readDict(r,a,a+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(r,a+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(s[l]=o[s[l]-426+35])},e.CFF.readSubrs=function(r,s,o){var a=e._bin,l=[];s=e.CFF.readIndex(r,s,l);var c,u=l.length;c=u<1240?107:u<33900?1131:32768,o.Bias=c,o.Subrs=[];for(var h=0;h<l.length-1;h++)o.Subrs.push(a.readBytes(r,s+l[h],l[h+1]-l[h]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(r,s){for(var o=0;o<r.charset.length;o++)if(r.charset[o]==s)return o;return-1},e.CFF.glyphBySE=function(r,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(r,e.CFF.tableSE[s])},e.CFF.readEncoding=function(r,s,o){e._bin;var a=[".notdef"],l=r[s];if(s++,l!=0)throw"error: unknown encoding format: "+l;var c=r[s];s++;for(var u=0;u<c;u++)a.push(r[s+u]);return a},e.CFF.readCharset=function(r,s,o){var a=e._bin,l=[".notdef"],c=r[s];if(s++,c==0)for(var u=0;u<o;u++){var h=a.readUshort(r,s);s+=2,l.push(h)}else{if(c!=1&&c!=2)throw"error: format: "+c;for(;l.length<o;){h=a.readUshort(r,s),s+=2;var f=0;for(c==1?(f=r[s],s++):(f=a.readUshort(r,s),s+=2),u=0;u<=f;u++)l.push(h),h++}}return l},e.CFF.readIndex=function(r,s,o){var a=e._bin,l=a.readUshort(r,s)+1,c=r[s+=2];if(s++,c==1)for(var u=0;u<l;u++)o.push(r[s+u]);else if(c==2)for(u=0;u<l;u++)o.push(a.readUshort(r,s+2*u));else if(c==3)for(u=0;u<l;u++)o.push(16777215&a.readUint(r,s+3*u-1));else if(l!=1)throw"unsupported offset size: "+c+", count: "+l;return(s+=l*c)-1},e.CFF.getCharString=function(r,s,o){var a=e._bin,l=r[s],c=r[s+1];r[s+2],r[s+3],r[s+4];var u=1,h=null,f=null;l<=20&&(h=l,u=1),l==12&&(h=100*l+c,u=2),21<=l&&l<=27&&(h=l,u=1),l==28&&(f=a.readShort(r,s+1),u=3),29<=l&&l<=31&&(h=l,u=1),32<=l&&l<=246&&(f=l-139,u=1),247<=l&&l<=250&&(f=256*(l-247)+c+108,u=2),251<=l&&l<=254&&(f=256*-(l-251)-c-108,u=2),l==255&&(f=a.readInt(r,s+1)/65535,u=5),o.val=f??"o"+h,o.size=u},e.CFF.readCharString=function(r,s,o){for(var a=s+o,l=e._bin,c=[];s<a;){var u=r[s],h=r[s+1];r[s+2],r[s+3],r[s+4];var f=1,p=null,m=null;u<=20&&(p=u,f=1),u==12&&(p=100*u+h,f=2),u!=19&&u!=20||(p=u,f=2),21<=u&&u<=27&&(p=u,f=1),u==28&&(m=l.readShort(r,s+1),f=3),29<=u&&u<=31&&(p=u,f=1),32<=u&&u<=246&&(m=u-139,f=1),247<=u&&u<=250&&(m=256*(u-247)+h+108,f=2),251<=u&&u<=254&&(m=256*-(u-251)-h-108,f=2),u==255&&(m=l.readInt(r,s+1)/65535,f=5),c.push(m??"o"+p),s+=f}return c},e.CFF.readDict=function(r,s,o){for(var a=e._bin,l={},c=[];s<o;){var u=r[s],h=r[s+1];r[s+2],r[s+3],r[s+4];var f=1,p=null,m=null;if(u==28&&(m=a.readShort(r,s+1),f=3),u==29&&(m=a.readInt(r,s+1),f=5),32<=u&&u<=246&&(m=u-139,f=1),247<=u&&u<=250&&(m=256*(u-247)+h+108,f=2),251<=u&&u<=254&&(m=256*-(u-251)-h-108,f=2),u==255)throw m=a.readInt(r,s+1)/65535,f=5,"unknown number";if(u==30){var S=[];for(f=1;;){var v=r[s+f];f++;var A=v>>4,y=15&v;if(A!=15&&S.push(A),y!=15&&S.push(y),y==15)break}for(var x="",C=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],w=0;w<S.length;w++)x+=C[S[w]];m=parseFloat(x)}u<=21&&(p=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][u],f=1,u==12&&(p=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][h],f=2)),p!=null?(l[p]=c.length==1?c[0]:c,c=[]):c.push(m),s+=f}return l},e.cmap={},e.cmap.parse=function(r,s,o){r=new Uint8Array(r.buffer,s,o),s=0;var a=e._bin,l={};a.readUshort(r,s),s+=2;var c=a.readUshort(r,s);s+=2;var u=[];l.tables=[];for(var h=0;h<c;h++){var f=a.readUshort(r,s);s+=2;var p=a.readUshort(r,s);s+=2;var m=a.readUint(r,s);s+=4;var S="p"+f+"e"+p,v=u.indexOf(m);if(v==-1){var A;v=l.tables.length,u.push(m);var y=a.readUshort(r,m);y==0?A=e.cmap.parse0(r,m):y==4?A=e.cmap.parse4(r,m):y==6?A=e.cmap.parse6(r,m):y==12?A=e.cmap.parse12(r,m):console.debug("unknown format: "+y,f,p,m),l.tables.push(A)}if(l[S]!=null)throw"multiple tables for one platform+encoding";l[S]=v}return l},e.cmap.parse0=function(r,s){var o=e._bin,a={};a.format=o.readUshort(r,s),s+=2;var l=o.readUshort(r,s);s+=2,o.readUshort(r,s),s+=2,a.map=[];for(var c=0;c<l-6;c++)a.map.push(r[s+c]);return a},e.cmap.parse4=function(r,s){var o=e._bin,a=s,l={};l.format=o.readUshort(r,s),s+=2;var c=o.readUshort(r,s);s+=2,o.readUshort(r,s),s+=2;var u=o.readUshort(r,s);s+=2;var h=u/2;l.searchRange=o.readUshort(r,s),s+=2,l.entrySelector=o.readUshort(r,s),s+=2,l.rangeShift=o.readUshort(r,s),s+=2,l.endCount=o.readUshorts(r,s,h),s+=2*h,s+=2,l.startCount=o.readUshorts(r,s,h),s+=2*h,l.idDelta=[];for(var f=0;f<h;f++)l.idDelta.push(o.readShort(r,s)),s+=2;for(l.idRangeOffset=o.readUshorts(r,s,h),s+=2*h,l.glyphIdArray=[];s<a+c;)l.glyphIdArray.push(o.readUshort(r,s)),s+=2;return l},e.cmap.parse6=function(r,s){var o=e._bin,a={};a.format=o.readUshort(r,s),s+=2,o.readUshort(r,s),s+=2,o.readUshort(r,s),s+=2,a.firstCode=o.readUshort(r,s),s+=2;var l=o.readUshort(r,s);s+=2,a.glyphIdArray=[];for(var c=0;c<l;c++)a.glyphIdArray.push(o.readUshort(r,s)),s+=2;return a},e.cmap.parse12=function(r,s){var o=e._bin,a={};a.format=o.readUshort(r,s),s+=2,s+=2,o.readUint(r,s),s+=4,o.readUint(r,s),s+=4;var l=o.readUint(r,s);s+=4,a.groups=[];for(var c=0;c<l;c++){var u=s+12*c,h=o.readUint(r,u+0),f=o.readUint(r,u+4),p=o.readUint(r,u+8);a.groups.push([h,f,p])}return a},e.glyf={},e.glyf.parse=function(r,s,o,a){for(var l=[],c=0;c<a.maxp.numGlyphs;c++)l.push(null);return l},e.glyf._parseGlyf=function(r,s){var o=e._bin,a=r._data,l=e._tabOffset(a,"glyf",r._offset)+r.loca[s];if(r.loca[s]==r.loca[s+1])return null;var c={};if(c.noc=o.readShort(a,l),l+=2,c.xMin=o.readShort(a,l),l+=2,c.yMin=o.readShort(a,l),l+=2,c.xMax=o.readShort(a,l),l+=2,c.yMax=o.readShort(a,l),l+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var u=0;u<c.noc;u++)c.endPts.push(o.readUshort(a,l)),l+=2;var h=o.readUshort(a,l);if(l+=2,a.length-l<h)return null;c.instructions=o.readBytes(a,l,h),l+=h;var f=c.endPts[c.noc-1]+1;for(c.flags=[],u=0;u<f;u++){var p=a[l];if(l++,c.flags.push(p),(8&p)!=0){var m=a[l];l++;for(var S=0;S<m;S++)c.flags.push(p),u++}}for(c.xs=[],u=0;u<f;u++){var v=(2&c.flags[u])!=0,A=(16&c.flags[u])!=0;v?(c.xs.push(A?a[l]:-a[l]),l++):A?c.xs.push(0):(c.xs.push(o.readShort(a,l)),l+=2)}for(c.ys=[],u=0;u<f;u++)v=(4&c.flags[u])!=0,A=(32&c.flags[u])!=0,v?(c.ys.push(A?a[l]:-a[l]),l++):A?c.ys.push(0):(c.ys.push(o.readShort(a,l)),l+=2);var y=0,x=0;for(u=0;u<f;u++)y+=c.xs[u],x+=c.ys[u],c.xs[u]=y,c.ys[u]=x}else{var C;c.parts=[];do{C=o.readUshort(a,l),l+=2;var w={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(w),w.glyphIndex=o.readUshort(a,l),l+=2,1&C){var M=o.readShort(a,l);l+=2;var T=o.readShort(a,l);l+=2}else M=o.readInt8(a,l),l++,T=o.readInt8(a,l),l++;2&C?(w.m.tx=M,w.m.ty=T):(w.p1=M,w.p2=T),8&C?(w.m.a=w.m.d=o.readF2dot14(a,l),l+=2):64&C?(w.m.a=o.readF2dot14(a,l),l+=2,w.m.d=o.readF2dot14(a,l),l+=2):128&C&&(w.m.a=o.readF2dot14(a,l),l+=2,w.m.b=o.readF2dot14(a,l),l+=2,w.m.c=o.readF2dot14(a,l),l+=2,w.m.d=o.readF2dot14(a,l),l+=2)}while(32&C);if(256&C){var R=o.readUshort(a,l);for(l+=2,c.instr=[],u=0;u<R;u++)c.instr.push(a[l]),l++}}return c},e.GPOS={},e.GPOS.parse=function(r,s,o,a){return e._lctf.parse(r,s,o,a,e.GPOS.subt)},e.GPOS.subt=function(r,s,o,a){var l=e._bin,c=o,u={};if(u.fmt=l.readUshort(r,o),o+=2,s==1||s==2||s==3||s==7||s==8&&u.fmt<=2){var h=l.readUshort(r,o);o+=2,u.coverage=e._lctf.readCoverage(r,h+c)}if(s==1&&u.fmt==1){var f=l.readUshort(r,o);o+=2;var p=e._lctf.numOfOnes(f);f!=0&&(u.pos=e.GPOS.readValueRecord(r,o,f))}else if(s==2&&u.fmt>=1&&u.fmt<=2){f=l.readUshort(r,o),o+=2;var m=l.readUshort(r,o);o+=2,p=e._lctf.numOfOnes(f);var S=e._lctf.numOfOnes(m);if(u.fmt==1){u.pairsets=[];var v=l.readUshort(r,o);o+=2;for(var A=0;A<v;A++){var y=c+l.readUshort(r,o);o+=2;var x=l.readUshort(r,y);y+=2;for(var C=[],w=0;w<x;w++){var M=l.readUshort(r,y);y+=2,f!=0&&(O=e.GPOS.readValueRecord(r,y,f),y+=2*p),m!=0&&(G=e.GPOS.readValueRecord(r,y,m),y+=2*S),C.push({gid2:M,val1:O,val2:G})}u.pairsets.push(C)}}if(u.fmt==2){var T=l.readUshort(r,o);o+=2;var R=l.readUshort(r,o);o+=2;var b=l.readUshort(r,o);o+=2;var B=l.readUshort(r,o);for(o+=2,u.classDef1=e._lctf.readClassDef(r,c+T),u.classDef2=e._lctf.readClassDef(r,c+R),u.matrix=[],A=0;A<b;A++){var P=[];for(w=0;w<B;w++){var O=null,G=null;f!=0&&(O=e.GPOS.readValueRecord(r,o,f),o+=2*p),m!=0&&(G=e.GPOS.readValueRecord(r,o,m),o+=2*S),P.push({val1:O,val2:G})}u.matrix.push(P)}}}else{if(s==9&&u.fmt==1){var H=l.readUshort(r,o);o+=2;var j=l.readUint(r,o);if(o+=4,a.ltype==9)a.ltype=H;else if(a.ltype!=H)throw"invalid extension substitution";return e.GPOS.subt(r,a.ltype,c+j)}console.debug("unsupported GPOS table LookupType",s,"format",u.fmt)}return u},e.GPOS.readValueRecord=function(r,s,o){var a=e._bin,l=[];return l.push(1&o?a.readShort(r,s):0),s+=1&o?2:0,l.push(2&o?a.readShort(r,s):0),s+=2&o?2:0,l.push(4&o?a.readShort(r,s):0),s+=4&o?2:0,l.push(8&o?a.readShort(r,s):0),s+=8&o?2:0,l},e.GSUB={},e.GSUB.parse=function(r,s,o,a){return e._lctf.parse(r,s,o,a,e.GSUB.subt)},e.GSUB.subt=function(r,s,o,a){var l=e._bin,c=o,u={};if(u.fmt=l.readUshort(r,o),o+=2,s!=1&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==4||s==5&&u.fmt<=2||s==6&&u.fmt<=2){var h=l.readUshort(r,o);o+=2,u.coverage=e._lctf.readCoverage(r,c+h)}if(s==1&&u.fmt>=1&&u.fmt<=2){if(u.fmt==1)u.delta=l.readShort(r,o),o+=2;else if(u.fmt==2){var f=l.readUshort(r,o);o+=2,u.newg=l.readUshorts(r,o,f),o+=2*u.newg.length}}else if(s==4){u.vals=[],f=l.readUshort(r,o),o+=2;for(var p=0;p<f;p++){var m=l.readUshort(r,o);o+=2,u.vals.push(e.GSUB.readLigatureSet(r,c+m))}}else if(s==5&&u.fmt==2){if(u.fmt==2){var S=l.readUshort(r,o);o+=2,u.cDef=e._lctf.readClassDef(r,c+S),u.scset=[];var v=l.readUshort(r,o);for(o+=2,p=0;p<v;p++){var A=l.readUshort(r,o);o+=2,u.scset.push(A==0?null:e.GSUB.readSubClassSet(r,c+A))}}}else if(s==6&&u.fmt==3){if(u.fmt==3){for(p=0;p<3;p++){f=l.readUshort(r,o),o+=2;for(var y=[],x=0;x<f;x++)y.push(e._lctf.readCoverage(r,c+l.readUshort(r,o+2*x)));o+=2*f,p==0&&(u.backCvg=y),p==1&&(u.inptCvg=y),p==2&&(u.ahedCvg=y)}f=l.readUshort(r,o),o+=2,u.lookupRec=e.GSUB.readSubstLookupRecords(r,o,f)}}else{if(s==7&&u.fmt==1){var C=l.readUshort(r,o);o+=2;var w=l.readUint(r,o);if(o+=4,a.ltype==9)a.ltype=C;else if(a.ltype!=C)throw"invalid extension substitution";return e.GSUB.subt(r,a.ltype,c+w)}console.debug("unsupported GSUB table LookupType",s,"format",u.fmt)}return u},e.GSUB.readSubClassSet=function(r,s){var o=e._bin.readUshort,a=s,l=[],c=o(r,s);s+=2;for(var u=0;u<c;u++){var h=o(r,s);s+=2,l.push(e.GSUB.readSubClassRule(r,a+h))}return l},e.GSUB.readSubClassRule=function(r,s){var o=e._bin.readUshort,a={},l=o(r,s),c=o(r,s+=2);s+=2,a.input=[];for(var u=0;u<l-1;u++)a.input.push(o(r,s)),s+=2;return a.substLookupRecords=e.GSUB.readSubstLookupRecords(r,s,c),a},e.GSUB.readSubstLookupRecords=function(r,s,o){for(var a=e._bin.readUshort,l=[],c=0;c<o;c++)l.push(a(r,s),a(r,s+2)),s+=4;return l},e.GSUB.readChainSubClassSet=function(r,s){var o=e._bin,a=s,l=[],c=o.readUshort(r,s);s+=2;for(var u=0;u<c;u++){var h=o.readUshort(r,s);s+=2,l.push(e.GSUB.readChainSubClassRule(r,a+h))}return l},e.GSUB.readChainSubClassRule=function(r,s){for(var o=e._bin,a={},l=["backtrack","input","lookahead"],c=0;c<l.length;c++){var u=o.readUshort(r,s);s+=2,c==1&&u--,a[l[c]]=o.readUshorts(r,s,u),s+=2*a[l[c]].length}return u=o.readUshort(r,s),s+=2,a.subst=o.readUshorts(r,s,2*u),s+=2*a.subst.length,a},e.GSUB.readLigatureSet=function(r,s){var o=e._bin,a=s,l=[],c=o.readUshort(r,s);s+=2;for(var u=0;u<c;u++){var h=o.readUshort(r,s);s+=2,l.push(e.GSUB.readLigature(r,a+h))}return l},e.GSUB.readLigature=function(r,s){var o=e._bin,a={chain:[]};a.nglyph=o.readUshort(r,s),s+=2;var l=o.readUshort(r,s);s+=2;for(var c=0;c<l-1;c++)a.chain.push(o.readUshort(r,s)),s+=2;return a},e.head={},e.head.parse=function(r,s,o){var a=e._bin,l={};return a.readFixed(r,s),s+=4,l.fontRevision=a.readFixed(r,s),s+=4,a.readUint(r,s),s+=4,a.readUint(r,s),s+=4,l.flags=a.readUshort(r,s),s+=2,l.unitsPerEm=a.readUshort(r,s),s+=2,l.created=a.readUint64(r,s),s+=8,l.modified=a.readUint64(r,s),s+=8,l.xMin=a.readShort(r,s),s+=2,l.yMin=a.readShort(r,s),s+=2,l.xMax=a.readShort(r,s),s+=2,l.yMax=a.readShort(r,s),s+=2,l.macStyle=a.readUshort(r,s),s+=2,l.lowestRecPPEM=a.readUshort(r,s),s+=2,l.fontDirectionHint=a.readShort(r,s),s+=2,l.indexToLocFormat=a.readShort(r,s),s+=2,l.glyphDataFormat=a.readShort(r,s),s+=2,l},e.hhea={},e.hhea.parse=function(r,s,o){var a=e._bin,l={};return a.readFixed(r,s),s+=4,l.ascender=a.readShort(r,s),s+=2,l.descender=a.readShort(r,s),s+=2,l.lineGap=a.readShort(r,s),s+=2,l.advanceWidthMax=a.readUshort(r,s),s+=2,l.minLeftSideBearing=a.readShort(r,s),s+=2,l.minRightSideBearing=a.readShort(r,s),s+=2,l.xMaxExtent=a.readShort(r,s),s+=2,l.caretSlopeRise=a.readShort(r,s),s+=2,l.caretSlopeRun=a.readShort(r,s),s+=2,l.caretOffset=a.readShort(r,s),s+=2,s+=8,l.metricDataFormat=a.readShort(r,s),s+=2,l.numberOfHMetrics=a.readUshort(r,s),s+=2,l},e.hmtx={},e.hmtx.parse=function(r,s,o,a){for(var l=e._bin,c={aWidth:[],lsBearing:[]},u=0,h=0,f=0;f<a.maxp.numGlyphs;f++)f<a.hhea.numberOfHMetrics&&(u=l.readUshort(r,s),s+=2,h=l.readShort(r,s),s+=2),c.aWidth.push(u),c.lsBearing.push(h);return c},e.kern={},e.kern.parse=function(r,s,o,a){var l=e._bin,c=l.readUshort(r,s);if(s+=2,c==1)return e.kern.parseV1(r,s-2,o,a);var u=l.readUshort(r,s);s+=2;for(var h={glyph1:[],rval:[]},f=0;f<u;f++){s+=2,o=l.readUshort(r,s),s+=2;var p=l.readUshort(r,s);s+=2;var m=p>>>8;if((m&=15)!=0)throw"unknown kern table format: "+m;s=e.kern.readFormat0(r,s,h)}return h},e.kern.parseV1=function(r,s,o,a){var l=e._bin;l.readFixed(r,s),s+=4;var c=l.readUint(r,s);s+=4;for(var u={glyph1:[],rval:[]},h=0;h<c;h++){l.readUint(r,s),s+=4;var f=l.readUshort(r,s);s+=2,l.readUshort(r,s),s+=2;var p=f>>>8;if((p&=15)!=0)throw"unknown kern table format: "+p;s=e.kern.readFormat0(r,s,u)}return u},e.kern.readFormat0=function(r,s,o){var a=e._bin,l=-1,c=a.readUshort(r,s);s+=2,a.readUshort(r,s),s+=2,a.readUshort(r,s),s+=2,a.readUshort(r,s),s+=2;for(var u=0;u<c;u++){var h=a.readUshort(r,s);s+=2;var f=a.readUshort(r,s);s+=2;var p=a.readShort(r,s);s+=2,h!=l&&(o.glyph1.push(h),o.rval.push({glyph2:[],vals:[]}));var m=o.rval[o.rval.length-1];m.glyph2.push(f),m.vals.push(p),l=h}return s},e.loca={},e.loca.parse=function(r,s,o,a){var l=e._bin,c=[],u=a.head.indexToLocFormat,h=a.maxp.numGlyphs+1;if(u==0)for(var f=0;f<h;f++)c.push(l.readUshort(r,s+(f<<1))<<1);if(u==1)for(f=0;f<h;f++)c.push(l.readUint(r,s+(f<<2)));return c},e.maxp={},e.maxp.parse=function(r,s,o){var a=e._bin,l={},c=a.readUint(r,s);return s+=4,l.numGlyphs=a.readUshort(r,s),s+=2,c==65536&&(l.maxPoints=a.readUshort(r,s),s+=2,l.maxContours=a.readUshort(r,s),s+=2,l.maxCompositePoints=a.readUshort(r,s),s+=2,l.maxCompositeContours=a.readUshort(r,s),s+=2,l.maxZones=a.readUshort(r,s),s+=2,l.maxTwilightPoints=a.readUshort(r,s),s+=2,l.maxStorage=a.readUshort(r,s),s+=2,l.maxFunctionDefs=a.readUshort(r,s),s+=2,l.maxInstructionDefs=a.readUshort(r,s),s+=2,l.maxStackElements=a.readUshort(r,s),s+=2,l.maxSizeOfInstructions=a.readUshort(r,s),s+=2,l.maxComponentElements=a.readUshort(r,s),s+=2,l.maxComponentDepth=a.readUshort(r,s),s+=2),l},e.name={},e.name.parse=function(r,s,o){var a=e._bin,l={};a.readUshort(r,s),s+=2;var c=a.readUshort(r,s);s+=2,a.readUshort(r,s);for(var u,h=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],f=s+=2,p=0;p<c;p++){var m=a.readUshort(r,s);s+=2;var S=a.readUshort(r,s);s+=2;var v=a.readUshort(r,s);s+=2;var A=a.readUshort(r,s);s+=2;var y=a.readUshort(r,s);s+=2;var x=a.readUshort(r,s);s+=2;var C,w=h[A],M=f+12*c+x;if(m==0)C=a.readUnicode(r,M,y/2);else if(m==3&&S==0)C=a.readUnicode(r,M,y/2);else if(S==0)C=a.readASCII(r,M,y);else if(S==1)C=a.readUnicode(r,M,y/2);else if(S==3)C=a.readUnicode(r,M,y/2);else{if(m!=1)throw"unknown encoding "+S+", platformID: "+m;C=a.readASCII(r,M,y),console.debug("reading unknown MAC encoding "+S+" as ASCII")}var T="p"+m+","+v.toString(16);l[T]==null&&(l[T]={}),l[T][w!==void 0?w:A]=C,l[T]._lang=v}for(var R in l)if(l[R].postScriptName!=null&&l[R]._lang==1033)return l[R];for(var R in l)if(l[R].postScriptName!=null&&l[R]._lang==0)return l[R];for(var R in l)if(l[R].postScriptName!=null&&l[R]._lang==3084)return l[R];for(var R in l)if(l[R].postScriptName!=null)return l[R];for(var R in l){u=R;break}return console.debug("returning name table with languageID "+l[u]._lang),l[u]},e["OS/2"]={},e["OS/2"].parse=function(r,s,o){var a=e._bin.readUshort(r,s);s+=2;var l={};if(a==0)e["OS/2"].version0(r,s,l);else if(a==1)e["OS/2"].version1(r,s,l);else if(a==2||a==3||a==4)e["OS/2"].version2(r,s,l);else{if(a!=5)throw"unknown OS/2 table version: "+a;e["OS/2"].version5(r,s,l)}return l},e["OS/2"].version0=function(r,s,o){var a=e._bin;return o.xAvgCharWidth=a.readShort(r,s),s+=2,o.usWeightClass=a.readUshort(r,s),s+=2,o.usWidthClass=a.readUshort(r,s),s+=2,o.fsType=a.readUshort(r,s),s+=2,o.ySubscriptXSize=a.readShort(r,s),s+=2,o.ySubscriptYSize=a.readShort(r,s),s+=2,o.ySubscriptXOffset=a.readShort(r,s),s+=2,o.ySubscriptYOffset=a.readShort(r,s),s+=2,o.ySuperscriptXSize=a.readShort(r,s),s+=2,o.ySuperscriptYSize=a.readShort(r,s),s+=2,o.ySuperscriptXOffset=a.readShort(r,s),s+=2,o.ySuperscriptYOffset=a.readShort(r,s),s+=2,o.yStrikeoutSize=a.readShort(r,s),s+=2,o.yStrikeoutPosition=a.readShort(r,s),s+=2,o.sFamilyClass=a.readShort(r,s),s+=2,o.panose=a.readBytes(r,s,10),s+=10,o.ulUnicodeRange1=a.readUint(r,s),s+=4,o.ulUnicodeRange2=a.readUint(r,s),s+=4,o.ulUnicodeRange3=a.readUint(r,s),s+=4,o.ulUnicodeRange4=a.readUint(r,s),s+=4,o.achVendID=[a.readInt8(r,s),a.readInt8(r,s+1),a.readInt8(r,s+2),a.readInt8(r,s+3)],s+=4,o.fsSelection=a.readUshort(r,s),s+=2,o.usFirstCharIndex=a.readUshort(r,s),s+=2,o.usLastCharIndex=a.readUshort(r,s),s+=2,o.sTypoAscender=a.readShort(r,s),s+=2,o.sTypoDescender=a.readShort(r,s),s+=2,o.sTypoLineGap=a.readShort(r,s),s+=2,o.usWinAscent=a.readUshort(r,s),s+=2,o.usWinDescent=a.readUshort(r,s),s+=2},e["OS/2"].version1=function(r,s,o){var a=e._bin;return s=e["OS/2"].version0(r,s,o),o.ulCodePageRange1=a.readUint(r,s),s+=4,o.ulCodePageRange2=a.readUint(r,s),s+=4},e["OS/2"].version2=function(r,s,o){var a=e._bin;return s=e["OS/2"].version1(r,s,o),o.sxHeight=a.readShort(r,s),s+=2,o.sCapHeight=a.readShort(r,s),s+=2,o.usDefault=a.readUshort(r,s),s+=2,o.usBreak=a.readUshort(r,s),s+=2,o.usMaxContext=a.readUshort(r,s),s+=2},e["OS/2"].version5=function(r,s,o){var a=e._bin;return s=e["OS/2"].version2(r,s,o),o.usLowerOpticalPointSize=a.readUshort(r,s),s+=2,o.usUpperOpticalPointSize=a.readUshort(r,s),s+=2},e.post={},e.post.parse=function(r,s,o){var a=e._bin,l={};return l.version=a.readFixed(r,s),s+=4,l.italicAngle=a.readFixed(r,s),s+=4,l.underlinePosition=a.readShort(r,s),s+=2,l.underlineThickness=a.readShort(r,s),s+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(r,s){var o=r.cmap,a=-1;if(o.p0e4!=null?a=o.p0e4:o.p3e1!=null?a=o.p3e1:o.p1e0!=null?a=o.p1e0:o.p0e3!=null&&(a=o.p0e3),a==-1)throw"no familiar platform and encoding!";var l=o.tables[a];if(l.format==0)return s>=l.map.length?0:l.map[s];if(l.format==4){for(var c=-1,u=0;u<l.endCount.length;u++)if(s<=l.endCount[u]){c=u;break}return c==-1||l.startCount[c]>s?0:65535&(l.idRangeOffset[c]!=0?l.glyphIdArray[s-l.startCount[c]+(l.idRangeOffset[c]>>1)-(l.idRangeOffset.length-c)]:s+l.idDelta[c])}if(l.format==12){if(s>l.groups[l.groups.length-1][1])return 0;for(u=0;u<l.groups.length;u++){var h=l.groups[u];if(h[0]<=s&&s<=h[1])return h[2]+(s-h[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(r,s){var o={cmds:[],crds:[]};if(r.SVG&&r.SVG.entries[s]){var a=r.SVG.entries[s];return a==null?o:(typeof a=="string"&&(a=e.SVG.toPath(a),r.SVG.entries[s]=a),a)}if(r.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:r.CFF.Private?r.CFF.Private.defaultWidthX:0,open:!1},c=r.CFF,u=r.CFF.Private;if(c.ROS){for(var h=0;c.FDSelect[h+2]<=s;)h+=2;u=c.FDArray[c.FDSelect[h+1]].Private}e.U._drawCFF(r.CFF.CharStrings[s],l,c,u,o)}else r.glyf&&e.U._drawGlyf(s,r,o);return o},e.U._drawGlyf=function(r,s,o){var a=s.glyf[r];a==null&&(a=s.glyf[r]=e.glyf._parseGlyf(s,r)),a!=null&&(a.noc>-1?e.U._simpleGlyph(a,o):e.U._compoGlyph(a,s,o))},e.U._simpleGlyph=function(r,s){for(var o=0;o<r.noc;o++){for(var a=o==0?0:r.endPts[o-1]+1,l=r.endPts[o],c=a;c<=l;c++){var u=c==a?l:c-1,h=c==l?a:c+1,f=1&r.flags[c],p=1&r.flags[u],m=1&r.flags[h],S=r.xs[c],v=r.ys[c];if(c==a)if(f){if(!p){e.U.P.moveTo(s,S,v);continue}e.U.P.moveTo(s,r.xs[u],r.ys[u])}else p?e.U.P.moveTo(s,r.xs[u],r.ys[u]):e.U.P.moveTo(s,(r.xs[u]+S)/2,(r.ys[u]+v)/2);f?p&&e.U.P.lineTo(s,S,v):m?e.U.P.qcurveTo(s,S,v,r.xs[h],r.ys[h]):e.U.P.qcurveTo(s,S,v,(S+r.xs[h])/2,(v+r.ys[h])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(r,s,o){for(var a=0;a<r.parts.length;a++){var l={cmds:[],crds:[]},c=r.parts[a];e.U._drawGlyf(c.glyphIndex,s,l);for(var u=c.m,h=0;h<l.crds.length;h+=2){var f=l.crds[h],p=l.crds[h+1];o.crds.push(f*u.a+p*u.b+u.tx),o.crds.push(f*u.c+p*u.d+u.ty)}for(h=0;h<l.cmds.length;h++)o.cmds.push(l.cmds[h])}},e.U._getGlyphClass=function(r,s){var o=e._lctf.getInterval(s,r);return o==-1?0:s[o+2]},e.U.getPairAdjustment=function(r,s,o){var a=!1;if(r.GPOS)for(var l=r.GPOS,c=l.lookupList,u=l.featureList,h=[],f=0;f<u.length;f++){var p=u[f];if(p.tag=="kern"){a=!0;for(var m=0;m<p.tab.length;m++)if(!h[p.tab[m]]){h[p.tab[m]]=!0;for(var S=c[p.tab[m]],v=0;v<S.tabs.length;v++)if(S.tabs[v]!=null){var A,y=S.tabs[v];if((!y.coverage||(A=e._lctf.coverageIndex(y.coverage,s))!=-1)&&S.ltype!=1){if(S.ltype==2){var x=null;if(y.fmt==1){var C=y.pairsets[A];for(f=0;f<C.length;f++)C[f].gid2==o&&(x=C[f])}else if(y.fmt==2){var w=e.U._getGlyphClass(s,y.classDef1),M=e.U._getGlyphClass(o,y.classDef2);x=y.matrix[w][M]}if(x){var T=0;return x.val1&&x.val1[2]&&(T+=x.val1[2]),x.val2&&x.val2[0]&&(T+=x.val2[0]),T}}}}}}}if(r.kern&&!a){var R=r.kern.glyph1.indexOf(s);if(R!=-1){var b=r.kern.rval[R].glyph2.indexOf(o);if(b!=-1)return r.kern.rval[R].vals[b]}}return 0},e.U._applySubs=function(r,s,o,a){for(var l=r.length-s-1,c=0;c<o.tabs.length;c++)if(o.tabs[c]!=null){var u,h=o.tabs[c];if(!h.coverage||(u=e._lctf.coverageIndex(h.coverage,r[s]))!=-1){if(o.ltype==1)r[s],h.fmt==1?r[s]=r[s]+h.delta:r[s]=h.newg[u];else if(o.ltype==4)for(var f=h.vals[u],p=0;p<f.length;p++){var m=f[p],S=m.chain.length;if(!(S>l)){for(var v=!0,A=0,y=0;y<S;y++){for(;r[s+A+(1+y)]==-1;)A++;m.chain[y]!=r[s+A+(1+y)]&&(v=!1)}if(v){for(r[s]=m.nglyph,y=0;y<S+A;y++)r[s+y+1]=-1;break}}}else if(o.ltype==5&&h.fmt==2)for(var x=e._lctf.getInterval(h.cDef,r[s]),C=h.cDef[x+2],w=h.scset[C],M=0;M<w.length;M++){var T=w[M],R=T.input;if(!(R.length>l)){for(v=!0,y=0;y<R.length;y++){var b=e._lctf.getInterval(h.cDef,r[s+1+y]);if(x==-1&&h.cDef[b+2]!=R[y]){v=!1;break}}if(v){var B=T.substLookupRecords;for(p=0;p<B.length;p+=2)B[p],B[p+1]}}}else if(o.ltype==6&&h.fmt==3){if(!e.U._glsCovered(r,h.backCvg,s-h.backCvg.length)||!e.U._glsCovered(r,h.inptCvg,s)||!e.U._glsCovered(r,h.ahedCvg,s+h.inptCvg.length))continue;var P=h.lookupRec;for(M=0;M<P.length;M+=2){x=P[M];var O=a[P[M+1]];e.U._applySubs(r,s+x,O,a)}}}}},e.U._glsCovered=function(r,s,o){for(var a=0;a<s.length;a++)if(e._lctf.coverageIndex(s[a],r[o+a])==-1)return!1;return!0},e.U.glyphsToPath=function(r,s,o){for(var a={cmds:[],crds:[]},l=0,c=0;c<s.length;c++){var u=s[c];if(u!=-1){for(var h=c<s.length-1&&s[c+1]!=-1?s[c+1]:0,f=e.U.glyphToPath(r,u),p=0;p<f.crds.length;p+=2)a.crds.push(f.crds[p]+l),a.crds.push(f.crds[p+1]);for(o&&a.cmds.push(o),p=0;p<f.cmds.length;p++)a.cmds.push(f.cmds[p]);o&&a.cmds.push("X"),l+=r.hmtx.aWidth[u],c<s.length-1&&(l+=e.U.getPairAdjustment(r,u,h))}}return a},e.U.P={},e.U.P.moveTo=function(r,s,o){r.cmds.push("M"),r.crds.push(s,o)},e.U.P.lineTo=function(r,s,o){r.cmds.push("L"),r.crds.push(s,o)},e.U.P.curveTo=function(r,s,o,a,l,c,u){r.cmds.push("C"),r.crds.push(s,o,a,l,c,u)},e.U.P.qcurveTo=function(r,s,o,a,l){r.cmds.push("Q"),r.crds.push(s,o,a,l)},e.U.P.closePath=function(r){r.cmds.push("Z")},e.U._drawCFF=function(r,s,o,a,l){for(var c=s.stack,u=s.nStems,h=s.haveWidth,f=s.width,p=s.open,m=0,S=s.x,v=s.y,A=0,y=0,x=0,C=0,w=0,M=0,T=0,R=0,b=0,B=0,P={val:0,size:0};m<r.length;){e.CFF.getCharString(r,m,P);var O=P.val;if(m+=P.size,O=="o1"||O=="o18")c.length%2!=0&&!h&&(f=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,h=!0;else if(O=="o3"||O=="o23")c.length%2!=0&&!h&&(f=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,h=!0;else if(O=="o4")c.length>1&&!h&&(f=c.shift()+a.nominalWidthX,h=!0),p&&e.U.P.closePath(l),v+=c.pop(),e.U.P.moveTo(l,S,v),p=!0;else if(O=="o5")for(;c.length>0;)S+=c.shift(),v+=c.shift(),e.U.P.lineTo(l,S,v);else if(O=="o6"||O=="o7")for(var G=c.length,H=O=="o6",j=0;j<G;j++){var q=c.shift();H?S+=q:v+=q,H=!H,e.U.P.lineTo(l,S,v)}else if(O=="o8"||O=="o24"){G=c.length;for(var J=0;J+6<=G;)A=S+c.shift(),y=v+c.shift(),x=A+c.shift(),C=y+c.shift(),S=x+c.shift(),v=C+c.shift(),e.U.P.curveTo(l,A,y,x,C,S,v),J+=6;O=="o24"&&(S+=c.shift(),v+=c.shift(),e.U.P.lineTo(l,S,v))}else{if(O=="o11")break;if(O=="o1234"||O=="o1235"||O=="o1236"||O=="o1237")O=="o1234"&&(y=v,x=(A=S+c.shift())+c.shift(),B=C=y+c.shift(),M=C,R=v,S=(T=(w=(b=x+c.shift())+c.shift())+c.shift())+c.shift(),e.U.P.curveTo(l,A,y,x,C,b,B),e.U.P.curveTo(l,w,M,T,R,S,v)),O=="o1235"&&(A=S+c.shift(),y=v+c.shift(),x=A+c.shift(),C=y+c.shift(),b=x+c.shift(),B=C+c.shift(),w=b+c.shift(),M=B+c.shift(),T=w+c.shift(),R=M+c.shift(),S=T+c.shift(),v=R+c.shift(),c.shift(),e.U.P.curveTo(l,A,y,x,C,b,B),e.U.P.curveTo(l,w,M,T,R,S,v)),O=="o1236"&&(A=S+c.shift(),y=v+c.shift(),x=A+c.shift(),B=C=y+c.shift(),M=C,T=(w=(b=x+c.shift())+c.shift())+c.shift(),R=M+c.shift(),S=T+c.shift(),e.U.P.curveTo(l,A,y,x,C,b,B),e.U.P.curveTo(l,w,M,T,R,S,v)),O=="o1237"&&(A=S+c.shift(),y=v+c.shift(),x=A+c.shift(),C=y+c.shift(),b=x+c.shift(),B=C+c.shift(),w=b+c.shift(),M=B+c.shift(),T=w+c.shift(),R=M+c.shift(),Math.abs(T-S)>Math.abs(R-v)?S=T+c.shift():v=R+c.shift(),e.U.P.curveTo(l,A,y,x,C,b,B),e.U.P.curveTo(l,w,M,T,R,S,v));else if(O=="o14"){if(c.length>0&&!h&&(f=c.shift()+o.nominalWidthX,h=!0),c.length==4){var L=c.shift(),D=c.shift(),F=c.shift(),z=c.shift(),U=e.CFF.glyphBySE(o,F),$=e.CFF.glyphBySE(o,z);e.U._drawCFF(o.CharStrings[U],s,o,a,l),s.x=L,s.y=D,e.U._drawCFF(o.CharStrings[$],s,o,a,l)}p&&(e.U.P.closePath(l),p=!1)}else if(O=="o19"||O=="o20")c.length%2!=0&&!h&&(f=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,h=!0,m+=u+7>>3;else if(O=="o21")c.length>2&&!h&&(f=c.shift()+a.nominalWidthX,h=!0),v+=c.pop(),S+=c.pop(),p&&e.U.P.closePath(l),e.U.P.moveTo(l,S,v),p=!0;else if(O=="o22")c.length>1&&!h&&(f=c.shift()+a.nominalWidthX,h=!0),S+=c.pop(),p&&e.U.P.closePath(l),e.U.P.moveTo(l,S,v),p=!0;else if(O=="o25"){for(;c.length>6;)S+=c.shift(),v+=c.shift(),e.U.P.lineTo(l,S,v);A=S+c.shift(),y=v+c.shift(),x=A+c.shift(),C=y+c.shift(),S=x+c.shift(),v=C+c.shift(),e.U.P.curveTo(l,A,y,x,C,S,v)}else if(O=="o26")for(c.length%2&&(S+=c.shift());c.length>0;)A=S,y=v+c.shift(),S=x=A+c.shift(),v=(C=y+c.shift())+c.shift(),e.U.P.curveTo(l,A,y,x,C,S,v);else if(O=="o27")for(c.length%2&&(v+=c.shift());c.length>0;)y=v,x=(A=S+c.shift())+c.shift(),C=y+c.shift(),S=x+c.shift(),v=C,e.U.P.curveTo(l,A,y,x,C,S,v);else if(O=="o10"||O=="o29"){var ee=O=="o10"?a:o;if(c.length==0)console.debug("error: empty stack");else{var ie=c.pop(),se=ee.Subrs[ie+ee.Bias];s.x=S,s.y=v,s.nStems=u,s.haveWidth=h,s.width=f,s.open=p,e.U._drawCFF(se,s,o,a,l),S=s.x,v=s.y,u=s.nStems,h=s.haveWidth,f=s.width,p=s.open}}else if(O=="o30"||O=="o31"){var re=c.length,he=(J=0,O=="o31");for(J+=re-(G=-3&re);J<G;)he?(y=v,x=(A=S+c.shift())+c.shift(),v=(C=y+c.shift())+c.shift(),G-J==5?(S=x+c.shift(),J++):S=x,he=!1):(A=S,y=v+c.shift(),x=A+c.shift(),C=y+c.shift(),S=x+c.shift(),G-J==5?(v=C+c.shift(),J++):v=C,he=!0),e.U.P.curveTo(l,A,y,x,C,S,v),J+=4}else{if((O+"").charAt(0)=="o")throw console.debug("Unknown operation: "+O,r),O;c.push(O)}}}s.x=S,s.y=v,s.nStems=u,s.haveWidth=h,s.width=f,s.open=p};var t=e,i={Typr:t};return n.Typr=t,n.default=i,Object.defineProperty(n,"__esModule",{value:!0}),n}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function N0e(){return function(n){var e=Uint8Array,t=Uint16Array,i=Uint32Array,r=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(O,G){for(var H=new t(31),j=0;j<31;++j)H[j]=G+=1<<O[j-1];var q=new i(H[30]);for(j=1;j<30;++j)for(var J=H[j];J<H[j+1];++J)q[J]=J-H[j]<<5|j;return[H,q]},l=a(r,2),c=l[0],u=l[1];c[28]=258,u[258]=28;for(var h=a(s,0)[0],f=new t(32768),p=0;p<32768;++p){var m=(43690&p)>>>1|(21845&p)<<1;m=(61680&(m=(52428&m)>>>2|(13107&m)<<2))>>>4|(3855&m)<<4,f[p]=((65280&m)>>>8|(255&m)<<8)>>>1}var S=function(O,G,H){for(var j=O.length,q=0,J=new t(G);q<j;++q)++J[O[q]-1];var L,D=new t(G);for(q=0;q<G;++q)D[q]=D[q-1]+J[q-1]<<1;if(H){L=new t(1<<G);var F=15-G;for(q=0;q<j;++q)if(O[q])for(var z=q<<4|O[q],U=G-O[q],$=D[O[q]-1]++<<U,ee=$|(1<<U)-1;$<=ee;++$)L[f[$]>>>F]=z}else for(L=new t(j),q=0;q<j;++q)O[q]&&(L[q]=f[D[O[q]-1]++]>>>15-O[q]);return L},v=new e(288);for(p=0;p<144;++p)v[p]=8;for(p=144;p<256;++p)v[p]=9;for(p=256;p<280;++p)v[p]=7;for(p=280;p<288;++p)v[p]=8;var A=new e(32);for(p=0;p<32;++p)A[p]=5;var y=S(v,9,1),x=S(A,5,1),C=function(O){for(var G=O[0],H=1;H<O.length;++H)O[H]>G&&(G=O[H]);return G},w=function(O,G,H){var j=G/8|0;return(O[j]|O[j+1]<<8)>>(7&G)&H},M=function(O,G){var H=G/8|0;return(O[H]|O[H+1]<<8|O[H+2]<<16)>>(7&G)},T=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],R=function(O,G,H){var j=new Error(G||T[O]);if(j.code=O,Error.captureStackTrace&&Error.captureStackTrace(j,R),!H)throw j;return j},b=function(O,G,H){var j=O.length;if(!j||H&&!H.l&&j<5)return G||new e(0);var q=!G||H,J=!H||H.i;H||(H={}),G||(G=new e(3*j));var L,D=function(Ee){var Fe=G.length;if(Ee>Fe){var nt=new e(Math.max(2*Fe,Ee));nt.set(G),G=nt}},F=H.f||0,z=H.p||0,U=H.b||0,$=H.l,ee=H.d,ie=H.m,se=H.n,re=8*j;do{if(!$){H.f=F=w(O,z,1);var he=w(O,z+1,3);if(z+=3,!he){var Ce=O[(Ue=((L=z)/8|0)+(7&L&&1)+4)-4]|O[Ue-3]<<8,ze=Ue+Ce;if(ze>j){J&&R(0);break}q&&D(U+Ce),G.set(O.subarray(Ue,ze),U),H.b=U+=Ce,H.p=z=8*ze;continue}if(he==1)$=y,ee=x,ie=9,se=5;else if(he==2){var Se=w(O,z,31)+257,V=w(O,z+10,15)+4,ye=Se+w(O,z+5,31)+1;z+=14;for(var fe=new e(ye),xe=new e(19),ge=0;ge<V;++ge)xe[o[ge]]=w(O,z+3*ge,7);z+=3*V;var qe=C(xe),me=(1<<qe)-1,Pe=S(xe,qe,1);for(ge=0;ge<ye;){var Ue,we=Pe[w(O,z,me)];if(z+=15&we,(Ue=we>>>4)<16)fe[ge++]=Ue;else{var Ke=0,W=0;for(Ue==16?(W=3+w(O,z,3),z+=2,Ke=fe[ge-1]):Ue==17?(W=3+w(O,z,7),z+=3):Ue==18&&(W=11+w(O,z,127),z+=7);W--;)fe[ge++]=Ke}}var N=fe.subarray(0,Se),oe=fe.subarray(Se);ie=C(N),se=C(oe),$=S(N,ie,1),ee=S(oe,se,1)}else R(1);if(z>re){J&&R(0);break}}q&&D(U+131072);for(var Ne=(1<<ie)-1,Ie=(1<<se)-1,Re=z;;Re=z){var je=(Ke=$[M(O,z)&Ne])>>>4;if((z+=15&Ke)>re){J&&R(0);break}if(Ke||R(2),je<256)G[U++]=je;else{if(je==256){Re=z,$=null;break}var Qe=je-254;if(je>264){var pe=r[ge=je-257];Qe=w(O,z,(1<<pe)-1)+c[ge],z+=pe}var Y=ee[M(O,z)&Ie],de=Y>>>4;if(Y||R(3),z+=15&Y,oe=h[de],de>3&&(pe=s[de],oe+=M(O,z)&(1<<pe)-1,z+=pe),z>re){J&&R(0);break}q&&D(U+131072);for(var Me=U+Qe;U<Me;U+=4)G[U]=G[U-oe],G[U+1]=G[U+1-oe],G[U+2]=G[U+2-oe],G[U+3]=G[U+3-oe];U=Me}}H.l=$,H.p=Re,H.b=U,$&&(F=1,H.m=ie,H.d=ee,H.n=se)}while(!F);return U==G.length?G:function(Ee,Fe,nt){(Fe==null||Fe<0)&&(Fe=0),(nt==null||nt>Ee.length)&&(nt=Ee.length);var ft=new(Ee instanceof t?t:Ee instanceof i?i:e)(nt-Fe);return ft.set(Ee.subarray(Fe,nt)),ft}(G,0,U)},B=new e(0),P=typeof TextDecoder<"u"&&new TextDecoder;try{P.decode(B,{stream:!0})}catch{}return n.convert_streams=function(O){var G=new DataView(O),H=0;function j(){var Se=G.getUint16(H);return H+=2,Se}function q(){var Se=G.getUint32(H);return H+=4,Se}function J(Se){Ce.setUint16(ze,Se),ze+=2}function L(Se){Ce.setUint32(ze,Se),ze+=4}for(var D={signature:q(),flavor:q(),length:q(),numTables:j(),reserved:j(),totalSfntSize:q(),majorVersion:j(),minorVersion:j(),metaOffset:q(),metaLength:q(),metaOrigLength:q(),privOffset:q(),privLength:q()},F=0;Math.pow(2,F)<=D.numTables;)F++;F--;for(var z=16*Math.pow(2,F),U=16*D.numTables-z,$=12,ee=[],ie=0;ie<D.numTables;ie++)ee.push({tag:q(),offset:q(),compLength:q(),origLength:q(),origChecksum:q()}),$+=16;var se,re=new Uint8Array(12+16*ee.length+ee.reduce(function(Se,V){return Se+V.origLength+4},0)),he=re.buffer,Ce=new DataView(he),ze=0;return L(D.flavor),J(D.numTables),J(z),J(F),J(U),ee.forEach(function(Se){L(Se.tag),L(Se.origChecksum),L($),L(Se.origLength),Se.outOffset=$,($+=Se.origLength)%4!=0&&($+=4-$%4)}),ee.forEach(function(Se){var V,ye=O.slice(Se.offset,Se.offset+Se.compLength);if(Se.compLength!=Se.origLength){var fe=new Uint8Array(Se.origLength);V=new Uint8Array(ye,2),b(V,fe)}else fe=new Uint8Array(ye);re.set(fe,Se.outOffset);var xe=0;($=Se.outOffset+Se.origLength)%4!=0&&(xe=4-$%4),re.set(new Uint8Array(xe).buffer,Se.outOffset+Se.origLength),se=$+xe}),he.slice(0,se)},Object.defineProperty(n,"__esModule",{value:!0}),n}({}).convert_streams}function F0e(n,e){const t={M:2,L:2,Q:4,C:6,Z:0},i={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},r=1,s=2,o=4,a=8,l=16,c=32;let u;function h(w){if(!u){const M={R:s,L:r,D:o,C:l,U:c,T:a};u=new Map;for(let T in i){let R=0;i[T].split(",").forEach(b=>{let[B,P]=b.split("+");B=parseInt(B,36),P=P?parseInt(P,36):0,u.set(R+=B,M[T]);for(let O=P;O--;)u.set(++R,M[T])})}}return u.get(w)||c}const f=1,p=2,m=3,S=4,v=[null,"isol","init","fina","medi"];function A(w){const M=new Uint8Array(w.length);let T=c,R=f,b=-1;for(let B=0;B<w.length;B++){const P=w.codePointAt(B);let O=h(P)|0,G=f;O&a||(T&(r|o|l)?O&(s|o|l)?(G=m,(R===f||R===m)&&M[b]++):O&(r|c)&&(R===p||R===S)&&M[b]--:T&(s|c)&&(R===p||R===S)&&M[b]--,R=M[B]=G,T=O,b=B,P>65535&&B++)}return M}function y(w,M){const T=[];for(let b=0;b<M.length;b++){const B=M.codePointAt(b);B>65535&&b++,T.push(n.U.codeToGlyph(w,B))}const R=w.GSUB;if(R){const{lookupList:b,featureList:B}=R;let P;const O=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,G=[];B.forEach(H=>{if(O.test(H.tag))for(let j=0;j<H.tab.length;j++){if(G[H.tab[j]])continue;G[H.tab[j]]=!0;const q=b[H.tab[j]],J=/^(isol|init|fina|medi)$/.test(H.tag);J&&!P&&(P=A(M));for(let L=0;L<T.length;L++)(!P||!J||v[P[L]]===H.tag)&&n.U._applySubs(T,L,q,b)}})}return T}function x(...w){for(let M=0;M<w.length;M++)if(typeof w[M]=="number")return w[M]}function C(w){const M=Object.create(null),T=w["OS/2"],R=w.hhea,b=w.head.unitsPerEm,B=x(T&&T.sTypoAscender,R&&R.ascender,b),P={unitsPerEm:b,ascender:B,descender:x(T&&T.sTypoDescender,R&&R.descender,0),capHeight:x(T&&T.sCapHeight,B),xHeight:x(T&&T.sxHeight,B),lineGap:x(T&&T.sTypoLineGap,R&&R.lineGap),forEachGlyph(O,G,H,j){let q=0;const J=1/P.unitsPerEm*G,L=y(w,O);let D=0,F=-1;return L.forEach((z,U)=>{if(z!==-1){let $=M[z];if(!$){const{cmds:ee,crds:ie}=n.U.glyphToPath(w,z);let se="",re=0;for(let V=0,ye=ee.length;V<ye;V++){const fe=t[ee[V]];se+=ee[V];for(let xe=1;xe<=fe;xe++)se+=(xe>1?",":"")+ie[re++]}let he,Ce,ze,Se;if(ie.length){he=Ce=1/0,ze=Se=-1/0;for(let V=0,ye=ie.length;V<ye;V+=2){let fe=ie[V],xe=ie[V+1];fe<he&&(he=fe),xe<Ce&&(Ce=xe),fe>ze&&(ze=fe),xe>Se&&(Se=xe)}}else he=ze=Ce=Se=0;$=M[z]={index:z,advanceWidth:w.hmtx.aWidth[z],xMin:he,yMin:Ce,xMax:ze,yMax:Se,path:se,pathCommandCount:ee.length}}F!==-1&&(q+=n.U.getPairAdjustment(w,F,z)*J),j.call(null,$,q,D),$.advanceWidth&&(q+=$.advanceWidth*J),H&&(q+=H*G),F=z}D+=O.codePointAt(D)>65535?2:1}),q}};return P}return function(M){const T=new Uint8Array(M,0,4),R=n._bin.readASCII(T,0,4);if(R==="wOFF")M=e(M);else if(R==="wOF2")throw new Error("woff2 fonts not supported");return C(n.parse(M)[0])}}const U0e=a5({name:"Typr Font Parser",dependencies:[O0e,N0e,F0e],init(n,e,t){const i=n(),r=e();return t(i,r)}}),Xh={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},G0e=new Je;function Sh(){return(self.performance||Date).now()}const IB=Object.create(null);function KG(n,e){n=H0e({},n);const t=Sh();if(n.font=V0e(n.font||Xh.defaultFontURL),n.text=""+n.text,n.sdfGlyphSize=n.sdfGlyphSize||Xh.sdfGlyphSize,n.colorRanges!=null){let h={};for(let f in n.colorRanges)if(n.colorRanges.hasOwnProperty(f)){let p=n.colorRanges[f];typeof p!="number"&&(p=G0e.set(p).getHex()),h[f]=p}n.colorRanges=h}Object.freeze(n);const{textureWidth:i,sdfExponent:r}=Xh,{sdfGlyphSize:s}=n,o=i/s*4;let a=IB[s];if(!a){const h=document.createElement("canvas");h.width=i,h.height=s*256/o,a=IB[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:h,sdfTexture:new Kn(h,void 0,void 0,void 0,bn,bn),contextLost:!1,glyphsByFont:new Map},a.sdfTexture.generateMipmaps=!1,z0e(a)}const{sdfTexture:l,sdfCanvas:c}=a;let u=a.glyphsByFont.get(n.font);u||a.glyphsByFont.set(n.font,u=new Map),j0e(n).then(h=>{const{glyphIds:f,glyphPositions:p,fontSize:m,unitsPerEm:S,timings:v}=h,A=[],y=new Float32Array(f.length*4),x=m/S;let C=0,w=0;const M=Sh();f.forEach((P,O)=>{let G=u.get(P);if(!G){const{path:J,pathBounds:L}=h.glyphData[P],D=Math.max(L[2]-L[0],L[3]-L[1])/s*(Xh.sdfMargin*s+.5),F=a.glyphCount++,z=[L[0]-D,L[1]-D,L[2]+D,L[3]+D];u.set(P,G={path:J,atlasIndex:F,sdfViewBox:z}),A.push(G)}const{sdfViewBox:H}=G,j=p[w++],q=p[w++];y[C++]=j+H[0]*x,y[C++]=q+H[1]*x,y[C++]=j+H[2]*x,y[C++]=q+H[3]*x,f[O]=G.atlasIndex}),v.quads=(v.quads||0)+(Sh()-M);const T=Sh();v.sdf={};const R=c.height,b=Math.ceil(a.glyphCount/o),B=Math.pow(2,Math.ceil(Math.log2(b*s)));B>R&&(console.info(`Increasing SDF texture size ${R}->${B}`),D0e(c,i,B),l.dispose()),Promise.all(A.map(P=>JG(P,a,n.gpuAccelerateSDF).then(({timing:O})=>{v.sdf[P.atlasIndex]=O}))).then(()=>{A.length&&!a.contextLost&&($G(a),l.needsUpdate=!0),v.sdfTotal=Sh()-T,v.total=Sh()-t,e(Object.freeze({parameters:n,sdfTexture:l,sdfGlyphSize:s,sdfExponent:r,glyphBounds:y,glyphAtlasIndices:f,glyphColors:h.glyphColors,caretPositions:h.caretPositions,caretHeight:h.caretHeight,chunkedBounds:h.chunkedBounds,ascender:h.ascender,descender:h.descender,lineHeight:h.lineHeight,capHeight:h.capHeight,xHeight:h.xHeight,topBaseline:h.topBaseline,blockBounds:h.blockBounds,visibleBounds:h.visibleBounds,timings:h.timings}))})}),Promise.resolve().then(()=>{a.contextLost||L0e(c)})}function JG({path:n,atlasIndex:e,sdfViewBox:t},{sdfGlyphSize:i,sdfCanvas:r,contextLost:s},o){if(s)return Promise.resolve({timing:-1});const{textureWidth:a,sdfExponent:l}=Xh,c=Math.max(t[2]-t[0],t[3]-t[1]),u=Math.floor(e/4),h=u%(a/i)*i,f=Math.floor(u/(a/i))*i,p=e%4;return b0e(i,i,n,t,c,l,r,h,f,p,o)}function z0e(n){const e=n.sdfCanvas;e.addEventListener("webglcontextlost",t=>{console.log("Context Lost",t),t.preventDefault(),n.contextLost=!0}),e.addEventListener("webglcontextrestored",t=>{console.log("Context Restored",t),n.contextLost=!1;const i=[];n.glyphsByFont.forEach(r=>{r.forEach(s=>{i.push(JG(s,n,!0))})}),Promise.all(i).then(()=>{$G(n),n.sdfTexture.needsUpdate=!0})})}function Q0e({font:n,characters:e,sdfGlyphSize:t},i){let r=Array.isArray(e)?e.join(`
`):""+e;KG({font:n,sdfGlyphSize:t,text:r},i)}function H0e(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}let _6;function V0e(n){return _6||(_6=typeof document>"u"?{}:document.createElement("a")),_6.href=n,_6.href}function $G(n){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:t}=n,{width:i,height:r}=e,s=n.sdfCanvas.getContext("webgl");let o=t.image.data;(!o||o.length!==i*r*4)&&(o=new Uint8Array(i*r*4),t.image={width:i,height:r,data:o},t.flipY=!1,t.isDataTexture=!0),s.readPixels(0,0,i,r,s.RGBA,s.UNSIGNED_BYTE,o)}}const W0e=a5({name:"Typesetter",dependencies:[Xh,U0e,T0e,y0e],init(n,e,t,i){const{defaultFontURL:r}=n;return t(e,i(),{defaultFontURL:r})}}),j0e=a5({name:"Typesetter",dependencies:[W0e],init(n){return function(e){return new Promise(t=>{n.typeset(e,t)})}},getTransferables(n){const e=[n.glyphPositions.buffer,n.glyphIds.buffer];return n.caretPositions&&e.push(n.caretPositions.buffer),n.glyphColors&&e.push(n.glyphColors.buffer),e}}),RB={};function X0e(n){let e=RB[n];if(!e){const t=new pl(1,1,n,n),i=t.clone(),r=t.attributes,s=i.attributes,o=new Lt,a=r.uv.count;for(let l=0;l<a;l++)s.position.array[l*3]*=-1,s.normal.array[l*3+2]*=-1;["position","normal","uv"].forEach(l=>{o.setAttribute(l,new ht([...r[l].array,...s[l].array],r[l].itemSize))}),o.setIndex([...t.index.array,...i.index.array.map(l=>l+a)]),o.translate(.5,.5,0),e=RB[n]=o}return e}const q0e="aTroikaGlyphBounds",BB="aTroikaGlyphIndex",Y0e="aTroikaGlyphColor";class K0e extends FC{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Jo,this.boundingBox=new wa}computeBoundingSphere(){}computeBoundingBox(){}setSide(e){const t=this.getIndex().count;this.setDrawRange(e===mr?t/2:0,e===Do?t:t/2)}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let t=X0e(e);["position","normal","uv"].forEach(i=>{this.attributes[i]=t.attributes[i].clone()}),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,i,r,s){Av(this,q0e,e,4),Av(this,BB,t,1),Av(this,Y0e,s,3),this._blockBounds=i,this._chunkedBounds=r,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:i}=this;if(t){const{PI:r,floor:s,min:o,max:a,sin:l,cos:c}=Math,u=r/2,h=r*2,f=Math.abs(t),p=e[0]/f,m=e[2]/f,S=s((p+u)/h)!==s((m+u)/h)?-f:o(l(p)*f,l(m)*f),v=s((p-u)/h)!==s((m-u)/h)?f:a(l(p)*f,l(m)*f),A=s((p+r)/h)!==s((m+r)/h)?f*2:a(f-c(p)*f,f-c(m)*f);i.min.set(S,e[1],t<0?-A:0),i.max.set(v,e[3],t<0?0:A)}else i.min.set(e[0],e[1],0),i.max.set(e[2],e[3],0);i.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(BB).count,i=this._chunkedBounds;if(i)for(let r=i.length;r--;){t=i[r].end;let s=i[r].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=t}}function Av(n,e,t,i){const r=n.getAttribute(e);t?r&&r.array.length===t.length?(r.array.set(t),r.needsUpdate=!0):(n.setAttribute(e,new a3(t,i)),delete n._maxInstanceCount,n.dispose()):r&&n.deleteAttribute(e)}const J0e=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,$0e=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,Z0e=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,efe=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function tfe(n){const e=nS(n,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new _e},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new en(0,0,0,0)},uTroikaClipRect:{value:new en(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new _e},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Je},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Ht},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:J0e,vertexTransform:$0e,fragmentDefs:Z0e,fragmentColorTransform:efe,customRewriter({vertexShader:t,fragmentShader:i}){let r=/\buniform\s+vec3\s+diffuse\b/;return r.test(i)&&(i=i.replace(r,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),r.test(t)||(t=t.replace(qG,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:t,fragmentShader:i}}});return e.transparent=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const Tw=new ao({color:16777215,side:Do,transparent:!0}),kB=8421504,PB=new At,M6=new Q,vv=new Q,cf=[],nfe=new Q,yv="+x+y";function LB(n){return Array.isArray(n)?n[0]:n}let ZG=()=>{const n=new mn(new pl(1,1),Tw);return ZG=()=>n,n},ez=()=>{const n=new mn(new pl(1,1,32,1),Tw);return ez=()=>n,n};const ife={type:"syncstart"},rfe={type:"synccomplete"},tz=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],sfe=tz.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let nz=class extends mn{constructor(){const e=new K0e;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=kB,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=yv,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(ife),KG({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const i=this._queuedSyncs;i&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{i.forEach(r=>r&&r())})),this.dispatchEvent(rfe),e&&e()})))}onBeforeRender(e,t,i,r,s,o){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s),s._hadOwnSide=s.hasOwnProperty("side"),this.geometry.setSide(s._actualSide=s.side),s.side=hl}onAfterRender(e,t,i,r,s,o){s._hadOwnSide?s.side=s._actualSide:delete s.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let e=this._derivedMaterial;const t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=Tw.clone());if((!e||e.baseMaterial!==t)&&(e=this._derivedMaterial=tfe(t),t.addEventListener("dispose",function i(){t.removeEventListener("dispose",i),e.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let i=e._outlineMtl;return i||(i=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),i.isTextOutlineMaterial=!0,i.depthWrite=!1,i.map=null,e.addEventListener("dispose",function r(){e.removeEventListener("dispose",r),i.dispose()})),[i,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return LB(this.material).getDepthMaterial()}get customDistanceMaterial(){return LB(this.material).getDistanceMaterial()}_prepareForRender(e){const t=e.isTextOutlineMaterial,i=e.uniforms,r=this.textRenderInfo;if(r){const{sdfTexture:a,blockBounds:l}=r;i.uTroikaSDFTexture.value=a,i.uTroikaSDFTextureSize.value.set(a.image.width,a.image.height),i.uTroikaSDFGlyphSize.value=r.sdfGlyphSize,i.uTroikaSDFExponent.value=r.sdfExponent,i.uTroikaTotalBounds.value.fromArray(l),i.uTroikaUseGlyphColors.value=!t&&!!r.glyphColors;let c=0,u=0,h=0,f,p,m,S=0,v=0;if(t){let{outlineWidth:y,outlineOffsetX:x,outlineOffsetY:C,outlineBlur:w,outlineOpacity:M}=this;c=this._parsePercent(y)||0,u=Math.max(0,this._parsePercent(w)||0),f=M,S=this._parsePercent(x)||0,v=this._parsePercent(C)||0}else h=Math.max(0,this._parsePercent(this.strokeWidth)||0),h&&(m=this.strokeColor,i.uTroikaStrokeColor.value.set(m??kB),p=this.strokeOpacity,p==null&&(p=1)),f=this.fillOpacity;i.uTroikaDistanceOffset.value=c,i.uTroikaPositionOffset.value.set(S,v),i.uTroikaBlurRadius.value=u,i.uTroikaStrokeWidth.value=h,i.uTroikaStrokeOpacity.value=p,i.uTroikaFillOpacity.value=f??1,i.uTroikaCurveRadius.value=this.curveRadius||0;let A=this.clipRect;if(A&&Array.isArray(A)&&A.length===4)i.uTroikaClipRect.value.fromArray(A);else{const y=(this.fontSize||.1)*100;i.uTroikaClipRect.value.set(l[0]-y,l[1]-y,l[2]+y,l[3]+y)}this.geometry.applyClipRect(i.uTroikaClipRect.value)}i.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=t?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const a=e.hasOwnProperty("color")?e.color:e.color=new Je;(s!==a._input||typeof s=="object")&&a.set(a._input=s)}let o=this.orientation||yv;if(o!==e._orientation){let a=i.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let l=o!==yv&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,c,u,h,f]=l;M6.set(0,0,0)[u]=c==="-"?1:-1,vv.set(0,0,0)[f]=h==="-"?-1:1,PB.lookAt(nfe,M6.cross(vv),vv),a.setFromMatrix4(PB)}else a.identity();e._orientation=o}}_parsePercent(e){if(typeof e=="string"){let t=e.match(/^(-?[\d.]+)%$/),i=t?parseFloat(t[1]):NaN;e=(isNaN(i)?0:i/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new _e){t.copy(e);const i=this.curveRadius;return i&&(t.x=Math.atan2(e.x,Math.abs(i)-Math.abs(e.z))*Math.abs(i)),t}worldPositionToTextCoords(e,t=new _e){return M6.copy(e),this.localPositionToTextCoords(this.worldToLocal(M6),t)}raycast(e,t){const{textRenderInfo:i,curveRadius:r}=this;if(i){const s=i.blockBounds,o=r?ez():ZG(),a=o.geometry,{position:l,uv:c}=a.attributes;for(let u=0;u<c.count;u++){let h=s[0]+c.getX(u)*(s[2]-s[0]);const f=s[1]+c.getY(u)*(s[3]-s[1]);let p=0;r&&(p=r-Math.cos(h/r)*r,h=Math.sin(h/r)*r),l.setXYZ(u,h,f,p)}a.boundingSphere=this.geometry.boundingSphere,a.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,cf.length=0,o.raycast(e,cf);for(let u=0;u<cf.length;u++)cf[u].object=this,t.push(cf[u])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,sfe.forEach(i=>{this[i]=e[i]}),this}clone(){return new this.constructor().copy(this)}};tz.forEach(n=>{const e="_private_"+n;Object.defineProperty(nz.prototype,n,{get(){return this[e]},set(t){t!==this[e]&&(this[e]=t,this._needsSync=!0)}})});const DB=ne.forwardRef(({sdfGlyphSize:n=64,anchorX:e="center",anchorY:t="middle",font:i,fontSize:r=1,children:s,characters:o,onSync:a,...l},c)=>{const u=Bo(({invalidate:m})=>m),[h]=ne.useState(()=>new nz),[f,p]=ne.useMemo(()=>{const m=[];let S="";return ne.Children.forEach(s,v=>{typeof v=="string"||typeof v=="number"?S+=v:m.push(v)}),[m,S]},[s]);return Bte(()=>new Promise(m=>Q0e({font:i,characters:o},m)),["troika-text",i,o]),ne.useLayoutEffect(()=>void h.sync(()=>{u(),a&&a(h)})),ne.useEffect(()=>()=>h.dispose(),[h]),ne.createElement("primitive",h3({object:h,ref:c,font:i,text:p,anchorX:e,anchorY:t,fontSize:r,sdfGlyphSize:n},l),f)}),ofe=ne.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},u)=>{const h=Bo(M=>M.invalidate),f=Bo(M=>M.camera),p=Bo(M=>M.gl),m=Bo(M=>M.events),S=Bo(M=>M.setEvents),v=Bo(M=>M.set),A=Bo(M=>M.get),y=Bo(M=>M.performance),x=e||f,C=i||m.connected||p.domElement,w=ne.useMemo(()=>new boe(x),[x]);return WC(()=>{w.enabled&&w.update()},-1),ne.useEffect(()=>(s&&w.connect(s===!0?C:s),w.connect(C),()=>void w.dispose()),[s,C,t,w,h]),ne.useEffect(()=>{const M=b=>{h(),t&&y.regress(),o&&o(b)},T=b=>{a&&a(b)},R=b=>{l&&l(b)};return w.addEventListener("change",M),w.addEventListener("start",T),w.addEventListener("end",R),()=>{w.removeEventListener("start",T),w.removeEventListener("end",R),w.removeEventListener("change",M)}},[o,a,l,w,h,S]),ne.useEffect(()=>{if(n){const M=A().controls;return v({controls:w}),()=>v({controls:M})}},[n,w]),ne.createElement("primitive",h3({ref:u,object:w,enableDamping:r},c))}),OB=n=>{let e;const t=new Set,i=(l,c)=>{const u=typeof l=="function"?l(e):l;if(!Object.is(u,e)){const h=e;e=c??typeof u!="object"?u:Object.assign({},e,u),t.forEach(f=>f(e,h))}},r=()=>e,a={setState:i,getState:r,subscribe:l=>(t.add(l),()=>t.delete(l)),destroy:()=>t.clear()};return e=n(i,r,a),a},afe=n=>n?OB(n):OB;var iz={exports:{}},rz={},sz={exports:{}},oz={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N2=ne;function lfe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var cfe=typeof Object.is=="function"?Object.is:lfe,ufe=N2.useState,hfe=N2.useEffect,ffe=N2.useLayoutEffect,dfe=N2.useDebugValue;function pfe(n,e){var t=e(),i=ufe({inst:{value:t,getSnapshot:e}}),r=i[0].inst,s=i[1];return ffe(function(){r.value=t,r.getSnapshot=e,xv(r)&&s({inst:r})},[n,t,e]),hfe(function(){return xv(r)&&s({inst:r}),n(function(){xv(r)&&s({inst:r})})},[n]),dfe(t),t}function xv(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!cfe(n,t)}catch{return!0}}function gfe(n,e){return e()}var mfe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?gfe:pfe;oz.useSyncExternalStore=N2.useSyncExternalStore!==void 0?N2.useSyncExternalStore:mfe;sz.exports=oz;var Afe=sz.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg=ne,vfe=Afe;function yfe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var xfe=typeof Object.is=="function"?Object.is:yfe,Sfe=vfe.useSyncExternalStore,Efe=Sg.useRef,Cfe=Sg.useEffect,wfe=Sg.useMemo,_fe=Sg.useDebugValue;rz.useSyncExternalStoreWithSelector=function(n,e,t,i,r){var s=Efe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=wfe(function(){function l(p){if(!c){if(c=!0,u=p,p=i(p),r!==void 0&&o.hasValue){var m=o.value;if(r(m,p))return h=m}return h=p}if(m=h,xfe(u,p))return m;var S=i(p);return r!==void 0&&r(m,S)?m:(u=p,h=S)}var c=!1,u,h,f=t===void 0?null:t;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,t,i,r]);var a=Sfe(n,s[0],s[1]);return Cfe(function(){o.hasValue=!0,o.value=a},[a]),_fe(a),a};iz.exports=rz;var Mfe=iz.exports;const Tfe=W2(Mfe),{useSyncExternalStoreWithSelector:bfe}=Tfe;function Ife(n,e=n.getState,t){const i=bfe(n.subscribe,n.getState,n.getServerState||n.getState,e,t);return ne.useDebugValue(i),i}const NB=n=>{const e=typeof n=="function"?afe(n):n,t=(i,r)=>Ife(e,i,r);return Object.assign(t,e),t},Rfe=n=>n?NB(n):NB;function Bfe(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;if(n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(const[i,r]of n)if(!Object.is(r,e.get(i)))return!1;return!0}if(n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(const i of n)if(!e.has(i))return!1;return!0}const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!Object.is(n[t[i]],e[t[i]]))return!1;return!0}const bw=Rfe((n,e)=>{function t(){var i;const{accumulated:r,startTime:s,infos:o}=e(),a=(i=e().log)==null?void 0:i.maxMemory,{totalFrames:l,log:c,gl:u,max:h}=r,f={calls:u.calls/l,triangles:u.triangles/l,points:u.points/l,lines:u.lines/l},p={gpu:c.gpu/l,cpu:c.cpu/l,mem:c.mem/l,fps:c.fps/l};return{sessionTime:(window.performance.now()-s)/1e3,infos:o,log:p,gl:f,max:h,maxMemory:a,totalFrames:l}}return{log:null,paused:!1,triggerProgramsUpdate:0,startTime:0,customData:0,fpsLimit:60,overclockingFps:!1,accumulated:{totalFrames:0,gl:{calls:0,triangles:0,points:0,lines:0,counts:0},log:{gpu:0,cpu:0,mem:0,fps:0},max:{gl:{calls:0,triangles:0,points:0,lines:0,counts:0},log:{gpu:0,cpu:0,mem:0,fps:0}}},chart:{data:{fps:[],cpu:[],gpu:[],mem:[]},circularId:0},gl:void 0,objectWithMaterials:null,scene:void 0,programs:new Map,sceneLength:void 0,tab:"infos",getReport:t}}),Ko=n=>bw(n,Bfe);Object.assign(Ko,bw);const{getState:Fo,setState:js}=bw,Io={value:0,fpsLimit:60,isOverLimit:0},uf=n=>(n==null?void 0:n.reduce((e,t)=>e+t,0))/n.length;class kfe{constructor(e={}){this.names=[""],this.finished=[],this.paused=!1,this.overClock=!1,this.queryHasResult=!1,this.queryCreated=!1,this.isWebGL2=!0,this.memAccums=[],this.gpuAccums=[],this.activeAccums=[],this.logsAccums={mem:[],gpu:[],cpu:[],fps:[],fpsFixed:[]},this.fpsChart=[],this.gpuChart=[],this.cpuChart=[],this.memChart=[],this.paramLogger=()=>{},this.glFinish=()=>{},this.chartLogger=()=>{},this.chartLen=60,this.logsPerSecond=10,this.maxMemory=1500,this.chartHz=10,this.startCpuProfiling=!1,this.lastCalculateFixed=0,this.chartFrame=0,this.gpuTimeProcess=0,this.chartTime=0,this.activeQueries=0,this.circularId=0,this.detected=0,this.frameId=0,this.rafId=0,this.idleCbId=0,this.checkQueryId=0,this.uuid=void 0,this.currentCpu=0,this.currentMem=0,this.paramFrame=0,this.paramTime=0,this.now=()=>{},this.t0=0,window.GLPerf=window.GLPerf||{},Object.assign(this,e),this.fpsChart=new Array(this.chartLen).fill(0),this.gpuChart=new Array(this.chartLen).fill(0),this.cpuChart=new Array(this.chartLen).fill(0),this.memChart=new Array(this.chartLen).fill(0),this.now=()=>window.performance&&window.performance.now?window.performance.now():Date.now(),this.initGpu(),this.is120hz()}initGpu(){this.uuid=c2.generateUUID(),this.gl&&(this.isWebGL2=!0,this.extension||(this.extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")),this.extension===null&&(this.isWebGL2=!1))}is120hz(){let e=0;const t=i=>{++e<20?this.rafId=window.requestAnimationFrame(t):(this.detected=Math.ceil(1e3*e/(i-this.t0)/70),window.cancelAnimationFrame(this.rafId)),this.t0||(this.t0=i)};this.rafId=window.requestAnimationFrame(t)}addUI(e){this.names.indexOf(e)===-1&&(this.names.push(e),this.gpuAccums.push(0),this.activeAccums.push(!1))}nextFps(e){const t=16.666666666666668,i=t-e.timeRemaining(),r=t*Io.fpsLimit/10/i;r<0||(Io.value=r,Io.isOverLimit<25?Io.isOverLimit++:js({overclockingFps:!0}))}nextFrame(e){this.frameId++;const t=e||this.now();let i=t-this.paramTime,r=0;if(this.frameId<=1)this.paramFrame=this.frameId,this.paramTime=t;else if(t>=this.paramTime){this.maxMemory=window.performance.memory?window.performance.memory.jsHeapSizeLimit/1048576:0;const s=this.frameId-this.paramFrame,o=s*1e3/i,a=Fo().overclockingFps?Io.value:o;if(r=this.isWebGL2?this.gpuAccums[0]:this.gpuAccums[0]/i,this.isWebGL2?this.gpuAccums[0]=0:Promise.all(this.finished).then(()=>{this.gpuAccums[0]=0,this.finished=[]}),this.currentMem=Math.round(window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize/1048576:0),window.performance&&this.startCpuProfiling){window.performance.mark("cpu-finished");const l=performance.measure("cpu-duration","cpu-started","cpu-finished");this.currentCpu=l.duration,this.logsAccums.cpu.push(this.currentCpu),this.startCpuProfiling=!1}this.logsAccums.mem.push(this.currentMem),this.logsAccums.fpsFixed.push(o),this.logsAccums.fps.push(a),this.logsAccums.gpu.push(r),this.overClock&&typeof window.requestIdleCallback<"u"&&(Io.isOverLimit>0&&a>o?Io.isOverLimit--:Fo().overclockingFps&&js({overclockingFps:!1})),t>=this.paramTime+1e3/this.logsPerSecond&&(this.paramLogger({cpu:uf(this.logsAccums.cpu),gpu:uf(this.logsAccums.gpu),mem:uf(this.logsAccums.mem),fps:uf(this.logsAccums.fps),duration:Math.round(i),maxMemory:this.maxMemory,frameCount:s}),this.logsAccums.mem=[],this.logsAccums.fps=[],this.logsAccums.gpu=[],this.logsAccums.cpu=[],this.paramFrame=this.frameId,this.paramTime=t),this.overClock&&t-this.lastCalculateFixed>=2*1e3&&(this.lastCalculateFixed=e,Io.fpsLimit=Math.round(uf(this.logsAccums.fpsFixed)/10)*100,js({fpsLimit:Io.fpsLimit/10}),this.logsAccums.fpsFixed=[],this.paramFrame=this.frameId,this.paramTime=t)}if(!this.detected||!this.chartFrame)this.chartFrame=this.frameId,this.chartTime=t,this.circularId=0;else{const s=t-this.chartTime;let o=this.chartHz*s/1e3;for(;--o>0&&this.detected;){const l=(this.frameId-this.chartFrame)/s*1e3,c=Fo().overclockingFps?Io.value:l;this.fpsChart[this.circularId%this.chartLen]=c;const u=1e3/this.currentMem,h=this.currentCpu,f=(this.isWebGL2?this.gpuAccums[1]*2:Math.round(this.gpuAccums[1]/i*100))+4;f>0&&(this.gpuChart[this.circularId%this.chartLen]=f),h>0&&(this.cpuChart[this.circularId%this.chartLen]=h),u>0&&(this.memChart[this.circularId%this.chartLen]=u);for(let p=0;p<this.names.length;p++)this.chartLogger({i:p,data:{fps:this.fpsChart,gpu:this.gpuChart,cpu:this.cpuChart,mem:this.memChart},circularId:this.circularId});this.circularId++,this.chartFrame=this.frameId,this.chartTime=t}}}startGpu(){const e=this.gl,t=this.extension;if(!(!e||!t)&&this.isWebGL2){let i=!1,r,s;if(this.query){this.queryHasResult=!1;let o=this.query;if(i=e.getQueryParameter(o,e.QUERY_RESULT_AVAILABLE),r=e.getParameter(t.GPU_DISJOINT_EXT),i&&!r){s=e.getQueryParameter(this.query,e.QUERY_RESULT);const a=s*1e-6;(i||r)&&(e.deleteQuery(this.query),o=null),i&&a>0&&(r||this.activeAccums.forEach((l,c)=>{this.gpuAccums[c]=a}))}}(i||!this.query)&&(this.queryCreated=!0,this.query=e.createQuery(),e.beginQuery(t.TIME_ELAPSED_EXT,this.query))}}endGpu(){const e=this.extension,t=this.gl;this.isWebGL2&&this.queryCreated&&t.getQuery(e.TIME_ELAPSED_EXT,t.CURRENT_QUERY)&&t.endQuery(e.TIME_ELAPSED_EXT)}begin(e){this.startGpu(),this.updateAccums(e)}end(e){this.endGpu(),this.updateAccums(e)}updateAccums(e){let t=this.names.indexOf(e);t===-1&&(t=this.names.length,this.addUI(e));const i=this.now();this.activeAccums[t]=!this.activeAccums[t],this.t0=i}}const Pfe=n=>{n.forEach((e,t)=>{const{meshes:i}=e;if(!i)return;let r={total:0,type:"Triangle",data:[]};Object.keys(i).forEach(s=>{const o=i[s],{geometry:a,material:l}=o;let c=a.index;const u=a.attributes.position;if(!u)return;let h=1;l.wireframe===!0&&(h=0);const f=c!==null?c.count:u.count,p=a.drawRange.start*h,m=a.drawRange.count*h,S=p,v=Math.min(f,p+m)-1;let A=1;const y=o.count||1;let x="Triangle",C=0;o.isMesh?l.wireframe===!0?(x="Line",A=A/2):(x="Triangle",A=A/3):o.isLine?(x="Line",o.isLineSegments?A=A/2:o.isLineLoop?A=A:A=A-1):o.isPoints?(x="Point",A=A):o.isSprite&&(x="Triangle",A=A/3);const w=Math.round(Math.max(0,v-S+1)*(A*y));w>C&&(C=w,r.type=x),r.total+=w,r.data.push({drawCount:w,type:x}),o.userData.drawCount={type:x,count:w}}),e.drawCounts=r})};var az={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(t=!1));function r(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new r(u,h||l,f),m=t?t+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new i:delete l._events[c]}function a(){this._events=new i,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=t?t+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,m=new Array(p);f<p;f++)m[f]=h[f].fn;return m},a.prototype.listenerCount=function(c){var u=t?t+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,f,p,m){var S=t?t+c:c;if(!this._events[S])return!1;var v=this._events[S],A=arguments.length,y,x;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),A){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,h),!0;case 4:return v.fn.call(v.context,u,h,f),!0;case 5:return v.fn.call(v.context,u,h,f,p),!0;case 6:return v.fn.call(v.context,u,h,f,p,m),!0}for(x=1,y=new Array(A-1);x<A;x++)y[x-1]=arguments[x];v.fn.apply(v.context,y)}else{var C=v.length,w;for(x=0;x<C;x++)switch(v[x].once&&this.removeListener(c,v[x].fn,void 0,!0),A){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,u);break;case 3:v[x].fn.call(v[x].context,u,h);break;case 4:v[x].fn.call(v[x].context,u,h,f);break;default:if(!y)for(w=1,y=new Array(A-1);w<A;w++)y[w-1]=arguments[w];v[x].fn.apply(v[x].context,y)}}return!0},a.prototype.on=function(c,u,h){return s(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return s(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,f){var p=t?t+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!f||m.once)&&(!h||m.context===h)&&o(this,p);else{for(var S=0,v=[],A=m.length;S<A;S++)(m[S].fn!==u||f&&!m[S].once||h&&m[S].context!==h)&&v.push(m[S]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=t?t+c:c,this._events[u]&&o(this,u)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a})(az);var Lfe=az.exports;const Dfe=W2(Lfe),P9=new Dfe;function Ofe(n,e,t){return t!=null&&t.once?P9.once(n,e):P9.on(n,e)}function Nfe(n,e,t){var i;P9.removeListener(n,e,(i=t==null?void 0:t.context)!=null?i:null,t==null?void 0:t.once)}function Ffe(n,e){P9.emit(n,e)}function Ufe(n,e,t=[],i){const r=ne.useRef(e);ne.useEffect(()=>void(r.current=e),[e]),ne.useEffect(()=>{const s=a=>{var l;return(l=r.current)==null?void 0:l.call(r,a)},o=Ofe(n,s,i);return()=>Nfe(n,s,{...i,context:o})},[n,i==null?void 0:i.once,...t])}const Gfe=Yt.prototype.updateMatrixWorld,zfe=Yt.prototype.updateWorldMatrix,FB=Yt.prototype.updateMatrix,UB=["calls","triangles","points","lines"],GB=["gpu","cpu","mem","fps"];let qh={value:0},eo={value:0};const Qfe=n=>{let e=""+n;return e=e.match("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"),e!==null},zB=(n,e)=>{n.defines||(n.defines={}),n.defines&&!n.defines.muiPerf&&(n.defines=Object.assign(n.defines||{},{muiPerf:n.uuid}));const t=n.uuid;return e[t]||(e[t]={meshes:{},material:n},n.needsUpdate=!0),n.needsUpdate=!1,t},Hfe=n=>n==="muiPerf",Vfe=({overClock:n,logsPerSecond:e,chart:t,deepAnalyze:i,matrixUpdate:r})=>{const{gl:s,scene:o}=Bo();js({gl:s,scene:o});const a=ne.useMemo(()=>{const l=new kfe({trackGPU:!0,overClock:n,chartLen:t?t.length:120,chartHz:t?t.hz:60,logsPerSecond:e||10,gl:s.getContext(),chartLogger:v=>{js({chart:v})},paramLogger:v=>{const A={maxMemory:v.maxMemory,gpu:v.gpu,cpu:v.cpu,mem:v.mem,fps:v.fps,totalTime:v.duration,frameCount:v.frameCount};js({log:A});const{accumulated:y}=Fo(),x=s.info.render;y.totalFrames++,y.gl.calls+=x.calls,y.gl.triangles+=x.triangles,y.gl.points+=x.points,y.gl.lines+=x.lines,y.log.gpu+=v.gpu,y.log.cpu+=v.cpu,y.log.mem+=v.mem,y.log.fps+=v.fps;for(let C=0;C<UB.length;C++){const w=UB[C],M=x[w];M>y.max.gl[w]&&(y.max.gl[w]=M)}for(let C=0;C<GB.length;C++){const w=GB[C],M=v[w];M>y.max.log[w]&&(y.max.log[w]=M)}js({accumulated:y}),Ffe("log",[A,s])}}),c=s.getContext();let u=null,h=null;const f=c.getExtension("WEBGL_debug_renderer_info"),p=c.getParameter(c.VERSION);f!=null&&(u=c.getParameter(f.UNMASKED_RENDERER_WEBGL),h=c.getParameter(f.UNMASKED_VENDOR_WEBGL)),h||(h="Unknown vendor"),u||(u=c.getParameter(c.RENDERER)),js({startTime:window.performance.now(),infos:{version:p,renderer:u,vendor:h}});const m=new Map,S=new Map;return Object.defineProperty(I2.prototype,"onBeforeRender",{get(){return(...v)=>{var A;l&&l.begin("profiler"),(A=m.get(this))==null||A(...v)}},set(v){m.set(this,v)},configurable:!0}),Object.defineProperty(I2.prototype,"onAfterRender",{get(){return(...v)=>{var A;l&&l.end("profiler"),(A=S.get(this))==null||A(...v)}},set(v){S.set(this,v)},configurable:!0}),l},[]);return ne.useEffect(()=>{a&&(a.overClock=n||!1,n===!1&&(js({overclockingFps:!1}),Io.value=0,Io.isOverLimit=0),a.chartHz=(t==null?void 0:t.hz)||60,a.chartLen=(t==null?void 0:t.length)||120)},[n,a,t==null?void 0:t.length,t==null?void 0:t.hz]),ne.useEffect(()=>{r&&(Yt.prototype.updateMatrixWorld=function(){(this.matrixWorldNeedsUpdate||arguments[0])&&qh.value++,Gfe.apply(this,arguments)},Yt.prototype.updateWorldMatrix=function(){qh.value++,zfe.apply(this,arguments)},Yt.prototype.updateMatrix=function(){eo.value++,FB.apply(this,arguments)}),s.info.autoReset=!1;let l=null,c=null;if(s.info)return l=Hte(function(){Fo().paused&&js({paused:!1}),window.performance&&(window.performance.mark("cpu-started"),a.startCpuProfiling=!0),eo.value-=1,qh.value=0,eo.value=0,s.info&&s.info.reset()}),c=Vte(function(){var h,f;if(a&&!a.paused&&(a.nextFrame(window.performance.now()),n&&typeof window.requestIdleCallback<"u"&&(a.idleCbId=requestIdleCallback(a.nextFps))),i){const p={},m=new Map;o.traverse(function(v){if((v instanceof mn||v instanceof V7)&&v.material){let A=v.material.uuid;Array.isArray(v.material)&&v.material.length>1?A=zB(v.material[1],p):A=zB(v.material,p),p[A].meshes[v.uuid]=v}}),(f=(h=s==null?void 0:s.info)==null?void 0:h.programs)==null||f.forEach(S=>{const v=S.cacheKey.split(","),A=v[v.findIndex(Hfe)+1];if(Qfe(A)&&p[A]){const{material:y,meshes:x}=p[A];m.set(A,{program:S,material:y,meshes:x,drawCounts:{total:0,type:"triangle",data:[]},expand:!1,visible:!0})}}),m.size!==Fo().programs.size&&(Pfe(m),js({programs:m,triggerProgramsUpdate:Fo().triggerProgramsUpdate++}))}}),()=>{a&&(typeof window.cancelIdleCallback<"u"&&window.cancelIdleCallback(a.idleCbId),window.cancelAnimationFrame(a.rafId),window.cancelAnimationFrame(a.checkQueryId)),r&&(Yt.prototype.updateMatrixWorld=FB),l(),c()}},[a,s,t,r]),ne.useEffect(()=>{const l=Wte(function(){return a&&(a.paused=!0,eo.value=0,qh.value=0,js({paused:!0,log:{maxMemory:0,gpu:0,mem:0,cpu:0,fps:0,totalTime:0,frameCount:0}})),!1});return()=>{l()}},[]),null};var wn="colors",$r="sizes",ut="space",Wfe={gap:ut,gridGap:ut,columnGap:ut,gridColumnGap:ut,rowGap:ut,gridRowGap:ut,inset:ut,insetBlock:ut,insetBlockEnd:ut,insetBlockStart:ut,insetInline:ut,insetInlineEnd:ut,insetInlineStart:ut,margin:ut,marginTop:ut,marginRight:ut,marginBottom:ut,marginLeft:ut,marginBlock:ut,marginBlockEnd:ut,marginBlockStart:ut,marginInline:ut,marginInlineEnd:ut,marginInlineStart:ut,padding:ut,paddingTop:ut,paddingRight:ut,paddingBottom:ut,paddingLeft:ut,paddingBlock:ut,paddingBlockEnd:ut,paddingBlockStart:ut,paddingInline:ut,paddingInlineEnd:ut,paddingInlineStart:ut,top:ut,right:ut,bottom:ut,left:ut,scrollMargin:ut,scrollMarginTop:ut,scrollMarginRight:ut,scrollMarginBottom:ut,scrollMarginLeft:ut,scrollMarginX:ut,scrollMarginY:ut,scrollMarginBlock:ut,scrollMarginBlockEnd:ut,scrollMarginBlockStart:ut,scrollMarginInline:ut,scrollMarginInlineEnd:ut,scrollMarginInlineStart:ut,scrollPadding:ut,scrollPaddingTop:ut,scrollPaddingRight:ut,scrollPaddingBottom:ut,scrollPaddingLeft:ut,scrollPaddingX:ut,scrollPaddingY:ut,scrollPaddingBlock:ut,scrollPaddingBlockEnd:ut,scrollPaddingBlockStart:ut,scrollPaddingInline:ut,scrollPaddingInlineEnd:ut,scrollPaddingInlineStart:ut,fontSize:"fontSizes",background:wn,backgroundColor:wn,backgroundImage:wn,borderImage:wn,border:wn,borderBlock:wn,borderBlockEnd:wn,borderBlockStart:wn,borderBottom:wn,borderBottomColor:wn,borderColor:wn,borderInline:wn,borderInlineEnd:wn,borderInlineStart:wn,borderLeft:wn,borderLeftColor:wn,borderRight:wn,borderRightColor:wn,borderTop:wn,borderTopColor:wn,caretColor:wn,color:wn,columnRuleColor:wn,fill:wn,outline:wn,outlineColor:wn,stroke:wn,textDecorationColor:wn,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:$r,minBlockSize:$r,maxBlockSize:$r,inlineSize:$r,minInlineSize:$r,maxInlineSize:$r,width:$r,minWidth:$r,maxWidth:$r,height:$r,minHeight:$r,maxHeight:$r,flexBasis:$r,gridTemplateColumns:$r,gridTemplateRows:$r,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},jfe=(n,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,a0=()=>{const n=Object.create(null);return(e,t,...i)=>{const r=(s=>JSON.stringify(s,jfe))(e);return r in n?n[r]:n[r]=t(e,...i)}},Ju=Symbol.for("sxs.internal"),Iw=(n,e)=>Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)),QB=n=>{for(const e in n)return!0;return!1},{hasOwnProperty:Xfe}=Object.prototype,rS=n=>n.includes("-")?n:n.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),qfe=/\s+(?![^()]*\))/,Eh=n=>e=>n(...typeof e=="string"?String(e).split(qfe):[e]),HB={appearance:n=>({WebkitAppearance:n,appearance:n}),backfaceVisibility:n=>({WebkitBackfaceVisibility:n,backfaceVisibility:n}),backdropFilter:n=>({WebkitBackdropFilter:n,backdropFilter:n}),backgroundClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),boxDecorationBreak:n=>({WebkitBoxDecorationBreak:n,boxDecorationBreak:n}),clipPath:n=>({WebkitClipPath:n,clipPath:n}),content:n=>({content:n.includes('"')||n.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(n)?n:`"${n}"`}),hyphens:n=>({WebkitHyphens:n,hyphens:n}),maskImage:n=>({WebkitMaskImage:n,maskImage:n}),maskSize:n=>({WebkitMaskSize:n,maskSize:n}),tabSize:n=>({MozTabSize:n,tabSize:n}),textSizeAdjust:n=>({WebkitTextSizeAdjust:n,textSizeAdjust:n}),userSelect:n=>({WebkitUserSelect:n,userSelect:n}),marginBlock:Eh((n,e)=>({marginBlockStart:n,marginBlockEnd:e||n})),marginInline:Eh((n,e)=>({marginInlineStart:n,marginInlineEnd:e||n})),maxSize:Eh((n,e)=>({maxBlockSize:n,maxInlineSize:e||n})),minSize:Eh((n,e)=>({minBlockSize:n,minInlineSize:e||n})),paddingBlock:Eh((n,e)=>({paddingBlockStart:n,paddingBlockEnd:e||n})),paddingInline:Eh((n,e)=>({paddingInlineStart:n,paddingInlineEnd:e||n}))},Sv=/([\d.]+)([^]*)/,Yfe=(n,e)=>n.length?n.reduce((t,i)=>(t.push(...e.map(r=>r.includes("&")?r.replace(/&/g,/[ +>|~]/.test(i)&&/&.*&/.test(r)?`:is(${i})`:i):i+" "+r)),t),[]):e,Kfe=(n,e)=>n in Jfe&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,i,r,s)=>i+(r==="stretch"?`-moz-available${s};${rS(n)}:${i}-webkit-fill-available`:`-moz-fit-content${s};${rS(n)}:${i}fit-content`)+s):String(e),Jfe={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},u1=n=>n?n+"-":"",lz=(n,e,t)=>n.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(i,r,s,o,a)=>o=="$"==!!s?i:(r||o=="--"?"calc(":"")+"var(--"+(o==="$"?u1(e)+(a.includes("$")?"":u1(t))+a.replace(/\$/g,"-"):a)+")"+(r||o=="--"?"*"+(r||"")+(s||"1")+")":"")),$fe=/\s*,\s*(?![^()]*\))/,Zfe=Object.prototype.toString,Yh=(n,e,t,i,r)=>{let s,o,a;const l=(c,u,h)=>{let f,p;const m=S=>{for(f in S){const y=f.charCodeAt(0)===64,x=y&&Array.isArray(S[f])?S[f]:[S[f]];for(p of x){const C=/[A-Z]/.test(A=f)?A:A.replace(/-[^]/g,M=>M[1].toUpperCase()),w=typeof p=="object"&&p&&p.toString===Zfe&&(!i.utils[C]||!u.length);if(C in i.utils&&!w){const M=i.utils[C];if(M!==o){o=M,m(M(p)),o=null;continue}}else if(C in HB){const M=HB[C];if(M!==a){a=M,m(M(p)),a=null;continue}}if(y&&(v=f.slice(1)in i.media?"@media "+i.media[f.slice(1)]:f,f=v.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(M,T,R,b,B,P)=>{const O=Sv.test(T),G=.0625*(O?-1:1),[H,j]=O?[b,T]:[T,b];return"("+(R[0]==="="?"":R[0]===">"===O?"max-":"min-")+H+":"+(R[0]!=="="&&R.length===1?j.replace(Sv,(q,J,L)=>Number(J)+G*(R===">"?1:-1)+L):j)+(B?") and ("+(B[0]===">"?"min-":"max-")+H+":"+(B.length===1?P.replace(Sv,(q,J,L)=>Number(J)+G*(B===">"?-1:1)+L):P):"")+")"})),w){const M=y?h.concat(f):[...h],T=y?[...u]:Yfe(u,f.split($fe));s!==void 0&&r(VB(...s)),s=void 0,l(p,T,M)}else s===void 0&&(s=[[],u,h]),f=y||f.charCodeAt(0)!==36?f:`--${u1(i.prefix)}${f.slice(1).replace(/\$/g,"-")}`,p=w?p:typeof p=="number"?p&&C in ede?String(p)+"px":String(p):lz(Kfe(C,p??""),i.prefix,i.themeMap[C]),s[0].push(`${y?`${f} `:`${rS(f)}:`}${p}`)}}var v,A};m(c),s!==void 0&&r(VB(...s)),s=void 0};l(n,e,t)},VB=(n,e,t)=>`${t.map(i=>`${i}{`).join("")}${e.length?`${e.join(",")}{`:""}${n.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,ede={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},WB=n=>String.fromCharCode(n+(n>25?39:97)),$u=n=>(e=>{let t,i="";for(t=Math.abs(e);t>52;t=t/52|0)i=WB(t%52)+i;return WB(t%52)+i})(((e,t)=>{let i=t.length;for(;i;)e=33*e^t.charCodeAt(--i);return e})(5381,JSON.stringify(n))>>>0),Rf=["themed","global","styled","onevar","resonevar","allvar","inline"],tde=n=>{if(n.href&&!n.href.startsWith(location.origin))return!1;try{return!!n.cssRules}catch{return!1}},nde=n=>{let e;const t=()=>{const{cssRules:r}=e.sheet;return[].map.call(r,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(r[o-1]&&(l=r[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const c in e.rules)if(e.rules[c].group===s)return`--sxs{--sxs:${[...e.rules[c].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},i=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const c in a)delete a[c]}const r=Object(n).styleSheets||[];for(const a of r)if(tde(a)){for(let l=0,c=a.cssRules;c[l];++l){const u=Object(c[l]);if(u.type!==1)continue;const h=Object(c[l+1]);if(h.type!==4)continue;++l;const{cssText:f}=u;if(!f.startsWith("--sxs"))continue;const p=f.slice(14,-3).trim().split(/\s+/),m=Rf[p[0]];m&&(e||(e={sheet:a,reset:i,rules:{},toString:t}),e.rules[m]={group:h,index:l,cache:new Set(p)})}if(e)break}if(!e){const a=(l,c)=>({type:c,cssRules:[],insertRule(u,h){this.cssRules.splice(h,0,a(u,{import:3,undefined:1}[(u.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,u=>u.cssText).join("")}}`:l}});e={sheet:n?(n.head||n).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:i,toString:t}}const{sheet:s,rules:o}=e;for(let a=Rf.length-1;a>=0;--a){const l=Rf[a];if(!o[l]){const c=Rf[a+1],u=o[c]?o[c].index:s.cssRules.length;s.insertRule("@media{}",u),s.insertRule(`--sxs{--sxs:${a}}`,u),o[l]={group:s.cssRules[u+1],index:u,cache:new Set([a])}}ide(o[l])}};return i(),e},ide=n=>{const e=n.group;let t=e.cssRules.length;n.apply=i=>{try{e.insertRule(i,t),++t}catch{}}},hf=Symbol(),rde=a0(),jB=(n,e)=>rde(n,()=>(...t)=>{let i={type:null,composers:new Set};for(const r of t)if(r!=null)if(r[Ju]){i.type==null&&(i.type=r[Ju].type);for(const s of r[Ju].composers)i.composers.add(s)}else r.constructor!==Object||r.$$typeof?i.type==null&&(i.type=r):i.composers.add(sde(r,n));return i.type==null&&(i.type="span"),i.composers.size||i.composers.add(["PJLV",{},[],[],{},[]]),ode(n,i,e)}),sde=({variants:n,compoundVariants:e,defaultVariants:t,...i},r)=>{const s=`${u1(r.prefix)}c-${$u(i)}`,o=[],a=[],l=Object.create(null),c=[];for(const f in t)l[f]=String(t[f]);if(typeof n=="object"&&n)for(const f in n){u=l,h=f,Xfe.call(u,h)||(l[f]="undefined");const p=n[f];for(const m in p){const S={[f]:String(m)};String(m)==="undefined"&&c.push(f);const v=p[m],A=[S,v,!QB(v)];o.push(A)}}var u,h;if(typeof e=="object"&&e)for(const f of e){let{css:p,...m}=f;p=typeof p=="object"&&p||{};for(const v in m)m[v]=String(m[v]);const S=[m,p,!QB(p)];a.push(S)}return[s,i,o,a,l,c]},ode=(n,e,t)=>{const[i,r,s,o]=ade(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(h=>{function f(){for(let p=0;p<f[hf].length;p++){const[m,S]=f[hf][p];h.rules[m].apply(S)}return f[hf]=[],null}return f[hf]=[],f.rules={},Rf.forEach(p=>f.rules[p]={apply:m=>f[hf].push([p,m])}),f})(t):null,l=(a||t).rules,c=`.${i}${r.length>1?`:where(.${r.slice(1).join(".")})`:""}`,u=h=>{h=typeof h=="object"&&h||lde;const{css:f,...p}=h,m={};for(const A in s)if(delete p[A],A in h){let y=h[A];typeof y=="object"&&y?m[A]={"@initial":s[A],...y}:(y=String(y),m[A]=y!=="undefined"||o.has(A)?y:s[A])}else m[A]=s[A];const S=new Set([...r]);for(const[A,y,x,C]of e.composers){t.rules.styled.cache.has(A)||(t.rules.styled.cache.add(A),Yh(y,[`.${A}`],[],n,T=>{l.styled.apply(T)}));const w=XB(x,m,n.media),M=XB(C,m,n.media,!0);for(const T of w)if(T!==void 0)for(const[R,b,B]of T){const P=`${A}-${$u(b)}-${R}`;S.add(P);const O=(B?t.rules.resonevar:t.rules.onevar).cache,G=B?l.resonevar:l.onevar;O.has(P)||(O.add(P),Yh(b,[`.${P}`],[],n,H=>{G.apply(H)}))}for(const T of M)if(T!==void 0)for(const[R,b]of T){const B=`${A}-${$u(b)}-${R}`;S.add(B),t.rules.allvar.cache.has(B)||(t.rules.allvar.cache.add(B),Yh(b,[`.${B}`],[],n,P=>{l.allvar.apply(P)}))}}if(typeof f=="object"&&f){const A=`${i}-i${$u(f)}-css`;S.add(A),t.rules.inline.cache.has(A)||(t.rules.inline.cache.add(A),Yh(f,[`.${A}`],[],n,y=>{l.inline.apply(y)}))}for(const A of String(h.className||"").trim().split(/\s+/))A&&S.add(A);const v=p.className=[...S].join(" ");return{type:e.type,className:v,selector:c,props:p,toString:()=>v,deferredInjector:a}};return Iw(u,{className:i,selector:c,[Ju]:e,toString:()=>(t.rules.styled.cache.has(i)||u(),i)})},ade=n=>{let e="";const t=[],i={},r=[];for(const[s,,,,o,a]of n){e===""&&(e=s),t.push(s),r.push(...a);for(const l in o){const c=o[l];(i[l]===void 0||c!=="undefined"||a.includes(c))&&(i[l]=c)}}return[e,t,i,new Set(r)]},XB=(n,e,t,i)=>{const r=[];e:for(let[s,o,a]of n){if(a)continue;let l,c=0,u=!1;for(l in s){const h=s[l];let f=e[l];if(f!==h){if(typeof f!="object"||!f)continue e;{let p,m,S=0;for(const v in f){if(h===String(f[v])){if(v!=="@initial"){const A=v.slice(1);(m=m||[]).push(A in t?t[A]:v.replace(/^@media ?/,"")),u=!0}c+=S,p=!0}++S}if(m&&m.length&&(o={["@media "+m.join(", ")]:o}),!p)continue e}}}(r[c]=r[c]||[]).push([i?"cv":`${l}-${s[l]}`,o,u])}return r},lde={},cde=a0(),ude=(n,e)=>cde(n,()=>(...t)=>{const i=()=>{for(let r of t){r=typeof r=="object"&&r||{};let s=$u(r);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in r){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(r["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete r["@import"]}Yh(r,[],[],n,o=>{e.rules.global.apply(o)})}}return""};return Iw(i,{toString:i})}),hde=a0(),fde=(n,e)=>hde(n,()=>t=>{const i=`${u1(n.prefix)}k-${$u(t)}`,r=()=>{if(!e.rules.global.cache.has(i)){e.rules.global.cache.add(i);const s=[];Yh(t,[],[],n,a=>s.push(a));const o=`@keyframes ${i}{${s.join("")}}`;e.rules.global.apply(o)}return i};return Iw(r,{get name(){return r()},toString:r})}),dde=class{constructor(n,e,t,i){this.token=n==null?"":String(n),this.value=e==null?"":String(e),this.scale=t==null?"":String(t),this.prefix=i==null?"":String(i)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+u1(this.prefix)+u1(this.scale)+this.token}toString(){return this.computedValue}},pde=a0(),gde=(n,e)=>pde(n,()=>(t,i)=>{i=typeof t=="object"&&t||Object(i);const r=`.${t=(t=typeof t=="string"?t:"")||`${u1(n.prefix)}t-${$u(i)}`}`,s={},o=[];for(const l in i){s[l]={};for(const c in i[l]){const u=`--${u1(n.prefix)}${l}-${c}`,h=lz(String(i[l][c]),n.prefix,l);s[l][c]=new dde(c,h,l,n.prefix),o.push(`${u}:${h}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const l=`${i===n.theme?":root,":""}.${t}{${o.join(";")}}`;e.rules.themed.apply(l)}return t};return{...s,get className(){return a()},selector:r,toString:a}}),mde=a0(),qB,Ade=a0(),vde=n=>{const e=(t=>{let i=!1;const r=mde(t,s=>{i=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",a=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,c=typeof s.theme=="object"&&s.theme||{},u={prefix:o,media:a,theme:c,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...Wfe},utils:typeof s.utils=="object"&&s.utils||{}},h=nde(l),f={css:jB(u,h),globalCss:ude(u,h),keyframes:fde(u,h),createTheme:gde(u,h),reset(){h.reset(),f.theme.toString()},theme:{},sheet:h,config:u,prefix:o,getCssText:h.toString,toString:h.toString};return String(f.theme=f.createTheme(c)),f});return i||r.reset(),r})(n);return e.styled=(({config:t,sheet:i})=>Ade(t,()=>{const r=jB(t,i);return(...s)=>{const o=r(...s),a=o[Ju].type,l=ns.forwardRef((c,u)=>{const h=c&&c.as||a,{props:f,deferredInjector:p}=o(c);return delete f.as,f.ref=u,p?ns.createElement(ns.Fragment,null,ns.createElement(h,f),ns.createElement(p,null)):ns.createElement(h,f)});return l.className=o.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=o.selector,l.toString=()=>o.selector,l[Ju]=o[Ju],l}}))(e),e},yde=()=>qB||(qB=vde()),qi=(...n)=>yde().styled(...n);const xde=qi("div",{position:"fixed",top:0,right:0,zIndex:9999,fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif`,backgroundColor:"rgba(36, 36, 36, .9)",color:"#fff",margin:0,minHeight:"100px",padding:"4px 0","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",userSelect:"none","&.top-left":{right:"initial",left:0},"&.bottom-left":{right:"initial",top:"initial",bottom:0,left:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.bottom-right":{top:"initial",bottom:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.minimal":{backgroundColor:"rgba(36, 36, 36, .75)"},"*":{margin:"0",padding:"0",border:"0",fontSize:"100%",lineHeight:"1",verticalAlign:"baseline"}}),Ev=qi("small",{position:"absolute",right:0,fontSize:"10px"}),Lr=qi("div",{display:"inline-flex",fontStyle:"normal",padding:0,lineHeight:"13px",fontSize:"14px",width:"62px",position:"relative",pointerEvents:"auto",cursor:"default",fontWeight:500,letterSpacing:"0px",textAlign:"left",height:"29px",whiteSpace:"nowrap",justifyContent:"space-evenly",fontVariantNumeric:"tabular-nums",small:{paddingLeft:"12px"},svg:{padding:0,color:"rgba(145, 145, 145, 0.3)",fontSize:"40px",position:"absolute",zIndex:1,maxHeight:"20px",left:" 50%",marginLeft:"-23px",top:"4px"}}),Es=qi("span",{verticalAlign:"bottom",position:"absolute",bottom:"5px",color:"rgba(101, 197, 188, 1)",textAlign:"right",letterSpacing:"1px",fontSize:"8px",fontWeight:"500",width:"60px"}),Sde=qi("div",{display:"flex"}),Ede=qi("div",{backgroundColor:"#404040",padding:"6px",display:"block",fontSize:"12px",marginBottom:"6px",cursor:"pointer","*":{cursor:"pointer !important"},"> span":{},small:{fontSize:"9px"},"> b":{marginRight:"4px",cursor:"pointer"}}),Cde=qi("div",{height:"66px",overflow:"hidden",position:"absolute",pointerEvents:"none",display:"flex",top:"0px",justifyContent:"center",width:"100%",minWidth:"310px",margin:"0 auto",canvas:{background:"transparent !important",position:"absolute !important"}}),wde=qi("div",{textAlign:"center",fontWeight:700,fontSize:"12px",lineHeight:"12px",display:"flex",justifyContent:"center",alignItems:"center",verticalAlign:"middle",color:"#f1f1f1",padding:"7px",width:"100%",backgroundColor:"rgba(36, 36, 37, 0.8)",zIndex:1,position:"absolute",height:"100%"}),Rw=qi("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),_de=qi("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",float:"right",backgroundColor:"rgb(41, 43, 45)",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),Mde=qi("div",{padding:"4px 6px",fontSize:"12px",pointerEvents:"auto"}),Tde=qi("span",{fontWeight:"bold",letterSpacing:"0.08em",maxWidth:"145px",overflow:"hidden",textOverflow:"ellipsis",display:"inline-block",verticalAlign:"middle",fontSize:"11px",marginRight:"10px"}),bde=qi("div",{maxHeight:"50vh",overflowY:"auto",marginTop:"38px"}),Ide=qi("div",{marginTop:"0"}),YB=qi("div",{display:"flex",position:"relative",fontWeight:"bold",color:"#fff",lineHeight:"14px",svg:{marginRight:"4px",display:"inline-block"}}),cz=qi("ul",{display:"block",position:"relative",paddingLeft:"10px",margin:"6px 6px",img:{maxHeight:"60px",maxWidth:"100%",margin:"6px auto",display:"block"},"&:after":{content:"",position:"absolute",left:"0px",top:"0px",width:"1px",height:"100%",backgroundColor:"grey",transform:"translateX(-50%)",maxHeight:"50vh",overflowY:"auto"},li:{borderBottom:"1px solid #313131",display:"block",padding:"4px",margin:0,lineHeight:1,verticalAlign:"middle",height:"24px"},b:{fontWeight:"bold"},small:{textAlign:"revert",letterSpacing:"1px",fontSize:"10px",fontWeight:"500",marginLeft:"2px",color:"rgb(101, 197, 188)"}}),uz=qi("button",{fontWeight:"bold",letterSpacing:"0.02em",backgroundColor:"rgb(41, 43, 45)",color:"rgb(211, 211, 211)",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",display:"block",verticalAlign:"middle",fontSize:"11px",padding:"5px",margin:"4px auto"}),Rde=qi("div",{display:"flex",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0 auto",color:"rgba(145, 145, 145, 1)",textAlign:"center",position:"absolute",right:0,bottom:" -20px",svg:{width:"12px",height:"12px",float:"left"}}),Bde=qi("li",{display:"flex !important",height:"auto !important",span:{height:"40px",display:"block",position:"relative"},b:{paddingLeft:"12px"}});function Mi(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var kde=["color"],hz=ne.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Mi(n,kde);return ne.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),ne.createElement("path",{d:"M0 1.5C0 1.22386 0.223858 1 0.5 1H2.5C2.77614 1 3 1.22386 3 1.5C3 1.77614 2.77614 2 2.5 2H0.5C0.223858 2 0 1.77614 0 1.5ZM4 1.5C4 1.22386 4.22386 1 4.5 1H14.5C14.7761 1 15 1.22386 15 1.5C15 1.77614 14.7761 2 14.5 2H4.5C4.22386 2 4 1.77614 4 1.5ZM4 4.5C4 4.22386 4.22386 4 4.5 4H11.5C11.7761 4 12 4.22386 12 4.5C12 4.77614 11.7761 5 11.5 5H4.5C4.22386 5 4 4.77614 4 4.5ZM0 7.5C0 7.22386 0.223858 7 0.5 7H2.5C2.77614 7 3 7.22386 3 7.5C3 7.77614 2.77614 8 2.5 8H0.5C0.223858 8 0 7.77614 0 7.5ZM4 7.5C4 7.22386 4.22386 7 4.5 7H14.5C14.7761 7 15 7.22386 15 7.5C15 7.77614 14.7761 8 14.5 8H4.5C4.22386 8 4 7.77614 4 7.5ZM4 10.5C4 10.2239 4.22386 10 4.5 10H11.5C11.7761 10 12 10.2239 12 10.5C12 10.7761 11.7761 11 11.5 11H4.5C4.22386 11 4 10.7761 4 10.5ZM0 13.5C0 13.2239 0.223858 13 0.5 13H2.5C2.77614 13 3 13.2239 3 13.5C3 13.7761 2.77614 14 2.5 14H0.5C0.223858 14 0 13.7761 0 13.5ZM4 13.5C4 13.2239 4.22386 13 4.5 13H14.5C14.7761 13 15 13.2239 15 13.5C15 13.7761 14.7761 14 14.5 14H4.5C4.22386 14 4 13.7761 4 13.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Pde=["color"],Lde=ne.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Mi(n,Pde);return ne.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),ne.createElement("path",{d:"M11.5 1C11.7761 1 12 1.22386 12 1.5V13.5C12 13.7761 11.7761 14 11.5 14C11.2239 14 11 13.7761 11 13.5V1.5C11 1.22386 11.2239 1 11.5 1ZM9.5 3C9.77614 3 10 3.22386 10 3.5V13.5C10 13.7761 9.77614 14 9.5 14C9.22386 14 9 13.7761 9 13.5V3.5C9 3.22386 9.22386 3 9.5 3ZM13.5 3C13.7761 3 14 3.22386 14 3.5V13.5C14 13.7761 13.7761 14 13.5 14C13.2239 14 13 13.7761 13 13.5V3.5C13 3.22386 13.2239 3 13.5 3ZM5.5 4C5.77614 4 6 4.22386 6 4.5V13.5C6 13.7761 5.77614 14 5.5 14C5.22386 14 5 13.7761 5 13.5V4.5C5 4.22386 5.22386 4 5.5 4ZM1.5 5C1.77614 5 2 5.22386 2 5.5V13.5C2 13.7761 1.77614 14 1.5 14C1.22386 14 1 13.7761 1 13.5V5.5C1 5.22386 1.22386 5 1.5 5ZM7.5 5C7.77614 5 8 5.22386 8 5.5V13.5C8 13.7761 7.77614 14 7.5 14C7.22386 14 7 13.7761 7 13.5V5.5C7 5.22386 7.22386 5 7.5 5ZM3.5 7C3.77614 7 4 7.22386 4 7.5V13.5C4 13.7761 3.77614 14 3.5 14C3.22386 14 3 13.7761 3 13.5V7.5C3 7.22386 3.22386 7 3.5 7Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Dde=["color"],Ode=ne.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Mi(n,Dde);return ne.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),ne.createElement("path",{d:"M2 5H13C13.5523 5 14 5.44772 14 6V9C14 9.55228 13.5523 10 13 10H2C1.44772 10 1 9.55228 1 9V6C1 5.44772 1.44772 5 2 5ZM0 6C0 4.89543 0.895431 4 2 4H13C14.1046 4 15 4.89543 15 6V9C15 10.1046 14.1046 11 13 11H2C0.89543 11 0 10.1046 0 9V6ZM4.5 6.75C4.08579 6.75 3.75 7.08579 3.75 7.5C3.75 7.91421 4.08579 8.25 4.5 8.25C4.91421 8.25 5.25 7.91421 5.25 7.5C5.25 7.08579 4.91421 6.75 4.5 6.75ZM6.75 7.5C6.75 7.08579 7.08579 6.75 7.5 6.75C7.91421 6.75 8.25 7.08579 8.25 7.5C8.25 7.91421 7.91421 8.25 7.5 8.25C7.08579 8.25 6.75 7.91421 6.75 7.5ZM10.5 6.75C10.0858 6.75 9.75 7.08579 9.75 7.5C9.75 7.91421 10.0858 8.25 10.5 8.25C10.9142 8.25 11.25 7.91421 11.25 7.5C11.25 7.08579 10.9142 6.75 10.5 6.75Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Nde=["color"],Fde=ne.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Mi(n,Nde);return ne.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),ne.createElement("path",{d:"M7.28856 0.796908C7.42258 0.734364 7.57742 0.734364 7.71144 0.796908L13.7114 3.59691C13.8875 3.67906 14 3.85574 14 4.05V10.95C14 11.1443 13.8875 11.3209 13.7114 11.4031L7.71144 14.2031C7.57742 14.2656 7.42258 14.2656 7.28856 14.2031L1.28856 11.4031C1.11252 11.3209 1 11.1443 1 10.95V4.05C1 3.85574 1.11252 3.67906 1.28856 3.59691L7.28856 0.796908ZM2 4.80578L7 6.93078V12.9649L2 10.6316V4.80578ZM8 12.9649L13 10.6316V4.80578L8 6.93078V12.9649ZM7.5 6.05672L12.2719 4.02866L7.5 1.80176L2.72809 4.02866L7.5 6.05672Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Ude=["color"],Gde=ne.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Mi(n,Ude);return ne.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),ne.createElement("path",{d:"M7.5 9.125C8.39746 9.125 9.125 8.39746 9.125 7.5C9.125 6.60254 8.39746 5.875 7.5 5.875C6.60254 5.875 5.875 6.60254 5.875 7.5C5.875 8.39746 6.60254 9.125 7.5 9.125ZM7.5 10.125C8.94975 10.125 10.125 8.94975 10.125 7.5C10.125 6.05025 8.94975 4.875 7.5 4.875C6.05025 4.875 4.875 6.05025 4.875 7.5C4.875 8.94975 6.05025 10.125 7.5 10.125Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),zde=["color"],Qde=ne.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Mi(n,zde);return ne.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),ne.createElement("path",{d:"M7.49999 3.09998C7.27907 3.09998 7.09999 3.27906 7.09999 3.49998C7.09999 3.72089 7.27907 3.89998 7.49999 3.89998H14.5C14.7209 3.89998 14.9 3.72089 14.9 3.49998C14.9 3.27906 14.7209 3.09998 14.5 3.09998H7.49999ZM7.49998 5.1C7.27907 5.1 7.09998 5.27908 7.09998 5.5C7.09998 5.72091 7.27907 5.9 7.49998 5.9H14.5C14.7209 5.9 14.9 5.72091 14.9 5.5C14.9 5.27908 14.7209 5.1 14.5 5.1H7.49998ZM7.1 7.5C7.1 7.27908 7.27909 7.1 7.5 7.1H14.5C14.7209 7.1 14.9 7.27908 14.9 7.5C14.9 7.72091 14.7209 7.9 14.5 7.9H7.5C7.27909 7.9 7.1 7.72091 7.1 7.5ZM7.49998 9.1C7.27907 9.1 7.09998 9.27908 7.09998 9.5C7.09998 9.72091 7.27907 9.9 7.49998 9.9H14.5C14.7209 9.9 14.9 9.72091 14.9 9.5C14.9 9.27908 14.7209 9.1 14.5 9.1H7.49998ZM7.09998 11.5C7.09998 11.2791 7.27907 11.1 7.49998 11.1H14.5C14.7209 11.1 14.9 11.2791 14.9 11.5C14.9 11.7209 14.7209 11.9 14.5 11.9H7.49998C7.27907 11.9 7.09998 11.7209 7.09998 11.5ZM2.5 9.25003L5 6.00003H0L2.5 9.25003Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Hde=["color"],Vde=ne.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Mi(n,Hde);return ne.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),ne.createElement("path",{d:"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Wde=["color"],jde=ne.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Mi(n,Wde);return ne.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),ne.createElement("path",{d:"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Xde=["color"],sS=ne.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Mi(n,Xde);return ne.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),ne.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),qde=["color"],Yde=ne.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Mi(n,qde);return ne.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),ne.createElement("path",{d:"M5.49998 0.5C5.49998 0.223858 5.72383 0 5.99998 0H7.49998H8.99998C9.27612 0 9.49998 0.223858 9.49998 0.5C9.49998 0.776142 9.27612 1 8.99998 1H7.99998V2.11922C9.09832 2.20409 10.119 2.56622 10.992 3.13572C11.0116 3.10851 11.0336 3.08252 11.058 3.05806L12.058 2.05806C12.3021 1.81398 12.6978 1.81398 12.9419 2.05806C13.186 2.30214 13.186 2.69786 12.9419 2.94194L11.967 3.91682C13.1595 5.07925 13.9 6.70314 13.9 8.49998C13.9 12.0346 11.0346 14.9 7.49998 14.9C3.96535 14.9 1.09998 12.0346 1.09998 8.49998C1.09998 5.13361 3.69904 2.3743 6.99998 2.11922V1H5.99998C5.72383 1 5.49998 0.776142 5.49998 0.5ZM2.09998 8.49998C2.09998 5.51764 4.51764 3.09998 7.49998 3.09998C10.4823 3.09998 12.9 5.51764 12.9 8.49998C12.9 11.4823 10.4823 13.9 7.49998 13.9C4.51764 13.9 2.09998 11.4823 2.09998 8.49998ZM7.49998 8.49998V4.09998C5.06992 4.09998 3.09998 6.06992 3.09998 8.49998C3.09998 10.93 5.06992 12.9 7.49998 12.9C8.715 12.9 9.815 12.4075 10.6112 11.6112L7.49998 8.49998Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),Kde=["color"],Jde=ne.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Mi(n,Kde);return ne.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),ne.createElement("path",{d:"M7.75432 0.819537C7.59742 0.726821 7.4025 0.726821 7.24559 0.819537L1.74559 4.06954C1.59336 4.15949 1.49996 4.32317 1.49996 4.5C1.49996 4.67683 1.59336 4.84051 1.74559 4.93046L7.24559 8.18046C7.4025 8.27318 7.59742 8.27318 7.75432 8.18046L13.2543 4.93046C13.4066 4.84051 13.5 4.67683 13.5 4.5C13.5 4.32317 13.4066 4.15949 13.2543 4.06954L7.75432 0.819537ZM7.49996 7.16923L2.9828 4.5L7.49996 1.83077L12.0171 4.5L7.49996 7.16923ZM1.5695 7.49564C1.70998 7.2579 2.01659 7.17906 2.25432 7.31954L7.49996 10.4192L12.7456 7.31954C12.9833 7.17906 13.2899 7.2579 13.4304 7.49564C13.5709 7.73337 13.4921 8.03998 13.2543 8.18046L7.75432 11.4305C7.59742 11.5232 7.4025 11.5232 7.24559 11.4305L1.74559 8.18046C1.50786 8.03998 1.42901 7.73337 1.5695 7.49564ZM1.56949 10.4956C1.70998 10.2579 2.01658 10.1791 2.25432 10.3195L7.49996 13.4192L12.7456 10.3195C12.9833 10.1791 13.2899 10.2579 13.4304 10.4956C13.5709 10.7334 13.4921 11.04 13.2543 11.1805L7.75432 14.4305C7.59742 14.5232 7.4025 14.5232 7.24559 14.4305L1.74559 11.1805C1.50785 11.04 1.42901 10.7334 1.56949 10.4956Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),$de=["color"],Zde=ne.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Mi(n,$de);return ne.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),ne.createElement("path",{d:"M8.69667 0.0403541C8.90859 0.131038 9.03106 0.354857 8.99316 0.582235L8.0902 6.00001H12.5C12.6893 6.00001 12.8625 6.10701 12.9472 6.27641C13.0319 6.4458 13.0136 6.6485 12.8999 6.80001L6.89997 14.8C6.76167 14.9844 6.51521 15.0503 6.30328 14.9597C6.09135 14.869 5.96888 14.6452 6.00678 14.4178L6.90974 9H2.49999C2.31061 9 2.13748 8.893 2.05278 8.72361C1.96809 8.55422 1.98636 8.35151 2.09999 8.2L8.09997 0.200038C8.23828 0.0156255 8.48474 -0.0503301 8.69667 0.0403541ZM3.49999 8.00001H7.49997C7.64695 8.00001 7.78648 8.06467 7.88148 8.17682C7.97648 8.28896 8.01733 8.43723 7.99317 8.5822L7.33027 12.5596L11.5 7.00001H7.49997C7.353 7.00001 7.21347 6.93534 7.11846 6.8232C7.02346 6.71105 6.98261 6.56279 7.00678 6.41781L7.66968 2.44042L3.49999 8.00001Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),e4e=["color"],t4e=ne.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Mi(n,e4e);return ne.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),ne.createElement("path",{d:"M1.49988 2.00012C1.77602 2.00012 1.99988 1.77626 1.99988 1.50012C1.99988 1.22398 1.77602 1.00012 1.49988 1.00012C1.22374 1.00012 0.999878 1.22398 0.999878 1.50012C0.999878 1.77626 1.22374 2.00012 1.49988 2.00012ZM4.49988 2.00012C4.77602 2.00012 4.99988 1.77626 4.99988 1.50012C4.99988 1.22398 4.77602 1.00012 4.49988 1.00012C4.22374 1.00012 3.99988 1.22398 3.99988 1.50012C3.99988 1.77626 4.22374 2.00012 4.49988 2.00012ZM7.99988 1.50012C7.99988 1.77626 7.77602 2.00012 7.49988 2.00012C7.22374 2.00012 6.99988 1.77626 6.99988 1.50012C6.99988 1.22398 7.22374 1.00012 7.49988 1.00012C7.77602 1.00012 7.99988 1.22398 7.99988 1.50012ZM10.4999 2.00012C10.776 2.00012 10.9999 1.77626 10.9999 1.50012C10.9999 1.22398 10.776 1.00012 10.4999 1.00012C10.2237 1.00012 9.99988 1.22398 9.99988 1.50012C9.99988 1.77626 10.2237 2.00012 10.4999 2.00012ZM13.9999 1.50012C13.9999 1.77626 13.776 2.00012 13.4999 2.00012C13.2237 2.00012 12.9999 1.77626 12.9999 1.50012C12.9999 1.22398 13.2237 1.00012 13.4999 1.00012C13.776 1.00012 13.9999 1.22398 13.9999 1.50012ZM1.49988 14.0001C1.77602 14.0001 1.99988 13.7763 1.99988 13.5001C1.99988 13.224 1.77602 13.0001 1.49988 13.0001C1.22374 13.0001 0.999878 13.224 0.999878 13.5001C0.999878 13.7763 1.22374 14.0001 1.49988 14.0001ZM1.99988 10.5001C1.99988 10.7763 1.77602 11.0001 1.49988 11.0001C1.22374 11.0001 0.999878 10.7763 0.999878 10.5001C0.999878 10.224 1.22374 10.0001 1.49988 10.0001C1.77602 10.0001 1.99988 10.224 1.99988 10.5001ZM1.49988 8.00012C1.77602 8.00012 1.99988 7.77626 1.99988 7.50012C1.99988 7.22398 1.77602 7.00012 1.49988 7.00012C1.22374 7.00012 0.999878 7.22398 0.999878 7.50012C0.999878 7.77626 1.22374 8.00012 1.49988 8.00012ZM1.99988 4.50012C1.99988 4.77626 1.77602 5.00012 1.49988 5.00012C1.22374 5.00012 0.999878 4.77626 0.999878 4.50012C0.999878 4.22398 1.22374 4.00012 1.49988 4.00012C1.77602 4.00012 1.99988 4.22398 1.99988 4.50012ZM13.4999 11.0001C13.776 11.0001 13.9999 10.7763 13.9999 10.5001C13.9999 10.224 13.776 10.0001 13.4999 10.0001C13.2237 10.0001 12.9999 10.224 12.9999 10.5001C12.9999 10.7763 13.2237 11.0001 13.4999 11.0001ZM13.9999 7.50012C13.9999 7.77626 13.776 8.00012 13.4999 8.00012C13.2237 8.00012 12.9999 7.77626 12.9999 7.50012C12.9999 7.22398 13.2237 7.00012 13.4999 7.00012C13.776 7.00012 13.9999 7.22398 13.9999 7.50012ZM13.4999 5.00012C13.776 5.00012 13.9999 4.77626 13.9999 4.50012C13.9999 4.22398 13.776 4.00012 13.4999 4.00012C13.2237 4.00012 12.9999 4.22398 12.9999 4.50012C12.9999 4.77626 13.2237 5.00012 13.4999 5.00012ZM4.99988 13.5001C4.99988 13.7763 4.77602 14.0001 4.49988 14.0001C4.22374 14.0001 3.99988 13.7763 3.99988 13.5001C3.99988 13.224 4.22374 13.0001 4.49988 13.0001C4.77602 13.0001 4.99988 13.224 4.99988 13.5001ZM7.49988 14.0001C7.77602 14.0001 7.99988 13.7763 7.99988 13.5001C7.99988 13.224 7.77602 13.0001 7.49988 13.0001C7.22374 13.0001 6.99988 13.224 6.99988 13.5001C6.99988 13.7763 7.22374 14.0001 7.49988 14.0001ZM10.9999 13.5001C10.9999 13.7763 10.776 14.0001 10.4999 14.0001C10.2237 14.0001 9.99988 13.7763 9.99988 13.5001C9.99988 13.224 10.2237 13.0001 10.4999 13.0001C10.776 13.0001 10.9999 13.224 10.9999 13.5001ZM13.4999 14.0001C13.776 14.0001 13.9999 13.7763 13.9999 13.5001C13.9999 13.224 13.776 13.0001 13.4999 13.0001C13.2237 13.0001 12.9999 13.224 12.9999 13.5001C12.9999 13.7763 13.2237 14.0001 13.4999 14.0001ZM3.99988 5.00012C3.99988 4.44784 4.44759 4.00012 4.99988 4.00012H9.99988C10.5522 4.00012 10.9999 4.44784 10.9999 5.00012V10.0001C10.9999 10.5524 10.5522 11.0001 9.99988 11.0001H4.99988C4.44759 11.0001 3.99988 10.5524 3.99988 10.0001V5.00012ZM4.99988 5.00012H9.99988V10.0001H4.99988V5.00012Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),n4e=["color"],i4e=ne.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Mi(n,n4e);return ne.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),ne.createElement("path",{d:"M2.25 7.5C2.25 7.22386 2.47386 7 2.75 7H12.25C12.5261 7 12.75 7.22386 12.75 7.5C12.75 7.77614 12.5261 8 12.25 8H2.75C2.47386 8 2.25 7.77614 2.25 7.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),r4e=["color"],s4e=ne.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Mi(n,r4e);return ne.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),ne.createElement("path",{d:"M6.04995 2.74998C6.04995 2.44623 5.80371 2.19998 5.49995 2.19998C5.19619 2.19998 4.94995 2.44623 4.94995 2.74998V12.25C4.94995 12.5537 5.19619 12.8 5.49995 12.8C5.80371 12.8 6.04995 12.5537 6.04995 12.25V2.74998ZM10.05 2.74998C10.05 2.44623 9.80371 2.19998 9.49995 2.19998C9.19619 2.19998 8.94995 2.44623 8.94995 2.74998V12.25C8.94995 12.5537 9.19619 12.8 9.49995 12.8C9.80371 12.8 10.05 12.5537 10.05 12.25V2.74998Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),o4e=["color"],a4e=ne.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Mi(n,o4e);return ne.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),ne.createElement("path",{d:"M6.85357 3.85355L7.65355 3.05353C8.2981 2.40901 9.42858 1.96172 10.552 1.80125C11.1056 1.72217 11.6291 1.71725 12.0564 1.78124C12.4987 1.84748 12.7698 1.97696 12.8965 2.10357C13.0231 2.23018 13.1526 2.50125 13.2188 2.94357C13.2828 3.37086 13.2779 3.89439 13.1988 4.44801C13.0383 5.57139 12.591 6.70188 11.9464 7.34645L7.49999 11.7929L6.35354 10.6465C6.15827 10.4512 5.84169 10.4512 5.64643 10.6465C5.45117 10.8417 5.45117 11.1583 5.64643 11.3536L7.14644 12.8536C7.34171 13.0488 7.65829 13.0488 7.85355 12.8536L8.40073 12.3064L9.57124 14.2572C9.65046 14.3893 9.78608 14.4774 9.9389 14.4963C10.0917 14.5151 10.2447 14.4624 10.3535 14.3536L12.3535 12.3536C12.4648 12.2423 12.5172 12.0851 12.495 11.9293L12.0303 8.67679L12.6536 8.05355C13.509 7.19808 14.0117 5.82855 14.1887 4.58943C14.2784 3.9618 14.2891 3.33847 14.2078 2.79546C14.1287 2.26748 13.9519 1.74482 13.6035 1.39645C13.2552 1.04809 12.7325 0.871332 12.2045 0.792264C11.6615 0.710945 11.0382 0.721644 10.4105 0.8113C9.17143 0.988306 7.80189 1.491 6.94644 2.34642L6.32322 2.96968L3.07071 2.50504C2.91492 2.48278 2.75773 2.53517 2.64645 2.64646L0.646451 4.64645C0.537579 4.75533 0.484938 4.90829 0.50375 5.0611C0.522563 5.21391 0.61073 5.34954 0.742757 5.42876L2.69364 6.59928L2.14646 7.14645C2.0527 7.24022 2.00002 7.3674 2.00002 7.50001C2.00002 7.63261 2.0527 7.75979 2.14646 7.85356L3.64647 9.35356C3.84173 9.54883 4.15831 9.54883 4.35357 9.35356C4.54884 9.1583 4.54884 8.84172 4.35357 8.64646L3.20712 7.50001L3.85357 6.85356L6.85357 3.85355ZM10.0993 13.1936L9.12959 11.5775L11.1464 9.56067L11.4697 11.8232L10.0993 13.1936ZM3.42251 5.87041L5.43935 3.85356L3.17678 3.53034L1.80638 4.90074L3.42251 5.87041ZM2.35356 10.3535C2.54882 10.1583 2.54882 9.8417 2.35356 9.64644C2.1583 9.45118 1.84171 9.45118 1.64645 9.64644L0.646451 10.6464C0.451188 10.8417 0.451188 11.1583 0.646451 11.3535C0.841713 11.5488 1.1583 11.5488 1.35356 11.3535L2.35356 10.3535ZM3.85358 11.8536C4.04884 11.6583 4.04885 11.3417 3.85359 11.1465C3.65833 10.9512 3.34175 10.9512 3.14648 11.1465L1.14645 13.1464C0.95119 13.3417 0.951187 13.6583 1.14645 13.8535C1.34171 14.0488 1.65829 14.0488 1.85355 13.8536L3.85358 11.8536ZM5.35356 13.3535C5.54882 13.1583 5.54882 12.8417 5.35356 12.6464C5.1583 12.4512 4.84171 12.4512 4.64645 12.6464L3.64645 13.6464C3.45119 13.8417 3.45119 14.1583 3.64645 14.3535C3.84171 14.5488 4.1583 14.5488 4.35356 14.3535L5.35356 13.3535ZM9.49997 6.74881C10.1897 6.74881 10.7488 6.1897 10.7488 5.5C10.7488 4.8103 10.1897 4.25118 9.49997 4.25118C8.81026 4.25118 8.25115 4.8103 8.25115 5.5C8.25115 6.1897 8.81026 6.74881 9.49997 6.74881Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),l4e=["color"],c4e=ne.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Mi(n,l4e);return ne.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),ne.createElement("path",{d:"M0.5 4C0.223858 4 0 4.22386 0 4.5V10.5C0 10.7761 0.223858 11 0.5 11H14.5C14.7761 11 15 10.7761 15 10.5V4.5C15 4.22386 14.7761 4 14.5 4H0.5ZM1 10V5H2.075V7.5C2.075 7.73472 2.26528 7.925 2.5 7.925C2.73472 7.925 2.925 7.73472 2.925 7.5V5H4.075V6.5C4.075 6.73472 4.26528 6.925 4.5 6.925C4.73472 6.925 4.925 6.73472 4.925 6.5V5H6.075V6.5C6.075 6.73472 6.26528 6.925 6.5 6.925C6.73472 6.925 6.925 6.73472 6.925 6.5V5H8.075V7.5C8.075 7.73472 8.26528 7.925 8.5 7.925C8.73472 7.925 8.925 7.73472 8.925 7.5V5H10.075V6.5C10.075 6.73472 10.2653 6.925 10.5 6.925C10.7347 6.925 10.925 6.73472 10.925 6.5V5H12.075V6.5C12.075 6.73472 12.2653 6.925 12.5 6.925C12.7347 6.925 12.925 6.73472 12.925 6.5V5H14V10H1Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),u4e=["color"],h4e=ne.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Mi(n,u4e);return ne.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),ne.createElement("path",{d:"M2.5 4C2.22386 4 2 4.22386 2 4.5C2 4.77614 2.22386 5 2.5 5H12.5C12.7761 5 13 4.77614 13 4.5C13 4.22386 12.7761 4 12.5 4H2.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))}),f4e=["color"],fz=ne.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Mi(n,f4e);return ne.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),ne.createElement("path",{d:"M4 6H11L7.5 10.5L4 6Z",fill:i}))}),d4e=["color"],dz=ne.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Mi(n,d4e);return ne.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),ne.createElement("path",{d:"M4 9H11L7.5 4.5L4 9Z",fill:i}))}),p4e=["color"],pz=ne.forwardRef(function(n,e){var t=n.color,i=t===void 0?"currentColor":t,r=Mi(n,p4e);return ne.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r,{ref:e}),ne.createElement("path",{d:"M7.49998 1L6.92321 2.00307L1.17498 12L0.599976 13H1.7535H13.2464H14.4L13.825 12L8.07674 2.00307L7.49998 1ZM7.49998 3.00613L2.3285 12H12.6714L7.49998 3.00613Z",fill:i,fillRule:"evenodd",clipRule:"evenodd"}))});const To=ne.memo(({isPerf:n,color:e,colorBlind:t,customData:i,isMemory:r,isShadersInfo:s,metric:o,fontSize:a,offsetY:l=0,offsetX:c,round:u,hasInstance:h})=>{const{width:f,height:p}=Bo(v=>v.viewport),m=ne.useRef(null),S=ne.useRef(null);return Ufe("log",function([A,y]){var x;if(!A||!m.current||(i&&(m.current.text=(Math.round(Fo().customData*Math.pow(10,u))/Math.pow(10,u)).toFixed(u)),!o))return;let C=A[o];if(s?C=(x=y.info.programs)==null?void 0:x.length:o==="matriceCount"?C=eo.value:!n&&y.info.render&&(C=(r?y.info.memory:y.info.render)[o]),o==="fps"&&(m.current.color=Fo().overclockingFps?Dr(t).overClock.toString():`rgb(${Dr(t).fps.toString()})`),m.current.text=(Math.round(C*Math.pow(10,u))/Math.pow(10,u)).toFixed(u),h){const w=y.info.instance;if(typeof w>"u"&&o!=="matriceCount")return;let M;o==="matriceCount"?M=qh.value:M=w[o],M>0?(m.current.fontSize=a/1.15,S.current.fontSize=C>0?a/1.4:a,m.current.position.y=p/2-l-a/1.9,S.current.text=" 	"+(Math.round(M*Math.pow(10,u))/Math.pow(10,u)).toFixed(u)):(S.current.text&&(S.current.text=""),m.current.position.y=p/2-l-a,m.current.fontSize=a)}eo.value-=1,m.current.updateMatrix(),m.current.matrixWorld.copy(m.current.matrix)}),te.jsxs(ne.Suspense,{fallback:null,children:[te.jsxs(DB,{textAlign:"justify",matrixAutoUpdate:!1,ref:m,fontSize:a,position:[-f/2+c+a,p/2-l-a,0],color:e,characters:"0123456789",onUpdate:v=>{v.updateMatrix(),eo.value-=1,v.matrixWorld.copy(v.matrix)},children:[te.jsx("meshBasicMaterial",{blending:zo}),"0"]}),h&&te.jsx(DB,{textAlign:"justify",matrixAutoUpdate:!1,ref:S,fontSize:8,position:[-f/2+c+a,p/2-l-a*1.15,0],color:"lightgrey",characters:"0123456789",onUpdate:v=>{v.updateMatrix(),eo.value-=1,v.matrixWorld.copy(v.matrix)},children:te.jsx("meshBasicMaterial",{blending:zo})})]})}),g4e=({colorBlind:n,customData:e,minimal:t,matrixUpdate:i})=>te.jsxs(te.Fragment,{children:[te.jsx(To,{colorBlind:n,color:`rgb(${Dr(n).fps.toString()})`,isPerf:!0,metric:"fps",fontSize:14,offsetX:140,round:0}),te.jsx(To,{color:`rgb(${Dr(n).cpu.toString()})`,isPerf:!0,metric:"cpu",fontSize:14,offsetX:72,round:3}),te.jsx(To,{color:`rgb(${Dr(n).gpu.toString()})`,isPerf:!0,metric:"gpu",fontSize:14,offsetX:10,round:3}),t?null:te.jsxs(te.Fragment,{children:[te.jsx(To,{metric:"calls",fontSize:14,offsetX:200,round:0,hasInstance:!0}),te.jsx(To,{metric:"triangles",fontSize:14,offsetX:260,round:0,hasInstance:!0}),te.jsx(To,{isMemory:!0,metric:"geometries",fontSize:14,offsetY:30,offsetX:0,round:0}),te.jsx(To,{isMemory:!0,metric:"textures",fontSize:14,offsetY:30,offsetX:80,round:0}),te.jsx(To,{isShadersInfo:!0,metric:"programs",fontSize:14,offsetY:30,offsetX:140,round:0}),te.jsx(To,{metric:"lines",fontSize:14,offsetY:30,offsetX:200,round:0,hasInstance:!0}),te.jsx(To,{metric:"points",fontSize:14,offsetY:30,offsetX:260,round:0,hasInstance:!0}),i&&te.jsx(To,{isPerf:!0,metric:"matriceCount",fontSize:14,offsetY:30,offsetX:320,round:0,hasInstance:!0})]}),e&&te.jsx(To,{color:`rgb(${Dr(n).custom.toString()})`,customData:e,fontSize:14,offsetY:0,offsetX:t?200:320,round:e.round||2})]}),m4e=({colorBlind:n,minimal:e,chart:t={length:120,hz:60}})=>{const i=ne.useMemo(()=>({fps:new Float32Array(t.length*3),cpu:new Float32Array(t.length*3),gpu:new Float32Array(t.length*3)}),[t]),r=ne.useRef(null),s=ne.useRef(null),o=ne.useRef(null),a=ne.useRef(null),l=ne.useMemo(()=>new Q(0,0,0),[]),c=(u,h=1,f,p)=>{let m=0;const{width:S,height:v}=p,A=Fo().chart.data[u];if(!A||A.length===0)return;const y=e?2:6,x=e?12:50;let C=A.length;for(let w=0;w<C;w++){let M=(Fo().chart.circularId+w+1)%C;A[M]!==void 0&&(A[M]>m&&(m=A[M]*h),l.set(y+w/(C-1)*(S-y*2)-S/2,Math.min(100,A[M])*h/100*(v-y*2-x)-v/2,0),l.toArray(f.attributes.position.array,w*3))}f.attributes.position.needsUpdate=!0};return WC(function({viewport:h}){c("fps",1,r.current,h),s.current&&s.current.color.set(Fo().overclockingFps?Dr(n).overClock.toString():`rgb(${Dr(n).fps.toString()})`),c("gpu",5,o.current,h),c("cpu",5,a.current,h)}),te.jsxs(te.Fragment,{children:[te.jsxs("line",{onUpdate:u=>{u.updateMatrix(),eo.value-=1,u.matrixWorld.copy(u.matrix)},children:[te.jsx("bufferGeometry",{ref:r,children:te.jsx("bufferAttribute",{attach:"attributes-position",count:t.length,array:i.fps,itemSize:3,usage:ju,needsUpdate:!0})}),te.jsx("lineBasicMaterial",{ref:s,color:`rgb(${Dr(n).fps.toString()})`,transparent:!0,opacity:.5})]}),te.jsxs("line",{onUpdate:u=>{u.updateMatrix(),eo.value-=1,u.matrixWorld.copy(u.matrix)},children:[te.jsx("bufferGeometry",{ref:o,children:te.jsx("bufferAttribute",{attach:"attributes-position",count:t.length,array:i.gpu,itemSize:3,usage:ju,needsUpdate:!0})}),te.jsx("lineBasicMaterial",{color:`rgb(${Dr(n).gpu.toString()})`,transparent:!0,opacity:.5})]}),te.jsxs("line",{onUpdate:u=>{u.updateMatrix(),eo.value-=1,u.matrixWorld.copy(u.matrix)},children:[te.jsx("bufferGeometry",{ref:a,children:te.jsx("bufferAttribute",{attach:"attributes-position",count:t.length,array:i.cpu,itemSize:3,usage:ju,needsUpdate:!0})}),te.jsx("lineBasicMaterial",{color:`rgb(${Dr(n).cpu.toString()})`,transparent:!0,opacity:.5})]})]})},A4e=({colorBlind:n,chart:e,customData:t,matrixUpdate:i,showGraph:r=!0,antialias:s=!0,minimal:o})=>{const a=ne.useRef(void 0),l=Ko(c=>c.paused);return te.jsxs(Cde,{style:{display:"flex",position:"absolute",height:`${o?37:r?100:60}px`,minWidth:`${o?"100px":t?"370px":"310px"}`},children:[te.jsx(OF,{ref:a,orthographic:!0,dpr:s?[1,2]:1,gl:{antialias:!0,alpha:!0,stencil:!1,depth:!1},onCreated:({scene:c})=>{c.traverse(u=>{u.matrixWorldAutoUpdate=!1,u.matrixAutoUpdate=!1})},flat:!0,style:{marginBottom:"-42px",position:"relative",pointerEvents:"none",background:"transparent !important",height:`${o?37:r?100:60}px`},children:l?null:te.jsxs(te.Fragment,{children:[te.jsx(v4e,{}),te.jsx(g4e,{customData:t,minimal:o,matrixUpdate:i}),r&&te.jsx(m4e,{colorBlind:n,minimal:o,chart:e})]})}),l&&te.jsxs(wde,{children:[te.jsx(s4e,{})," PAUSED"]})]})},v4e=()=>(WC(function({gl:e,scene:t,camera:i}){i.updateMatrix(),eo.value-=1,i.matrixWorld.copy(i.matrix),i.matrixWorldInverse.copy(i.matrixWorld).invert(),e.render(t,i),qh.value=0,eo.value=0},1/0),null),y4e=ne.forwardRef(({portal:n,className:e,children:t,name:i,...r},s)=>{const o=Bo(u=>u.gl),a=ne.useRef(null),l=ne.useRef(null),c=(n==null?void 0:n.current)!=null?n.current:o.domElement.parentNode;return ne.useLayoutEffect(()=>{if(!a.current||!c)return;const u=document.createElement("div"),h=l.current=xO(u);return c.appendChild(u),()=>{h.unmount(),l.current=null,c.removeChild(u)}},[c]),ne.useLayoutEffect(()=>{const u=l.current;u&&u.render(te.jsx("div",{ref:s,className:e,children:t}))}),te.jsx("group",{name:i,...r,ref:a})});function x4e(n){let e=0;for(let i in n.attributes){const r=n.getAttribute(i);e+=r.count*r.itemSize*r.array.BYTES_PER_ELEMENT}const t=n.getIndex();return e+=t?t.count*t.itemSize*t.array.BYTES_PER_ELEMENT:0,e}const KB=(n,e)=>{const t=r=>{switch(r){case 1e3:return"RepeatWrapping";case 1001:return"ClampToEdgeWrapping";case 1002:return"MirroredRepeatWrapping";default:return"ClampToEdgeWrapping"}},i=r=>{switch(r){case 3e3:return"LinearEncoding";case 3001:return"sRGBEncoding";case 3002:return"RGBEEncoding";case 3003:return"LogLuvEncoding";case 3004:return"RGBM7Encoding";case 3005:return"RGBM16Encoding";case 3006:return"RGBDEncoding";case 3007:return"GammaEncoding";default:return"ClampToEdgeWrapping"}};return{name:n,url:e.image.currentSrc,encoding:i(e.encoding),wrapT:t(e.wrapT),flipY:e.flipY.toString()}},S4e=({program:n,material:e,setTexNumber:t})=>{const i=Ko(o=>o.gl),[r,s]=ne.useState(null);return ne.useEffect(()=>{if(i){const o=n==null?void 0:n.getUniforms();let a=0;const l=new Map;o.seq.forEach(c=>{if(!c.id.includes("uTroika")&&c.id!=="isOrthographic"&&c.id!=="uvTransform"&&c.id!=="lightProbe"&&c.id!=="projectionMatrix"&&c.id!=="viewMatrix"&&c.id!=="normalMatrix"&&c.id!=="modelMatrix"&&c.id!=="modelViewMatrix"){let u=[],h={name:c.id};c.cache&&(c.cache.forEach(f=>{typeof f<"u"&&u.push(f.toString().substring(0,4))}),h.value=u.join(),e[c.id]&&e[c.id].image&&e[c.id].image&&(a++,h.value=KB(c.id,e[c.id])),h.value||(h.value="empty"),l.set(c.id,h))}}),e.uniforms&&Object.keys(e.uniforms).forEach(c=>{const u=e.uniforms[c];if(u.value){const{value:h}=u;let f={name:c};if(c.includes("uTroika"))return;if(h.isTexture)a++,f.value=KB(c,h);else{let p=JSON.stringify(h);try{p=JSON.stringify(h)}catch{p=h.toString()}f.value=p}l.set(c,f)}}),a>0&&t(a),s(l)}},[]),te.jsx(cz,{children:r&&Array.from(r.values()).map(o=>te.jsx("span",{children:typeof o.value=="string"?te.jsx("li",{children:te.jsxs("span",{children:[o.name," :"," ",te.jsxs("b",{children:[o.value.substring(0,30),o.value.length>30?"...":""]})]})}):te.jsxs(te.Fragment,{children:[te.jsx("li",{children:te.jsxs("b",{children:[o.value.name,":"]})}),te.jsxs("div",{children:[Object.keys(o.value).map(a=>a!=="name"?te.jsx("div",{children:a==="url"?te.jsx("a",{href:o.value[a],target:"_blank",children:te.jsx("img",{src:o.value[a]})}):te.jsxs("li",{children:[a,": ",te.jsx("b",{children:o.value[a]})]})},a):null),te.jsxs(uz,{onClick:()=>{var a;console.info(e[o.value.name]||((a=e==null?void 0:e.uniforms[o.value.name])==null?void 0:a.value))},children:["console.info(",o.value.name,");"]})]})]})},o.name))})},E4e=({el:n})=>{Ko(i=>i.log);const e=Ko(i=>i.gl),t=i=>{if(!e)return 0;const r=Math.round(i.drawCounts.total/(e.info.render.triangles+e.info.render.lines+e.info.render.points)*100*10)/10;return isFinite(r)&&r||0};return te.jsx(te.Fragment,{children:n.drawCounts.total>0&&te.jsxs(Lr,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[n.drawCounts.type==="Triangle"?te.jsx(pz,{style:{top:"-1px"}}):te.jsx(hz,{style:{top:"-1px"}}),n.drawCounts.total,te.jsxs("small",{children:[n.drawCounts.type,"s"]}),e&&te.jsxs(Es,{style:{bottom:"-10px",width:"40px",fontWeight:"bold"},children:[n.visible&&!n.material.wireframe?t(n):0,"%"]})]})})},C4e=({el:n})=>{const[e,t]=ne.useState(n.visible),[i,r]=ne.useState(n.expand),[s,o]=ne.useState(0),{meshes:a,program:l,material:c}=n;return te.jsxs(Mde,{children:[te.jsxs(Ede,{onClick:()=>{n.expand=!i,Object.keys(a).forEach(u=>{const h=a[u];h.material.wireframe=!1}),r(!i)},children:[te.jsx(Rw,{style:{marginRight:"6px"},children:i?te.jsx("span",{children:te.jsx(fz,{})}):te.jsx("span",{children:te.jsx(dz,{})})}),l&&te.jsxs("span",{children:[te.jsx(Tde,{children:l.name}),te.jsxs(Lr,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[te.jsx(Jde,{style:{top:"-1px"}}),Object.keys(a).length,te.jsx("small",{children:Object.keys(a).length>1?"users":"user"})]}),s>0&&te.jsxs(Lr,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[s>1?te.jsx(sS,{style:{top:"-1px"}}):te.jsx(sS,{style:{top:"-1px"}}),s,te.jsx("small",{children:"tex"})]}),te.jsx(E4e,{el:n}),c.glslVersion==="300 es"&&te.jsxs(Lr,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[te.jsx(a4e,{style:{top:"-1px"}}),"300",te.jsx("small",{children:"es"}),te.jsx(Es,{style:{bottom:"-10px",width:"40px"},children:"glsl"})]})]}),te.jsx(_de,{onPointerEnter:()=>{Object.keys(a).forEach(u=>{const h=a[u];h.material.wireframe=!0})},onPointerLeave:()=>{Object.keys(a).forEach(u=>{const h=a[u];h.material.wireframe=!1})},onClick:u=>{u.stopPropagation(),Object.keys(a).forEach(h=>{const f=a[h],p=!e;f.visible=p,n.visible=p,t(p)})},children:e?te.jsx(jde,{}):te.jsx(Vde,{})})]}),te.jsxs("div",{style:{maxHeight:i?"9999px":0,overflow:"hidden"},children:[te.jsxs(YB,{children:[te.jsx(Ode,{})," Uniforms:"]}),te.jsx(S4e,{program:l,material:c,setTexNumber:o}),te.jsxs(YB,{children:[te.jsx(Fde,{})," Geometries:"]}),te.jsx(cz,{children:a&&Object.keys(a).map(u=>a[u]&&a[u].geometry&&te.jsxs(Bde,{children:[te.jsxs("span",{children:[a[u].geometry.type,": "]}),a[u].userData&&a[u].userData.drawCount&&te.jsxs("b",{children:[te.jsxs("div",{children:[a[u].userData.drawCount.count,te.jsxs("small",{children:[" ",a[u].userData.drawCount.type,"s"]})]}),te.jsx("br",{}),te.jsxs("div",{children:[Math.round(x4e(a[u].geometry)/1024*1e3)/1e3,"Kb",te.jsx("small",{children:" memory used"})]})]})]},u))}),te.jsxs(uz,{onClick:()=>{console.info(c)},children:["console.info(",c.type,")"]})]})]})},w4e=()=>{Ko(e=>e.triggerProgramsUpdate);const n=Ko(e=>e.programs);return te.jsx(Ide,{children:n&&Array.from(n.values()).map(e=>e&&e?te.jsx(C4e,{el:e},e.material.uuid):null)})},Dr=n=>({overClock:"#ff6eff",fps:n?"100, 143, 255":"238,38,110",cpu:n?"254, 254, 98":"66,226,46",gpu:n?"254,254,254":"253,151,31",custom:n?"86,180,233":"40,255,255"}),_4e=({showGraph:n,colorBlind:e})=>{const t=Ko(r=>r.overclockingFps),i=Ko(r=>r.fpsLimit);return te.jsxs(Es,{style:n?{color:t?Dr(e).overClock.toString():`rgb(${Dr(e).fps})`}:{},children:["FPS ",t?`${i}`:""]})},M4e=({showGraph:n,colorBlind:e,customData:t,minimal:i})=>{const r=Ko(s=>s.gl);return r?te.jsxs(Sde,{children:[te.jsxs(Lr,{children:[te.jsx(Zde,{}),te.jsx(Es,{style:n?{color:`rgb(${Dr(e).gpu.toString()})`}:{},children:"GPU"}),te.jsx(Ev,{children:"ms"})]}),te.jsxs(Lr,{children:[te.jsx(c4e,{}),te.jsx(Es,{style:n?{color:`rgb(${Dr(e).cpu.toString()})`}:{},children:"CPU"}),te.jsx(Ev,{children:"ms"})]}),te.jsxs(Lr,{children:[te.jsx(Yde,{}),te.jsx(_4e,{showGraph:n,colorBlind:e})]}),!i&&r&&te.jsxs(Lr,{children:[te.jsx(h4e,{}),te.jsx(Es,{children:r.info.render.calls===1?"call":"calls"})]}),!i&&r&&te.jsxs(Lr,{children:[te.jsx(pz,{}),te.jsx(Es,{children:"Triangles"})]}),t&&te.jsxs(Lr,{children:[te.jsx(Lde,{}),te.jsx(Es,{style:n?{color:`rgb(${Dr(e).custom})`}:{},children:t.name}),t.info&&te.jsx(Ev,{children:t.info})]})]}):null},T4e=({showGraph:n,colorBlind:e,deepAnalyze:t,customData:i,matrixUpdate:r,openByDefault:s,minimal:o})=>te.jsxs(te.Fragment,{children:[te.jsx(M4e,{showGraph:n,colorBlind:e,customData:i,minimal:o}),!o&&te.jsx(I4e,{matrixUpdate:r,openByDefault:s,deepAnalyze:t,showGraph:n})]}),b4e=({matrixUpdate:n})=>te.jsxs("div",{children:[te.jsxs(Lr,{children:[te.jsx(t4e,{}),te.jsx(Es,{children:"Geometries"})]}),te.jsxs(Lr,{children:[te.jsx(sS,{}),te.jsx(Es,{children:"Textures"})]}),te.jsxs(Lr,{children:[te.jsx(hz,{}),te.jsx(Es,{children:"shaders"})]}),te.jsxs(Lr,{children:[te.jsx(i4e,{}),te.jsx(Es,{children:"Lines"})]}),te.jsxs(Lr,{children:[te.jsx(Gde,{}),te.jsx(Es,{children:"Points"})]}),n&&te.jsxs(Lr,{children:[te.jsx(Qde,{}),te.jsx(Es,{children:"Matrices"})]})]}),JB=({tab:n,title:e,set:t})=>{const i=Ko(r=>r.tab);return te.jsx(Rw,{className:`${i===n?" __perf_toggle_tab_active":""}`,onClick:()=>{t(!0),js({tab:n})},children:te.jsx("span",{children:e})})},I4e=({openByDefault:n,showGraph:e,deepAnalyze:t,matrixUpdate:i})=>{const[r,s]=ns.useState(n);return te.jsxs("span",{children:[te.jsx(R4e,{show:r,showGraph:e,matrixUpdate:i}),n&&!t?null:te.jsxs(Rde,{className:"__perf_toggle",children:[t&&te.jsx(JB,{tab:"programs",title:"Programs",set:s}),t&&te.jsx(JB,{tab:"infos",title:"Infos",set:s}),te.jsx(Rw,{onClick:()=>{s(!r)},children:r?te.jsxs("span",{children:[te.jsx(fz,{})," Minimize"]}):te.jsxs("span",{children:[te.jsx(dz,{})," More"]})})]})]})},R4e=({show:n,showGraph:e,matrixUpdate:t})=>{const i=Ko(r=>r.tab);return te.jsxs(te.Fragment,{children:[te.jsx(b4e,{matrixUpdate:t}),n&&te.jsx("div",{children:te.jsx(bde,{style:{marginTop:e?"38px":0},children:i==="programs"&&te.jsx(w4e,{})})})]})},B4e=({showGraph:n=!0,colorBlind:e=!1,openByDefault:t=!0,className:i,overClock:r=!1,style:s,position:o="top-right",chart:a,logsPerSecond:l,deepAnalyze:c=!1,antialias:u=!0,customData:h,matrixUpdate:f,minimal:p})=>{const m=ne.useRef(null);return te.jsxs(te.Fragment,{children:[te.jsx(Vfe,{logsPerSecond:l,chart:a,overClock:r,deepAnalyze:c,matrixUpdate:f}),te.jsx(y4e,{name:"r3f-perf",children:te.jsxs(xde,{className:(i?" ".concat(i):" ")+` ${o||""} ${p?"minimal":""}`,style:{minHeight:p?"37px":n?"100px":"60px",...s},ref:m,children:[te.jsx(A4e,{perfContainerRef:m,colorBlind:e,chart:a,showGraph:n,antialias:u,customData:h,minimal:p,matrixUpdate:f}),te.jsx(T4e,{colorBlind:e,showGraph:n,deepAnalyze:c,openByDefault:t,customData:h,matrixUpdate:f,minimal:p})]})})]})};function k4e(){return te.jsx(te.Fragment,{children:te.jsxs("mesh",{children:[te.jsx("sphereGeometry",{args:[100,64,64]}),te.jsx("meshStandardMaterial",{color:"#666666",transparent:!1,opacity:.5})]})})}function P4e({mercatorData:n}){const[e,t]=ne.useState();return ne.useEffect(()=>{n&&t(n),console.log("useEffect triggered by MERCATOR json change")},[n]),console.log(n),te.jsxs(te.Fragment,{children:[te.jsxs("mesh",{children:[te.jsx("planeGeometry",{args:[200,200]}),te.jsx("meshStandardMaterial",{color:"#0000ff",transparent:!1,opacity:1})]}),e?e.features.map((i,r)=>{const s=i.geometry.coordinates.flat(4),o=new Float32Array(s);return te.jsx("lineSegments",{children:te.jsxs("bufferGeometry",{children:[te.jsx("bufferAttribute",{attach:"attributes-position",args:[o,3]}),te.jsx("lineBasicMaterial",{color:"black"})]})},r)}):null]})}var Bw={exports:{}};Bw.exports=Eg;Bw.exports.default=Eg;function Eg(n,e,t){t=t||2;var i=e&&e.length,r=i?e[0]*t:n.length,s=gz(n,0,r,t,!0),o=[];if(!s||s.next===s.prev)return o;var a,l,c,u,h,f,p;if(i&&(s=F4e(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(var m=t;m<r;m+=t)h=n[m],f=n[m+1],h<a&&(a=h),f<l&&(l=f),h>c&&(c=h),f>u&&(u=f);p=Math.max(c-a,u-l),p=p!==0?32767/p:0}return s4(s,o,t,a,l,p,0),o}function gz(n,e,t,i,r){var s,o;if(r===lS(n,e,t,i)>0)for(s=e;s<t;s+=i)o=$B(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=$B(s,n[s],n[s+1],o);return o&&Cg(o,o.next)&&(a4(o),o=o.next),o}function m3(n,e){if(!n)return n;e||(e=n);var t=n,i;do if(i=!1,!t.steiner&&(Cg(t,t.next)||ni(t.prev,t,t.next)===0)){if(a4(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function s4(n,e,t,i,r,s,o){if(n){!o&&s&&H4e(n,i,r,s);for(var a=n,l,c;n.prev!==n.next;){if(l=n.prev,c=n.next,s?D4e(n,i,r,s):L4e(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),a4(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=O4e(m3(n),e,t),s4(n,e,t,i,r,s,2)):o===2&&N4e(n,e,t,i,r,s):s4(m3(n),e,t,i,r,s,1);break}}}}function L4e(n){var e=n.prev,t=n,i=n.next;if(ni(e,t,i)>=0)return!1;for(var r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,c=i.y,u=r<s?r<o?r:o:s<o?s:o,h=a<l?a<c?a:c:l<c?l:c,f=r>s?r>o?r:o:s>o?s:o,p=a>l?a>c?a:c:l>c?l:c,m=i.next;m!==e;){if(m.x>=u&&m.x<=f&&m.y>=h&&m.y<=p&&Kh(r,a,s,l,o,c,m.x,m.y)&&ni(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function D4e(n,e,t,i){var r=n.prev,s=n,o=n.next;if(ni(r,s,o)>=0)return!1;for(var a=r.x,l=s.x,c=o.x,u=r.y,h=s.y,f=o.y,p=a<l?a<c?a:c:l<c?l:c,m=u<h?u<f?u:f:h<f?h:f,S=a>l?a>c?a:c:l>c?l:c,v=u>h?u>f?u:f:h>f?h:f,A=oS(p,m,e,t,i),y=oS(S,v,e,t,i),x=n.prevZ,C=n.nextZ;x&&x.z>=A&&C&&C.z<=y;){if(x.x>=p&&x.x<=S&&x.y>=m&&x.y<=v&&x!==r&&x!==o&&Kh(a,u,l,h,c,f,x.x,x.y)&&ni(x.prev,x,x.next)>=0||(x=x.prevZ,C.x>=p&&C.x<=S&&C.y>=m&&C.y<=v&&C!==r&&C!==o&&Kh(a,u,l,h,c,f,C.x,C.y)&&ni(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;x&&x.z>=A;){if(x.x>=p&&x.x<=S&&x.y>=m&&x.y<=v&&x!==r&&x!==o&&Kh(a,u,l,h,c,f,x.x,x.y)&&ni(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;C&&C.z<=y;){if(C.x>=p&&C.x<=S&&C.y>=m&&C.y<=v&&C!==r&&C!==o&&Kh(a,u,l,h,c,f,C.x,C.y)&&ni(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function O4e(n,e,t){var i=n;do{var r=i.prev,s=i.next.next;!Cg(r,s)&&mz(r,i,i.next,s)&&o4(r,s)&&o4(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),a4(i),a4(i.next),i=n=s),i=i.next}while(i!==n);return m3(i)}function N4e(n,e,t,i,r,s){var o=n;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&j4e(o,a)){var l=Az(o,a);o=m3(o,o.next),l=m3(l,l.next),s4(o,e,t,i,r,s,0),s4(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function F4e(n,e,t,i){var r=[],s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,c=gz(n,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(W4e(c));for(r.sort(U4e),s=0;s<r.length;s++)t=G4e(r[s],t);return t}function U4e(n,e){return n.x-e.x}function G4e(n,e){var t=z4e(n,e);if(!t)return e;var i=Az(t,n);return m3(i,i.next),m3(t,t.next)}function z4e(n,e){var t=e,i=n.x,r=n.y,s=-1/0,o;do{if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){var a=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(a<=i&&a>s&&(s=a,o=t.x<t.next.x?t:t.next,a===i))return o}t=t.next}while(t!==e);if(!o)return null;var l=o,c=o.x,u=o.y,h=1/0,f;t=o;do i>=t.x&&t.x>=c&&i!==t.x&&Kh(r<u?i:s,r,c,u,r<u?s:i,r,t.x,t.y)&&(f=Math.abs(r-t.y)/(i-t.x),o4(t,n)&&(f<h||f===h&&(t.x>o.x||t.x===o.x&&Q4e(o,t)))&&(o=t,h=f)),t=t.next;while(t!==l);return o}function Q4e(n,e){return ni(n.prev,n,e.prev)<0&&ni(e.next,n,n.next)<0}function H4e(n,e,t,i){var r=n;do r.z===0&&(r.z=oS(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,V4e(r)}function V4e(n){var e,t,i,r,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,c*=2}while(o>1);return n}function oS(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function W4e(n){var e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Kh(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function j4e(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!X4e(n,e)&&(o4(n,e)&&o4(e,n)&&q4e(n,e)&&(ni(n.prev,n,e.prev)||ni(n,e.prev,e))||Cg(n,e)&&ni(n.prev,n,n.next)>0&&ni(e.prev,e,e.next)>0)}function ni(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Cg(n,e){return n.x===e.x&&n.y===e.y}function mz(n,e,t,i){var r=b6(ni(n,e,t)),s=b6(ni(n,e,i)),o=b6(ni(t,i,n)),a=b6(ni(t,i,e));return!!(r!==s&&o!==a||r===0&&T6(n,t,e)||s===0&&T6(n,i,e)||o===0&&T6(t,n,i)||a===0&&T6(t,e,i))}function T6(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function b6(n){return n>0?1:n<0?-1:0}function X4e(n,e){var t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&mz(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function o4(n,e){return ni(n.prev,n,n.next)<0?ni(n,e,n.next)>=0&&ni(n,n.prev,e)>=0:ni(n,e,n.prev)<0||ni(n,n.next,e)<0}function q4e(n,e){var t=n,i=!1,r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function Az(n,e){var t=new aS(n.i,n.x,n.y),i=new aS(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function $B(n,e,t,i){var r=new aS(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function a4(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function aS(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Eg.deviation=function(n,e,t,i){var r=e&&e.length,s=r?e[0]*t:n.length,o=Math.abs(lS(n,0,s,t));if(r)for(var a=0,l=e.length;a<l;a++){var c=e[a]*t,u=a<l-1?e[a+1]*t:n.length;o-=Math.abs(lS(n,c,u,t))}var h=0;for(a=0;a<i.length;a+=3){var f=i[a]*t,p=i[a+1]*t,m=i[a+2]*t;h+=Math.abs((n[f]-n[m])*(n[p+1]-n[f+1])-(n[f]-n[p])*(n[m+1]-n[f+1]))}return o===0&&h===0?0:Math.abs((h-o)/o)};function lS(n,e,t,i){for(var r=0,s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}Eg.flatten=function(n){for(var e=n[0][0].length,t={vertices:[],holes:[],dimensions:e},i=0,r=0;r<n.length;r++){for(var s=0;s<n[r].length;s++)for(var o=0;o<e;o++)t.vertices.push(n[r][s][o]);r>0&&(i+=n[r-1].length,t.holes.push(i))}return t};var Y4e=Bw.exports;const ZB=W2(Y4e);class K4e{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const s=t[r],o=e+s,a=Math.abs(e)<Math.abs(s)?e-(o-s):s-(o-e);a&&(t[i++]=a),e=o}return t[i]=e,this._n=i+1,this}valueOf(){const e=this._partials;let t=this._n,i,r,s,o=0;if(t>0){for(o=e[--t];t>0&&(i=o,r=e[--t],o=i+r,s=r-(o-i),!s););t>0&&(s<0&&e[t-1]<0||s>0&&e[t-1]>0)&&(r=s*2,i=o+r,r==i-o&&(o=i))}return o}}var kw=Math.PI,ek=kw/2,I6=180/kw,Z1=kw/180,J4e=Math.abs,cS=Math.atan2,zu=Math.cos,ua=Math.sin,uS=Math.sqrt;function $4e(n){return n>1?ek:n<-1?-ek:Math.asin(n)}function tk(n){return(n=ua(n/2))*n}function Mh(){}function L9(n,e){n&&ik.hasOwnProperty(n.type)&&ik[n.type](n,e)}var nk={Feature:function(n,e){L9(n.geometry,e)},FeatureCollection:function(n,e){for(var t=n.features,i=-1,r=t.length;++i<r;)L9(t[i].geometry,e)}},ik={Sphere:function(n,e){e.sphere()},Point:function(n,e){n=n.coordinates,e.point(n[0],n[1],n[2])},MultiPoint:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)n=t[i],e.point(n[0],n[1],n[2])},LineString:function(n,e){hS(n.coordinates,e,0)},MultiLineString:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)hS(t[i],e,0)},Polygon:function(n,e){rk(n.coordinates,e)},MultiPolygon:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)rk(t[i],e)},GeometryCollection:function(n,e){for(var t=n.geometries,i=-1,r=t.length;++i<r;)L9(t[i],e)}};function hS(n,e,t){var i=-1,r=n.length-t,s;for(e.lineStart();++i<r;)s=n[i],e.point(s[0],s[1],s[2]);e.lineEnd()}function rk(n,e){var t=-1,i=n.length;for(e.polygonStart();++t<i;)hS(n[t],e,1);e.polygonEnd()}function Z4e(n,e){n&&nk.hasOwnProperty(n.type)?nk[n.type](n,e):L9(n,e)}var fS,dS,M8,T8,F2={sphere:Mh,point:Mh,lineStart:e5e,lineEnd:Mh,polygonStart:Mh,polygonEnd:Mh};function e5e(){F2.point=n5e,F2.lineEnd=t5e}function t5e(){F2.point=F2.lineEnd=Mh}function n5e(n,e){n*=Z1,e*=Z1,dS=n,M8=ua(e),T8=zu(e),F2.point=i5e}function i5e(n,e){n*=Z1,e*=Z1;var t=ua(e),i=zu(e),r=J4e(n-dS),s=zu(r),o=ua(r),a=i*o,l=T8*t-M8*i*s,c=M8*t+T8*i*s;fS.add(cS(uS(a*a+l*l),c)),dS=n,M8=t,T8=i}function r5e(n){return fS=new K4e,Z4e(n,F2),+fS}var pS=[null,null],s5e={type:"LineString",coordinates:pS};function o5e(n,e){return pS[0]=n,pS[1]=e,r5e(s5e)}function a5e(n,e){var t=n[0]*Z1,i=n[1]*Z1,r=e[0]*Z1,s=e[1]*Z1,o=zu(i),a=ua(i),l=zu(s),c=ua(s),u=o*zu(t),h=o*ua(t),f=l*zu(r),p=l*ua(r),m=2*$4e(uS(tk(s-i)+o*l*tk(r-t))),S=ua(m),v=m?function(A){var y=ua(A*=m)/S,x=ua(m-A)/S,C=x*u+y*f,w=x*h+y*p,M=x*a+y*c;return[cS(w,C)*I6,cS(M,uS(C*C+w*w))*I6]}:function(){return[t*I6,i*I6]};return v.distance=m,v}function l5e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=s.call(t)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}function c5e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function sk(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,x5e(i.key),i)}}function u5e(n,e,t){return e&&sk(n.prototype,e),t&&sk(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function h5e(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&gS(n,e)}function D9(n){return D9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},D9(n)}function gS(n,e){return gS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},gS(n,e)}function f5e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function d5e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function p5e(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d5e(n)}function g5e(n){var e=f5e();return function(){var i=D9(n),r;if(e){var s=D9(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return p5e(this,r)}}function ff(n,e){return m5e(n)||l5e(n,e)||vz(n,e)||A5e()}function m5e(n){if(Array.isArray(n))return n}function vz(n,e){if(n){if(typeof n=="string")return ok(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ok(n,e)}}function ok(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function A5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v5e(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=vz(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(l){throw l},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){t=t.call(n)},n:function(){var l=t.next();return s=l.done,l},e:function(l){o=!0,a=l},f:function(){try{!s&&t.return!=null&&t.return()}finally{if(o)throw a}}}}function y5e(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function x5e(n){var e=y5e(n,"string");return typeof e=="symbol"?e:String(e)}var ak=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,i=[],r=null;return e.forEach(function(s){if(r){var o=o5e(s,r)*180/Math.PI;if(o>t)for(var a=a5e(r,s),l=1/Math.ceil(o/t),c=l;c<1;)i.push(a(c)),c+=l}i.push(r=s)}),i},mS=typeof window<"u"&&window.THREE?window.THREE:{BufferGeometry:Lt,Float32BufferAttribute:ht},S5e=new mS.BufferGeometry().setAttribute?"setAttribute":"addAttribute",yz=function(n){h5e(t,n);var e=g5e(t);function t(i){var r,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;c5e(this,t),r=e.call(this),r.type="GeoJsonGeometry",r.parameters={geoJson:i,radius:s,resolution:o};var a=({Point:h,MultiPoint:f,LineString:p,MultiLineString:m,Polygon:S,MultiPolygon:v}[i.type]||function(){return[]})(i.coordinates,s),l=[],c=[],u=0;a.forEach(function(A){var y=l.length;df({indices:l,vertices:c},A),r.addGroup(y,l.length-y,u++)}),l.length&&r.setIndex(l),c.length&&r[S5e]("position",new mS.Float32BufferAttribute(c,3));function h(A,y){var x=Cv(A[1],A[0],y),C=[];return[{vertices:x,indices:C}]}function f(A,y){var x={vertices:[],indices:[]};return A.map(function(C){return h(C,y)}).forEach(function(C){var w=ff(C,1),M=w[0];df(x,M)}),[x]}function p(A,y){for(var x=ak(A,o).map(function(b){var B=ff(b,2),P=B[0],O=B[1];return Cv(O,P,y)}),C=ZB.flatten([x]),w=C.vertices,M=Math.round(w.length/3),T=[],R=1;R<M;R++)T.push(R-1,R);return[{vertices:w,indices:T}]}function m(A,y){var x={vertices:[],indices:[]};return A.map(function(C){return p(C,y)}).forEach(function(C){var w=ff(C,1),M=w[0];df(x,M)}),[x]}function S(A,y){for(var x=A.map(function(q){return ak(q,o).map(function(J){var L=ff(J,2),D=L[0],F=L[1];return Cv(F,D,y)})}),C=ZB.flatten(x),w=C.vertices,M=C.holes,T=M[0]||1/0,R=w.slice(0,T*3),b=w.slice(T*3),B=new Set(M),P=Math.round(w.length/3),O=[],G=[],H=1;H<P;H++)B.has(H)||(H<T?O.push(H-1,H):G.push(H-1-T,H-T));var j=[{indices:O,vertices:R}];return M.length&&j.push({indices:G,vertices:b}),j}function v(A,y){var x={vertices:[],indices:[]},C={vertices:[],indices:[]};A.map(function(M){return S(M,y)}).forEach(function(M){var T=ff(M,2),R=T[0],b=T[1];df(x,R),b&&df(C,b)});var w=[x];return C.vertices.length&&w.push(C),w}return r}return u5e(t)}(mS.BufferGeometry);function df(n,e){var t=Math.round(n.vertices.length/3);lk(n.vertices,e.vertices),lk(n.indices,e.indices.map(function(i){return i+t}))}function lk(n,e){var t=v5e(e),i;try{for(t.s();!(i=t.n()).done;){var r=i.value;n.push(r)}}catch(s){t.e(s)}finally{t.f()}}function Cv(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=(90-n)*Math.PI/180,r=(90-e)*Math.PI/180;return[t*Math.sin(i)*Math.cos(r),t*Math.cos(i),t*Math.sin(i)*Math.sin(r)]}function E5e(){const[n,e]=ne.useState(null),[t,i]=ne.useState(!0),r=async()=>{const o=await(await fetch("https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_50m_admin_0_countries.geojson")).json();e(o),i(!1),console.log("Fetch earth map complete")};return ne.useEffect(()=>{r()},[]),te.jsx(te.Fragment,{children:n?n.features.map((s,o)=>te.jsx("lineSegments",{geometry:new yz(s.geometry,100),children:te.jsx("lineBasicMaterial",{color:"#000000"})},o)):null})}function C5e(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}class xn{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){let r=[];return this.decompose(0,e,r,2),i.length&&i.decompose(0,i.length,r,3),this.decompose(t,this.length,r,1),Ja.from(r,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let i=[];return this.decompose(e,t,i,0),Ja.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),r=new rd(this),s=new rd(e);for(let o=t,a=t;;){if(r.next(o),s.next(o),o=0,r.lineBreak!=s.lineBreak||r.done!=s.done||r.value!=s.value)return!1;if(a+=r.value.length,r.done||a>=i)return!0}}iter(e=1){return new rd(this,e)}iterRange(e,t=this.length){return new xz(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let r=this.line(e).from;i=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new Sz(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?xn.empty:e.length<=32?new Ci(e):Ja.from(Ci.split(e,[]))}}class Ci extends xn{constructor(e,t=w5e(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,r){for(let s=0;;s++){let o=this.text[s],a=r+o.length;if((t?i:a)>=e)return new _5e(r,a,i,o);r=a+1,i++}}decompose(e,t,i,r){let s=e<=0&&t>=this.length?this:new Ci(ck(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(r&1){let o=i.pop(),a=b8(s.text,o.text.slice(),0,s.length);if(a.length<=32)i.push(new Ci(a,o.length+s.length));else{let l=a.length>>1;i.push(new Ci(a.slice(0,l)),new Ci(a.slice(l)))}}else i.push(s)}replace(e,t,i){if(!(i instanceof Ci))return super.replace(e,t,i);let r=b8(this.text,b8(i.text,ck(this.text,0,e)),t),s=this.length+i.length-(t-e);return r.length<=32?new Ci(r,s):Ja.from(Ci.split(r,[]),s)}sliceString(e,t=this.length,i=`
`){let r="";for(let s=0,o=0;s<=t&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(r+=i),e<l&&t>s&&(r+=a.slice(Math.max(0,e-s),t-s)),s=l+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],r=-1;for(let s of e)i.push(s),r+=s.length+1,i.length==32&&(t.push(new Ci(i,r)),i=[],r=-1);return r>-1&&t.push(new Ci(i,r)),t}}class Ja extends xn{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,r){for(let s=0;;s++){let o=this.children[s],a=r+o.length,l=i+o.lines-1;if((t?l:a)>=e)return o.lineInner(e,t,i,r);r=a+1,i=l+1}}decompose(e,t,i,r){for(let s=0,o=0;o<=t&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&t>=o){let c=r&((o<=e?1:0)|(l>=t?2:0));o>=e&&l<=t&&!c?i.push(a):a.decompose(e-o,t-o,i,c)}o=l+1}}replace(e,t,i){if(i.lines<this.lines)for(let r=0,s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.length;if(e>=s&&t<=a){let l=o.replace(e-s,t-s,i),c=this.lines-o.lines+l.lines;if(l.lines<c>>5-1&&l.lines>c>>5+1){let u=this.children.slice();return u[r]=l,new Ja(u,this.length-(t-e)+i.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){let r="";for(let s=0,o=0;s<this.children.length&&o<=t;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(r+=i),e<l&&t>o&&(r+=a.sliceString(e-o,t-o,i)),o=l+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Ja))return 0;let i=0,[r,s,o,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,s+=t){if(r==o||s==a)return i;let l=this.children[r],c=e.children[s];if(l!=c)return i+l.scanIdentical(c,t);i+=l.length+1}}static from(e,t=e.reduce((i,r)=>i+r.length+1,-1)){let i=0;for(let p of e)i+=p.lines;if(i<32){let p=[];for(let m of e)m.flatten(p);return new Ci(p,t)}let r=Math.max(32,i>>5),s=r<<1,o=r>>1,a=[],l=0,c=-1,u=[];function h(p){let m;if(p.lines>s&&p instanceof Ja)for(let S of p.children)h(S);else p.lines>o&&(l>o||!l)?(f(),a.push(p)):p instanceof Ci&&l&&(m=u[u.length-1])instanceof Ci&&p.lines+m.lines<=32?(l+=p.lines,c+=p.length+1,u[u.length-1]=new Ci(m.text.concat(p.text),m.length+1+p.length)):(l+p.lines>r&&f(),l+=p.lines,c+=p.length+1,u.push(p))}function f(){l!=0&&(a.push(u.length==1?u[0]:Ja.from(u,c)),c=-1,l=u.length=0)}for(let p of e)h(p);return f(),a.length==1?a[0]:new Ja(a,t)}}xn.empty=new Ci([""],0);function w5e(n){let e=-1;for(let t of n)e+=t.length+1;return e}function b8(n,e,t=0,i=1e9){for(let r=0,s=0,o=!0;s<n.length&&r<=i;s++){let a=n[s],l=r+a.length;l>=t&&(l>i&&(a=a.slice(0,i-r)),r<t&&(a=a.slice(t-r)),o?(e[e.length-1]+=a,o=!1):e.push(a)),r=l+1}return e}function ck(n,e,t){return b8(n,[""],e,t)}class rd{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Ci?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,r=this.nodes[i],s=this.offsets[i],o=s>>1,a=r instanceof Ci?r.text.length:r.children.length;if(o==(t>0?a:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(r instanceof Ci){let l=r.text[o+(t<0?-1:0)];if(this.offsets[i]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=r.children[o+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof Ci?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class xz{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new rd(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=i?r:t<0?r.slice(r.length-i):r.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Sz{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:r}=this.inner.next(e);return t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(xn.prototype[Symbol.iterator]=function(){return this.iter()},rd.prototype[Symbol.iterator]=xz.prototype[Symbol.iterator]=Sz.prototype[Symbol.iterator]=function(){return this});class _5e{constructor(e,t,i,r){this.from=e,this.to=t,this.number=i,this.text=r}get length(){return this.to-this.from}}let d2="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=1;n<d2.length;n++)d2[n]+=d2[n-1];function M5e(n){for(let e=1;e<d2.length;e+=2)if(d2[e]>n)return d2[e-1]<=n;return!1}function uk(n){return n>=127462&&n<=127487}const hk=8205;function Nr(n,e,t=!0,i=!0){return(t?Ez:T5e)(n,e,i)}function Ez(n,e,t){if(e==n.length)return e;e&&Cz(n.charCodeAt(e))&&wz(n.charCodeAt(e-1))&&e--;let i=dr(n,e);for(e+=Oo(i);e<n.length;){let r=dr(n,e);if(i==hk||r==hk||t&&M5e(r))e+=Oo(r),i=r;else if(uk(r)){let s=0,o=e-2;for(;o>=0&&uk(dr(n,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function T5e(n,e,t){for(;e>0;){let i=Ez(n,e-2,t);if(i<e)return i;e--}return 0}function Cz(n){return n>=56320&&n<57344}function wz(n){return n>=55296&&n<56320}function dr(n,e){let t=n.charCodeAt(e);if(!wz(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return Cz(i)?(t-55296<<10)+(i-56320)+65536:t}function Pw(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function Oo(n){return n<65536?1:2}const AS=/\r\n?|\n/;var is=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(is||(is={}));class ul{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,r=0;t<this.sections.length;){let s=this.sections[t++],o=this.sections[t++];o<0?(e(i,r,s),r+=s):r+=o,i+=s}}iterChangedRanges(e,t=!1){vS(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];r<0?e.push(i,r):e.push(r,i)}return new ul(e)}composeDesc(e){return this.empty?e:e.empty?this:_z(this,e)}mapDesc(e,t=!1){return e.empty?this:yS(this,e,t)}mapPos(e,t=-1,i=is.Simple){let r=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],c=r+a;if(l<0){if(c>e)return s+(e-r);s+=a}else{if(i!=is.Simple&&c>=e&&(i==is.TrackDel&&r<e&&c>e||i==is.TrackBefore&&r<e||i==is.TrackAfter&&c>e))return null;if(c>e||c==e&&t<0&&!a)return e==r||t<0?s:s+l;s+=l}r=c}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return s}touchesRange(e,t=e){for(let i=0,r=0;i<this.sections.length&&r<=t;){let s=this.sections[i++],o=this.sections[i++],a=r+s;if(o>=0&&r<=t&&a>=e)return r<e&&a>t?"cover":!0;r=a}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+i+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ul(e)}static create(e){return new ul(e)}}class Gi extends ul{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return vS(this,(t,i,r,s,o)=>e=e.replace(r,r+(i-t),o),!1),e}mapDesc(e,t=!1){return yS(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let r=0,s=0;r<t.length;r+=2){let o=t[r],a=t[r+1];if(a>=0){t[r]=a,t[r+1]=o;let l=r>>1;for(;i.length<l;)i.push(xn.empty);i.push(o?e.slice(s,s+o):xn.empty)}s+=o}return new Gi(t,i)}compose(e){return this.empty?e:e.empty?this:_z(this,e,!0)}map(e,t=!1){return e.empty?this:yS(this,e,t,!0)}iterChanges(e,t=!1){vS(this,e,t)}get desc(){return ul.create(this.sections)}filter(e){let t=[],i=[],r=[],s=new l4(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let u=Math.min(s.len,l-a);kr(r,u,-1);let h=s.ins==-1?-1:s.off==0?s.ins:0;kr(t,u,h),h>0&&ec(i,t,s.text),s.forward(u),a+=u}let c=e[o++];for(;a<c;){if(s.done)break e;let u=Math.min(s.len,c-a);kr(t,u,-1),kr(r,u,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(u),a+=u}}return{changes:new Gi(t,i),filtered:ul.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],r=this.sections[t+1];r<0?e.push(i):r==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let r=[],s=[],o=0,a=null;function l(u=!1){if(!u&&!r.length)return;o<t&&kr(r,t-o,-1);let h=new Gi(r,s);a=a?a.compose(h.map(a)):h,r=[],s=[],o=0}function c(u){if(Array.isArray(u))for(let h of u)c(h);else if(u instanceof Gi){if(u.length!=t)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${t})`);l(),a=a?a.compose(u.map(a)):u}else{let{from:h,to:f=h,insert:p}=u;if(h>f||h<0||f>t)throw new RangeError(`Invalid change range ${h} to ${f} (in doc of length ${t})`);let m=p?typeof p=="string"?xn.of(p.split(i||AS)):p:xn.empty,S=m.length;if(h==f&&S==0)return;h<o&&l(),h>o&&kr(r,h-o,-1),kr(r,f-h,S),ec(s,r,m),o=f}}return c(e),l(!a),a}static empty(e){return new Gi(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let r=0;r<e.length;r++){let s=e[r];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;i.length<r;)i.push(xn.empty);i[r]=xn.of(s.slice(1)),t.push(s[0],i[r].length)}}}return new Gi(t,i)}static createSet(e,t){return new Gi(e,t)}}function kr(n,e,t,i=!1){if(e==0&&t<=0)return;let r=n.length-2;r>=0&&t<=0&&t==n[r+1]?n[r]+=e:e==0&&n[r]==0?n[r+1]+=t:i?(n[r]+=e,n[r+1]+=t):n.push(e,t)}function ec(n,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<i;)n.push(xn.empty);n.push(t)}}function vS(n,e,t){let i=n.inserted;for(let r=0,s=0,o=0;o<n.sections.length;){let a=n.sections[o++],l=n.sections[o++];if(l<0)r+=a,s+=a;else{let c=r,u=s,h=xn.empty;for(;c+=a,u+=l,l&&i&&(h=h.append(i[o-2>>1])),!(t||o==n.sections.length||n.sections[o+1]<0);)a=n.sections[o++],l=n.sections[o++];e(r,c,s,u,h),r=c,s=u}}}function yS(n,e,t,i=!1){let r=[],s=i?[]:null,o=new l4(n),a=new l4(e);for(let l=-1;;)if(o.ins==-1&&a.ins==-1){let c=Math.min(o.len,a.len);kr(r,c,-1),o.forward(c),a.forward(c)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!t))){let c=a.len;for(kr(r,a.ins,-1);c;){let u=Math.min(o.len,c);o.ins>=0&&l<o.i&&o.len<=u&&(kr(r,0,o.ins),s&&ec(s,r,o.text),l=o.i),o.forward(u),c-=u}a.next()}else if(o.ins>=0){let c=0,u=o.len;for(;u;)if(a.ins==-1){let h=Math.min(u,a.len);c+=h,u-=h,a.forward(h)}else if(a.ins==0&&a.len<u)u-=a.len,a.next();else break;kr(r,c,l<o.i?o.ins:0),s&&l<o.i&&ec(s,r,o.text),l=o.i,o.forward(o.len-u)}else{if(o.done&&a.done)return s?Gi.createSet(r,s):ul.create(r);throw new Error("Mismatched change set lengths")}}function _z(n,e,t=!1){let i=[],r=t?[]:null,s=new l4(n),o=new l4(e);for(let a=!1;;){if(s.done&&o.done)return r?Gi.createSet(i,r):ul.create(i);if(s.ins==0)kr(i,s.len,0,a),s.next();else if(o.len==0&&!o.done)kr(i,0,o.ins,a),r&&ec(r,i,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),c=i.length;if(s.ins==-1){let u=o.ins==-1?-1:o.off?0:o.ins;kr(i,l,u,a),r&&u&&ec(r,i,o.text)}else o.ins==-1?(kr(i,s.off?0:s.len,l,a),r&&ec(r,i,s.textBit(l))):(kr(i,s.off?0:s.len,o.off?0:o.ins,a),r&&!o.off&&ec(r,i,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||i.length>c),s.forward2(l),o.forward(l)}}}}class l4{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?xn.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?xn.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Qu{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,t=-1){let i,r;return this.empty?i=r=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),i==this.from&&r==this.to?this:new Qu(i,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return Ge.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Ge.range(this.anchor,i)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Ge.range(e.anchor,e.head)}static create(e,t,i){return new Qu(e,t,i)}}class Ge{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:Ge.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Ge([this.main],0)}addRange(e,t=!0){return Ge.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,Ge.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Ge(e.ranges.map(t=>Qu.fromJSON(t)),e.main)}static single(e,t=e){return new Ge([Ge.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,r=0;r<e.length;r++){let s=e[r];if(s.empty?s.from<=i:s.from<i)return Ge.normalized(e.slice(),t);i=s.to}return new Ge(e,t)}static cursor(e,t=0,i,r){return Qu.create(e,e,(t==0?0:t<0?4:8)|(i==null?3:Math.min(2,i))|(r??33554431)<<5)}static range(e,t,i,r){let s=(i??33554431)<<5|(r==null?3:Math.min(2,r));return t<e?Qu.create(t,e,24|s):Qu.create(e,t,(t>e?4:0)|s)}static normalized(e,t=0){let i=e[t];e.sort((r,s)=>r.from-s.from),t=e.indexOf(i);for(let r=1;r<e.length;r++){let s=e[r],o=e[r-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);r<=t&&t--,e.splice(--r,2,s.anchor>s.head?Ge.range(l,a):Ge.range(a,l))}}return new Ge(e,t)}}function Mz(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let Lw=0;class gt{constructor(e,t,i,r,s){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=r,this.id=Lw++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}static define(e={}){return new gt(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:Dw),!!e.static,e.enables)}of(e){return new I8([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new I8(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new I8(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function Dw(n,e){return n==e||n.length==e.length&&n.every((t,i)=>t===e[i])}class I8{constructor(e,t,i,r){this.dependencies=e,this.facet=t,this.type=i,this.value=r,this.id=Lw++}dynamicSlot(e){var t;let i=this.value,r=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,c=!1,u=[];for(let h of this.dependencies)h=="doc"?l=!0:h=="selection"?c=!0:((t=e[h.id])!==null&&t!==void 0?t:1)&1||u.push(e[h.id]);return{create(h){return h.values[o]=i(h),1},update(h,f){if(l&&f.docChanged||c&&(f.docChanged||f.selection)||xS(h,u)){let p=i(h);if(a?!fk(p,h.values[o],r):!r(p,h.values[o]))return h.values[o]=p,1}return 0},reconfigure:(h,f)=>{let p,m=f.config.address[s];if(m!=null){let S=N9(f,m);if(this.dependencies.every(v=>v instanceof gt?f.facet(v)===h.facet(v):v instanceof xr?f.field(v,!1)==h.field(v,!1):!0)||(a?fk(p=i(h),S,r):r(p=i(h),S)))return h.values[o]=S,0}else p=i(h);return h.values[o]=p,1}}}}function fk(n,e,t){if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(!t(n[i],e[i]))return!1;return!0}function xS(n,e){let t=!1;for(let i of e)sd(n,i)&1&&(t=!0);return t}function b5e(n,e,t){let i=t.map(l=>n[l.id]),r=t.map(l=>l.type),s=i.filter(l=>!(l&1)),o=n[e.id]>>1;function a(l){let c=[];for(let u=0;u<i.length;u++){let h=N9(l,i[u]);if(r[u]==2)for(let f of h)c.push(f);else c.push(h)}return e.combine(c)}return{create(l){for(let c of i)sd(l,c);return l.values[o]=a(l),1},update(l,c){if(!xS(l,s))return 0;let u=a(l);return e.compare(u,l.values[o])?0:(l.values[o]=u,1)},reconfigure(l,c){let u=xS(l,i),h=c.config.facets[e.id],f=c.facet(e);if(h&&!u&&Dw(t,h))return l.values[o]=f,0;let p=a(l);return e.compare(p,f)?(l.values[o]=f,0):(l.values[o]=p,1)}}}const dk=gt.define({static:!0});class xr{constructor(e,t,i,r,s){this.id=e,this.createF=t,this.updateF=i,this.compareF=r,this.spec=s,this.provides=void 0}static define(e){let t=new xr(Lw++,e.create,e.update,e.compare||((i,r)=>i===r),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(dk).find(i=>i.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,r)=>{let s=i.values[t],o=this.updateF(s,r);return this.compareF(s,o)?0:(i.values[t]=o,1)},reconfigure:(i,r)=>r.config.address[this.id]!=null?(i.values[t]=r.field(this),0):(i.values[t]=this.create(i),1)}}init(e){return[this,dk.of({field:this,create:e})]}get extension(){return this}}const Ru={lowest:4,low:3,default:2,high:1,highest:0};function pf(n){return e=>new Tz(e,n)}const l0={highest:pf(Ru.highest),high:pf(Ru.high),default:pf(Ru.default),low:pf(Ru.low),lowest:pf(Ru.lowest)};class Tz{constructor(e,t){this.inner=e,this.prec=t}}class wg{of(e){return new SS(this,e)}reconfigure(e){return wg.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class SS{constructor(e,t){this.compartment=e,this.inner=t}}class O9{constructor(e,t,i,r,s,o){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=r,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let r=[],s=Object.create(null),o=new Map;for(let f of I5e(e,t,o))f instanceof xr?r.push(f):(s[f.facet.id]||(s[f.facet.id]=[])).push(f);let a=Object.create(null),l=[],c=[];for(let f of r)a[f.id]=c.length<<1,c.push(p=>f.slot(p));let u=i==null?void 0:i.config.facets;for(let f in s){let p=s[f],m=p[0].facet,S=u&&u[f]||[];if(p.every(v=>v.type==0))if(a[m.id]=l.length<<1|1,Dw(S,p))l.push(i.facet(m));else{let v=m.combine(p.map(A=>A.value));l.push(i&&m.compare(v,i.facet(m))?i.facet(m):v)}else{for(let v of p)v.type==0?(a[v.id]=l.length<<1|1,l.push(v.value)):(a[v.id]=c.length<<1,c.push(A=>v.dynamicSlot(A)));a[m.id]=c.length<<1,c.push(v=>b5e(v,m,p))}}let h=c.map(f=>f(a));return new O9(e,o,h,a,l,s)}}function I5e(n,e,t){let i=[[],[],[],[],[]],r=new Map;function s(o,a){let l=r.get(o);if(l!=null){if(l<=a)return;let c=i[l].indexOf(o);c>-1&&i[l].splice(c,1),o instanceof SS&&t.delete(o.compartment)}if(r.set(o,a),Array.isArray(o))for(let c of o)s(c,a);else if(o instanceof SS){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(o.compartment)||o.inner;t.set(o.compartment,c),s(c,a)}else if(o instanceof Tz)s(o.inner,o.prec);else if(o instanceof xr)i[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof I8)i[a].push(o),o.facet.extensions&&s(o.facet.extensions,Ru.default);else{let c=o.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(c,a)}}return s(n,Ru.default),i.reduce((o,a)=>o.concat(a))}function sd(n,e){if(e&1)return 2;let t=e>>1,i=n.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;n.status[t]=4;let r=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|r}function N9(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const bz=gt.define(),Iz=gt.define({combine:n=>n.some(e=>e),static:!0}),Rz=gt.define({combine:n=>n.length?n[0]:void 0,static:!0}),Bz=gt.define(),kz=gt.define(),Pz=gt.define(),Lz=gt.define({combine:n=>n.length?n[0]:!1});class Cl{constructor(e,t){this.type=e,this.value=t}static define(){return new R5e}}class R5e{of(e){return new Cl(this,e)}}class B5e{constructor(e){this.map=e}of(e){return new Xt(this,e)}}class Xt{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new Xt(this.type,t)}is(e){return this.type==e}static define(e={}){return new B5e(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let r of e){let s=r.map(t);s&&i.push(s)}return i}}Xt.reconfigure=Xt.define();Xt.appendConfig=Xt.define();class Vi{constructor(e,t,i,r,s,o){this.startState=e,this.changes=t,this.selection=i,this.effects=r,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,i&&Mz(i,t.newLength),s.some(a=>a.type==Vi.time)||(this.annotations=s.concat(Vi.time.of(Date.now())))}static create(e,t,i,r,s,o){return new Vi(e,t,i,r,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Vi.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Vi.time=Cl.define();Vi.userEvent=Cl.define();Vi.addToHistory=Cl.define();Vi.remote=Cl.define();function k5e(n,e){let t=[];for(let i=0,r=0;;){let s,o;if(i<n.length&&(r==e.length||e[r]>=n[i]))s=n[i++],o=n[i++];else if(r<e.length)s=e[r++],o=e[r++];else return t;!t.length||t[t.length-1]<s?t.push(s,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function Dz(n,e,t){var i;let r,s,o;return t?(r=e.changes,s=Gi.empty(e.changes.length),o=n.changes.compose(e.changes)):(r=e.changes.map(n.changes),s=n.changes.mapDesc(e.changes,!0),o=n.changes.compose(r)),{changes:o,selection:e.selection?e.selection.map(s):(i=n.selection)===null||i===void 0?void 0:i.map(r),effects:Xt.mapEffects(n.effects,r).concat(Xt.mapEffects(e.effects,s)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function ES(n,e,t){let i=e.selection,r=p2(e.annotations);return e.userEvent&&(r=r.concat(Vi.userEvent.of(e.userEvent))),{changes:e.changes instanceof Gi?e.changes:Gi.of(e.changes||[],t,n.facet(Rz)),selection:i&&(i instanceof Ge?i:Ge.single(i.anchor,i.head)),effects:p2(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function Oz(n,e,t){let i=ES(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let o=!!e[s].sequential;i=Dz(i,ES(n,e[s],o?i.changes.newLength:n.doc.length),o)}let r=Vi.create(n,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return L5e(t?P5e(r):r)}function P5e(n){let e=n.startState,t=!0;for(let r of e.facet(Bz)){let s=r(n);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:k5e(t,s))}if(t!==!0){let r,s;if(t===!1)s=n.changes.invertedDesc,r=Gi.empty(e.doc.length);else{let o=n.changes.filter(t);r=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}n=Vi.create(e,r,n.selection&&n.selection.map(s),Xt.mapEffects(n.effects,s),n.annotations,n.scrollIntoView)}let i=e.facet(kz);for(let r=i.length-1;r>=0;r--){let s=i[r](n);s instanceof Vi?n=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Vi?n=s[0]:n=Oz(e,p2(s),!1)}return n}function L5e(n){let e=n.startState,t=e.facet(Pz),i=n;for(let r=t.length-1;r>=0;r--){let s=t[r](n);s&&Object.keys(s).length&&(i=Dz(i,ES(e,s,n.changes.newLength),!0))}return i==n?n:Vi.create(e,n.changes,n.selection,i.effects,i.annotations,i.scrollIntoView)}const D5e=[];function p2(n){return n==null?D5e:Array.isArray(n)?n:[n]}var Yn=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(Yn||(Yn={}));const O5e=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let CS;try{CS=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function N5e(n){if(CS)return CS.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||O5e.test(t)))return!0}return!1}function F5e(n){return e=>{if(!/\S/.test(e))return Yn.Space;if(N5e(e))return Yn.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return Yn.Word;return Yn.Other}}class sn{constructor(e,t,i,r,s,o){this.config=e,this.doc=t,this.selection=i,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)sd(this,a<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return sd(this,i),N9(this,i)}update(...e){return Oz(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:r}=t;for(let o of e.effects)o.is(wg.reconfigure)?(t&&(r=new Map,t.compartments.forEach((a,l)=>r.set(l,a)),t=null),r.set(o.value.compartment,o.value.extension)):o.is(Xt.reconfigure)?(t=null,i=o.value):o.is(Xt.appendConfig)&&(t=null,i=p2(i).concat(o.value));let s;t?s=e.startState.values.slice():(t=O9.resolve(i,r,this),s=new sn(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(a,l)=>l.reconfigure(a,this),null).values),new sn(t,e.newDoc,e.newSelection,s,(o,a)=>a.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:Ge.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),r=this.changes(i.changes),s=[i.range],o=p2(i.effects);for(let a=1;a<t.ranges.length;a++){let l=e(t.ranges[a]),c=this.changes(l.changes),u=c.map(r);for(let f=0;f<a;f++)s[f]=s[f].map(u);let h=r.mapDesc(c,!0);s.push(l.range.map(h)),r=r.compose(u),o=Xt.mapEffects(o,u).concat(Xt.mapEffects(p2(l.effects),h))}return{changes:r,selection:Ge.create(s,t.mainIndex),effects:o}}changes(e=[]){return e instanceof Gi?e:Gi.of(e,this.doc.length,this.facet(sn.lineSeparator))}toText(e){return xn.of(e.split(this.facet(sn.lineSeparator)||AS))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(sd(this,t),N9(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let r=e[i];r instanceof xr&&this.config.address[r.id]!=null&&(t[i]=r.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(i){for(let s in i)if(Object.prototype.hasOwnProperty.call(e,s)){let o=i[s],a=e[s];r.push(o.init(l=>o.spec.fromJSON(a,l)))}}return sn.create({doc:e.doc,selection:Ge.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=O9.resolve(e.extensions||[],new Map),i=e.doc instanceof xn?e.doc:xn.of((e.doc||"").split(t.staticFacet(sn.lineSeparator)||AS)),r=e.selection?e.selection instanceof Ge?e.selection:Ge.single(e.selection.anchor,e.selection.head):Ge.single(0);return Mz(r,i.length),t.staticFacet(Iz)||(r=r.asSingle()),new sn(t,i,r,t.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(sn.tabSize)}get lineBreak(){return this.facet(sn.lineSeparator)||`
`}get readOnly(){return this.facet(Lz)}phrase(e,...t){for(let i of this.facet(sn.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,r)=>{if(r=="$")return"$";let s=+(r||1);return!s||s>t.length?i:t[s-1]})),e}languageDataAt(e,t,i=-1){let r=[];for(let s of this.facet(bz))for(let o of s(this,t,i))Object.prototype.hasOwnProperty.call(o,e)&&r.push(o[e]);return r}charCategorizer(e){return F5e(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:r}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-i,a=e-i;for(;o>0;){let l=Nr(t,o,!1);if(s(t.slice(l,o))!=Yn.Word)break;o=l}for(;a<r;){let l=Nr(t,a);if(s(t.slice(a,l))!=Yn.Word)break;a=l}return o==a?null:Ge.range(o+i,a+i)}}sn.allowMultipleSelections=Iz;sn.tabSize=gt.define({combine:n=>n.length?n[0]:4});sn.lineSeparator=Rz;sn.readOnly=Lz;sn.phrases=gt.define({compare(n,e){let t=Object.keys(n),i=Object.keys(e);return t.length==i.length&&t.every(r=>n[r]==e[r])}});sn.languageData=bz;sn.changeFilter=Bz;sn.transactionFilter=kz;sn.transactionExtender=Pz;wg.reconfigure=Xt.define();function wl(n,e,t={}){let i={};for(let r of n)for(let s of Object.keys(r)){let o=r[s],a=i[s];if(a===void 0)i[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(t,s))i[s]=t[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let r in e)i[r]===void 0&&(i[r]=e[r]);return i}class A3{eq(e){return this==e}range(e,t=e){return wS.create(e,t,this)}}A3.prototype.startSide=A3.prototype.endSide=0;A3.prototype.point=!1;A3.prototype.mapMode=is.TrackDel;let wS=class Nz{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new Nz(e,t,i)}};function _S(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class Ow{constructor(e,t,i,r){this.from=e,this.to=t,this.value=i,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,r=0){let s=i?this.to:this.from;for(let o=r,a=s.length;;){if(o==a)return o;let l=o+a>>1,c=s[l]-e||(i?this.value[l].endSide:this.value[l].startSide)-t;if(l==o)return c>=0?o:a;c>=0?a=l:o=l+1}}between(e,t,i,r){for(let s=this.findIndex(t,-1e9,!0),o=this.findIndex(i,1e9,!1,s);s<o;s++)if(r(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let i=[],r=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],u=this.from[l]+e,h=this.to[l]+e,f,p;if(u==h){let m=t.mapPos(u,c.startSide,c.mapMode);if(m==null||(f=p=m,c.startSide!=c.endSide&&(p=t.mapPos(u,c.endSide),p<f)))continue}else if(f=t.mapPos(u,c.startSide),p=t.mapPos(h,c.endSide),f>p||f==p&&c.startSide>0&&c.endSide<=0)continue;(p-f||c.endSide-c.startSide)<0||(o<0&&(o=f),c.point&&(a=Math.max(a,p-f)),i.push(c),r.push(f-o),s.push(p-o))}return{mapped:i.length?new Ow(r,s,i,a):null,pos:o}}}class Sn{constructor(e,t,i,r){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=r}static create(e,t,i,r){return new Sn(e,t,i,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:r=0,filterTo:s=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(i&&(t=t.slice().sort(_S)),this.isEmpty)return t.length?Sn.of(t):this;let a=new Fz(this,null,-1).goto(0),l=0,c=[],u=new bc;for(;a.value||l<t.length;)if(l<t.length&&(a.from-t[l].from||a.startSide-t[l].value.startSide)>=0){let h=t[l++];u.addInner(h.from,h.to,h.value)||c.push(h)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(a.chunkIndex)<t[l].from)&&(!o||r>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&u.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||r>a.to||s<a.from||o(a.from,a.to,a.value))&&(u.addInner(a.from,a.to,a.value)||c.push(wS.create(a.from,a.to,a.value))),a.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?Sn.empty:this.nextLayer.update({add:c,filter:o,filterFrom:r,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],r=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],c=e.touchesRange(a,a+l.length);if(c===!1)r=Math.max(r,l.maxPoint),t.push(l),i.push(e.mapPos(a));else if(c===!0){let{mapped:u,pos:h}=l.map(a,e);u&&(r=Math.max(r,u.maxPoint),t.push(u),i.push(h))}}let s=this.nextLayer.map(e);return t.length==0?s:new Sn(i,t,s||Sn.empty,r)}between(e,t,i){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let s=this.chunkPos[r],o=this.chunk[r];if(t>=s&&e<=s+o.length&&o.between(s,e-s,t-s,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return c4.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return c4.from(e).goto(t)}static compare(e,t,i,r,s=-1){let o=e.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),a=t.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),l=pk(o,a,i),c=new gf(o,l,s),u=new gf(a,l,s);i.iterGaps((h,f,p)=>gk(c,h,u,f,p,r)),i.empty&&i.length==0&&gk(c,0,u,0,0,r)}static eq(e,t,i=0,r){r==null&&(r=1e9-1);let s=e.filter(u=>!u.isEmpty&&t.indexOf(u)<0),o=t.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=pk(s,o),l=new gf(s,a,0).goto(i),c=new gf(o,a,0).goto(i);for(;;){if(l.to!=c.to||!MS(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>r)return!0;l.next(),c.next()}}static spans(e,t,i,r,s=-1){let o=new gf(e,null,s).goto(t),a=t,l=o.openStart;for(;;){let c=Math.min(o.to,i);if(o.point){let u=o.activeForPoint(o.to),h=o.pointFrom<t?u.length+1:Math.min(u.length,l);r.point(a,c,o.point,u,h,o.pointRank),l=Math.min(o.openEnd(c),u.length)}else c>a&&(r.span(a,c,o.active,l),l=o.openEnd(c));if(o.to>i)return l+(o.point&&o.to>i?1:0);a=o.to,o.next()}}static of(e,t=!1){let i=new bc;for(let r of e instanceof wS?[e]:t?U5e(e):e)i.add(r.from,r.to,r.value);return i.finish()}}Sn.empty=new Sn([],[],null,-1);function U5e(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let i=n[t];if(_S(e,i)>0)return n.slice().sort(_S);e=i}return n}Sn.empty.nextLayer=Sn.empty;class bc{finishChunk(e){this.chunks.push(new Ow(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new bc)).add(e,t,i)}addInner(e,t,i){let r=e-this.lastTo||i.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(Sn.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Sn.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function pk(n,e,t){let i=new Map;for(let s of n)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&i.set(s.chunk[o],s.chunkPos[o]);let r=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=i.get(s.chunk[o]);a!=null&&(t?t.mapPos(a):a)==s.chunkPos[o]&&!(t!=null&&t.touchesRange(a,a+s.chunk[o].length))&&r.add(s.chunk[o])}return r}class Fz{constructor(e,t,i,r=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class c4{constructor(e){this.heap=e}static from(e,t=null,i=-1){let r=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=i&&r.push(new Fz(o,t,i,s));return r.length==1?r[0]:new c4(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)wv(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)wv(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),wv(this.heap,0)}}}function wv(n,e){for(let t=n[e];;){let i=(e<<1)+1;if(i>=n.length)break;let r=n[i];if(i+1<n.length&&r.compare(n[i+1])>=0&&(r=n[i+1],i++),t.compare(r)<0)break;n[i]=t,n[e]=r,e=i}}class gf{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=c4.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){R6(this.active,e),R6(this.activeTo,e),R6(this.activeRank,e),this.minActive=mk(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:r,rank:s}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=s;)t++;B6(this.active,t,i),B6(this.activeTo,t,r),B6(this.activeRank,t,s),e&&B6(e,t,this.cursor.from),this.minActive=mk(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),i&&R6(i,r)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let r=i.length-1;r>=0&&i[r]<e;r--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function gk(n,e,t,i,r,s){n.goto(e),t.goto(i);let o=i+r,a=i,l=i-e;for(;;){let c=n.to+l-t.to||n.endSide-t.endSide,u=c<0?n.to+l:t.to,h=Math.min(u,o);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&MS(n.activeForPoint(n.to),t.activeForPoint(t.to))||s.comparePoint(a,h,n.point,t.point):h>a&&!MS(n.active,t.active)&&s.compareRange(a,h,n.active,t.active),u>o)break;a=u,c<=0&&n.next(),c>=0&&t.next()}}function MS(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function R6(n,e){for(let t=e,i=n.length-1;t<i;t++)n[t]=n[t+1];n.pop()}function B6(n,e,t){for(let i=n.length-1;i>=e;i--)n[i+1]=n[i];n[e]=t}function mk(n,e){let t=-1,i=1e9;for(let r=0;r<e.length;r++)(e[r]-i||n[r].endSide-n[t].endSide)<0&&(t=r,i=e[r]);return t}function c0(n,e,t=n.length){let i=0;for(let r=0;r<t;)n.charCodeAt(r)==9?(i+=e-i%e,r++):(i++,r=Nr(n,r));return i}function TS(n,e,t,i){for(let r=0,s=0;;){if(s>=e)return r;if(r==n.length)break;s+=n.charCodeAt(r)==9?t-s%t:1,r=Nr(n,r)}return i===!0?-1:n.length}const bS="",Ak=typeof Symbol>"u"?"__"+bS:Symbol.for(bS),IS=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),vk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Ic{constructor(e,t){this.rules=[];let{finish:i}=t||{};function r(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,c){let u=[],h=/^@(\w+)\b/.exec(o[0]),f=h&&h[1]=="keyframes";if(h&&a==null)return l.push(o[0]+";");for(let p in a){let m=a[p];if(/&/.test(p))s(p.split(/,\s*/).map(S=>o.map(v=>S.replace(/&/,v))).reduce((S,v)=>S.concat(v)),m,l);else if(m&&typeof m=="object"){if(!h)throw new RangeError("The value of a property ("+p+") should be a primitive value.");s(r(p),m,u,f)}else m!=null&&u.push(p.replace(/_.*/,"").replace(/[A-Z]/g,S=>"-"+S.toLowerCase())+": "+m+";")}(u.length||f)&&l.push((i&&!h&&!c?o.map(i):o).join(", ")+" {"+u.join(" ")+"}")}for(let o in e)s(r(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=vk[Ak]||1;return vk[Ak]=e+1,bS+e.toString(36)}static mount(e,t,i){let r=e[IS],s=i&&i.nonce;r?s&&r.setNonce(s):r=new G5e(e,s),r.mount(Array.isArray(t)?t:[t])}}let yk=new Map;class G5e{constructor(e,t){let i=e.ownerDocument||e,r=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let s=yk.get(i);if(s)return e.adoptedStyleSheets=[s.sheet,...e.adoptedStyleSheets],e[IS]=s;this.sheet=new r.CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],yk.set(i,this)}else{this.styleTag=i.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);let s=e.head||e;s.insertBefore(this.styleTag,s.firstChild)}this.modules=[],e[IS]=this}mount(e){let t=this.sheet,i=0,r=0;for(let s=0;s<e.length;s++){let o=e[s],a=this.modules.indexOf(o);if(a<r&&a>-1&&(this.modules.splice(a,1),r--,a=-1),a==-1){if(this.modules.splice(r++,0,o),t)for(let l=0;l<o.rules.length;l++)t.insertRule(o.rules[l],i++)}else{for(;r<a;)i+=this.modules[r++].rules.length;i+=o.rules.length,r++}}if(!t){let s="";for(let o=0;o<this.modules.length;o++)s+=this.modules[o].getRules()+`
`;this.styleTag.textContent=s}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Rc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},u4={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},z5e=typeof navigator<"u"&&/Mac/.test(navigator.platform),Q5e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var pr=0;pr<10;pr++)Rc[48+pr]=Rc[96+pr]=String(pr);for(var pr=1;pr<=24;pr++)Rc[pr+111]="F"+pr;for(var pr=65;pr<=90;pr++)Rc[pr]=String.fromCharCode(pr+32),u4[pr]=String.fromCharCode(pr);for(var _v in Rc)u4.hasOwnProperty(_v)||(u4[_v]=Rc[_v]);function H5e(n){var e=z5e&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||Q5e&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?u4:Rc)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function F9(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function RS(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function V5e(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function R8(n,e){if(!e.anchorNode)return!1;try{return RS(n,e.anchorNode)}catch{return!1}}function U2(n){return n.nodeType==3?v3(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function U9(n,e,t,i){return t?xk(n,e,t,i,-1)||xk(n,e,t,i,1):!1}function G9(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function xk(n,e,t,i,r){for(;;){if(n==t&&e==i)return!0;if(e==(r<0?0:Bc(n))){if(n.nodeName=="DIV")return!1;let s=n.parentNode;if(!s||s.nodeType!=1)return!1;e=G9(n)+(r<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(r<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=r<0?Bc(n):0}else return!1}}function Bc(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function _g(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function W5e(n){return{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function j5e(n,e,t,i,r,s,o,a){let l=n.ownerDocument,c=l.defaultView||window;for(let u=n,h=!1;u&&!h;)if(u.nodeType==1){let f,p=u==l.body,m=1,S=1;if(p)f=W5e(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(h=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let y=u.getBoundingClientRect();m=y.width/u.offsetWidth,S=y.height/u.offsetHeight,f={left:y.left,right:y.left+u.clientWidth*m,top:y.top,bottom:y.top+u.clientHeight*S}}let v=0,A=0;if(r=="nearest")e.top<f.top?(A=-(f.top-e.top+o),t>0&&e.bottom>f.bottom+A&&(A=e.bottom-f.bottom+A+o)):e.bottom>f.bottom&&(A=e.bottom-f.bottom+o,t<0&&e.top-A<f.top&&(A=-(f.top+A-e.top+o)));else{let y=e.bottom-e.top,x=f.bottom-f.top;A=(r=="center"&&y<=x?e.top+y/2-x/2:r=="start"||r=="center"&&t<0?e.top-o:e.bottom-x+o)-f.top}if(i=="nearest"?e.left<f.left?(v=-(f.left-e.left+s),t>0&&e.right>f.right+v&&(v=e.right-f.right+v+s)):e.right>f.right&&(v=e.right-f.right+s,t<0&&e.left<f.left+v&&(v=-(f.left+v-e.left+s))):v=(i=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:i=="start"==a?e.left-s:e.right-(f.right-f.left)+s)-f.left,v||A)if(p)c.scrollBy(v,A);else{let y=0,x=0;if(A){let C=u.scrollTop;u.scrollTop+=A/S,x=(u.scrollTop-C)*S}if(v){let C=u.scrollLeft;u.scrollLeft+=v/m,y=(u.scrollLeft-C)*m}e={left:e.left-y,top:e.top-x,right:e.right-y,bottom:e.bottom-x},y&&Math.abs(y-v)<1&&(i="nearest"),x&&Math.abs(x-A)<1&&(r="nearest")}if(p)break;u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function X5e(n){let e=n.ownerDocument;for(let t=n.parentNode;t&&t!=e.body;)if(t.nodeType==1){if(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)return t;t=t.assignedSlot||t.parentNode}else if(t.nodeType==11)t=t.host;else break;return null}class q5e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?Bc(t):0),i,Math.min(e.focusOffset,i?Bc(i):0))}set(e,t,i,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=r}}let Ch=null;function Uz(n){if(n.setActive)return n.setActive();if(Ch)return n.focus(Ch);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(Ch==null?{get preventScroll(){return Ch={preventScroll:!0},!0}}:void 0),!Ch){Ch=!1;for(let t=0;t<e.length;){let i=e[t++],r=e[t++],s=e[t++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=s&&(i.scrollLeft=s)}}}let Sk;function v3(n,e,t=e){let i=Sk||(Sk=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function g2(n,e,t){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0},r=new KeyboardEvent("keydown",i);r.synthetic=!0,n.dispatchEvent(r);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,n.dispatchEvent(s),r.defaultPrevented||s.defaultPrevented}function Y5e(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function Gz(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function K5e(n,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(i=Math.min(i,Bc(t));;)if(i){if(t.nodeType!=1)return!1;let r=t.childNodes[i-1];r.contentEditable=="false"?i--:(t=r,i=Bc(t))}else{if(t==n)return!0;i=G9(t),t=t.parentNode}}function zz(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}class Or{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new Or(e.parentNode,G9(e),t)}static after(e,t){return new Or(e.parentNode,G9(e)+1,t)}}const Nw=[];class zn{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let i=this.dom,r=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=r?r.nextSibling:i.firstChild)){let a=zn.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,t),o.flags&=-8}if(s=r?r.nextSibling:i.firstChild,t&&!t.written&&t.node==i&&s!=o.dom&&(t.written=!0),o.dom.parentNode==i)for(;s&&s!=o.dom;)s=Ek(s);else i.insertBefore(o.dom,s);r=o.dom}for(s=r?r.nextSibling:i.firstChild,s&&t&&t.node==i&&(t.written=!0);s;)s=Ek(s)}else if(this.flags&1)for(let i of this.children)i.flags&7&&(i.sync(e,t),i.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let r=Bc(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;r==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?r=-1:r=1),e=s}r<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!zn.get(i);)i=i.nextSibling;if(!i)return this.length;for(let r=0,s=0;;r++){let o=this.children[r];if(o.dom==i)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,t,i=0){let r=-1,s=-1,o=-1,a=-1;for(let l=0,c=i,u=i;l<this.children.length;l++){let h=this.children[l],f=c+h.length;if(c<e&&f>t)return h.domBoundsAround(e,t,c);if(f>=e&&r==-1&&(r=l,s=c),c>t&&h.dom.parentNode==this.dom){o=l,a=u;break}u=f,c=f+h.breakAfter}return{from:s,to:a<0?i+this.length:a,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=Nw){this.markDirty();for(let r=e;r<t;r++){let s=this.children[r];s.parent==this&&s.destroy()}this.children.splice(e,t-e,...i);for(let r=0;r<i.length;r++)i[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Qz(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,i,r,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){this.parent=null}}zn.prototype.breakAfter=0;function Ek(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class Qz{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function Hz(n,e,t,i,r,s,o,a,l){let{children:c}=n,u=c.length?c[e]:null,h=s.length?s[s.length-1]:null,f=h?h.breakAfter:o;if(!(e==i&&u&&!o&&!f&&s.length<2&&u.merge(t,r,s.length?h:null,t==0,a,l))){if(i<c.length){let p=c[i];p&&r<p.length?(e==i&&(p=p.split(r),r=0),!f&&h&&p.merge(0,r,h,!0,0,l)?s[s.length-1]=p:(r&&p.merge(0,r,null,!1,0,l),s.push(p))):p!=null&&p.breakAfter&&(h?h.breakAfter=1:o=1),i++}for(u&&(u.breakAfter=o,t>0&&(!o&&s.length&&u.merge(t,u.length,s[0],!1,a,0)?u.breakAfter=s.shift().breakAfter:(t<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(t,u.length,null,!1,a,0),e++));e<i&&s.length;)if(c[i-1].become(s[s.length-1]))i--,s.pop(),l=s.length?0:a;else if(c[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&i<c.length&&!c[e-1].breakAfter&&c[i].merge(0,0,c[e-1],!1,a,l)&&e--,(e<i||s.length)&&n.replaceChildren(e,i,s)}}function Vz(n,e,t,i,r,s){let o=n.childCursor(),{i:a,off:l}=o.findPos(t,1),{i:c,off:u}=o.findPos(e,-1),h=e-t;for(let f of i)h+=f.length;n.length+=h,Hz(n,c,u,a,l,i,0,r,s)}let Js=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},BS=typeof document<"u"?document:{documentElement:{style:{}}};const kS=/Edge\/(\d+)/.exec(Js.userAgent),Wz=/MSIE \d/.test(Js.userAgent),PS=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Js.userAgent),Mg=!!(Wz||PS||kS),Ck=!Mg&&/gecko\/(\d+)/i.test(Js.userAgent),Mv=!Mg&&/Chrome\/(\d+)/.exec(Js.userAgent),wk="webkitFontSmoothing"in BS.documentElement.style,jz=!Mg&&/Apple Computer/.test(Js.vendor),_k=jz&&(/Mobile\/\w+/.test(Js.userAgent)||Js.maxTouchPoints>2);var mt={mac:_k||/Mac/.test(Js.platform),windows:/Win/.test(Js.platform),linux:/Linux|X11/.test(Js.platform),ie:Mg,ie_version:Wz?BS.documentMode||6:PS?+PS[1]:kS?+kS[1]:0,gecko:Ck,gecko_version:Ck?+(/Firefox\/(\d+)/.exec(Js.userAgent)||[0,0])[1]:0,chrome:!!Mv,chrome_version:Mv?+Mv[1]:0,ios:_k,android:/Android\b/.test(Js.userAgent),webkit:wk,safari:jz,webkit_version:wk?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:BS.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const J5e=256;class h1 extends zn{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return this.flags&8||i&&(!(i instanceof h1)||this.length-(t-e)+i.length>J5e||i.flags&8)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new h1(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Or(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return $5e(this.dom,e,t)}}class f1 extends zn{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let r of t)r.setParent(this)}setAttrs(e){if(Gz(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,i,r,s,o){return i&&(!(i instanceof f1&&i.mark.eq(this.mark))||e&&s<=0||t<this.length&&o<=0)?!1:(Vz(this,e,t,i?i.children:[],s-1,o-1),this.markDirty(),!0)}split(e){let t=[],i=0,r=-1,s=0;for(let a of this.children){let l=i+a.length;l>e&&t.push(i<e?a.split(e-i):a),r<0&&i>=e&&(r=s),i=l,s++}let o=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new f1(this.mark,t,o)}domAtPos(e){return Xz(this,e)}coordsAt(e,t){return Yz(this,e,t)}}function $5e(n,e,t){let i=n.nodeValue.length;e>i&&(e=i);let r=e,s=e,o=0;e==0&&t<0||e==i&&t>=0?mt.chrome||mt.gecko||(e?(r--,o=1):s<i&&(s++,o=-1)):t<0?r--:s<i&&s++;let a=v3(n,r,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:t>=0)?0:a.length-1];return mt.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),o?_g(l,o<0):l||null}class tc extends zn{static create(e,t,i){return new tc(e,t,i)}constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}split(e){let t=tc.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,i,r,s,o){return i&&(!(i instanceof tc)||!this.widget.compare(i.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e instanceof tc&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return xn.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,i=t&&t.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):xn.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Or.before(this.dom):Or.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);if(i)return i;let r=this.dom.getClientRects(),s=null;if(!r.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?r.length-1:0;s=r[a],!(e>0?a==0:a==r.length-1||s.top<s.bottom);a+=o?-1:1);return _g(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class G2 extends zn{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof G2&&e.side==this.side}split(){return new G2(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Or.before(this.dom):Or.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return xn.empty}get isHidden(){return!0}}h1.prototype.children=tc.prototype.children=G2.prototype.children=Nw;function Xz(n,e){let t=n.dom,{children:i}=n,r=0;for(let s=0;r<i.length;r++){let o=i[r],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==t)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=r;s>0;s--){let o=i[s-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let s=r;s<i.length;s++){let o=i[s];if(o.dom.parentNode==t)return o.domAtPos(0)}return new Or(t,0)}function qz(n,e,t){let i,{children:r}=n;t>0&&e instanceof f1&&r.length&&(i=r[r.length-1])instanceof f1&&i.mark.eq(e.mark)?qz(i,e.children[0],t-1):(r.push(e),e.setParent(n)),n.length+=e.length}function Yz(n,e,t){let i=null,r=-1,s=null,o=-1;function a(c,u){for(let h=0,f=0;h<c.children.length&&f<=u;h++){let p=c.children[h],m=f+p.length;m>=u&&(p.children.length?a(p,u-f):(!s||s.isHidden&&t>0)&&(m>u||f==m&&p.getSide()>0)?(s=p,o=u-f):(f<u||f==m&&p.getSide()<0&&!p.isHidden)&&(i=p,r=u-f)),f=m}}a(n,e);let l=(t<0?i:s)||i||s;return l?l.coordsAt(Math.max(0,l==i?r:o),t):Z5e(n)}function Z5e(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=U2(e);return t[t.length-1]||null}function LS(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const Mk=Object.create(null);function Fw(n,e,t){if(n==e)return!0;n||(n=Mk),e||(e=Mk);let i=Object.keys(n),r=Object.keys(e);if(i.length-(t&&i.indexOf(t)>-1?1:0)!=r.length-(t&&r.indexOf(t)>-1?1:0))return!1;for(let s of i)if(s!=t&&(r.indexOf(s)==-1||n[s]!==e[s]))return!1;return!0}function DS(n,e,t){let i=!1;if(e)for(let r in e)t&&r in t||(i=!0,r=="style"?n.style.cssText="":n.removeAttribute(r));if(t)for(let r in t)e&&e[r]==t[r]||(i=!0,r=="style"?n.style.cssText=t[r]:n.setAttribute(r,t[r]));return i}function epe(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let i=n.attributes[t];e[i.name]=i.value}return e}class S1{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get isHidden(){return!1}destroy(e){}}var oi=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(oi||(oi={}));class Tt extends A3{constructor(e,t,i,r){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new l5(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return t+=i&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new kc(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,r;if(e.isBlockGap)i=-5e8,r=4e8;else{let{start:s,end:o}=Kz(e,t);i=(s?t?-3e8:-1:5e8)-1,r=(o?t?2e8:1:-6e8)+1}return new kc(e,i,r,t,e.widget||null,!0)}static line(e){return new c5(e)}static set(e,t=!1){return Sn.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Tt.none=Sn.empty;class l5 extends Tt{constructor(e){let{start:t,end:i}=Kz(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,i;return this==e||e instanceof l5&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((i=e.attrs)===null||i===void 0?void 0:i.class))&&Fw(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}l5.prototype.point=!1;class c5 extends Tt{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof c5&&this.spec.class==e.spec.class&&Fw(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}c5.prototype.mapMode=is.TrackBefore;c5.prototype.point=!0;class kc extends Tt{constructor(e,t,i,r,s,o){super(t,i,s,e),this.block=r,this.isReplace=o,this.mapMode=r?t<=0?is.TrackBefore:is.TrackAfter:is.TrackDel}get type(){return this.startSide<this.endSide?oi.WidgetRange:this.startSide<=0?oi.WidgetBefore:oi.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof kc&&tpe(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}kc.prototype.point=!0;function Kz(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return t==null&&(t=n.inclusive),i==null&&(i=n.inclusive),{start:t??e,end:i??e}}function tpe(n,e){return n==e||!!(n&&e&&n.compare(e))}function OS(n,e,t,i=0){let r=t.length-1;r>=0&&t[r]+i>=n?t[r]=Math.max(t[r],e):t.push(n,e)}class fr extends zn{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,r,s,o){if(i){if(!(i instanceof fr))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),Vz(this,e,t,i?i.children:[],s,o),!0}split(e){let t=new fr;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:r}=this.childPos(e);r&&(t.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let s=i;s<this.children.length;s++)t.append(this.children[s],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Fw(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){qz(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=LS(t,this.attrs||{})),i&&(this.attrs=LS({class:i},this.attrs||{}))}domAtPos(e){return Xz(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var i;this.dom?this.flags&4&&(Gz(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(DS(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let r=this.dom.lastChild;for(;r&&zn.get(r)instanceof f1;)r=r.lastChild;if(!r||!this.length||r.nodeName!="BR"&&((i=zn.get(r))===null||i===void 0?void 0:i.isEditable)==!1&&(!mt.ios||!this.children.some(s=>s instanceof h1))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let i of this.children){if(!(i instanceof h1)||/[^ -~]/.test(i.text))return null;let r=U2(i.dom);if(r.length!=1)return null;e+=r[0].width,t=r[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let i=Yz(this,e,t);if(!this.children.length&&i&&this.parent){let{heightOracle:r}=this.parent.view.viewState,s=i.bottom-i.top;if(Math.abs(s-r.lineHeight)<2&&r.textHeight<s){let o=(s-r.textHeight)/2;return{top:i.top+o,bottom:i.bottom-o,left:i.left,right:i.left}}}return i}become(e){return!1}get type(){return oi.Text}static find(e,t){for(let i=0,r=0;i<e.children.length;i++){let s=e.children[i],o=r+s.length;if(o>=t){if(s instanceof fr)return s;if(o>t)break}r=o+s.breakAfter}return null}}class Zu extends zn{constructor(e,t,i){super(),this.widget=e,this.length=t,this.type=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,r,s,o){return i&&(!(i instanceof Zu)||!this.widget.compare(i.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Or.before(this.dom):Or.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new Zu(this.widget,t,this.type);return i.breakAfter=this.breakAfter,i}get children(){return Nw}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):xn.empty}domBoundsAround(){return null}become(e){return e instanceof Zu&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.type=e.type,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class od{constructor(e,t,i,r){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof Zu&&e.type==oi.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new fr),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(k6(new G2(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-i)),this.getLine().append(k6(new h1(this.text.slice(this.textOff,this.textOff+r)),t),i),this.atCursorPos=!0,this.textOff+=r,e-=r,i=0}}span(e,t,i,r){this.buildText(t-e,i,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,i,r,s,o){if(this.disallowBlockEffectsFor[o]&&i instanceof kc){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=t-e;if(i instanceof kc)if(i.block){let{type:l}=i;l==oi.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Zu(i.widget||new Tk("div"),a,l))}else{let l=tc.create(i.widget||new Tk("span"),a,a?0:i.startSide),c=this.atCursorPos&&!l.isEditable&&s<=r.length&&(e<t||i.startSide>0),u=!l.isEditable&&(e<t||s>r.length||i.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(r),c&&(h.append(k6(new G2(1),r),s),s=r.length+Math.max(0,s-r.length)),h.append(k6(l,r),s),this.atCursorPos=u,this.pendingBuffer=u?e<t||s>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,i,r,s){let o=new od(e,t,i,s);return o.openEnd=Sn.spans(r,t,i,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function k6(n,e){for(let t of e)n=new f1(t,[n],n.length);return n}class Tk extends S1{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const Jz=gt.define(),$z=gt.define(),Zz=gt.define(),eQ=gt.define(),NS=gt.define(),tQ=gt.define(),nQ=gt.define(),iQ=gt.define({combine:n=>n.some(e=>e)}),rQ=gt.define({combine:n=>n.some(e=>e)});class z9{constructor(e,t="nearest",i="nearest",r=5,s=5){this.range=e,this.y=t,this.x=i,this.yMargin=r,this.xMargin=s}map(e){return e.empty?this:new z9(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const bk=Xt.define({map:(n,e)=>n.map(e)});function Vo(n,e,t){let i=n.facet(eQ);i.length?i[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const Tg=gt.define({combine:n=>n.length?n[0]:!0});let npe=0;const Bf=gt.define();class Li{constructor(e,t,i,r){this.id=e,this.create=t,this.domEventHandlers=i,this.extension=r(this)}static define(e,t){const{eventHandlers:i,provide:r,decorations:s}=t||{};return new Li(npe++,e,i,o=>{let a=[Bf.of(o)];return s&&a.push(h4.of(l=>{let c=l.plugin(o);return c?s(c):Tt.none})),r&&a.push(r(o)),a})}static fromClass(e,t){return Li.define(i=>new e(i),t)}}class Tv{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(Vo(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Vo(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){Vo(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const sQ=gt.define(),Uw=gt.define(),h4=gt.define(),Gw=gt.define(),oQ=gt.define();function Ik(n,e,t){let i=n.state.facet(oQ);if(!i.length)return i;let r=i.map(o=>o instanceof Function?o(n):o),s=[];return Sn.spans(r,e,t,{point(){},span(o,a,l,c){let u=s;for(let h=l.length-1;h>=0;h--,c--){let f=l[h].spec.bidiIsolate,p;if(f!=null)if(c>0&&u.length&&(p=u[u.length-1]).to==o&&p.direction==f)p.to=a,u=p.inner;else{let m={from:o,to:a,direction:f,inner:[]};u.push(m),u=m.inner}}}}),s}const aQ=gt.define();function lQ(n){let e=0,t=0,i=0,r=0;for(let s of n.state.facet(aQ)){let o=s(n);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(i=Math.max(i,o.top)),o.bottom!=null&&(r=Math.max(r,o.bottom)))}return{left:e,right:t,top:i,bottom:r}}const kf=gt.define();class Wo{constructor(e,t,i,r){this.fromA=e,this.toA=t,this.fromB=i,this.toB=r}join(e){return new Wo(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let r=0,s=0,o=0,a=0;;r++){let l=r==e.length?null:e[r],c=o-a,u=l?l.fromB:1e9;for(;s<t.length&&t[s]<u;){let h=t[s],f=t[s+1],p=Math.max(a,h),m=Math.min(u,f);if(p<=m&&new Wo(p+c,m+c,p,m).addToSet(i),f>u)break;s+=2}if(!l)return i;new Wo(l.fromA,l.toA,l.fromB,l.toB).addToSet(i),o=l.toA,a=l.toB}}}class Q9{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=Gi.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let r=[];this.changes.iterChangedRanges((s,o,a,l)=>r.push(new Wo(s,o,a,l))),this.changedRanges=r}static create(e,t,i){return new Q9(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var ii=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(ii||(ii={}));const f4=ii.LTR,cQ=ii.RTL;function uQ(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const ipe=uQ("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),rpe=uQ("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),FS=Object.create(null),Ha=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);FS[e]=t,FS[t]=-e}function spe(n){return n<=247?ipe[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?rpe[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8203?256:64336<=n&&n<=65023?4:n==8204?256:1}const ope=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class nc{get dir(){return this.level%2?cQ:f4}constructor(e,t,i){this.from=e,this.to=t,this.level=i}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,i,r){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=t&&a.to>=t){if(a.level==i)return o;(s<0||(r!=0?r<0?a.from<t:a.to>t:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function hQ(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let i=n[t],r=e[t];if(i.from!=r.from||i.to!=r.to||i.direction!=r.direction||!hQ(i.inner,r.inner))return!1}return!0}const Tn=[];function ape(n,e,t,i,r){for(let s=0;s<=i.length;s++){let o=s?i[s-1].to:e,a=s<i.length?i[s].from:t,l=s?256:r;for(let c=o,u=l,h=l;c<a;c++){let f=spe(n.charCodeAt(c));f==512?f=u:f==8&&h==4&&(f=16),Tn[c]=f==4?2:f,f&7&&(h=f),u=f}for(let c=o,u=l,h=l;c<a;c++){let f=Tn[c];if(f==128)c<a-1&&u==Tn[c+1]&&u&24?f=Tn[c]=u:Tn[c]=256;else if(f==64){let p=c+1;for(;p<a&&Tn[p]==64;)p++;let m=c&&u==8||p<t&&Tn[p]==8?h==1?1:8:256;for(let S=c;S<p;S++)Tn[S]=m;c=p-1}else f==8&&h==1&&(Tn[c]=1);u=f,f&7&&(h=f)}}}function lpe(n,e,t,i,r){let s=r==1?2:1;for(let o=0,a=0,l=0;o<=i.length;o++){let c=o?i[o-1].to:e,u=o<i.length?i[o].from:t;for(let h=c,f,p,m;h<u;h++)if(p=FS[f=n.charCodeAt(h)])if(p<0){for(let S=a-3;S>=0;S-=3)if(Ha[S+1]==-p){let v=Ha[S+2],A=v&2?r:v&4?v&1?s:r:0;A&&(Tn[h]=Tn[Ha[S]]=A),a=S;break}}else{if(Ha.length==189)break;Ha[a++]=h,Ha[a++]=f,Ha[a++]=l}else if((m=Tn[h])==2||m==1){let S=m==r;l=S?0:1;for(let v=a-3;v>=0;v-=3){let A=Ha[v+2];if(A&2)break;if(S)Ha[v+2]|=2;else{if(A&4)break;Ha[v+2]|=4}}}}}function cpe(n,e,t,i){for(let r=0,s=i;r<=t.length;r++){let o=r?t[r-1].to:n,a=r<t.length?t[r].from:e;for(let l=o;l<a;){let c=Tn[l];if(c==256){let u=l+1;for(;;)if(u==a){if(r==t.length)break;u=t[r++].to,a=r<t.length?t[r].from:e}else if(Tn[u]==256)u++;else break;let h=s==1,f=(u<e?Tn[u]:i)==1,p=h==f?h?1:2:i;for(let m=u,S=r,v=S?t[S-1].to:n;m>l;)m==v&&(m=t[--S].from,v=S?t[S-1].to:n),Tn[--m]=p;l=u}else s=c,l++}}}function US(n,e,t,i,r,s,o){let a=i%2?2:1;if(i%2==r%2)for(let l=e,c=0;l<t;){let u=!0,h=!1;if(c==s.length||l<s[c].from){let S=Tn[l];S!=a&&(u=!1,h=S==16)}let f=!u&&a==1?[]:null,p=u?i:i+1,m=l;e:for(;;)if(c<s.length&&m==s[c].from){if(h)break e;let S=s[c];if(!u)for(let v=S.to,A=c+1;;){if(v==t)break e;if(A<s.length&&s[A].from==v)v=s[A++].to;else{if(Tn[v]==a)break e;break}}if(c++,f)f.push(S);else{S.from>l&&o.push(new nc(l,S.from,p));let v=S.direction==f4!=!(p%2);GS(n,v?i+1:i,r,S.inner,S.from,S.to,o),l=S.to}m=S.to}else{if(m==t||(u?Tn[m]!=a:Tn[m]==a))break;m++}f?US(n,l,m,i+1,r,f,o):l<m&&o.push(new nc(l,m,p)),l=m}else for(let l=t,c=s.length;l>e;){let u=!0,h=!1;if(!c||l>s[c-1].to){let S=Tn[l-1];S!=a&&(u=!1,h=S==16)}let f=!u&&a==1?[]:null,p=u?i:i+1,m=l;e:for(;;)if(c&&m==s[c-1].to){if(h)break e;let S=s[--c];if(!u)for(let v=S.from,A=c;;){if(v==e)break e;if(A&&s[A-1].to==v)v=s[--A].from;else{if(Tn[v-1]==a)break e;break}}if(f)f.push(S);else{S.to<l&&o.push(new nc(S.to,l,p));let v=S.direction==f4!=!(p%2);GS(n,v?i+1:i,r,S.inner,S.from,S.to,o),l=S.from}m=S.from}else{if(m==e||(u?Tn[m-1]!=a:Tn[m-1]==a))break;m--}f?US(n,m,l,i+1,r,f,o):m<l&&o.push(new nc(m,l,p)),l=m}}function GS(n,e,t,i,r,s,o){let a=e%2?2:1;ape(n,r,s,i,a),lpe(n,r,s,i,a),cpe(r,s,i,a),US(n,r,s,e,t,i,o)}function upe(n,e,t){if(!n)return[new nc(0,0,e==cQ?1:0)];if(e==f4&&!t.length&&!ope.test(n))return fQ(n.length);if(t.length)for(;n.length>Tn.length;)Tn[Tn.length]=256;let i=[],r=e==f4?0:1;return GS(n,r,r,t,0,n.length,i),i}function fQ(n){return[new nc(0,n,0)]}let dQ="";function hpe(n,e,t,i,r){var s;let o=i.head-n.from,a=-1;if(o==0){if(!r||!n.length)return null;e[0].level!=t&&(o=e[0].side(!1,t),a=0)}else if(o==n.length){if(r)return null;let f=e[e.length-1];f.level!=t&&(o=f.side(!0,t),a=e.length-1)}a<0&&(a=nc.find(e,o,(s=i.bidiLevel)!==null&&s!==void 0?s:-1,i.assoc));let l=e[a];o==l.side(r,t)&&(l=e[a+=r?1:-1],o=l.side(!r,t));let c=r==(l.dir==t),u=Nr(n.text,o,c);if(dQ=n.text.slice(Math.min(o,u),Math.max(o,u)),u!=l.side(r,t))return Ge.cursor(u+n.from,c?-1:1,l.level);let h=a==(r?e.length-1:0)?null:e[a+(r?1:-1)];return!h&&l.level!=t?Ge.cursor(r?n.to:n.from,r?-1:1,t):h&&h.level<l.level?Ge.cursor(h.side(!r,t)+n.from,r?1:-1,h.level):Ge.cursor(u+n.from,r?-1:1,l.level)}class Rk extends zn{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new fr],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Wo(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:c,toA:u})=>u<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let r=-1;this.view.inputState.composing>=0&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?r=this.domChanged.newSel.head:!vpe(e.changes,this.hasComposition)&&!e.selectionSet&&(r=e.state.selection.main.head));let s=r>-1?dpe(this.view,e.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:u}=this.hasComposition;i=new Wo(c,u,e.changes.mapPos(c,-1),e.changes.mapPos(u,1)).addToSet(i.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(mt.ie||mt.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=mpe(o,a,e.changes);return i=Wo.extendWithRanges(i,l),!(this.flags&7)&&i.length==0?!1:(this.updateInner(i,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,i);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=mt.chrome||mt.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||r.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Zu&&o.widget instanceof Bk&&s.push(o.dom);r.updateGaps(s)}updateChildren(e,t,i){let r=i?i.range.addToSet(e.slice()):e,s=this.childCursor(t);for(let o=r.length-1;;o--){let a=o>=0?r[o]:null;if(!a)break;let{fromA:l,toA:c,fromB:u,toB:h}=a,f,p,m,S;if(i&&i.range.fromB<h&&i.range.toB>u){let C=od.build(this.view.state.doc,u,i.range.fromB,this.decorations,this.dynamicDecorationMap),w=od.build(this.view.state.doc,i.range.toB,h,this.decorations,this.dynamicDecorationMap);p=C.breakAtStart,m=C.openStart,S=w.openEnd;let M=this.compositionView(i);w.breakAtStart?M.breakAfter=1:w.content.length&&M.merge(M.length,M.length,w.content[0],!1,w.openStart,0)&&(M.breakAfter=w.content[0].breakAfter,w.content.shift()),C.content.length&&M.merge(0,0,C.content[C.content.length-1],!0,0,C.openEnd)&&C.content.pop(),f=C.content.concat(M).concat(w.content)}else({content:f,breakAtStart:p,openStart:m,openEnd:S}=od.build(this.view.state.doc,u,h,this.decorations,this.dynamicDecorationMap));let{i:v,off:A}=s.findPos(c,1),{i:y,off:x}=s.findPos(l,-1);Hz(this,y,x,v,A,f,p,m,S)}i&&this.fixCompositionDOM(i)}compositionView(e){let t=new h1(e.text.nodeValue);t.flags|=8;for(let{deco:r}of e.marks)t=new f1(r,[t],t.length);let i=new fr;return i.append(t,0),i}fixCompositionDOM(e){let t=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=zn.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},i=this.childPos(e.range.fromB,1),r=this.children[i.i];t(e.line,r);for(let s=e.marks.length-1;s>=-1;s--)i=r.childPos(i.off,1),r=r.children[i.i],t(s>=0?e.marks[s].node:e.text,r)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,r=i==this.dom,s=!r&&R8(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(r||t||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(mt.gecko&&a.empty&&!this.hasComposition&&fpe(l)){let h=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(h,l.node.childNodes[l.offset]||null)),l=c=new Or(h,0),o=!0}let u=this.view.observer.selectionRange;(o||!u.focusNode||!U9(l.node,l.offset,u.anchorNode,u.anchorOffset)||!U9(c.node,c.offset,u.focusNode,u.focusOffset))&&(this.view.observer.ignore(()=>{mt.android&&mt.chrome&&this.dom.contains(u.focusNode)&&Ape(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let h=F9(this.view.root);if(h)if(a.empty){if(mt.gecko){let f=ppe(l.node,l.offset);if(f&&f!=3){let p=gQ(l.node,l.offset,f==1?1:-1);p&&(l=new Or(p.node,p.offset))}}h.collapse(l.node,l.offset),a.bidiLevel!=null&&h.caretBidiLevel!==void 0&&(h.caretBidiLevel=a.bidiLevel)}else if(h.extend){h.collapse(l.node,l.offset);try{h.extend(c.node,c.offset)}catch{}}else{let f=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),f.setEnd(c.node,c.offset),f.setStart(l.node,l.offset),h.removeAllRanges(),h.addRange(f)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new Or(u.anchorNode,u.anchorOffset),this.impreciseHead=c.precise?null:new Or(u.focusNode,u.focusOffset)}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,i=F9(e.root),{anchorNode:r,anchorOffset:s}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let o=fr.find(this,t.head);if(!o)return;let a=o.posAtStart;if(t.head==a||t.head==a+o.length)return;let l=this.coordsAt(t.head,-1),c=this.coordsAt(t.head,1);if(!l||!c||l.bottom>c.top)return;let u=this.domAtPos(t.head+t.assoc);i.collapse(u.node,u.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=t.from&&i.collapse(r,s)}moveToLine(e){let t=this.dom,i;if(e.node!=t)return e;for(let r=e.offset;!i&&r<t.childNodes.length;r++){let s=zn.get(t.childNodes[r]);s instanceof fr&&(i=s.domAtPos(0))}for(let r=e.offset-1;!i&&r>=0;r--){let s=zn.get(t.childNodes[r]);s instanceof fr&&(i=s.domAtPos(s.length))}return i?new Or(i.node,i.offset,!0):e}nearest(e){for(let t=e;t;){let i=zn.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let r=this.children[t];if(i<r.length||r instanceof fr)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){for(let i=this.length,r=this.children.length-1;;r--){let s=this.children[r],o=i-s.breakAfter-s.length;if(e>o||e==o&&s.type!=oi.WidgetBefore&&s.type!=oi.WidgetAfter&&(!r||t==2||this.children[r-1].breakAfter||this.children[r-1].type==oi.WidgetBefore&&t>-2))return s.coordsAt(e-o,t);i=o}}coordsForChar(e){let{i:t,off:i}=this.childPos(e,1),r=this.children[t];if(!(r instanceof fr))return null;for(;r.children.length;){let{i:a,off:l}=r.childPos(i,1);for(;;a++){if(a==r.children.length)return null;if((r=r.children[a]).length)break}i=l}if(!(r instanceof h1))return null;let s=Nr(r.text,i);if(s==i)return null;let o=v3(r.dom,i,s).getClientRects();return!o.length||o[0].top>=o[0].bottom?null:o[0]}measureVisibleLineHeights(e){let t=[],{from:i,to:r}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==ii.LTR;for(let c=0,u=0;u<this.children.length;u++){let h=this.children[u],f=c+h.length;if(f>r)break;if(c>=i){let p=h.dom.getBoundingClientRect();if(t.push(p.height),o){let m=h.dom.lastChild,S=m?U2(m):[];if(S.length){let v=S[S.length-1],A=l?v.right-p.left:p.right-v.left;A>a&&(a=A,this.minWidth=s,this.minWidthFrom=c,this.minWidthTo=f)}}}c=f+h.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?ii.RTL:ii.LTR}measureTextSize(){for(let s of this.children)if(s instanceof fr){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),t,i,r;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=U2(e.firstChild)[0];t=e.getBoundingClientRect().height,i=s?s.width/27:7,r=s?s.height:t,e.remove()}),{lineHeight:t,charWidth:i,textHeight:r}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new Qz(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,r=0;;r++){let s=r==t.viewports.length?null:t.viewports[r],o=s?s.from-1:this.length;if(o>i){let a=(t.lineBlockAt(o).bottom-t.lineBlockAt(i).top)/this.view.scaleY;e.push(Tt.replace({widget:new Bk(a),block:!0,inclusive:!0,isBlockGap:!0}).range(i,o))}if(!s)break;i=s.to+1}return Tt.set(e)}updateDeco(){let e=this.view.state.facet(h4).map((t,i)=>(this.dynamicDecorationMap[i]=typeof t=="function")?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),r;if(!i)return;!t.empty&&(r=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let s=lQ(this.view),o={left:i.left-s.left,top:i.top-s.top,right:i.right+s.right,bottom:i.bottom+s.bottom};j5e(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==ii.LTR)}}function fpe(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}class Bk extends S1{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function pQ(n,e){let t=n.observer.selectionRange,i=t.focusNode&&gQ(t.focusNode,t.focusOffset,0);if(!i)return null;let r=e-i.offset;return{from:r,to:r+i.node.nodeValue.length,node:i.node}}function dpe(n,e,t){let i=pQ(n,t);if(!i)return null;let{node:r,from:s,to:o}=i,a=r.nodeValue;if(/[\n\r]/.test(a)||n.state.doc.sliceString(i.from,i.to)!=a)return null;let l=e.invertedDesc,c=new Wo(l.mapPos(s),l.mapPos(o),s,o),u=[];for(let h=r.parentNode;;h=h.parentNode){let f=zn.get(h);if(f instanceof f1)u.push({node:h,deco:f.mark});else{if(f instanceof fr||h.nodeName=="DIV"&&h.parentNode==n.contentDOM)return{range:c,text:r,marks:u,line:h};if(h!=n.contentDOM)u.push({node:h,deco:new l5({inclusive:!0,attributes:epe(h),tagName:h.tagName.toLowerCase()})});else return null}}}function gQ(n,e,t){if(t<=0)for(let i=n,r=e;;){if(i.nodeType==3)return{node:i,offset:r};if(i.nodeType==1&&r>0)i=i.childNodes[r-1],r=Bc(i);else break}if(t>=0)for(let i=n,r=e;;){if(i.nodeType==3)return{node:i,offset:r};if(i.nodeType==1&&r<i.childNodes.length&&t>=0)i=i.childNodes[r],r=0;else break}return null}function ppe(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let gpe=class{constructor(){this.changes=[]}compareRange(e,t){OS(e,t,this.changes)}comparePoint(e,t){OS(e,t,this.changes)}};function mpe(n,e,t){let i=new gpe;return Sn.compare(n,e,t,i),i.changes}function Ape(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function vpe(n,e){let t=!1;return e&&n.iterChangedRanges((i,r)=>{i<e.to&&r>e.from&&(t=!0)}),t}function ype(n,e,t=1){let i=n.charCategorizer(e),r=n.doc.lineAt(e),s=e-r.from;if(r.length==0)return Ge.cursor(e);s==0?t=1:s==r.length&&(t=-1);let o=s,a=s;t<0?o=Nr(r.text,s,!1):a=Nr(r.text,s);let l=i(r.text.slice(o,a));for(;o>0;){let c=Nr(r.text,o,!1);if(i(r.text.slice(c,o))!=l)break;o=c}for(;a<r.length;){let c=Nr(r.text,a);if(i(r.text.slice(a,c))!=l)break;a=c}return Ge.range(o+r.from,a+r.from)}function xpe(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function Spe(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function bv(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function kk(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function Pk(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function zS(n,e,t){let i,r,s,o,a=!1,l,c,u,h;for(let m=n.firstChild;m;m=m.nextSibling){let S=U2(m);for(let v=0;v<S.length;v++){let A=S[v];r&&bv(r,A)&&(A=kk(Pk(A,r.bottom),r.top));let y=xpe(e,A),x=Spe(t,A);if(y==0&&x==0)return m.nodeType==3?Lk(m,e,t):zS(m,e,t);if(!i||o>x||o==x&&s>y){i=m,r=A,s=y,o=x;let C=x?t<A.top?-1:1:y?e<A.left?-1:1:0;a=!C||(C>0?v<S.length-1:v>0)}y==0?t>A.bottom&&(!u||u.bottom<A.bottom)?(l=m,u=A):t<A.top&&(!h||h.top>A.top)&&(c=m,h=A):u&&bv(u,A)?u=Pk(u,A.bottom):h&&bv(h,A)&&(h=kk(h,A.top))}}if(u&&u.bottom>=t?(i=l,r=u):h&&h.top<=t&&(i=c,r=h),!i)return{node:n,offset:0};let f=Math.max(r.left,Math.min(r.right,e));if(i.nodeType==3)return Lk(i,f,t);if(a&&i.contentEditable!="false")return zS(i,f,t);let p=Array.prototype.indexOf.call(n.childNodes,i)+(e>=(r.left+r.right)/2?1:0);return{node:n,offset:p}}function Lk(n,e,t){let i=n.nodeValue.length,r=-1,s=1e9,o=0;for(let a=0;a<i;a++){let l=v3(n,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(u.top==u.bottom)continue;o||(o=e-u.left);let h=(u.top>t?u.top-t:t-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&h<s){let f=e>=(u.left+u.right)/2,p=f;if((mt.chrome||mt.gecko)&&v3(n,a).getBoundingClientRect().left==u.right&&(p=!f),h<=0)return{node:n,offset:a+(p?1:0)};r=a+(p?1:0),s=h}}}return{node:n,offset:r>-1?r:o>0?n.nodeValue.length:0}}function mQ(n,e,t,i=-1){var r,s;let o=n.contentDOM.getBoundingClientRect(),a=o.top+n.viewState.paddingTop,l,{docHeight:c}=n.viewState,{x:u,y:h}=e,f=h-a;if(f<0)return 0;if(f>c)return n.state.doc.length;for(let C=n.viewState.heightOracle.textHeight/2,w=!1;l=n.elementAtHeight(f),l.type!=oi.Text;)for(;f=i>0?l.bottom+C:l.top-C,!(f>=0&&f<=c);){if(w)return t?null:0;w=!0,i=-i}h=a+f;let p=l.from;if(p<n.viewport.from)return n.viewport.from==0?0:t?null:Dk(n,o,l,u,h);if(p>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:Dk(n,o,l,u,h);let m=n.dom.ownerDocument,S=n.root.elementFromPoint?n.root:m,v=S.elementFromPoint(u,h);v&&!n.contentDOM.contains(v)&&(v=null),v||(u=Math.max(o.left+1,Math.min(o.right-1,u)),v=S.elementFromPoint(u,h),v&&!n.contentDOM.contains(v)&&(v=null));let A,y=-1;if(v&&((r=n.docView.nearest(v))===null||r===void 0?void 0:r.isEditable)!=!1){if(m.caretPositionFromPoint){let C=m.caretPositionFromPoint(u,h);C&&({offsetNode:A,offset:y}=C)}else if(m.caretRangeFromPoint){let C=m.caretRangeFromPoint(u,h);C&&({startContainer:A,startOffset:y}=C,(!n.contentDOM.contains(A)||mt.safari&&Epe(A,y,u)||mt.chrome&&Cpe(A,y,u))&&(A=void 0))}}if(!A||!n.docView.dom.contains(A)){let C=fr.find(n.docView,p);if(!C)return f>l.top+l.height/2?l.to:l.from;({node:A,offset:y}=zS(C.dom,u,h))}let x=n.docView.nearest(A);if(!x)return null;if(x.isWidget&&((s=x.dom)===null||s===void 0?void 0:s.nodeType)==1){let C=x.dom.getBoundingClientRect();return e.y<C.top||e.y<=C.bottom&&e.x<=(C.left+C.right)/2?x.posAtStart:x.posAtEnd}else return x.localPosFromDOM(A,y)+x.posAtStart}function Dk(n,e,t,i,r){let s=Math.round((i-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let a=n.viewState.heightOracle.textHeight,l=Math.floor((r-t.top-(n.defaultLineHeight-a)*.5)/a);s+=l*n.viewState.heightOracle.lineLength}let o=n.state.sliceDoc(t.from,t.to);return t.from+TS(o,s,n.state.tabSize)}function Epe(n,e,t){let i;if(n.nodeType!=3||e!=(i=n.nodeValue.length))return!1;for(let r=n.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return v3(n,i-1,i).getBoundingClientRect().left>t}function Cpe(n,e,t){if(e!=0)return!1;for(let r=n;;){let s=r.parentNode;if(!s||s.nodeType!=1||s.firstChild!=r)return!1;if(s.classList.contains("cm-line"))break;r=s}let i=n.nodeType==1?n.getBoundingClientRect():v3(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-i.left>5}function QS(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type)){for(let i of t.type)if(i.to>e||i.to==e&&(i.to==t.to||i.type==oi.Text))return i}return t}function wpe(n,e,t,i){let r=QS(n,e.head),s=!i||r.type!=oi.Text||!(n.lineWrapping||r.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(s){let o=n.dom.getBoundingClientRect(),a=n.textDirectionAt(r.from),l=n.posAtCoords({x:t==(a==ii.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return Ge.cursor(l,t?-1:1)}return Ge.cursor(t?r.to:r.from,t?-1:1)}function Ok(n,e,t,i){let r=n.state.doc.lineAt(e.head),s=n.bidiSpans(r),o=n.textDirectionAt(r.from);for(let a=e,l=null;;){let c=hpe(r,s,o,a,t),u=dQ;if(!c){if(r.number==(t?n.state.doc.lines:1))return a;u=`
`,r=n.state.doc.line(r.number+(t?1:-1)),s=n.bidiSpans(r),c=Ge.cursor(t?r.from:r.to)}if(l){if(!l(u))return a}else{if(!i)return c;l=i(u)}a=c}}function _pe(n,e,t){let i=n.state.charCategorizer(e),r=i(t);return s=>{let o=i(s);return r==Yn.Space&&(r=o),r==o}}function Mpe(n,e,t,i){let r=e.head,s=t?1:-1;if(r==(t?n.state.doc.length:0))return Ge.cursor(r,e.assoc);let o=e.goalColumn,a,l=n.contentDOM.getBoundingClientRect(),c=n.coordsAtPos(r),u=n.documentTop;if(c)o==null&&(o=c.left-l.left),a=s<0?c.top:c.bottom;else{let p=n.viewState.lineBlockAt(r);o==null&&(o=Math.min(l.right-l.left,n.defaultCharacterWidth*(r-p.from))),a=(s<0?p.top:p.bottom)+u}let h=l.left+o,f=i??n.viewState.heightOracle.textHeight>>1;for(let p=0;;p+=10){let m=a+(f+p)*s,S=mQ(n,{x:h,y:m},!1,s);if(m<l.top||m>l.bottom||(s<0?S<r:S>r))return Ge.cursor(S,e.assoc,void 0,o)}}function B8(n,e,t){for(;;){let i=0;for(let r of n)r.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=i||t||(e-s<o-e?-1:1);e=l<0?s:o,i=l}});if(!i)return e}}function Iv(n,e,t){let i=B8(n.state.facet(Gw).map(r=>r(n)),t.from,e.head>t.from?-1:1);return i==t.from?t:Ge.cursor(i,i<t.from?1:-1)}class Tpe{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null;let t=(i,r)=>{this.ignoreDuringComposition(r)||r.type=="keydown"&&this.keydown(e,r)||(this.mustFlushObserver(r)&&e.observer.forceFlush(),this.runCustomHandlers(r.type,e,r)?r.preventDefault():i(e,r))};for(let i in ki){let r=ki[i];e.contentDOM.addEventListener(i,s=>{Nk(e,s)&&t(r,s)},HS[i]),this.registeredEvents.push(i)}e.scrollDOM.addEventListener("mousedown",i=>{if(i.target==e.scrollDOM&&i.clientY>e.contentDOM.getBoundingClientRect().bottom&&(t(ki.mousedown,i),!i.defaultPrevented&&i.button==2)){let r=e.contentDOM.style.minHeight;e.contentDOM.style.minHeight="100%",setTimeout(()=>e.contentDOM.style.minHeight=r,200)}}),e.scrollDOM.addEventListener("drop",i=>{i.target==e.scrollDOM&&i.clientY>e.contentDOM.getBoundingClientRect().bottom&&t(ki.drop,i)}),mt.chrome&&mt.chrome_version==102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,mt.safari&&e.contentDOM.addEventListener("input",()=>null),mt.gecko&&zpe(e.contentDOM.ownerDocument)}ensureHandlers(e,t){var i;let r;this.customHandlers=[];for(let s of t)if(r=(i=s.update(e).spec)===null||i===void 0?void 0:i.domEventHandlers){this.customHandlers.push({plugin:s.value,handlers:r});for(let o in r)this.registeredEvents.indexOf(o)<0&&o!="scroll"&&(this.registeredEvents.push(o),e.contentDOM.addEventListener(o,a=>{Nk(e,a)&&this.runCustomHandlers(o,e,a)&&a.preventDefault()}))}}runCustomHandlers(e,t,i){for(let r of this.customHandlers){let s=r.handlers[e];if(s)try{if(s.call(r.plugin,i,t)||i.defaultPrevented)return!0}catch(o){Vo(t.state,o)}}return!1}runScrollHandlers(e,t){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let i of this.customHandlers){let r=i.handlers.scroll;if(r)try{r.call(i.plugin,t,e)}catch(s){Vo(e.state,s)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(t.keyCode!=27&&vQ.indexOf(t.keyCode)<0&&(e.inputState.lastEscPress=0),mt.android&&mt.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let i;return mt.ios&&!t.synthetic&&!t.altKey&&!t.metaKey&&((i=AQ.find(r=>r.keyCode==t.keyCode))&&!t.ctrlKey||bpe.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(this.pendingIOSKey=i||t,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let t=this.pendingIOSKey;return t?(this.pendingIOSKey=void 0,g2(e.contentDOM,t.key,t.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:mt.safari&&!mt.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const AQ=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],bpe="dthko",vQ=[16,17,18,20,91,92,224,225],P6=6;function L6(n){return Math.max(0,n)*.7+8}function Ipe(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class Rpe{constructor(e,t,i,r){this.view=e,this.startEvent=t,this.style=i,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=X5e(e.contentDOM),this.atoms=e.state.facet(Gw).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(sn.allowMultipleSelections)&&Bpe(e,t),this.dragging=Ppe(e,t)&&EQ(t)==1?null:!1}start(e){this.dragging===!1&&(e.preventDefault(),this.select(e))}move(e){var t;if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Ipe(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let i=0,r=0,s=((t=this.scrollParent)===null||t===void 0?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},o=lQ(this.view);e.clientX-o.left<=s.left+P6?i=-L6(s.left-e.clientX):e.clientX+o.right>=s.right-P6&&(i=L6(e.clientX-s.right)),e.clientY-o.top<=s.top+P6?r=-L6(s.top-e.clientY):e.clientY+o.bottom>=s.bottom-P6&&(r=L6(e.clientY-s.bottom)),this.setScrollSpeed(i,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let i=0;i<e.ranges.length;i++){let r=e.ranges[i],s=null;if(r.empty){let o=B8(this.atoms,r.from,0);o!=r.from&&(s=Ge.cursor(o,-1))}else{let o=B8(this.atoms,r.from,-1),a=B8(this.atoms,r.to,1);(o!=r.from||a!=r.to)&&(s=Ge.range(r.from==r.anchor?o:a,r.from==r.head?o:a))}s&&(t||(t=e.ranges.slice()),t[i]=s)}return t?Ge.create(t,e.mainIndex):e}select(e){let{view:t}=this,i=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(t.state.selection)||i.main.assoc!=t.state.selection.main.assoc&&this.dragging===!1)&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Bpe(n,e){let t=n.state.facet(Jz);return t.length?t[0](e):mt.mac?e.metaKey:e.ctrlKey}function kpe(n,e){let t=n.state.facet($z);return t.length?t[0](e):mt.mac?!e.altKey:!e.ctrlKey}function Ppe(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=F9(n.root);if(!i||i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let s=0;s<r.length;s++){let o=r[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function Nk(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=zn.get(t))&&i.ignoreEvent(e))return!1;return!0}const ki=Object.create(null),HS=Object.create(null),yQ=mt.ie&&mt.ie_version<15||mt.ios&&mt.webkit_version<604;function Lpe(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),xQ(n,t.value)},50)}function xQ(n,e){let{state:t}=n,i,r=1,s=t.toText(e),o=s.lines==t.selection.ranges.length;if(VS!=null&&t.selection.ranges.every(l=>l.empty)&&VS==s.toString()){let l=-1;i=t.changeByRange(c=>{let u=t.doc.lineAt(c.from);if(u.from==l)return{range:c};l=u.from;let h=t.toText((o?s.line(r++).text:e)+t.lineBreak);return{changes:{from:u.from,insert:h},range:Ge.cursor(c.from+h.length)}})}else o?i=t.changeByRange(l=>{let c=s.line(r++);return{changes:{from:l.from,to:l.to,insert:c.text},range:Ge.cursor(l.from+c.length)}}):i=t.replaceSelection(s);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}ki.keydown=(n,e)=>{n.inputState.setSelectionOrigin("select"),e.keyCode==27&&(n.inputState.lastEscPress=Date.now())};ki.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};ki.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};HS.touchstart=HS.touchmove={passive:!0};ki.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return;let t=null;for(let i of n.state.facet(Zz))if(t=i(n,e),t)break;if(!t&&e.button==0&&(t=Npe(n,e)),t){let i=!n.hasFocus;n.inputState.startMouseSelection(new Rpe(n,e,t,i)),i&&n.observer.ignore(()=>Uz(n.contentDOM)),n.inputState.mouseSelection&&n.inputState.mouseSelection.start(e)}};function Fk(n,e,t,i){if(i==1)return Ge.cursor(e,t);if(i==2)return ype(n.state,e,t);{let r=fr.find(n.docView,e),s=n.state.doc.lineAt(r?r.posAtEnd:e),o=r?r.posAtStart:s.from,a=r?r.posAtEnd:s.to;return a<n.state.doc.length&&a==s.to&&a++,Ge.range(o,a)}}let SQ=(n,e)=>n>=e.top&&n<=e.bottom,Uk=(n,e,t)=>SQ(e,t)&&n>=t.left&&n<=t.right;function Dpe(n,e,t,i){let r=fr.find(n.docView,e);if(!r)return 1;let s=e-r.posAtStart;if(s==0)return 1;if(s==r.length)return-1;let o=r.coordsAt(s,-1);if(o&&Uk(t,i,o))return-1;let a=r.coordsAt(s,1);return a&&Uk(t,i,a)?1:o&&SQ(i,o)?-1:1}function Gk(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:Dpe(n,t,e.clientX,e.clientY)}}const Ope=mt.ie&&mt.ie_version<=11;let zk=null,Qk=0,Hk=0;function EQ(n){if(!Ope)return n.detail;let e=zk,t=Hk;return zk=n,Hk=Date.now(),Qk=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(Qk+1)%3:1}function Npe(n,e){let t=Gk(n,e),i=EQ(e),r=n.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),r=r.map(s.changes))},get(s,o,a){let l=Gk(n,s),c,u=Fk(n,l.pos,l.bias,i);if(t.pos!=l.pos&&!o){let h=Fk(n,t.pos,t.bias,i),f=Math.min(h.from,u.from),p=Math.max(h.to,u.to);u=f<u.from?Ge.range(f,p):Ge.range(p,f)}return o?r.replaceRange(r.main.extend(u.from,u.to)):a&&i==1&&r.ranges.length>1&&(c=Fpe(r,l.pos))?c:a?r.addRange(u):Ge.create([u])}}}function Fpe(n,e){for(let t=0;t<n.ranges.length;t++){let{from:i,to:r}=n.ranges[t];if(i<=e&&r>=e)return Ge.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}ki.dragstart=(n,e)=>{let{selection:{main:t}}=n.state,{mouseSelection:i}=n.inputState;i&&(i.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",n.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove")};function Vk(n,e,t,i){if(!t)return;let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:s}=n.inputState,o=i&&s&&s.dragging&&kpe(n,e)?{from:s.dragging.from,to:s.dragging.to}:null,a={from:r,insert:t},l=n.state.changes(o?[o,a]:a);n.focus(),n.dispatch({changes:l,selection:{anchor:l.mapPos(r,-1),head:l.mapPos(r,1)},userEvent:o?"move.drop":"input.drop"})}ki.drop=(n,e)=>{if(!e.dataTransfer)return;if(n.state.readOnly)return e.preventDefault();let t=e.dataTransfer.files;if(t&&t.length){e.preventDefault();let i=Array(t.length),r=0,s=()=>{++r==t.length&&Vk(n,e,i.filter(o=>o!=null).join(n.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(i[o]=a.result),s()},a.readAsText(t[o])}}else Vk(n,e,e.dataTransfer.getData("Text"),!0)};ki.paste=(n,e)=>{if(n.state.readOnly)return e.preventDefault();n.observer.flush();let t=yQ?null:e.clipboardData;t?(xQ(n,t.getData("text/plain")||t.getData("text/uri-text")),e.preventDefault()):Lpe(n)};function Upe(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function Gpe(n){let e=[],t=[],i=!1;for(let r of n.selection.ranges)r.empty||(e.push(n.sliceDoc(r.from,r.to)),t.push(r));if(!e.length){let r=-1;for(let{from:s}of n.selection.ranges){let o=n.doc.lineAt(s);o.number>r&&(e.push(o.text),t.push({from:o.from,to:Math.min(n.doc.length,o.to+1)})),r=o.number}i=!0}return{text:e.join(n.lineBreak),ranges:t,linewise:i}}let VS=null;ki.copy=ki.cut=(n,e)=>{let{text:t,ranges:i,linewise:r}=Gpe(n.state);if(!t&&!r)return;VS=r?t:null;let s=yQ?null:e.clipboardData;s?(e.preventDefault(),s.clearData(),s.setData("text/plain",t)):Upe(n,t),e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})};const CQ=Cl.define();function wQ(n,e){let t=[];for(let i of n.facet(nQ)){let r=i(n,e);r&&t.push(r)}return t?n.update({effects:t,annotations:CQ.of(!0)}):null}function _Q(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=wQ(n.state,e);t?n.dispatch(t):n.update([])}},10)}ki.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),_Q(n)};ki.blur=n=>{n.observer.clearSelectionRange(),_Q(n)};ki.compositionstart=ki.compositionupdate=n=>{n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0)};ki.compositionend=n=>{n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,mt.chrome&&mt.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50)};ki.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};ki.beforeinput=(n,e)=>{var t;let i;if(mt.chrome&&mt.android&&(i=AQ.find(r=>r.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let r=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>r+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}};const Wk=new Set;function zpe(n){Wk.has(n)||(Wk.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const jk=["pre-wrap","normal","pre-line","break-spaces"];class Qpe{constructor(e){this.lineWrapping=e,this.doc=xn.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return jk.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(r*10)]||(t=!0,this.heightSamples[Math.floor(r*10)]=!0)}return t}refresh(e,t,i,r,s,o){let a=jk.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=t,this.charWidth=i,this.textHeight=r,this.lineLength=s,l){this.heightSamples={};for(let c=0;c<o.length;c++){let u=o[c];u<0?c++:this.heightSamples[Math.floor(u*10)]=!0}}return l}}class Hpe{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class $a{constructor(e,t,i,r,s){this.from=e,this.length=t,this.top=i,this.height=r,this._content=s}get type(){return typeof this._content=="number"?oi.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof kc?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new $a(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Gn=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(Gn||(Gn={}));const k8=.001;class as{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>k8&&(e.heightChanged=!0),this.height=t)}replace(e,t,i){return as.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,r){let s=this,o=i.doc;for(let a=r.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:u,toB:h}=r[a],f=s.lineAt(l,Gn.ByPosNoHeight,i.setDoc(t),0,0),p=f.to>=c?f:s.lineAt(c,Gn.ByPosNoHeight,i,0,0);for(h+=p.to-c,c=p.to;a>0&&f.from<=r[a-1].toA;)l=r[a-1].fromA,u=r[a-1].fromB,a--,l<f.from&&(f=s.lineAt(l,Gn.ByPosNoHeight,i,0,0));u+=f.from-l,l=f.from;let m=zw.build(i.setDoc(o),e,u,h);s=s.replace(l,c,m)}return s.updateHeight(i,0)}static empty(){return new qs(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,r=0,s=0;for(;;)if(t==i)if(r>s*2){let a=e[t-1];a.break?e.splice(--t,1,a.left,null,a.right):e.splice(--t,1,a.left,a.right),i+=1+a.break,r-=a.size}else if(s>r*2){let a=e[i];a.break?e.splice(i,1,a.left,null,a.right):e.splice(i,1,a.left,a.right),i+=2+a.break,s-=a.size}else break;else if(r<s){let a=e[t++];a&&(r+=a.size)}else{let a=e[--i];a&&(s+=a.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,i++),new Vpe(as.of(e.slice(0,t)),o,as.of(e.slice(i)))}}as.prototype.size=1;class MQ extends as{constructor(e,t,i){super(e,t),this.deco=i}blockAt(e,t,i,r){return new $a(r,this.length,i,this.height,this.deco||0)}lineAt(e,t,i,r,s){return this.blockAt(0,i,r,s)}forEachLine(e,t,i,r,s,o){e<=s+this.length&&t>=s&&o(this.blockAt(0,i,r,s))}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(e,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class qs extends MQ{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,i,r){return new $a(r,this.length,i,this.height,this.breaks)}replace(e,t,i){let r=i[0];return i.length==1&&(r instanceof qs||r instanceof hr&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof hr?r=new qs(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):as.of(i)}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more?this.setHeight(e,r.heights[r.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class hr extends as{constructor(e){super(e,0)}heightMetrics(e,t){let i=e.doc.lineAt(t).number,r=e.doc.lineAt(t+this.length).number,s=r-i+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:i,lastLine:r,perLine:o,perChar:a}}blockAt(e,t,i,r){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(t,r);if(t.lineWrapping){let c=r+Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length),u=t.doc.lineAt(c),h=a+u.length*l,f=Math.max(i,e-h/2);return new $a(u.from,u.length,f,h,0)}else{let c=Math.max(0,Math.min(o-s,Math.floor((e-i)/a))),{from:u,length:h}=t.doc.line(s+c);return new $a(u,h,i+a*c,a,0)}}lineAt(e,t,i,r,s){if(t==Gn.ByHeight)return this.blockAt(e,i,r,s);if(t==Gn.ByPosNoHeight){let{from:p,to:m}=i.doc.lineAt(e);return new $a(p,m-p,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(i,s),c=i.doc.lineAt(e),u=a+c.length*l,h=c.number-o,f=r+a*h+l*(c.from-s-h);return new $a(c.from,c.length,Math.max(r,Math.min(f,r+this.height-u)),u,0)}forEachLine(e,t,i,r,s,o){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(i,s);for(let u=e,h=r;u<=t;){let f=i.doc.lineAt(u);if(u==e){let m=f.number-a;h+=l*m+c*(e-s-m)}let p=l+c*f.length;o(new $a(f.from,f.length,h,p,0)),h+=p,u=f.to+1}}replace(e,t,i){let r=this.length-t;if(r>0){let s=i[i.length-1];s instanceof hr?i[i.length-1]=new hr(s.length+r):i.push(null,new hr(r-1))}if(e>0){let s=i[0];s instanceof hr?i[0]=new hr(e+s.length):i.unshift(new hr(e-1),null)}return as.of(i)}decomposeLeft(e,t){t.push(new hr(e-1),null)}decomposeRight(e,t){t.push(null,new hr(this.length-e-1))}updateHeight(e,t=0,i=!1,r){let s=t+this.length;if(r&&r.from<=t+this.length&&r.more){let o=[],a=Math.max(t,r.from),l=-1;for(r.from>t&&o.push(new hr(r.from-t-1).updateHeight(e,t));a<=s&&r.more;){let u=e.doc.lineAt(a).length;o.length&&o.push(null);let h=r.heights[r.index++];l==-1?l=h:Math.abs(h-l)>=k8&&(l=-2);let f=new qs(u,h);f.outdated=!1,o.push(f),a+=u+1}a<=s&&o.push(null,new hr(s-a).updateHeight(e,a));let c=as.of(o);return(l<0||Math.abs(c.height-this.height)>=k8||Math.abs(l-this.heightMetrics(e,t).perLine)>=k8)&&(e.heightChanged=!0),c}else(i||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Vpe extends as{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,r){let s=i+this.left.height;return e<s?this.left.blockAt(e,t,i,r):this.right.blockAt(e,t,s,r+this.left.length+this.break)}lineAt(e,t,i,r,s){let o=r+this.left.height,a=s+this.left.length+this.break,l=t==Gn.ByHeight?e<o:e<a,c=l?this.left.lineAt(e,t,i,r,s):this.right.lineAt(e,t,i,o,a);if(this.break||(l?c.to<a:c.from>a))return c;let u=t==Gn.ByPosNoHeight?Gn.ByPosNoHeight:Gn.ByPos;return l?c.join(this.right.lineAt(a,u,i,o,a)):this.left.lineAt(a,u,i,r,s).join(c)}forEachLine(e,t,i,r,s,o){let a=r+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,i,r,s,o),t>=l&&this.right.forEachLine(e,t,i,a,l,o);else{let c=this.lineAt(l,Gn.ByPos,i,r,s);e<c.from&&this.left.forEachLine(e,c.from-1,i,r,s,o),c.to>=e&&c.from<=t&&o(c),t>c.to&&this.right.forEachLine(c.to+1,t,i,a,l,o)}}replace(e,t,i){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,i));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of i)s.push(a);if(e>0&&Xk(s,o-1),t<this.length){let a=s.length;this.decomposeRight(t,s),Xk(s,a)}return as.of(s)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?as.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,r){let{left:s,right:o}=this,a=t+s.length+this.break,l=null;return r&&r.from<=t+s.length&&r.more?l=s=s.updateHeight(e,t,i,r):s.updateHeight(e,t,i),r&&r.from<=a+o.length&&r.more?l=o=o.updateHeight(e,a,i,r):o.updateHeight(e,a,i),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Xk(n,e){let t,i;n[e]==null&&(t=n[e-1])instanceof hr&&(i=n[e+1])instanceof hr&&n.splice(e-1,3,new hr(t.length+1+i.length))}const Wpe=5;class zw{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof qs?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new qs(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0,s=i.widget?i.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let o=t-e;i.block?this.addBlock(new MQ(o,r,i)):(o||s||r>=Wpe)&&this.addLineDeco(r,s,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new qs(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new hr(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof qs)return e;let t=new qs(0,-1);return this.nodes.push(t),t}addBlock(e){var t;this.enterLine();let i=(t=e.deco)===null||t===void 0?void 0:t.type;i==oi.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,i!=oi.WidgetBefore&&(this.covering=e)}addLineDeco(e,t,i){let r=this.ensureLine();r.length+=i,r.collapsed+=i,r.widgetHeight=Math.max(r.widgetHeight,e),r.breaks+=t,this.writtenTo=this.pos=this.pos+i}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof qs)&&!this.isCovered?this.nodes.push(new qs(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let r of this.nodes)r instanceof qs&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(e,t,i,r){let s=new zw(i,e);return Sn.spans(t,i,r,s,0),s.finish(i)}}function jpe(n,e,t){let i=new Xpe;return Sn.compare(n,e,t,i,0),i.changes}class Xpe{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,r){(e<t||i&&i.heightRelevant||r&&r.heightRelevant)&&OS(e,t,this.changes,5)}}function qpe(n,e){let t=n.getBoundingClientRect(),i=n.ownerDocument,r=i.defaultView||window,s=Math.max(0,t.left),o=Math.min(r.innerWidth,t.right),a=Math.max(0,t.top),l=Math.min(r.innerHeight,t.bottom);for(let c=n.parentNode;c&&c!=i.body;)if(c.nodeType==1){let u=c,h=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&h.overflow!="visible"){let f=u.getBoundingClientRect();s=Math.max(s,f.left),o=Math.min(o,f.right),a=Math.max(a,f.top),l=c==n.parentNode?f.bottom:Math.min(l,f.bottom)}c=h.position=="absolute"||h.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:s-t.left,right:Math.max(s,o)-t.left,top:a-(t.top+e),bottom:Math.max(a,l)-(t.top+e)}}function Ype(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class Rv{constructor(e,t,i){this.from=e,this.to=t,this.size=i}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=t[i];if(r.from!=s.from||r.to!=s.to||r.size!=s.size)return!1}return!0}draw(e,t){return Tt.replace({widget:new Kpe(this.size*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class Kpe extends S1{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class qk{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Yk,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=ii.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(Uw).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new Qpe(t),this.stateDeco=e.facet(h4).filter(i=>typeof i!="function"),this.heightMap=as.empty().applyChanges(this.stateDeco,xn.empty,this.heightOracle.setDoc(e.doc),[new Wo(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Tt.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let r=i?t.head:t.anchor;if(!e.some(({from:s,to:o})=>r>=s&&r<=o)){let{from:s,to:o}=this.lineBlockAt(r);e.push(new D6(s,o))}}this.viewports=e.sort((i,r)=>i.from-r.from),this.scaler=this.heightMap.height<=7e6?Yk:new Zpe(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:Pf(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(h4).filter(u=>typeof u!="function");let r=e.changedRanges,s=Wo.extendWithRanges(r,jpe(i,this.stateDeco,e?e.changes:Gi.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=o&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let c=!e.changes.empty||e.flags&2||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),c&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(rQ)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),r=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?ii.RTL:ii.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=t.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,u=0;if(a.width&&a.height){let C=a.width/t.offsetWidth,w=a.height/t.offsetHeight;C>.995&&C<1.005&&(C=1),w>.995&&w<1.005&&(w=1),(this.scaleX!=C||this.scaleY!=w)&&(this.scaleX=C,this.scaleY=w,c|=8,o=l=!0)}let h=(parseInt(i.paddingTop)||0)*this.scaleY,f=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=h||this.paddingBottom!=f)&&(this.paddingTop=h,this.paddingBottom=f,c|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=8);let p=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=p&&(this.scrollAnchorHeight=-1,this.scrollTop=p),this.scrolledToBottom=zz(e.scrollDOM);let m=(this.printing?Ype:qpe)(t,this.paddingTop),S=m.top-this.pixelViewport.top,v=m.bottom-this.pixelViewport.bottom;this.pixelViewport=m;let A=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(A!=this.inView&&(this.inView=A,A&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let y=a.width;if((this.contentDOMWidth!=y||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=8),l){let C=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(C)&&(o=!0),o||r.lineWrapping&&Math.abs(y-this.contentDOMWidth)>r.charWidth){let{lineHeight:w,charWidth:M,textHeight:T}=e.docView.measureTextSize();o=w>0&&r.refresh(s,w,M,T,y/M,C),o&&(e.docView.minWidth=0,c|=8)}S>0&&v>0?u=Math.max(S,v):S<0&&v<0&&(u=Math.min(S,v)),r.heightChanged=!1;for(let w of this.viewports){let M=w.from==this.viewport.from?C:e.docView.measureVisibleLineHeights(w);this.heightMap=(o?as.empty().applyChanges(this.stateDeco,xn.empty,this.heightOracle,[new Wo(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,o,new Hpe(w.from,M))}r.heightChanged&&(c|=2)}let x=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return x&&(this.viewport=this.getViewport(u,this.scrollTarget)),this.updateForViewport(),(c&2||x)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new D6(r.lineAt(o-i*1e3,Gn.ByHeight,s,0,0).from,r.lineAt(a+(1-i)*1e3,Gn.ByHeight,s,0,0).to);if(t){let{head:c}=t.range;if(c<l.from||c>l.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=r.lineAt(c,Gn.ByPos,s,0,0),f;t.y=="center"?f=(h.top+h.bottom)/2-u/2:t.y=="start"||t.y=="nearest"&&c<l.from?f=h.top:f=h.bottom-u,l=new D6(r.lineAt(f-1e3/2,Gn.ByHeight,s,0,0).from,r.lineAt(f+u+1e3/2,Gn.ByHeight,s,0,0).to)}}return l}mapViewport(e,t){let i=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new D6(this.heightMap.lineAt(i,Gn.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,Gn.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,Gn.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,Gn.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||r<=o-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||s>=a+Math.max(10,Math.min(i,250)))&&r>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let r of e)t.touchesRange(r.from,r.to)||i.push(new Rv(t.mapPos(r.from),t.mapPos(r.to),r.size));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,r=i?1e4:2e3,s=r>>1,o=r<<1;if(this.defaultTextDirection!=ii.LTR&&!i)return[];let a=[],l=(c,u,h,f)=>{if(u-c<s)return;let p=this.state.selection.main,m=[p.from];p.empty||m.push(p.to);for(let v of m)if(v>c&&v<u){l(c,v-10,h,f),l(v+10,u,h,f);return}let S=$pe(e,v=>v.from>=h.from&&v.to<=h.to&&Math.abs(v.from-c)<s&&Math.abs(v.to-u)<s&&!m.some(A=>v.from<A&&v.to>A));if(!S){if(u<h.to&&t&&i&&t.visibleRanges.some(v=>v.from<=u&&v.to>=u)){let v=t.moveToLineBoundary(Ge.cursor(u),!1,!0).head;v>c&&(u=v)}S=new Rv(c,u,this.gapSize(h,c,u,f))}a.push(S)};for(let c of this.viewportLines){if(c.length<o)continue;let u=Jpe(c.from,c.to,this.stateDeco);if(u.total<o)continue;let h=this.scrollTarget?this.scrollTarget.range.head:null,f,p;if(i){let m=r/this.heightOracle.lineLength*this.heightOracle.lineHeight,S,v;if(h!=null){let A=N6(u,h),y=((this.visibleBottom-this.visibleTop)/2+m)/c.height;S=A-y,v=A+y}else S=(this.visibleTop-c.top-m)/c.height,v=(this.visibleBottom-c.top+m)/c.height;f=O6(u,S),p=O6(u,v)}else{let m=u.total*this.heightOracle.charWidth,S=r*this.heightOracle.charWidth,v,A;if(h!=null){let y=N6(u,h),x=((this.pixelViewport.right-this.pixelViewport.left)/2+S)/m;v=y-x,A=y+x}else v=(this.pixelViewport.left-S)/m,A=(this.pixelViewport.right+S)/m;f=O6(u,v),p=O6(u,A)}f>c.from&&l(c.from,f,c,u),p<c.to&&l(p,c.to,c,u)}return a}gapSize(e,t,i,r){let s=N6(r,i)-N6(r,t);return this.heightOracle.lineWrapping?e.height*s:r.total*this.heightOracle.charWidth*s}updateLineGaps(e){Rv.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Tt.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];Sn.spans(e,this.viewport.from,this.viewport.to,{span(r,s){t.push({from:r,to:s})},point(){}},20);let i=t.length!=this.visibleRanges.length||this.visibleRanges.some((r,s)=>r.from!=t[s].from||r.to!=t[s].to);return this.visibleRanges=t,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Pf(this.heightMap.lineAt(e,Gn.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return Pf(this.heightMap.lineAt(this.scaler.fromDOM(e),Gn.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Pf(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class D6{constructor(e,t){this.from=e,this.to=t}}function Jpe(n,e,t){let i=[],r=n,s=0;return Sn.spans(t,n,e,{span(){},point(o,a){o>r&&(i.push({from:r,to:o}),s+=o-r),r=a}},20),r<e&&(i.push({from:r,to:e}),s+=e-r),{total:s,ranges:i}}function O6({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(n*t);for(let r=0;;r++){let{from:s,to:o}=e[r],a=o-s;if(i<=a)return s+i;i-=a}}function N6(n,e){let t=0;for(let{from:i,to:r}of n.ranges){if(e<=r){t+=e-i;break}t+=r-i}return t/n.total}function $pe(n,e){for(let t of n)if(e(t))return t}const Yk={toDOM(n){return n},fromDOM(n){return n},scale:1};class Zpe{constructor(e,t,i){let r=0,s=0,o=0;this.viewports=i.map(({from:a,to:l})=>{let c=t.lineAt(a,Gn.ByPos,e,0,0).top,u=t.lineAt(l,Gn.ByPos,e,0,0).bottom;return r+=u-c,{from:a,to:l,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(t.height-r);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let t=0,i=0,r=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return r+(e-i)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);i=s.bottom,r=s.domBottom}}fromDOM(e){for(let t=0,i=0,r=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return i+(e-r)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);i=s.bottom,r=s.domBottom}}}function Pf(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),i=e.toDOM(n.bottom);return new $a(n.from,n.length,t,i-t,Array.isArray(n._content)?n._content.map(r=>Pf(r,e)):n._content)}const F6=gt.define({combine:n=>n.join(" ")}),WS=gt.define({combine:n=>n.indexOf(!0)>-1}),jS=Ic.newName(),TQ=Ic.newName(),bQ=Ic.newName(),IQ={"&light":"."+TQ,"&dark":"."+bQ};function XS(n,e,t){return new Ic(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,r=>{if(r=="&")return n;if(!t||!t[r])throw new RangeError(`Unsupported selector: ${r}`);return t[r]}):n+" "+i}})}const e6e=XS("."+jS,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},IQ),Lf="";class t6e{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(sn.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Lf}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r);let s=this.text.length;this.readNode(r);let o=r.nextSibling;if(o==t)break;let a=zn.get(r),l=zn.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:Kk(r))||Kk(o)&&(r.nodeName!="BR"||r.cmIgnore)&&this.text.length>s)&&this.lineBreak(),r=o}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,i),o=this.lineSeparator.length):(a=r.exec(t))&&(s=a.index,o=a[0].length),this.append(t.slice(i,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);i=s+o}}readNode(e){if(e.cmIgnore)return;let t=zn.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+Math.min(t,i.offset))}}function Kk(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}class Jk{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class n6e{constructor(e,t,i,r){this.typeOver=r,this.bounds=null,this.text="";let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,i,0))){let a=s||o?[]:s6e(e),l=new t6e(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=o6e(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!RS(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!RS(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset);this.newSel=Ge.single(c,l)}}}function RQ(n,e){let t,{newSel:i}=e,r=n.state.selection.main,s=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=r.from,c=null;(s===8||mt.android&&e.text.length<a-o)&&(l=r.to,c="end");let u=r6e(n.state.doc.sliceString(o,a,Lf),e.text,l-o,c);u&&(mt.chrome&&s==13&&u.toB==u.from+2&&e.text.slice(u.from,u.toB)==Lf+Lf&&u.toB--,t={from:o+u.from,to:o+u.toA,insert:xn.of(e.text.slice(u.from,u.toB).split(Lf))})}else i&&(!n.hasFocus&&n.state.facet(Tg)||i.main.eq(r))&&(i=null);if(!t&&!i)return!1;if(!t&&e.typeOver&&!r.empty&&i&&i.main.empty?t={from:r.from,to:r.to,insert:n.state.doc.slice(r.from,r.to)}:t&&t.from>=r.from&&t.to<=r.to&&(t.from!=r.from||t.to!=r.to)&&r.to-r.from-(t.to-t.from)<=4?t={from:r.from,to:r.to,insert:n.state.doc.slice(r.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,r.to))}:(mt.mac||mt.android)&&t&&t.from==t.to&&t.from==r.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(i&&t.insert.length==2&&(i=Ge.single(i.main.anchor-1,i.main.head-1)),t={from:r.from,to:r.to,insert:xn.of([" "])}):mt.chrome&&t&&t.from==t.to&&t.from==r.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(i&&(i=Ge.single(i.main.anchor-1,i.main.head-1)),t={from:r.from,to:r.to,insert:xn.of([" "])}),t){if(mt.ios&&n.inputState.flushIOSKey(n)||mt.android&&(t.from==r.from&&t.to==r.to&&t.insert.length==1&&t.insert.lines==2&&g2(n.contentDOM,"Enter",13)||(t.from==r.from-1&&t.to==r.to&&t.insert.length==0||s==8&&t.insert.length<t.to-t.from&&t.to>r.head)&&g2(n.contentDOM,"Backspace",8)||t.from==r.from&&t.to==r.to+1&&t.insert.length==0&&g2(n.contentDOM,"Delete",46)))return!0;let o=t.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let a,l=()=>a||(a=i6e(n,t,i));return n.state.facet(tQ).some(c=>c(n,t.from,t.to,o,l))||n.dispatch(l()),!0}else if(i&&!i.main.eq(r)){let o=!1,a="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(o=!0),a=n.inputState.lastSelectionOrigin),n.dispatch({selection:i,scrollIntoView:o,userEvent:a}),!0}else return!1}function i6e(n,e,t){let i,r=n.state,s=r.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let a=s.from<e.from?r.sliceDoc(s.from,e.from):"",l=s.to>e.to?r.sliceDoc(e.to,s.to):"";i=r.replaceSelection(n.state.toText(a+e.insert.sliceString(0,void 0,n.state.lineBreak)+l))}else{let a=r.changes(e),l=t&&t.main.to<=a.newLength?t.main:void 0;if(r.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let c=n.state.sliceDoc(e.from,e.to),u,h=t&&pQ(n,t.main.head);if(h){let m=e.insert.length-(e.to-e.from);u={from:h.from,to:h.to-m}}else u=n.state.doc.lineAt(s.head);let f=s.to-e.to,p=s.to-s.from;i=r.changeByRange(m=>{if(m.from==s.from&&m.to==s.to)return{changes:a,range:l||m.map(a)};let S=m.to-f,v=S-c.length;if(m.to-m.from!=p||n.state.sliceDoc(v,S)!=c||m.to>=u.from&&m.from<=u.to)return{range:m};let A=r.changes({from:v,to:S,insert:e.insert}),y=m.to-s.to;return{changes:A,range:l?Ge.range(Math.max(0,l.anchor+y),Math.max(0,l.head+y)):m.map(A)}})}else i={changes:a,selection:l&&r.selection.replaceRange(l)}}let o="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,o+=".compose",n.inputState.compositionFirstChange&&(o+=".start",n.inputState.compositionFirstChange=!1)),r.update(i,{userEvent:o,scrollIntoView:!0})}function r6e(n,e,t,i){let r=Math.min(n.length,e.length),s=0;for(;s<r&&n.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==r&&n.length==e.length)return null;let o=n.length,a=e.length;for(;o>0&&a>0&&n.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(i=="end"){let l=Math.max(0,s-Math.min(o,a));t-=o+l-s}if(o<s&&n.length<e.length){let l=t<=s&&t>=o?s-t:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=t<=s&&t>=a?s-t:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function s6e(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:r,focusOffset:s}=n.observer.selectionRange;return t&&(e.push(new Jk(t,i)),(r!=t||s!=i)&&e.push(new Jk(r,s))),e}function o6e(n,e){if(n.length==0)return null;let t=n[0].pos,i=n.length==2?n[1].pos:t;return t>-1&&i>-1?Ge.single(t+e,i+e):null}const a6e={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Bv=mt.ie&&mt.ie_version<=11;class l6e{constructor(e){this.view=e,this.active=!1,this.selectionRange=new q5e,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let i of t)this.queue.push(i);(mt.ie&&mt.ie_version<=11||mt.ios&&e.composing)&&t.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Bv&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,r=this.selectionRange;if(i.state.facet(Tg)?i.root.activeElement!=this.dom:!R8(i.dom,r))return;let s=r.anchorNode&&i.docView.nearest(r.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(mt.ie&&mt.ie_version<=11||mt.android&&mt.chrome)&&!i.state.selection.main.empty&&r.focusNode&&U9(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=mt.safari&&e.root.nodeType==11&&V5e(this.dom.ownerDocument)==this.dom&&c6e(this.view)||F9(e.root);if(!t||this.selectionRange.eq(t))return!1;let i=R8(this.dom,t);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&K5e(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,a6e),Bv&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Bv&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let r=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&g2(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(r)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,r=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(r=!0),t==-1?{from:t,to:i}=o:(t=Math.min(o.from,t),i=Math.max(o.to,i)))}return{from:t,to:i,typeOver:r}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),r=this.selectionChanged&&R8(this.dom,this.selectionRange);if(e<0&&!r)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new n6e(this.view,e,t,i);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return!1;let i=this.view.state,r=RQ(this.view,t);return this.view.state==i&&this.view.update([]),r}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let i=$k(t,e.previousSibling||e.target.previousSibling,-1),r=$k(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,i,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect(),(r=this.resizeContent)===null||r===void 0||r.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function $k(n,e,t){for(;e;){let i=zn.get(e);if(i&&i.parent==n)return i;let r=e.parentNode;e=r!=n.dom?r:t>0?e.nextSibling:e.previousSibling}return null}function c6e(n){let e=null;function t(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}if(n.contentDOM.addEventListener("beforeinput",t,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let i=e.startContainer,r=e.startOffset,s=e.endContainer,o=e.endOffset,a=n.docView.domAtPos(n.state.selection.main.anchor);return U9(a.node,a.offset,s,o)&&([i,r,s,o]=[s,o,i,r]),{anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o}}class ot{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM);let{dispatch:t}=e;this.dispatchTransactions=e.dispatchTransactions||t&&(i=>i.forEach(r=>t(r,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||Y5e(e.parent)||document,this.viewState=new qk(e.state||sn.create(e)),this.plugins=this.state.facet(Bf).map(i=>new Tv(i));for(let i of this.plugins)i.update(this);this.observer=new l6e(this),this.inputState=new Tpe(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new Rk(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}dispatch(...e){let t=e.length==1&&e[0]instanceof Vi?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,r,s=this.state;for(let f of e){if(f.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=f.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(f=>f.annotation(CQ))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=wQ(s,o),l||(a=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(u=null)):this.observer.clear(),s.facet(sn.phrases)!=this.state.facet(sn.phrases))return this.setState(s);r=Q9.create(this,s,e),r.flags|=a;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(h&&(h=h.map(f.changes)),f.scrollIntoView){let{main:p}=f.state.selection;h=new z9(p.empty?p:Ge.cursor(p.head,p.head>p.anchor?-1:1))}for(let p of f.effects)p.is(bk)&&(h=p.value)}this.viewState.update(r,h),this.bidiCache=H9.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),t=this.docView.update(r),this.state.facet(kf)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(F6)!=r.state.facet(F6)&&(this.viewState.mustMeasureContent=!0),(t||i||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!r.empty)for(let f of this.state.facet(NS))f(r);(l||u)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!RQ(this,u)&&c.force&&g2(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new qk(e),this.plugins=e.facet(Bf).map(i=>new Tv(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView=new Rk(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Bf),i=e.state.facet(Bf);if(t!=i){let r=[];for(let s of i){let o=t.indexOf(s);if(o<0)r.push(new Tv(s));else{let a=this.plugins[o];a.mustUpdate=e,r.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=r,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this)}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,i=this.scrollDOM,r=i.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(r-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(zz(i))s=-1,o=this.viewState.heightMap.height;else{let p=this.viewState.scrollAnchorAt(r);s=p.from,o=p.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let u=c.map(p=>{try{return p.read(this)}catch(m){return Vo(this.state,m),Zk}}),h=Q9.create(this,this.state,[]),f=!1;h.flags|=l,t?t.flags|=l:t=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),f=this.docView.update(h));for(let p=0;p<c.length;p++)if(u[p]!=Zk)try{let m=c[p];m.write&&m.write(u[p],this)}catch(m){Vo(this.state,m)}if(f&&this.docView.updateSelection(!0),!h.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null;continue}else{let m=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(m>1||m<-1){r=r+m,i.scrollTop=r/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let a of this.state.facet(NS))a(t)}get themeClasses(){return jS+" "+(this.state.facet(WS)?bQ:TQ)+" "+this.state.facet(F6)}updateAttrs(){let e=eP(this,sQ,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Tg)?"true":"false",class:"cm-content",style:`${mt.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),eP(this,Uw,t);let i=this.observer.ignore(()=>{let r=DS(this.contentDOM,this.contentAttrs,t),s=DS(this.dom,this.editorAttrs,e);return r||s});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let r of i.effects)if(r.is(ot.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(kf);let e=this.state.facet(ot.cspNonce);Ic.mount(this.root,this.styleModules.concat(e6e).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return Iv(this,e,Ok(this,e,t,i))}moveByGroup(e,t){return Iv(this,e,Ok(this,e,t,i=>_pe(this,e.head,i)))}moveToLineBoundary(e,t,i=!0){return wpe(this,e,t,i)}moveVertically(e,t,i){return Iv(this,e,Mpe(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),mQ(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(e),s=this.bidiSpans(r),o=s[nc.find(s,e-r.from,-1,t)];return _g(i,o.dir==ii.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(iQ)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>u6e)return fQ(e.length);let t=this.textDirectionAt(e.from),i;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||hQ(s.isolates,i=Ik(this,e.from,e.to))))return s.order;i||(i=Ik(this,e.from,e.to));let r=upe(e.text,t,i);return this.bidiCache.push(new H9(e.from,e.to,t,i,!0,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||mt.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Uz(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return bk.of(new z9(typeof e=="number"?Ge.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return Li.define(()=>({}),{eventHandlers:e})}static theme(e,t){let i=Ic.newName(),r=[F6.of(i),kf.of(XS(`.${i}`,e))];return t&&t.dark&&r.push(WS.of(!0)),r}static baseTheme(e){return l0.lowest(kf.of(XS("."+jS,e,IQ)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),r=i&&zn.get(i)||zn.get(e);return((t=r==null?void 0:r.rootView)===null||t===void 0?void 0:t.view)||null}}ot.styleModule=kf;ot.inputHandler=tQ;ot.focusChangeEffect=nQ;ot.perLineTextDirection=iQ;ot.exceptionSink=eQ;ot.updateListener=NS;ot.editable=Tg;ot.mouseSelectionStyle=Zz;ot.dragMovesSelection=$z;ot.clickAddsSelectionRange=Jz;ot.decorations=h4;ot.atomicRanges=Gw;ot.bidiIsolatedRanges=oQ;ot.scrollMargins=aQ;ot.darkTheme=WS;ot.cspNonce=gt.define({combine:n=>n.length?n[0]:""});ot.contentAttributes=Uw;ot.editorAttributes=sQ;ot.lineWrapping=ot.contentAttributes.of({class:"cm-lineWrapping"});ot.announce=Xt.define();const u6e=4096,Zk={};class H9{constructor(e,t,i,r,s,o){this.from=e,this.to=t,this.dir=i,this.isolates=r,this.fresh=s,this.order=o}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let i=[],r=e.length?e[e.length-1].dir:ii.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==r&&!t.touchesRange(o.from,o.to)&&i.push(new H9(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return i}}function eP(n,e,t){for(let i=n.state.facet(e),r=i.length-1;r>=0;r--){let s=i[r],o=typeof s=="function"?s(n):s;o&&LS(o,t)}return t}const h6e=mt.mac?"mac":mt.windows?"win":mt.linux?"linux":"key";function f6e(n,e){const t=n.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let r,s,o,a;for(let l=0;l<t.length-1;++l){const c=t[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(i="Alt-"+i),s&&(i="Ctrl-"+i),a&&(i="Meta-"+i),o&&(i="Shift-"+i),i}function U6(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const d6e=l0.default(ot.domEventHandlers({keydown(n,e){return kQ(BQ(e.state),n,e,"editor")}})),bg=gt.define({enables:d6e}),tP=new WeakMap;function BQ(n){let e=n.facet(bg),t=tP.get(e);return t||tP.set(e,t=m6e(e.reduce((i,r)=>i.concat(r),[]))),t}function p6e(n,e,t){return kQ(BQ(n.state),e,n,t)}let Y1=null;const g6e=4e3;function m6e(n,e=h6e){let t=Object.create(null),i=Object.create(null),r=(o,a)=>{let l=i[o];if(l==null)i[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,c,u)=>{var h,f;let p=t[o]||(t[o]=Object.create(null)),m=a.split(/ (?!$)/).map(A=>f6e(A,e));for(let A=1;A<m.length;A++){let y=m.slice(0,A).join(" ");r(y,!0),p[y]||(p[y]={preventDefault:!0,stopPropagation:!1,run:[x=>{let C=Y1={view:x,prefix:y,scope:o};return setTimeout(()=>{Y1==C&&(Y1=null)},g6e),!0}]})}let S=m.join(" ");r(S,!1);let v=p[S]||(p[S]={preventDefault:!1,stopPropagation:!1,run:((f=(h=p._any)===null||h===void 0?void 0:h.run)===null||f===void 0?void 0:f.slice())||[]});l&&v.run.push(l),c&&(v.preventDefault=!0),u&&(v.stopPropagation=!0)};for(let o of n){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let c of a){let u=t[c]||(t[c]=Object.create(null));u._any||(u._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let h in u)u[h].run.push(o.any)}let l=o[e]||o.key;if(l)for(let c of a)s(c,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(c,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return t}function kQ(n,e,t,i){let r=H5e(e),s=dr(r,0),o=Oo(s)==r.length&&r!=" ",a="",l=!1,c=!1,u=!1;Y1&&Y1.view==t&&Y1.scope==i&&(a=Y1.prefix+" ",vQ.indexOf(e.keyCode)<0&&(c=!0,Y1=null));let h=new Set,f=v=>{if(v){for(let A of v.run)if(!h.has(A)&&(h.add(A),A(t,e)))return v.stopPropagation&&(u=!0),!0;v.preventDefault&&(v.stopPropagation&&(u=!0),c=!0)}return!1},p=n[i],m,S;return p&&(f(p[a+U6(r,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(mt.windows&&e.ctrlKey&&e.altKey)&&(m=Rc[e.keyCode])&&m!=r?(f(p[a+U6(m,e,!0)])||e.shiftKey&&(S=u4[e.keyCode])!=r&&S!=m&&f(p[a+U6(S,e,!1)]))&&(l=!0):o&&e.shiftKey&&f(p[a+U6(r,e,!0)])&&(l=!0),!l&&f(p._any)&&(l=!0)),c&&(l=!0),l&&u&&e.stopPropagation(),l}class u5{constructor(e,t,i,r,s){this.className=e,this.left=t,this.top=i,this.width=r,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,i){if(i.empty){let r=e.coordsAtPos(i.head,i.assoc||1);if(!r)return[];let s=PQ(e);return[new u5(t,r.left-s.left,r.top-s.top,null,r.bottom-r.top)]}else return A6e(e,t,i)}}function PQ(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==ii.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function nP(n,e,t){let i=Ge.cursor(e);return{from:Math.max(t.from,n.moveToLineBoundary(i,!1,!0).from),to:Math.min(t.to,n.moveToLineBoundary(i,!0,!0).from),type:oi.Text}}function A6e(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let i=Math.max(t.from,n.viewport.from),r=Math.min(t.to,n.viewport.to),s=n.textDirection==ii.LTR,o=n.contentDOM,a=o.getBoundingClientRect(),l=PQ(n),c=o.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),h=a.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),f=a.right-(u?parseInt(u.paddingRight):0),p=QS(n,i),m=QS(n,r),S=p.type==oi.Text?p:null,v=m.type==oi.Text?m:null;if(S&&(n.lineWrapping||p.widgetLineBreaks)&&(S=nP(n,i,S)),v&&(n.lineWrapping||m.widgetLineBreaks)&&(v=nP(n,r,v)),S&&v&&S.from==v.from)return y(x(t.from,t.to,S));{let w=S?x(t.from,null,S):C(p,!1),M=v?x(null,t.to,v):C(m,!0),T=[];return(S||p).to<(v||m).from-(S&&v?1:0)||p.widgetLineBreaks>1&&w.bottom+n.defaultLineHeight/2<M.top?T.push(A(h,w.bottom,f,M.top)):w.bottom<M.top&&n.elementAtHeight((w.bottom+M.top)/2).type==oi.Text&&(w.bottom=M.top=(w.bottom+M.top)/2),y(w).concat(T).concat(y(M))}function A(w,M,T,R){return new u5(e,w-l.left,M-l.top-.01,T-w,R-M+.01)}function y({top:w,bottom:M,horizontal:T}){let R=[];for(let b=0;b<T.length;b+=2)R.push(A(T[b],w,T[b+1],M));return R}function x(w,M,T){let R=1e9,b=-1e9,B=[];function P(H,j,q,J,L){let D=n.coordsAtPos(H,H==T.to?-2:2),F=n.coordsAtPos(q,q==T.from?2:-2);!D||!F||(R=Math.min(D.top,F.top,R),b=Math.max(D.bottom,F.bottom,b),L==ii.LTR?B.push(s&&j?h:D.left,s&&J?f:F.right):B.push(!s&&J?h:F.left,!s&&j?f:D.right))}let O=w??T.from,G=M??T.to;for(let H of n.visibleRanges)if(H.to>O&&H.from<G)for(let j=Math.max(H.from,O),q=Math.min(H.to,G);;){let J=n.state.doc.lineAt(j);for(let L of n.bidiSpans(J)){let D=L.from+J.from,F=L.to+J.from;if(D>=q)break;F>j&&P(Math.max(D,j),w==null&&D<=O,Math.min(F,q),M==null&&F>=G,L.dir)}if(j=J.to+1,j>=q)break}return B.length==0&&P(O,w==null,G,M==null,n.textDirection),{top:R,bottom:b,horizontal:B}}function C(w,M){let T=a.top+(M?w.top:w.bottom);return{top:T,bottom:T,horizontal:[]}}}function v6e(n,e){return n.constructor==e.constructor&&n.eq(e)}class y6e{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(P8)!=e.state.facet(P8)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}setOrder(e){let t=0,i=e.facet(P8);for(;t<i.length&&i[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,i)=>!v6e(t,this.drawn[i]))){let t=this.dom.firstChild,i=0;for(let r of e)r.update&&t&&r.constructor&&this.drawn[i].constructor&&r.update(t,this.drawn[i])?(t=t.nextSibling,i++):this.dom.insertBefore(r.draw(),t);for(;t;){let r=t.nextSibling;t.remove(),t=r}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const P8=gt.define();function LQ(n){return[Li.define(e=>new y6e(e,n)),P8.of(n)]}const DQ=!mt.ios,d4=gt.define({combine(n){return wl(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function x6e(n={}){return[d4.of(n),S6e,E6e,C6e,rQ.of(!0)]}function OQ(n){return n.startState.facet(d4)!=n.state.facet(d4)}const S6e=LQ({above:!0,markers(n){let{state:e}=n,t=e.facet(d4),i=[];for(let r of e.selection.ranges){let s=r==e.selection.main;if(r.empty?!s||DQ:t.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=r.empty?r:Ge.cursor(r.head,r.head>r.anchor?-1:1);for(let l of u5.forRange(n,o,a))i.push(l)}}return i},update(n,e){n.transactions.some(i=>i.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=OQ(n);return t&&iP(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){iP(e.state,n)},class:"cm-cursorLayer"});function iP(n,e){e.style.animationDuration=n.facet(d4).cursorBlinkRate+"ms"}const E6e=LQ({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:u5.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||OQ(n)},class:"cm-selectionLayer"}),NQ={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};DQ&&(NQ[".cm-line"].caretColor="transparent !important");const C6e=l0.highest(ot.theme(NQ)),FQ=Xt.define({map(n,e){return n==null?null:e.mapPos(n)}}),Df=xr.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,i)=>i.is(FQ)?i.value:t,n)}}),w6e=Li.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(Df);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(Df)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(Df),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let i=n.scrollDOM.getBoundingClientRect();return{left:t.left-i.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-i.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(Df)!=n&&this.view.dispatch({effects:FQ.of(n)})}},{eventHandlers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function _6e(){return[Df,w6e]}function rP(n,e,t,i,r){e.lastIndex=0;for(let s=n.iterRange(t,i),o=t,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)r(o+a.index,a)}function M6e(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let i=[];for(let{from:r,to:s}of t)r=Math.max(n.state.doc.lineAt(r).from,r-e),s=Math.min(n.state.doc.lineAt(s).to,s+e),i.length&&i[i.length-1].to>=r?i[i.length-1].to=s:i.push({from:r,to:s});return i}class T6e{constructor(e){const{regexp:t,decoration:i,decorate:r,boundary:s,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,r)this.addMatch=(a,l,c,u)=>r(u,c,c+a[0].length,a,l);else if(typeof i=="function")this.addMatch=(a,l,c,u)=>{let h=i(a,l,c);h&&u(c,c+a[0].length,h)};else if(i)this.addMatch=(a,l,c,u)=>u(c,c+a[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let t=new bc,i=t.add.bind(t);for(let{from:r,to:s}of M6e(e,this.maxLength))rP(e.state.doc,this.regexp,r,s,(o,a)=>this.addMatch(a,e,o,i));return t.finish()}updateDeco(e,t){let i=1e9,r=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>e.view.viewport.from&&a<e.view.viewport.to&&(i=Math.min(a,i),r=Math.max(l,r))}),e.viewportChanged||r-i>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),i,r):t}updateRange(e,t,i,r){for(let s of e.visibleRanges){let o=Math.max(s.from,i),a=Math.min(s.to,r);if(a>o){let l=e.state.doc.lineAt(o),c=l.to<a?e.state.doc.lineAt(a):l,u=Math.max(s.from,l.from),h=Math.min(s.to,c.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){u=o;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){h=a;break}}let f=[],p,m=(S,v,A)=>f.push(A.range(S,v));if(l==c)for(this.regexp.lastIndex=u-l.from;(p=this.regexp.exec(l.text))&&p.index<h-l.from;)this.addMatch(p,e,p.index+l.from,m);else rP(e.state.doc,this.regexp,u,h,(S,v)=>this.addMatch(v,e,S,m));t=t.update({filterFrom:u,filterTo:h,filter:(S,v)=>S<u||v>h,add:f})}}return t}}const qS=/x/.unicode!=null?"gu":"g",b6e=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,qS),I6e={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let kv=null;function R6e(){var n;if(kv==null&&typeof document<"u"&&document.body){let e=document.body.style;kv=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return kv||!1}const L8=gt.define({combine(n){let e=wl(n,{render:null,specialChars:b6e,addSpecialChars:null});return(e.replaceTabs=!R6e())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,qS)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,qS)),e}});function B6e(n={}){return[L8.of(n),k6e()]}let sP=null;function k6e(){return sP||(sP=Li.fromClass(class{constructor(n){this.view=n,this.decorations=Tt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(L8)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new T6e({regexp:n.specialChars,decoration:(e,t,i)=>{let{doc:r}=t.state,s=dr(e[0],0);if(s==9){let o=r.lineAt(i),a=t.state.tabSize,l=c0(o.text,a,i-o.from);return Tt.replace({widget:new O6e((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=Tt.replace({widget:new D6e(n,s)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(L8);n.startState.facet(L8)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const P6e="";function L6e(n){return n>=32?P6e:n==10?"":String.fromCharCode(9216+n)}class D6e extends S1{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=L6e(this.code),i=e.state.phrase("Control character")+" "+(I6e[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,i,t);if(r)return r;let s=document.createElement("span");return s.textContent=t,s.title=i,s.setAttribute("aria-label",i),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class O6e extends S1{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function N6e(){return U6e}const F6e=Tt.line({class:"cm-activeLine"}),U6e=Li.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let i of n.state.selection.ranges){let r=n.lineBlockAt(i.head);r.from>e&&(t.push(F6e.range(r.from)),e=r.from)}return Tt.set(t)}},{decorations:n=>n.decorations});class G6e extends S1{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){let t=e.firstChild?U2(e.firstChild):[];if(!t.length)return null;let i=window.getComputedStyle(e.parentNode),r=_g(t[0],i.direction!="rtl"),s=parseInt(i.lineHeight);return r.bottom-r.top>s*1.5?{left:r.left,right:r.right,top:r.top,bottom:r.top+s}:r}ignoreEvent(){return!1}}function z6e(n){return Li.fromClass(class{constructor(e){this.view=e,this.placeholder=n?Tt.set([Tt.widget({widget:new G6e(n),side:1}).range(0)]):Tt.none}get decorations(){return this.view.state.doc.length?Tt.none:this.placeholder}},{decorations:e=>e.decorations})}const YS=2e3;function Q6e(n,e,t){let i=Math.min(e.line,t.line),r=Math.max(e.line,t.line),s=[];if(e.off>YS||t.off>YS||e.col<0||t.col<0){let o=Math.min(e.off,t.off),a=Math.max(e.off,t.off);for(let l=i;l<=r;l++){let c=n.doc.line(l);c.length<=a&&s.push(Ge.range(c.from+o,c.to+a))}}else{let o=Math.min(e.col,t.col),a=Math.max(e.col,t.col);for(let l=i;l<=r;l++){let c=n.doc.line(l),u=TS(c.text,o,n.tabSize,!0);if(u<0)s.push(Ge.cursor(c.to));else{let h=TS(c.text,a,n.tabSize);s.push(Ge.range(c.from+u,c.from+h))}}}return s}function H6e(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function oP(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),i=n.state.doc.lineAt(t),r=t-i.from,s=r>YS?-1:r==i.length?H6e(n,e.clientX):c0(i.text,n.state.tabSize,t-i.from);return{line:i.number,col:s,off:r}}function V6e(n,e){let t=oP(n,e),i=n.state.selection;return t?{update(r){if(r.docChanged){let s=r.changes.mapPos(r.startState.doc.line(t.line).from),o=r.state.doc.lineAt(s);t={line:o.number,col:t.col,off:Math.min(t.off,o.length)},i=i.map(r.changes)}},get(r,s,o){let a=oP(n,r);if(!a)return i;let l=Q6e(n.state,t,a);return l.length?o?Ge.create(l.concat(i.ranges)):Ge.create(l):i}}:null}function W6e(n){let e=(n==null?void 0:n.eventFilter)||(t=>t.altKey&&t.button==0);return ot.mouseSelectionStyle.of((t,i)=>e(i)?V6e(t,i):null)}const j6e={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},X6e={style:"cursor: crosshair"};function q6e(n={}){let[e,t]=j6e[n.key||"Alt"],i=Li.fromClass(class{constructor(r){this.view=r,this.isDown=!1}set(r){this.isDown!=r&&(this.isDown=r,this.view.update([]))}},{eventHandlers:{keydown(r){this.set(r.keyCode==e||t(r))},keyup(r){(r.keyCode==e||!t(r))&&this.set(!1)},mousemove(r){this.set(t(r))}}});return[i,ot.contentAttributes.of(r=>{var s;return!((s=r.plugin(i))===null||s===void 0)&&s.isDown?X6e:null})]}const G6="-10000px";class UQ{constructor(e,t,i){this.facet=t,this.createTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(r=>r),this.tooltipViews=this.tooltips.map(i)}update(e){var t;let i=e.state.facet(this.facet),r=i.filter(o=>o);if(i===this.input){for(let o of this.tooltipViews)o.update&&o.update(e);return!1}let s=[];for(let o=0;o<r.length;o++){let a=r[o],l=-1;if(a){for(let c=0;c<this.tooltips.length;c++){let u=this.tooltips[c];u&&u.create==a.create&&(l=c)}if(l<0)s[o]=this.createTooltipView(a);else{let c=s[o]=this.tooltipViews[l];c.update&&c.update(e)}}}for(let o of this.tooltipViews)s.indexOf(o)<0&&(o.dom.remove(),(t=o.destroy)===null||t===void 0||t.call(o));return this.input=i,this.tooltips=r,this.tooltipViews=s,!0}}function Y6e(n){let{win:e}=n;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const Pv=gt.define({combine:n=>{var e,t,i;return{position:mt.ios?"absolute":((e=n.find(r=>r.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(r=>r.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((i=n.find(r=>r.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||Y6e}}}),aP=new WeakMap,GQ=Li.fromClass(class{constructor(n){this.view=n,this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(Pv);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new UQ(n,Qw,t=>this.createTooltip(t)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n);e&&this.observeIntersection();let t=e||n.geometryChanged,i=n.state.facet(Pv);if(i.position!=this.position&&!this.madeAbsolute){this.position=i.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;t=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n){let e=n.create(this.view);if(e.dom.classList.add("cm-tooltip"),n.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=G6,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var n,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let t of this.manager.tooltipViews)t.dom.remove(),(n=t.destroy)===null||n===void 0||n.call(t);(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=this.view.dom.getBoundingClientRect(),e=1,t=1,i=!1;if(this.position=="fixed"){let r=this.manager.tooltipViews;i=r.length>0&&r[0].dom.offsetParent!=this.container.ownerDocument.body}if(i||this.position=="absolute")if(this.parent){let r=this.parent.getBoundingClientRect();r.width&&r.height&&(e=r.width/this.parent.offsetWidth,t=r.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:t}=this.view.viewState);return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map((r,s)=>{let o=this.manager.tooltipViews[s];return o.getCoords?o.getCoords(r.pos):this.view.coordsAtPos(r.pos)}),size:this.manager.tooltipViews.map(({dom:r})=>r.getBoundingClientRect()),space:this.view.state.facet(Pv).tooltipSpace(this.view),scaleX:e,scaleY:t,makeAbsolute:i}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{editor:t,space:i,scaleX:r,scaleY:s}=n,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:u}=c,h=n.pos[a],f=n.size[a];if(!h||h.bottom<=Math.max(t.top,i.top)||h.top>=Math.min(t.bottom,i.bottom)||h.right<Math.max(t.left,i.left)-.1||h.left>Math.min(t.right,i.right)+.1){u.style.top=G6;continue}let p=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,m=p?7:0,S=f.right-f.left,v=(e=aP.get(c))!==null&&e!==void 0?e:f.bottom-f.top,A=c.offset||J6e,y=this.view.textDirection==ii.LTR,x=f.width>i.right-i.left?y?i.left:i.right-f.width:y?Math.min(h.left-(p?14:0)+A.x,i.right-S):Math.max(i.left,h.left-S+(p?14:0)-A.x),C=!!l.above;!l.strictSide&&(C?h.top-(f.bottom-f.top)-A.y<i.top:h.bottom+(f.bottom-f.top)+A.y>i.bottom)&&C==i.bottom-h.bottom>h.top-i.top&&(C=!C);let w=(C?h.top-i.top:i.bottom-h.bottom)-m;if(w<v&&c.resize!==!1){if(w<this.view.defaultLineHeight){u.style.top=G6;continue}aP.set(c,v),u.style.height=(v=w)/s+"px"}else u.style.height&&(u.style.height="");let M=C?h.top-v-m-A.y:h.bottom+m+A.y,T=x+S;if(c.overlap!==!0)for(let R of o)R.left<T&&R.right>x&&R.top<M+v&&R.bottom>M&&(M=C?R.top-v-2-m:R.bottom+m+2);if(this.position=="absolute"?(u.style.top=(M-n.parent.top)/s+"px",u.style.left=(x-n.parent.left)/r+"px"):(u.style.top=M/s+"px",u.style.left=x/r+"px"),p){let R=h.left+(y?A.x:-A.x)-(x+14-7);p.style.left=R/r+"px"}c.overlap!==!0&&o.push({left:x,top:M,right:T,bottom:M+v}),u.classList.toggle("cm-tooltip-above",C),u.classList.toggle("cm-tooltip-below",!C),c.positioned&&c.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=G6}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),K6e=ot.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),J6e={x:0,y:0},Qw=gt.define({enables:[GQ,K6e]}),V9=gt.define();class Hw{static create(e){return new Hw(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new UQ(e,V9,t=>this.createHostedView(t))}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}}const $6e=Qw.compute([V9],n=>{let e=n.facet(V9).filter(t=>t);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.filter(t=>t.end!=null).map(t=>t.end)),create:Hw.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class Z6e{constructor(e,t,i,r,s){this.view=e,this.source=t,this.field=i,this.setHover=r,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,i=e.docView.nearest(t.target);if(!i)return;let r,s=1;if(i instanceof tc)r=i.posAtStart;else{if(r=e.posAtCoords(t),r==null)return;let a=e.coordsAtPos(r);if(!a||t.y<a.top||t.y>a.bottom||t.x<a.left-e.defaultCharacterWidth||t.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(r)).find(u=>u.from<=r&&u.to>=r),c=l&&l.dir==ii.RTL?-1:1;s=t.x<a.left?-c:c}let o=this.source(e,r,s);if(o!=null&&o.then){let a=this.pending={pos:r};o.then(l=>{this.pending==a&&(this.pending=null,l&&e.dispatch({effects:this.setHover.of(l)}))},l=>Vo(e.state,l,"hover tooltip"))}else o&&e.dispatch({effects:this.setHover.of(o)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let i=this.active;if(i&&!lP(this.lastMove.target)||this.pending){let{pos:r}=i||this.pending,s=(t=i==null?void 0:i.end)!==null&&t!==void 0?t:r;(r==s?this.view.posAtCoords(this.lastMove)!=r:!e8e(this.view,r,s,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!lP(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function lP(n){for(let e=n;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function e8e(n,e,t,i,r,s){let o=n.scrollDOM.getBoundingClientRect(),a=n.documentTop+n.documentPadding.top+n.contentHeight;if(o.left>i||o.right<i||o.top>r||Math.min(o.bottom,a)<r)return!1;let l=n.posAtCoords({x:i,y:r},!1);return l>=e&&l<=t}function t8e(n,e={}){let t=Xt.define(),i=xr.define({create(){return null},update(r,s){if(r&&(e.hideOnChange&&(s.docChanged||s.selection)||e.hideOn&&e.hideOn(s,r)))return null;if(r&&s.docChanged){let o=s.changes.mapPos(r.pos,-1,is.TrackDel);if(o==null)return null;let a=Object.assign(Object.create(null),r);a.pos=o,r.end!=null&&(a.end=s.changes.mapPos(r.end)),r=a}for(let o of s.effects)o.is(t)&&(r=o.value),o.is(n8e)&&(r=null);return r},provide:r=>V9.from(r)});return[i,Li.define(r=>new Z6e(r,n,i,t,e.hoverTime||300)),$6e]}function zQ(n,e){let t=n.plugin(GQ);if(!t)return null;let i=t.manager.tooltips.indexOf(e);return i<0?null:t.manager.tooltipViews[i]}const n8e=Xt.define(),cP=gt.define({combine(n){let e,t;for(let i of n)e=e||i.topContainer,t=t||i.bottomContainer;return{topContainer:e,bottomContainer:t}}});function p4(n,e){let t=n.plugin(QQ),i=t?t.specs.indexOf(e):-1;return i>-1?t.panels[i]:null}const QQ=Li.fromClass(class{constructor(n){this.input=n.state.facet(g4),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(cP);this.top=new z6(n,!0,e.topContainer),this.bottom=new z6(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(cP);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new z6(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new z6(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(g4);if(t!=this.input){let i=t.filter(l=>l),r=[],s=[],o=[],a=[];for(let l of i){let c=this.specs.indexOf(l),u;c<0?(u=l(n.view),a.push(u)):(u=this.panels[c],u.update&&u.update(n)),r.push(u),(u.top?s:o).push(u)}this.specs=i,this.panels=r,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let i of this.panels)i.update&&i.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>ot.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class z6{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=uP(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=uP(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function uP(n){let e=n.nextSibling;return n.remove(),e}const g4=gt.define({enables:QQ});class d1 extends A3{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}d1.prototype.elementClass="";d1.prototype.toDOM=void 0;d1.prototype.mapMode=is.TrackBefore;d1.prototype.startSide=d1.prototype.endSide=-1;d1.prototype.point=!0;const D8=gt.define(),i8e={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Sn.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},ad=gt.define();function r8e(n){return[HQ(),ad.of(Object.assign(Object.assign({},i8e),n))]}const KS=gt.define({combine:n=>n.some(e=>e)});function HQ(n){let e=[s8e];return n&&n.fixed===!1&&e.push(KS.of(!0)),e}const s8e=Li.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(ad).map(e=>new fP(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(KS),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(KS)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=Sn.iter(this.view.state.facet(D8),this.view.viewport.from),i=[],r=this.gutters.map(s=>new o8e(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==oi.Text&&o){JS(t,i,a.from);for(let l of r)l.line(this.view,a,i);o=!1}else if(a.widget)for(let l of r)l.widget(this.view,a)}else if(s.type==oi.Text){JS(t,i,s.from);for(let o of r)o.line(this.view,s,i)}else if(s.widget)for(let o of r)o.widget(this.view,s);for(let s of r)s.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(ad),t=n.state.facet(ad),i=n.docChanged||n.heightChanged||n.viewportChanged||!Sn.eq(n.startState.facet(D8),n.state.facet(D8),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let r of this.gutters)r.update(n)&&(i=!0);else{i=!0;let r=[];for(let s of t){let o=e.indexOf(s);o<0?r.push(new fP(this.view,s)):(this.gutters[o].update(n),r.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),r.indexOf(s)<0&&s.destroy();for(let s of r)this.dom.appendChild(s.dom);this.gutters=r}return i}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>ot.scrollMargins.of(e=>{let t=e.plugin(n);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==ii.LTR?{left:t.dom.offsetWidth*e.scaleX}:{right:t.dom.offsetWidth*e.scaleX}})});function hP(n){return Array.isArray(n)?n:[n]}function JS(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class o8e{constructor(e,t,i){this.gutter=e,this.height=i,this.i=0,this.cursor=Sn.iter(e.markers,t.from)}addElement(e,t,i){let{gutter:r}=this,s=t.top-this.height;if(this.i==r.elements.length){let o=new VQ(e,t.height,s,i);r.elements.push(o),r.dom.appendChild(o.dom)}else r.elements[this.i].update(e,t.height,s,i);this.height=t.bottom,this.i++}line(e,t,i){let r=[];JS(this.cursor,r,t.from),i.length&&(r=r.concat(i));let s=this.gutter.config.lineMarker(e,t,r);s&&r.unshift(s);let o=this.gutter;r.length==0&&!o.config.renderEmptyElements||this.addElement(e,t,r)}widget(e,t){let i=this.gutter.config.widgetMarker(e,t.widget,t);i&&this.addElement(e,t,[i])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class fP{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,r=>{let s=r.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=r.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[i](e,a,r)&&r.preventDefault()});this.markers=hP(t.markers(e)),t.initialSpacer&&(this.spacer=new VQ(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=hP(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],e);r!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[r])}let i=e.view.viewport;return!Sn.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class VQ{constructor(e,t,i,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,r)}update(e,t,i,r){this.height!=t&&(this.height=t,this.dom.style.height=t/e.scaleY+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i/e.scaleY+"px":""),a8e(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let i="cm-gutterElement",r=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<t.length?t[s++]:null,c=!1;if(l){let u=l.elementClass;u&&(i+=" "+u);for(let h=o;h<this.markers.length;h++)if(this.markers[h].compare(l)){a=h,c=!0;break}}else a=this.markers.length;for(;o<a;){let u=this.markers[o++];if(u.toDOM){u.destroy(r);let h=r.nextSibling;r.remove(),r=h}}if(!l)break;l.toDOM&&(c?r=r.nextSibling:this.dom.insertBefore(l.toDOM(e),r)),c&&o++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}function a8e(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const l8e=gt.define(),Jh=gt.define({combine(n){return wl(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let r in t){let s=i[r],o=t[r];i[r]=s?(a,l,c)=>s(a,l,c)||o(a,l,c):o}return i}})}});class Lv extends d1{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Dv(n,e){return n.state.facet(Jh).formatNumber(e,n.state)}const c8e=ad.compute([Jh],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(l8e)},lineMarker(e,t,i){return i.some(r=>r.toDOM)?null:new Lv(Dv(e,e.state.doc.lineAt(t.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(Jh)!=e.state.facet(Jh),initialSpacer(e){return new Lv(Dv(e,dP(e.state.doc.lines)))},updateSpacer(e,t){let i=Dv(t.view,dP(t.view.state.doc.lines));return i==e.number?e:new Lv(i)},domEventHandlers:n.facet(Jh).domEventHandlers}));function u8e(n={}){return[Jh.of(n),HQ(),c8e]}function dP(n){let e=9;for(;e<n;)e=e*10+9;return e}const h8e=new class extends d1{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},f8e=D8.compute(["selection"],n=>{let e=[],t=-1;for(let i of n.selection.ranges){let r=n.doc.lineAt(i.head).from;r>t&&(t=r,e.push(h8e.range(r)))}return Sn.of(e)});function d8e(){return f8e}const WQ=1024;let p8e=0;class Ov{constructor(e,t){this.from=e,this.to=t}}class $t{constructor(e={}){this.id=p8e++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Ps.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}$t.closedBy=new $t({deserialize:n=>n.split(" ")});$t.openedBy=new $t({deserialize:n=>n.split(" ")});$t.group=new $t({deserialize:n=>n.split(" ")});$t.contextHash=new $t({perNode:!0});$t.lookAhead=new $t({perNode:!0});$t.mounted=new $t({perNode:!0});const g8e=Object.create(null);class Ps{constructor(e,t,i,r=0){this.name=e,this.props=t,this.id=i,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):g8e,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new Ps(e.name||"",t,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(r)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop($t.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let r of i.split(" "))t[r]=e[i];return i=>{for(let r=i.prop($t.group),s=-1;s<(r?r.length:0);s++){let o=t[s<0?i.name:r[s]];if(o)return o}}}}Ps.none=new Ps("",Object.create(null),0,8);class Vw{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let r=null;for(let s of e){let o=s(i);o&&(r||(r=Object.assign({},i.props)),r[o[0].id]=o[1])}t.push(r?new Ps(i.name,r,i.id,i.flags):i)}return new Vw(t)}}const Q6=new WeakMap,pP=new WeakMap;var ir;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(ir||(ir={}));class Pi{constructor(e,t,i,r,s){if(this.type=e,this.children=t,this.positions=i,this.length=r,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=this.prop($t.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let r=i.toString();r&&(t&&(t+=","),t+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new X9(this.topNode,e)}cursorAt(e,t=0,i=0){let r=Q6.get(this)||this.topNode,s=new X9(r);return s.moveTo(e,t),Q6.set(this,s._tree),s}get topNode(){return new n1(this,0,0,null)}resolve(e,t=0){let i=z2(Q6.get(this)||this.topNode,e,t,!1);return Q6.set(this,i),i}resolveInner(e,t=0){let i=z2(pP.get(this)||this.topNode,e,t,!0);return pP.set(this,i),i}iterate(e){let{enter:t,leave:i,from:r=0,to:s=this.length}=e,o=e.mode||0,a=(o&ir.IncludeAnonymous)>0;for(let l=this.cursor(o|ir.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=r&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&i&&(a||!l.type.isAnonymous)&&i(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Xw(Ps.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,r)=>new Pi(this.type,t,i,r,this.propValues),e.makeTree||((t,i,r)=>new Pi(Ps.none,t,i,r)))}static build(e){return A8e(e)}}Pi.empty=new Pi(Ps.none,[],[],0);class Ww{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Ww(this.buffer,this.index)}}class R3{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return Ps.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],r=this.set.types[t],s=r.name;if(/\W/.test(s)&&!r.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,i,r,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(jQ(s,r,o[l+1],o[l+2])&&(a=l,i>0));l=o[l+3]);return a}slice(e,t,i){let r=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=r[a++],s[l++]=r[a++]-i;let c=s[l++]=r[a++]-i;s[l++]=r[a++]-e,o=Math.max(o,c)}return new R3(s,o,this.set)}}function jQ(n,e,t,i){switch(n){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function XQ(n,e){let t=n.childBefore(e);for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(n=t,t=i.prevSibling):t=i}return n}function z2(n,e,t,i){for(var r;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!i&&n instanceof n1&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=i?0:ir.IgnoreOverlays;if(i)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof n1&&o.index<0&&((r=a.enter(e,t,s))===null||r===void 0?void 0:r.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}class n1{constructor(e,t,i,r){this._tree=e,this.from=t,this.index=i,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,r,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],h=l[e]+o.from;if(jQ(r,i,h,h+u.length)){if(u instanceof R3){if(s&ir.ExcludeBuffers)continue;let f=u.findChild(0,u.buffer.length,t,i-h,r);if(f>-1)return new ic(new m8e(o,u,e,h),null,f)}else if(s&ir.IncludeAnonymous||!u.type.isAnonymous||jw(u)){let f;if(!(s&ir.IgnoreMounts)&&u.props&&(f=u.prop($t.mounted))&&!f.overlay)return new n1(f.tree,h,e,o);let p=new n1(u,h,e,o);return s&ir.IncludeAnonymous||!p.type.isAnonymous?p:p.nextChild(t<0?u.children.length-1:0,t,i,r)}}}if(s&ir.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let r;if(!(i&ir.IgnoreOverlays)&&(r=this._tree.prop($t.mounted))&&r.overlay){let s=e-this.from;for(let{from:o,to:a}of r.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new n1(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new X9(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return z2(this,e,t,!1)}resolveInner(e,t=0){return z2(this,e,t,!0)}enterUnfinishedNodesBefore(e){return XQ(this,e)}getChild(e,t=null,i=null){let r=W9(this,e,t,i);return r.length?r[0]:null}getChildren(e,t=null,i=null){return W9(this,e,t,i)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return j9(this,e)}}function W9(n,e,t,i){let r=n.cursor(),s=[];if(!r.firstChild())return s;if(t!=null){for(;!r.type.is(t);)if(!r.nextSibling())return s}for(;;){if(i!=null&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return i==null?s:[]}}function j9(n,e,t=e.length-1){for(let i=n.parent;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class m8e{constructor(e,t,i,r){this.parent=e,this.buffer=t,this.index=i,this.start=r}}class ic{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,i);return s<0?null:new ic(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&ir.ExcludeBuffers)return null;let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new ic(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new ic(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new ic(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new X9(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,r=this.index+4,s=i.buffer[this.index+3];if(s>r){let o=i.buffer[this.index+1];e.push(i.slice(r,s,o)),t.push(0)}return new Pi(this.type,e,t,this.to-this.from)}resolve(e,t=0){return z2(this,e,t,!1)}resolveInner(e,t=0){return z2(this,e,t,!0)}enterUnfinishedNodesBefore(e){return XQ(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,i=null){let r=W9(this,e,t,i);return r.length?r[0]:null}getChildren(e,t=null,i=null){return W9(this,e,t,i)}get node(){return this}matchContext(e){return j9(this,e)}}class X9{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof n1)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=i+r.buffer[e+1],this.to=i+r.buffer[e+2],!0}yield(e){return e?e instanceof n1?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:r}=this.buffer,s=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&ir.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&ir.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&ir.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let r=i<0?0:this.stack[i]+4;if(this.index!=r)return this.yieldBuf(t.findChild(r,this.index,-1,0,4))}else{let r=t.buffer[this.index+3];if(r<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(r)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(r.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:i}=r)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let s=t+e,o=e<0?-1:i._tree.children.length;s!=o;s+=e){let a=i._tree.children[s];if(this.mode&ir.IncludeAnonymous||a instanceof R3||!a.type.isAnonymous||jw(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let r=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==r){if(r==this.index)return o;t=o,i=s+1;break e}r=this.stack[--s]}for(let r=i;r<this.stack.length;r++)t=new ic(this.buffer,t,this.stack[r]);return this.bufferNode=new ic(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;r&&t&&t(this),r=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,r=!0}}}matchContext(e){if(!this.buffer)return j9(this.node,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let r=e.length-1,s=this.stack.length-1;r>=0;s--){if(s<0)return j9(this.node,e,r);let o=i[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}}function jw(n){return n.children.some(e=>e instanceof R3||!e.type.isAnonymous||jw(e))}function A8e(n){var e;let{buffer:t,nodeSet:i,maxBufferLength:r=WQ,reused:s=[],minRepeatType:o=i.types.length}=n,a=Array.isArray(t)?new Ww(t,t.length):t,l=i.types,c=0,u=0;function h(C,w,M,T,R){let{id:b,start:B,end:P,size:O}=a,G=u;for(;O<0;)if(a.next(),O==-1){let L=s[b];M.push(L),T.push(B-C);return}else if(O==-3){c=b;return}else if(O==-4){u=b;return}else throw new RangeError(`Unrecognized record size: ${O}`);let H=l[b],j,q,J=B-C;if(P-B<=r&&(q=S(a.pos-w,R))){let L=new Uint16Array(q.size-q.skip),D=a.pos-q.size,F=L.length;for(;a.pos>D;)F=v(q.start,L,F);j=new R3(L,P-q.start,i),J=q.start-C}else{let L=a.pos-O;a.next();let D=[],F=[],z=b>=o?b:-1,U=0,$=P;for(;a.pos>L;)z>=0&&a.id==z&&a.size>=0?(a.end<=$-r&&(p(D,F,B,U,a.end,$,z,G),U=D.length,$=a.end),a.next()):h(B,L,D,F,z);if(z>=0&&U>0&&U<D.length&&p(D,F,B,U,B,$,z,G),D.reverse(),F.reverse(),z>-1&&U>0){let ee=f(H);j=Xw(H,D,F,0,D.length,0,P-B,ee,ee)}else j=m(H,D,F,P-B,G-P)}M.push(j),T.push(J)}function f(C){return(w,M,T)=>{let R=0,b=w.length-1,B,P;if(b>=0&&(B=w[b])instanceof Pi){if(!b&&B.type==C&&B.length==T)return B;(P=B.prop($t.lookAhead))&&(R=M[b]+B.length+P)}return m(C,w,M,T,R)}}function p(C,w,M,T,R,b,B,P){let O=[],G=[];for(;C.length>T;)O.push(C.pop()),G.push(w.pop()+M-R);C.push(m(i.types[B],O,G,b-R,P-b)),w.push(R-M)}function m(C,w,M,T,R=0,b){if(c){let B=[$t.contextHash,c];b=b?[B].concat(b):[B]}if(R>25){let B=[$t.lookAhead,R];b=b?[B].concat(b):[B]}return new Pi(C,w,M,T,b)}function S(C,w){let M=a.fork(),T=0,R=0,b=0,B=M.end-r,P={size:0,start:0,skip:0};e:for(let O=M.pos-C;M.pos>O;){let G=M.size;if(M.id==w&&G>=0){P.size=T,P.start=R,P.skip=b,b+=4,T+=4,M.next();continue}let H=M.pos-G;if(G<0||H<O||M.start<B)break;let j=M.id>=o?4:0,q=M.start;for(M.next();M.pos>H;){if(M.size<0)if(M.size==-3)j+=4;else break e;else M.id>=o&&(j+=4);M.next()}R=q,T+=G,b+=j}return(w<0||T==C)&&(P.size=T,P.start=R,P.skip=b),P.size>4?P:void 0}function v(C,w,M){let{id:T,start:R,end:b,size:B}=a;if(a.next(),B>=0&&T<o){let P=M;if(B>4){let O=a.pos-(B-4);for(;a.pos>O;)M=v(C,w,M)}w[--M]=P,w[--M]=b-C,w[--M]=R-C,w[--M]=T}else B==-3?c=T:B==-4&&(u=T);return M}let A=[],y=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,A,y,-1);let x=(e=n.length)!==null&&e!==void 0?e:A.length?y[0]+A[0].length:0;return new Pi(l[n.topID],A.reverse(),y.reverse(),x)}const gP=new WeakMap;function O8(n,e){if(!n.isAnonymous||e instanceof R3||e.type!=n)return 1;let t=gP.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=n||!(i instanceof Pi)){t=1;break}t+=O8(n,i)}gP.set(e,t)}return t}function Xw(n,e,t,i,r,s,o,a,l){let c=0;for(let m=i;m<r;m++)c+=O8(n,e[m]);let u=Math.ceil(c*1.5/8),h=[],f=[];function p(m,S,v,A,y){for(let x=v;x<A;){let C=x,w=S[x],M=O8(n,m[x]);for(x++;x<A;x++){let T=O8(n,m[x]);if(M+T>=u)break;M+=T}if(x==C+1){if(M>u){let T=m[C];p(T.children,T.positions,0,T.children.length,S[C]+y);continue}h.push(m[C])}else{let T=S[x-1]+m[x-1].length-w;h.push(Xw(n,m,S,C,x,w,T,null,l))}f.push(w+y-s)}}return p(e,t,i,r,0),(a||l)(h,f,o)}class e3{constructor(e,t,i,r,s=!1,o=!1){this.from=e,this.to=t,this.tree=i,this.offset=r,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let r=[new e3(0,e.length,e,0,!1,i)];for(let s of t)s.to>e.length&&r.push(s);return r}static applyChanges(e,t,i=128){if(!t.length)return e;let r=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,h=u?u.fromA:1e9;if(h-l>=i)for(;o&&o.from<h;){let f=o;if(l>=f.from||h<=f.to||c){let p=Math.max(f.from,l)-c,m=Math.min(f.to,h)-c;f=p>=m?null:new e3(p,m,f.tree,f.offset+c,a>0,!!u)}if(f&&r.push(f),o.to>h)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return r}}class qQ{startParse(e,t,i){return typeof e=="string"&&(e=new v8e(e)),i=i?i.length?i.map(r=>new Ov(r.from,r.to)):[new Ov(0,0)]:[new Ov(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let r=this.startParse(e,t,i);for(;;){let s=r.advance();if(s)return s}}}class v8e{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new $t({perNode:!0});let y8e=0;class Ya{constructor(e,t,i){this.set=e,this.base=t,this.modified=i,this.id=y8e++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let t=new Ya([],null,[]);if(t.set.push(t),e)for(let i of e.set)t.set.push(i);return t}static defineModifier(){let e=new q9;return t=>t.modified.indexOf(e)>-1?t:q9.get(t.base||t,t.modified.concat(e).sort((i,r)=>i.id-r.id))}}let x8e=0;class q9{constructor(){this.instances=[],this.id=x8e++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(a=>a.base==e&&S8e(t,a.modified));if(i)return i;let r=[],s=new Ya(r,e,t);for(let a of t)a.instances.push(s);let o=E8e(t);for(let a of e.set)if(!a.modified.length)for(let l of o)r.push(q9.get(a,l));return s}}function S8e(n,e){return n.length==e.length&&n.every((t,i)=>t==e[i])}function E8e(n){let e=[[]];for(let t=0;t<n.length;t++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(n[t]));return e.sort((t,i)=>i.length-t.length)}function YQ(n){let e=Object.create(null);for(let t in n){let i=n[t];Array.isArray(i)||(i=[i]);for(let r of t.split(" "))if(r){let s=[],o=2,a=r;for(let h=0;;){if(a=="..."&&h>0&&h+3==r.length){o=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!f)throw new RangeError("Invalid path: "+r);if(s.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),h+=f[0].length,h==r.length)break;let p=r[h++];if(h==r.length&&p=="!"){o=0;break}if(p!="/")throw new RangeError("Invalid path: "+r);a=r.slice(h)}let l=s.length-1,c=s[l];if(!c)throw new RangeError("Invalid path: "+r);let u=new Y9(i,o,l>0?s.slice(0,l):null);e[c]=u.sort(e[c])}}return KQ.add(e)}const KQ=new $t;class Y9{constructor(e,t,i,r){this.tags=e,this.mode=t,this.context=i,this.next=r}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Y9.empty=new Y9([],2,null);function JQ(n,e){let t=Object.create(null);for(let s of n)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:i,all:r=null}=e||{};return{style:s=>{let o=r;for(let a of s)for(let l of a.set){let c=t[l.id];if(c){o=o?o+" "+c:c;break}}return o},scope:i}}function C8e(n,e){let t=null;for(let i of n){let r=i.style(e);r&&(t=t?t+" "+r:r)}return t}function w8e(n,e,t,i=0,r=n.length){let s=new _8e(i,Array.isArray(e)?e:[e],t);s.highlightRange(n.cursor(),i,r,"",s.highlighters),s.flush(r)}class _8e{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,r,s){let{type:o,from:a,to:l}=e;if(a>=i||l<=t)return;o.isTop&&(s=this.highlighters.filter(p=>!p.scope||p.scope(o)));let c=r,u=M8e(e)||Y9.empty,h=C8e(s,u.tags);if(h&&(c&&(c+=" "),c+=h,u.mode==1&&(r+=(r?" ":"")+h)),this.startSpan(Math.max(t,a),c),u.opaque)return;let f=e.tree&&e.tree.prop($t.mounted);if(f&&f.overlay){let p=e.node.enter(f.overlay[0].from+a,1),m=this.highlighters.filter(v=>!v.scope||v.scope(f.tree.type)),S=e.firstChild();for(let v=0,A=a;;v++){let y=v<f.overlay.length?f.overlay[v]:null,x=y?y.from+a:l,C=Math.max(t,A),w=Math.min(i,x);if(C<w&&S)for(;e.from<w&&(this.highlightRange(e,C,w,r,s),this.startSpan(Math.min(w,e.to),c),!(e.to>=x||!e.nextSibling())););if(!y||x>i)break;A=y.to+a,A>t&&(this.highlightRange(p.cursor(),Math.max(t,y.from+a),Math.min(i,A),"",m),this.startSpan(Math.min(i,A),c))}S&&e.parent()}else if(e.firstChild()){f&&(r="");do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,r,s),this.startSpan(Math.min(i,e.to),c)}while(e.nextSibling());e.parent()}}}function M8e(n){let e=n.type.prop(KQ);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const tt=Ya.define,H6=tt(),W1=tt(),mP=tt(W1),AP=tt(W1),j1=tt(),V6=tt(j1),Nv=tt(j1),ja=tt(),vu=tt(ja),Va=tt(),Wa=tt(),$S=tt(),mf=tt($S),W6=tt(),ke={comment:H6,lineComment:tt(H6),blockComment:tt(H6),docComment:tt(H6),name:W1,variableName:tt(W1),typeName:mP,tagName:tt(mP),propertyName:AP,attributeName:tt(AP),className:tt(W1),labelName:tt(W1),namespace:tt(W1),macroName:tt(W1),literal:j1,string:V6,docString:tt(V6),character:tt(V6),attributeValue:tt(V6),number:Nv,integer:tt(Nv),float:tt(Nv),bool:tt(j1),regexp:tt(j1),escape:tt(j1),color:tt(j1),url:tt(j1),keyword:Va,self:tt(Va),null:tt(Va),atom:tt(Va),unit:tt(Va),modifier:tt(Va),operatorKeyword:tt(Va),controlKeyword:tt(Va),definitionKeyword:tt(Va),moduleKeyword:tt(Va),operator:Wa,derefOperator:tt(Wa),arithmeticOperator:tt(Wa),logicOperator:tt(Wa),bitwiseOperator:tt(Wa),compareOperator:tt(Wa),updateOperator:tt(Wa),definitionOperator:tt(Wa),typeOperator:tt(Wa),controlOperator:tt(Wa),punctuation:$S,separator:tt($S),bracket:mf,angleBracket:tt(mf),squareBracket:tt(mf),paren:tt(mf),brace:tt(mf),content:ja,heading:vu,heading1:tt(vu),heading2:tt(vu),heading3:tt(vu),heading4:tt(vu),heading5:tt(vu),heading6:tt(vu),contentSeparator:tt(ja),list:tt(ja),quote:tt(ja),emphasis:tt(ja),strong:tt(ja),link:tt(ja),monospace:tt(ja),strikethrough:tt(ja),inserted:tt(),deleted:tt(),changed:tt(),invalid:tt(),meta:W6,documentMeta:tt(W6),annotation:tt(W6),processingInstruction:tt(W6),definition:Ya.defineModifier(),constant:Ya.defineModifier(),function:Ya.defineModifier(),standard:Ya.defineModifier(),local:Ya.defineModifier(),special:Ya.defineModifier()};JQ([{tag:ke.link,class:"tok-link"},{tag:ke.heading,class:"tok-heading"},{tag:ke.emphasis,class:"tok-emphasis"},{tag:ke.strong,class:"tok-strong"},{tag:ke.keyword,class:"tok-keyword"},{tag:ke.atom,class:"tok-atom"},{tag:ke.bool,class:"tok-bool"},{tag:ke.url,class:"tok-url"},{tag:ke.labelName,class:"tok-labelName"},{tag:ke.inserted,class:"tok-inserted"},{tag:ke.deleted,class:"tok-deleted"},{tag:ke.literal,class:"tok-literal"},{tag:ke.string,class:"tok-string"},{tag:ke.number,class:"tok-number"},{tag:[ke.regexp,ke.escape,ke.special(ke.string)],class:"tok-string2"},{tag:ke.variableName,class:"tok-variableName"},{tag:ke.local(ke.variableName),class:"tok-variableName tok-local"},{tag:ke.definition(ke.variableName),class:"tok-variableName tok-definition"},{tag:ke.special(ke.variableName),class:"tok-variableName2"},{tag:ke.definition(ke.propertyName),class:"tok-propertyName tok-definition"},{tag:ke.typeName,class:"tok-typeName"},{tag:ke.namespace,class:"tok-namespace"},{tag:ke.className,class:"tok-className"},{tag:ke.macroName,class:"tok-macroName"},{tag:ke.propertyName,class:"tok-propertyName"},{tag:ke.operator,class:"tok-operator"},{tag:ke.comment,class:"tok-comment"},{tag:ke.meta,class:"tok-meta"},{tag:ke.invalid,class:"tok-invalid"},{tag:ke.punctuation,class:"tok-punctuation"}]);var Fv;const $h=new $t;function T8e(n){return gt.define({combine:n?e=>e.concat(n):void 0})}const b8e=new $t;class da{constructor(e,t,i=[],r=""){this.data=e,this.name=r,sn.prototype.hasOwnProperty("tree")||Object.defineProperty(sn.prototype,"tree",{get(){return Gr(this)}}),this.parser=t,this.extension=[Pc.of(this),sn.languageData.of((s,o,a)=>{let l=vP(s,o,a),c=l.type.prop($h);if(!c)return[];let u=s.facet(c),h=l.type.prop(b8e);if(h){let f=l.resolve(o-l.from,a);for(let p of h)if(p.test(f,s)){let m=s.facet(p.facet);return p.type=="replace"?m:m.concat(u)}}return u})].concat(i)}isActiveAt(e,t,i=-1){return vP(e,t,i).type.prop($h)==this.data}findRegions(e){let t=e.facet(Pc);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],r=(s,o)=>{if(s.prop($h)==this.data){i.push({from:o,to:o+s.length});return}let a=s.prop($t.mounted);if(a){if(a.tree.prop($h)==this.data){if(a.overlay)for(let l of a.overlay)i.push({from:l.from+o,to:l.to+o});else i.push({from:o,to:o+s.length});return}else if(a.overlay){let l=i.length;if(r(a.tree,a.overlay[0].from+o),i.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof Pi&&r(c,s.positions[l]+o)}};return r(Gr(e),0),i}get allowsNesting(){return!0}}da.setState=Xt.define();function vP(n,e,t){let i=n.facet(Pc),r=Gr(n).topNode;if(!i||i.allowsNesting)for(let s=r;s;s=s.enter(e,t,ir.ExcludeBuffers))s.type.isTop&&(r=s);return r}class K9 extends da{constructor(e,t,i){super(e,t,[],i),this.parser=t}static define(e){let t=T8e(e.languageData);return new K9(t,e.parser.configure({props:[$h.add(i=>i.isTop?t:void 0)]}),e.name)}configure(e,t){return new K9(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Gr(n){let e=n.field(da.state,!1);return e?e.tree:Pi.empty}class I8e{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let Af=null;class J9{constructor(e,t,i=[],r,s,o,a,l){this.parser=e,this.state=t,this.fragments=i,this.tree=r,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new J9(e,t,[],Pi.empty,0,i,[],null)}startParse(){return this.parser.startParse(new I8e(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Pi.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let r=Date.now()+e;e=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(e3.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(e3.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Af;Af=this;try{return e()}finally{Af=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=yP(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:r,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,h,f)=>l.push({fromA:c,toA:u,fromB:h,toB:f})),i=e3.applyChanges(i,l),r=Pi.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);u<h&&a.push({from:u,to:h})}}}return new J9(this.parser,t,i,r,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:r,to:s}=this.skipped[i];r<e.to&&s>e.from&&(this.fragments=yP(this.fragments,r,s),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends qQ{createParse(t,i,r){let s=r[0].from,o=r[r.length-1].to;return{parsedPos:s,advance(){let l=Af;if(l){for(let c of r)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Pi(Ps.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Af}}function yP(n,e,t){return e3.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class Q2{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new Q2(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=J9.create(e.facet(Pc).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new Q2(i)}}da.state=xr.define({create:Q2.init,update(n,e){for(let t of e.effects)if(t.is(da.setState))return t.value;return e.startState.facet(Pc)!=e.state.facet(Pc)?Q2.init(e.state):n.apply(e)}});let $Q=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&($Q=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:500-100})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const Uv=typeof navigator<"u"&&(!((Fv=navigator.scheduling)===null||Fv===void 0)&&Fv.isInputPending)?()=>navigator.scheduling.isInputPending():null,R8e=Li.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(da.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(da.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=$Q(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:r}}=this.view,s=i.field(da.state);if(s.tree==s.context.tree&&s.context.isDone(r+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Uv?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<r&&i.doc.length>r+1e3,l=s.context.work(()=>Uv&&Uv()||Date.now()>o,r+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:da.setState.of(new Q2(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Vo(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Pc=gt.define({combine(n){return n.length?n[0]:null},enables:n=>[da.state,R8e,ot.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class B8e{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const k8e=gt.define(),Ig=gt.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function $9(n){let e=n.facet(Ig);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function m4(n,e){let t="",i=n.tabSize,r=n.facet(Ig)[0];if(r=="	"){for(;e>=i;)t+="	",e-=i;r=" "}for(let s=0;s<e;s++)t+=r;return t}function qw(n,e){n instanceof sn&&(n=new Rg(n));for(let i of n.state.facet(k8e)){let r=i(n,e);if(r!==void 0)return r}let t=Gr(n.state);return t.length>=e?P8e(n,t,e):null}class Rg{constructor(e,t={}){this.state=e,this.options=t,this.unit=$9(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:s}=this.options;return r!=null&&r>=i.from&&r<=i.to?s&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:i.text.slice(r-i.from),from:r}:{text:i.text.slice(0,r-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:r}=this.lineAt(e,t);return i.slice(e-r,Math.min(i.length,e+100-r))}column(e,t=1){let{text:i,from:r}=this.lineAt(e,t),s=this.countColumn(i,e-r),o=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return o>-1&&(s+=o-this.countColumn(i,i.search(/\S|$/))),s}countColumn(e,t=e.length){return c0(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:r}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let o=s(r);if(o>-1)return o}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const ZQ=new $t;function P8e(n,e,t){return eH(e.resolveInner(t).enterUnfinishedNodesBefore(t),t,n)}function L8e(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function D8e(n){let e=n.type.prop(ZQ);if(e)return e;let t=n.firstChild,i;if(t&&(i=t.type.prop($t.closedBy))){let r=n.lastChild,s=r&&i.indexOf(r.name)>-1;return o=>U8e(o,!0,1,void 0,s&&!L8e(o)?r.from:void 0)}return n.parent==null?O8e:null}function eH(n,e,t){for(;n;n=n.parent){let i=D8e(n);if(i)return i(Yw.create(t,e,n))}return null}function O8e(){return 0}class Yw extends Rg{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.node=i}static create(e,t,i){return new Yw(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(t.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(N8e(i,e))break;t=this.state.doc.lineAt(i.from)}return this.lineIndent(t.from)}continue(){let e=this.node.parent;return e?eH(e,this.pos,this.base):0}}function N8e(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function F8e(n){let e=n.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let r=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),o=r==null||r<=s.from?s.to:Math.min(s.to,r);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==i)return null;if(!l.type.isSkipped)return l.from<o?t:null;a=l.to}}function U8e(n,e,t,i,r){let s=n.textAfter,o=s.match(/^\s*/)[0].length,a=i&&s.slice(o,o+i.length)==i||r==n.pos+o,l=e?F8e(n):null;return l?a?n.column(l.from):n.column(l.to):n.baseIndent+(a?0:n.unit*t)}function xP({except:n,units:e=1}={}){return t=>{let i=n&&n.test(t.textAfter);return t.baseIndent+(i?0:e*t.unit)}}const G8e=200;function z8e(){return sn.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:i}=n.newSelection.main,r=t.lineAt(i);if(i>r.from+G8e)return n;let s=t.sliceString(r.from,i);if(!e.some(c=>c.test(s)))return n;let{state:o}=n,a=-1,l=[];for(let{head:c}of o.selection.ranges){let u=o.doc.lineAt(c);if(u.from==a)continue;a=u.from;let h=qw(o,u.from);if(h==null)continue;let f=/^\s*/.exec(u.text)[0],p=m4(o,h);f!=p&&l.push({from:u.from,to:u.from+f.length,insert:p})}return l.length?[n,{changes:l,sequential:!0}]:n})}const Q8e=gt.define(),tH=new $t;function H8e(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}function V8e(n,e,t){let i=Gr(n);if(i.length<t)return null;let r=i.resolveInner(t,1),s=null;for(let o=r;o;o=o.parent){if(o.to<=t||o.from>t)continue;if(s&&o.from<e)break;let a=o.type.prop(tH);if(a&&(o.to<i.length-50||i.length==n.doc.length||!W8e(o))){let l=a(o,n);l&&l.from<=t&&l.from>=e&&l.to>t&&(s=l)}}return s}function W8e(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function Z9(n,e,t){for(let i of n.facet(Q8e)){let r=i(n,e,t);if(r)return r}return V8e(n,e,t)}function nH(n,e){let t=e.mapPos(n.from,1),i=e.mapPos(n.to,-1);return t>=i?void 0:{from:t,to:i}}const Bg=Xt.define({map:nH}),h5=Xt.define({map:nH});function iH(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(i=>i.from<=t&&i.to>=t)||e.push(n.lineBlockAt(t));return e}const y3=xr.define({create(){return Tt.none},update(n,e){n=n.map(e.changes);for(let t of e.effects)if(t.is(Bg)&&!j8e(n,t.value.from,t.value.to)){let{preparePlaceholder:i}=e.state.facet(Kw),r=i?Tt.replace({widget:new Z8e(i(e.state,t.value))}):SP;n=n.update({add:[r.range(t.value.from,t.value.to)]})}else t.is(h5)&&(n=n.update({filter:(i,r)=>t.value.from!=i||t.value.to!=r,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:i}=e.selection.main;n.between(i,i,(r,s)=>{r<i&&s>i&&(t=!0)}),t&&(n=n.update({filterFrom:i,filterTo:i,filter:(r,s)=>s<=i||r>=i}))}return n},provide:n=>ot.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(i,r)=>{t.push(i,r)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let i=n[t++],r=n[t++];if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid JSON for fold state");e.push(SP.range(i,r))}return Tt.set(e,!0)}});function e7(n,e,t){var i;let r=null;return(i=n.field(y3,!1))===null||i===void 0||i.between(e,t,(s,o)=>{(!r||r.from>s)&&(r={from:s,to:o})}),r}function j8e(n,e,t){let i=!1;return n.between(e,e,(r,s)=>{r==e&&s==t&&(i=!0)}),i}function rH(n,e){return n.field(y3,!1)?e:e.concat(Xt.appendConfig.of(oH()))}const X8e=n=>{for(let e of iH(n)){let t=Z9(n.state,e.from,e.to);if(t)return n.dispatch({effects:rH(n.state,[Bg.of(t),sH(n,t)])}),!0}return!1},q8e=n=>{if(!n.state.field(y3,!1))return!1;let e=[];for(let t of iH(n)){let i=e7(n.state,t.from,t.to);i&&e.push(h5.of(i),sH(n,i,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function sH(n,e,t=!0){let i=n.state.doc.lineAt(e.from).number,r=n.state.doc.lineAt(e.to).number;return ot.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${i} ${n.state.phrase("to")} ${r}.`)}const Y8e=n=>{let{state:e}=n,t=[];for(let i=0;i<e.doc.length;){let r=n.lineBlockAt(i),s=Z9(e,r.from,r.to);s&&t.push(Bg.of(s)),i=(s?n.lineBlockAt(s.to):r).to+1}return t.length&&n.dispatch({effects:rH(n.state,t)}),!!t.length},K8e=n=>{let e=n.state.field(y3,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(i,r)=>{t.push(h5.of({from:i,to:r}))}),n.dispatch({effects:t}),!0},J8e=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:X8e},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:q8e},{key:"Ctrl-Alt-[",run:Y8e},{key:"Ctrl-Alt-]",run:K8e}],$8e={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},Kw=gt.define({combine(n){return wl(n,$8e)}});function oH(n){let e=[y3,n9e];return n&&e.push(Kw.of(n)),e}function aH(n,e){let{state:t}=n,i=t.facet(Kw),r=o=>{let a=n.lineBlockAt(n.posAtDOM(o.target)),l=e7(n.state,a.from,a.to);l&&n.dispatch({effects:h5.of(l)}),o.preventDefault()};if(i.placeholderDOM)return i.placeholderDOM(n,r,e);let s=document.createElement("span");return s.textContent=i.placeholderText,s.setAttribute("aria-label",t.phrase("folded code")),s.title=t.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=r,s}const SP=Tt.replace({widget:new class extends S1{toDOM(n){return aH(n,null)}}});class Z8e extends S1{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return aH(e,this.value)}}const e9e={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Gv extends d1{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function t9e(n={}){let e=Object.assign(Object.assign({},e9e),n),t=new Gv(e,!0),i=new Gv(e,!1),r=Li.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(Pc)!=o.state.facet(Pc)||o.startState.field(y3,!1)!=o.state.field(y3,!1)||Gr(o.startState)!=Gr(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new bc;for(let l of o.viewportLineBlocks){let c=e7(o.state,l.from,l.to)?i:Z9(o.state,l.from,l.to)?t:null;c&&a.add(l.from,l.from,c)}return a.finish()}}),{domEventHandlers:s}=e;return[r,r8e({class:"cm-foldGutter",markers(o){var a;return((a=o.plugin(r))===null||a===void 0?void 0:a.markers)||Sn.empty},initialSpacer(){return new Gv(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(o,a,l)=>{if(s.click&&s.click(o,a,l))return!0;let c=e7(o.state,a.from,a.to);if(c)return o.dispatch({effects:h5.of(c)}),!0;let u=Z9(o.state,a.from,a.to);return u?(o.dispatch({effects:Bg.of(u)}),!0):!1}})}),oH()]}const n9e=ot.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class f5{constructor(e,t){this.specs=e;let i;function r(a){let l=Ic.newName();return(i||(i=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?r(t.all):void 0,o=t.scope;this.scope=o instanceof da?a=>a.prop($h)==o.data:o?a=>a==o:void 0,this.style=JQ(e.map(a=>({tag:a.tag,class:a.class||r(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=i?new Ic(i):null,this.themeType=t.themeType}static define(e,t){return new f5(e,t||{})}}const ZS=gt.define(),lH=gt.define({combine(n){return n.length?[n[0]]:null}});function zv(n){let e=n.facet(ZS);return e.length?e:n.facet(lH)}function cH(n,e){let t=[r9e],i;return n instanceof f5&&(n.module&&t.push(ot.styleModule.of(n.module)),i=n.themeType),e!=null&&e.fallback?t.push(lH.of(n)):i?t.push(ZS.computeN([ot.darkTheme],r=>r.facet(ot.darkTheme)==(i=="dark")?[n]:[])):t.push(ZS.of(n)),t}class i9e{constructor(e){this.markCache=Object.create(null),this.tree=Gr(e.state),this.decorations=this.buildDeco(e,zv(e.state))}update(e){let t=Gr(e.state),i=zv(e.state),r=i!=zv(e.startState);t.length<e.view.viewport.to&&!r&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i))}buildDeco(e,t){if(!t||!this.tree.length)return Tt.none;let i=new bc;for(let{from:r,to:s}of e.visibleRanges)w8e(this.tree,t,(o,a,l)=>{i.add(o,a,this.markCache[l]||(this.markCache[l]=Tt.mark({class:l})))},r,s);return i.finish()}}const r9e=l0.high(Li.fromClass(i9e,{decorations:n=>n.decorations})),s9e=f5.define([{tag:ke.meta,color:"#404740"},{tag:ke.link,textDecoration:"underline"},{tag:ke.heading,textDecoration:"underline",fontWeight:"bold"},{tag:ke.emphasis,fontStyle:"italic"},{tag:ke.strong,fontWeight:"bold"},{tag:ke.strikethrough,textDecoration:"line-through"},{tag:ke.keyword,color:"#708"},{tag:[ke.atom,ke.bool,ke.url,ke.contentSeparator,ke.labelName],color:"#219"},{tag:[ke.literal,ke.inserted],color:"#164"},{tag:[ke.string,ke.deleted],color:"#a11"},{tag:[ke.regexp,ke.escape,ke.special(ke.string)],color:"#e40"},{tag:ke.definition(ke.variableName),color:"#00f"},{tag:ke.local(ke.variableName),color:"#30a"},{tag:[ke.typeName,ke.namespace],color:"#085"},{tag:ke.className,color:"#167"},{tag:[ke.special(ke.variableName),ke.macroName],color:"#256"},{tag:ke.definition(ke.propertyName),color:"#00c"},{tag:ke.comment,color:"#940"},{tag:ke.invalid,color:"#f00"}]),o9e=ot.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),uH=1e4,hH="()[]{}",fH=gt.define({combine(n){return wl(n,{afterCursor:!0,brackets:hH,maxScanDistance:uH,renderMatch:c9e})}}),a9e=Tt.mark({class:"cm-matchingBracket"}),l9e=Tt.mark({class:"cm-nonmatchingBracket"});function c9e(n){let e=[],t=n.matched?a9e:l9e;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const u9e=xr.define({create(){return Tt.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],i=e.state.facet(fH);for(let r of e.state.selection.ranges){if(!r.empty)continue;let s=tl(e.state,r.head,-1,i)||r.head>0&&tl(e.state,r.head-1,1,i)||i.afterCursor&&(tl(e.state,r.head,1,i)||r.head<e.state.doc.length&&tl(e.state,r.head+1,-1,i));s&&(t=t.concat(i.renderMatch(s,e.state)))}return Tt.set(t,!0)},provide:n=>ot.decorations.from(n)}),h9e=[u9e,o9e];function f9e(n={}){return[fH.of(n),h9e]}const d9e=new $t;function eE(n,e,t){let i=n.prop(e<0?$t.openedBy:$t.closedBy);if(i)return i;if(n.name.length==1){let r=t.indexOf(n.name);if(r>-1&&r%2==(e<0?1:0))return[t[r+e]]}return null}function tE(n){let e=n.type.prop(d9e);return e?e(n.node):n}function tl(n,e,t,i={}){let r=i.maxScanDistance||uH,s=i.brackets||hH,o=Gr(n),a=o.resolveInner(e,t);for(let l=a;l;l=l.parent){let c=eE(l.type,t,s);if(c&&l.from<l.to){let u=tE(l);if(u&&(t>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return p9e(n,e,t,l,u,c,s)}}return g9e(n,e,t,o,a.type,r,s)}function p9e(n,e,t,i,r,s,o){let a=i.parent,l={from:r.from,to:r.to},c=0,u=a==null?void 0:a.cursor();if(u&&(t<0?u.childBefore(i.from):u.childAfter(i.to)))do if(t<0?u.to<=i.from:u.from>=i.to){if(c==0&&s.indexOf(u.type.name)>-1&&u.from<u.to){let h=tE(u);return{start:l,end:h?{from:h.from,to:h.to}:void 0,matched:!0}}else if(eE(u.type,t,o))c++;else if(eE(u.type,-t,o)){if(c==0){let h=tE(u);return{start:l,end:h&&h.from<h.to?{from:h.from,to:h.to}:void 0,matched:!1}}c--}}while(t<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}function g9e(n,e,t,i,r,s,o){let a=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=t>0)return null;let c={from:t<0?e-1:e,to:t>0?e+1:e},u=n.doc.iterRange(e,t>0?n.doc.length:0),h=0;for(let f=0;!u.next().done&&f<=s;){let p=u.value;t<0&&(f+=p.length);let m=e+f*t;for(let S=t>0?0:p.length-1,v=t>0?p.length:-1;S!=v;S+=t){let A=o.indexOf(p[S]);if(!(A<0||i.resolveInner(m+S,1).type!=r))if(A%2==0==t>0)h++;else{if(h==1)return{start:c,end:{from:m+S,to:m+S+1},matched:A>>1==l>>1};h--}}t>0&&(f+=p.length)}return u.done?{start:c,matched:!1}:null}const m9e=Object.create(null),EP=[Ps.none],CP=[],A9e=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])A9e[n]=v9e(m9e,e);function Qv(n,e){CP.indexOf(n)>-1||(CP.push(n),console.warn(e))}function v9e(n,e){let t=null;for(let s of e.split(".")){let o=n[s]||ke[s];o?typeof o=="function"?t?t=o(t):Qv(s,`Modifier ${s} used at start of tag`):t?Qv(s,`Tag ${s} used as modifier`):t=o:Qv(s,`Unknown highlighting tag ${s}`)}if(!t)return 0;let i=e.replace(/ /g,"_"),r=Ps.define({id:EP.length,name:i,props:[YQ({[i]:t})]});return EP.push(r),r.id}const y9e=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),i=$w(n.state,t.from);return i.line?x9e(n):i.block?E9e(n):!1};function Jw(n,e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let r=n(e,t);return r?(i(t.update(r)),!0):!1}}const x9e=Jw(_9e,0),S9e=Jw(dH,0),E9e=Jw((n,e)=>dH(n,e,w9e(e)),0);function $w(n,e){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const vf=50;function C9e(n,{open:e,close:t},i,r){let s=n.sliceDoc(i-vf,i),o=n.sliceDoc(r,r+vf),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,c=s.length-a;if(s.slice(c-e.length,c)==e&&o.slice(l,l+t.length)==t)return{open:{pos:i-a,margin:a&&1},close:{pos:r+l,margin:l&&1}};let u,h;r-i<=2*vf?u=h=n.sliceDoc(i,r):(u=n.sliceDoc(i,i+vf),h=n.sliceDoc(r-vf,r));let f=/^\s*/.exec(u)[0].length,p=/\s*$/.exec(h)[0].length,m=h.length-p-t.length;return u.slice(f,f+e.length)==e&&h.slice(m,m+t.length)==t?{open:{pos:i+f+e.length,margin:/\s/.test(u.charAt(f+e.length))?1:0},close:{pos:r-p-t.length,margin:/\s/.test(h.charAt(m-1))?1:0}}:null}function w9e(n){let e=[];for(let t of n.selection.ranges){let i=n.doc.lineAt(t.from),r=t.to<=i.to?i:n.doc.lineAt(t.to),s=e.length-1;s>=0&&e[s].to>i.from?e[s].to=r.to:e.push({from:i.from+/^\s*/.exec(i.text)[0].length,to:r.to})}return e}function dH(n,e,t=e.selection.ranges){let i=t.map(s=>$w(e,s.from).block);if(!i.every(s=>s))return null;let r=t.map((s,o)=>C9e(e,i[o],s.from,s.to));if(n!=2&&!r.every(s=>s))return{changes:e.changes(t.map((s,o)=>r[o]?[]:[{from:s.from,insert:i[o].open+" "},{from:s.to,insert:" "+i[o].close}]))};if(n!=1&&r.some(s=>s)){let s=[];for(let o=0,a;o<r.length;o++)if(a=r[o]){let l=i[o],{open:c,close:u}=a;s.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+l.close.length})}return{changes:s}}return null}function _9e(n,e,t=e.selection.ranges){let i=[],r=-1;for(let{from:s,to:o}of t){let a=i.length,l=1e9,c=$w(e,s).line;if(c){for(let u=s;u<=o;){let h=e.doc.lineAt(u);if(h.from>r&&(s==o||o>h.from)){r=h.from;let f=/^\s*/.exec(h.text)[0].length,p=f==h.length,m=h.text.slice(f,f+c.length)==c?f:-1;f<h.text.length&&f<l&&(l=f),i.push({line:h,comment:m,token:c,indent:f,empty:p,single:!1})}u=h.to+1}if(l<1e9)for(let u=a;u<i.length;u++)i[u].indent<i[u].line.text.length&&(i[u].indent=l);i.length==a+1&&(i[a].single=!0)}}if(n!=2&&i.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:c,empty:u,single:h}of i)(h||!u)&&s.push({from:a.from+c,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(n!=1&&i.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of i)if(a>=0){let c=o.from+a,u=c+l.length;o.text[u-o.from]==" "&&u++,s.push({from:c,to:u})}return{changes:s}}return null}const nE=Cl.define(),M9e=Cl.define(),T9e=gt.define(),pH=gt.define({combine(n){return wl(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(i,r)=>e(i,r)||t(i,r)})}});function b9e(n){let e=0;return n.iterChangedRanges((t,i)=>e=i),e}const gH=xr.define({create(){return nl.empty},update(n,e){let t=e.state.facet(pH),i=e.annotation(nE);if(i){let l=e.docChanged?Ge.single(b9e(e.changes)):void 0,c=_s.fromTransaction(e,l),u=i.side,h=u==0?n.undone:n.done;return c?h=t7(h,h.length,t.minDepth,c):h=vH(h,e.startState.selection),new nl(u==0?i.rest:h,u==0?h:i.rest)}let r=e.annotation(M9e);if((r=="full"||r=="before")&&(n=n.isolate()),e.annotation(Vi.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let s=_s.fromTransaction(e),o=e.annotation(Vi.time),a=e.annotation(Vi.userEvent);return s?n=n.addChanges(s,o,a,t,e):e.selection&&(n=n.addSelection(e.startState.selection,o,a,t.newGroupDelay)),(r=="full"||r=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new nl(n.done.map(_s.fromJSON),n.undone.map(_s.fromJSON))}});function I9e(n={}){return[gH,pH.of(n),ot.domEventHandlers({beforeinput(e,t){let i=e.inputType=="historyUndo"?mH:e.inputType=="historyRedo"?iE:null;return i?(e.preventDefault(),i(t)):!1}})]}function kg(n,e){return function({state:t,dispatch:i}){if(!e&&t.readOnly)return!1;let r=t.field(gH,!1);if(!r)return!1;let s=r.pop(n,t,e);return s?(i(s),!0):!1}}const mH=kg(0,!1),iE=kg(1,!1),R9e=kg(0,!0),B9e=kg(1,!0);class _s{constructor(e,t,i,r,s){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=r,this.selectionsAfter=s}setSelAfter(e){return new _s(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(e){return new _s(e.changes&&Gi.fromJSON(e.changes),[],e.mapped&&ul.fromJSON(e.mapped),e.startSelection&&Ge.fromJSON(e.startSelection),e.selectionsAfter.map(Ge.fromJSON))}static fromTransaction(e,t){let i=Uo;for(let r of e.startState.facet(T9e)){let s=r(e);s.length&&(i=i.concat(s))}return!i.length&&e.changes.empty?null:new _s(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,Uo)}static selection(e){return new _s(void 0,Uo,void 0,void 0,e)}}function t7(n,e,t,i){let r=e+1>t+20?e-t-1:0,s=n.slice(r,e);return s.push(i),s}function k9e(n,e){let t=[],i=!1;return n.iterChangedRanges((r,s)=>t.push(r,s)),e.iterChangedRanges((r,s,o,a)=>{for(let l=0;l<t.length;){let c=t[l++],u=t[l++];a>=c&&o<=u&&(i=!0)}}),i}function P9e(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,i)=>t.empty!=e.ranges[i].empty).length===0}function AH(n,e){return n.length?e.length?n.concat(e):n:e}const Uo=[],L9e=200;function vH(n,e){if(n.length){let t=n[n.length-1],i=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-L9e));return i.length&&i[i.length-1].eq(e)?n:(i.push(e),t7(n,n.length-1,1e9,t.setSelAfter(i)))}else return[_s.selection([e])]}function D9e(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function Hv(n,e){if(!n.length)return n;let t=n.length,i=Uo;for(;t;){let r=O9e(n[t-1],e,i);if(r.changes&&!r.changes.empty||r.effects.length){let s=n.slice(0,t);return s[t-1]=r,s}else e=r.mapped,t--,i=r.selectionsAfter}return i.length?[_s.selection(i)]:Uo}function O9e(n,e,t){let i=AH(n.selectionsAfter.length?n.selectionsAfter.map(a=>a.map(e)):Uo,t);if(!n.changes)return _s.selection(i);let r=n.changes.map(e),s=e.mapDesc(n.changes,!0),o=n.mapped?n.mapped.composeDesc(s):s;return new _s(r,Xt.mapEffects(n.effects,e),o,n.startSelection.map(s),i)}const N9e=/^(input\.type|delete)($|\.)/;class nl{constructor(e,t,i=0,r=void 0){this.done=e,this.undone=t,this.prevTime=i,this.prevUserEvent=r}isolate(){return this.prevTime?new nl(this.done,this.undone):this}addChanges(e,t,i,r,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!i||N9e.test(i))&&(!a.selectionsAfter.length&&t-this.prevTime<r.newGroupDelay&&r.joinToEvent(s,k9e(a.changes,e.changes))||i=="input.type.compose")?o=t7(o,o.length-1,r.minDepth,new _s(e.changes.compose(a.changes),AH(e.effects,a.effects),a.mapped,a.startSelection,Uo)):o=t7(o,o.length,r.minDepth,e),new nl(o,Uo,t,i)}addSelection(e,t,i,r){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Uo;return s.length>0&&t-this.prevTime<r&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&P9e(s[s.length-1],e)?this:new nl(vH(this.done,e),this.undone,t,i)}addMapping(e){return new nl(Hv(this.done,e),Hv(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,i){let r=e==0?this.done:this.undone;if(r.length==0)return null;let s=r[r.length-1];if(i&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:nE.of({side:e,rest:D9e(r)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let o=r.length==1?Uo:r.slice(0,r.length-1);return s.mapped&&(o=Hv(o,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:nE.of({side:e,rest:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}nl.empty=new nl(Uo,Uo);const F9e=[{key:"Mod-z",run:mH,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:iE,preventDefault:!0},{linux:"Ctrl-Shift-z",run:iE,preventDefault:!0},{key:"Mod-u",run:R9e,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:B9e,preventDefault:!0}];function u0(n,e){return Ge.create(n.ranges.map(e),n.mainIndex)}function _l(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function ka({state:n,dispatch:e},t){let i=u0(n.selection,t);return i.eq(n.selection)?!1:(e(_l(n,i)),!0)}function Pg(n,e){return Ge.cursor(e?n.to:n.from)}function yH(n,e){return ka(n,t=>t.empty?n.moveByChar(t,e):Pg(t,e))}function zr(n){return n.textDirectionAt(n.state.selection.main.head)==ii.LTR}const xH=n=>yH(n,!zr(n)),SH=n=>yH(n,zr(n));function EH(n,e){return ka(n,t=>t.empty?n.moveByGroup(t,e):Pg(t,e))}const U9e=n=>EH(n,!zr(n)),G9e=n=>EH(n,zr(n));function z9e(n,e,t){if(e.type.prop(t))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function Lg(n,e,t){let i=Gr(n).resolveInner(e.head),r=t?$t.closedBy:$t.openedBy;for(let l=e.head;;){let c=t?i.childAfter(l):i.childBefore(l);if(!c)break;z9e(n,c,r)?i=c:l=t?c.to:c.from}let s=i.type.prop(r),o,a;return s&&(o=t?tl(n,i.from,1):tl(n,i.to,-1))&&o.matched?a=t?o.end.to:o.end.from:a=t?i.to:i.from,Ge.cursor(a,t?-1:1)}const Q9e=n=>ka(n,e=>Lg(n.state,e,!zr(n))),H9e=n=>ka(n,e=>Lg(n.state,e,zr(n)));function CH(n,e){return ka(n,t=>{if(!t.empty)return Pg(t,e);let i=n.moveVertically(t,e);return i.head!=t.head?i:n.moveToLineBoundary(t,e)})}const wH=n=>CH(n,!1),_H=n=>CH(n,!0);function MH(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,i=0,r;if(e){for(let s of n.state.facet(ot.scrollMargins)){let o=s(n);o!=null&&o.top&&(t=Math.max(o==null?void 0:o.top,t)),o!=null&&o.bottom&&(i=Math.max(o==null?void 0:o.bottom,i))}r=n.scrollDOM.clientHeight-t-i}else r=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:i,selfScroll:e,height:Math.max(n.defaultLineHeight,r-5)}}function TH(n,e){let t=MH(n),{state:i}=n,r=u0(i.selection,o=>o.empty?n.moveVertically(o,e,t.height):Pg(o,e));if(r.eq(i.selection))return!1;let s;if(t.selfScroll){let o=n.coordsAtPos(i.selection.main.head),a=n.scrollDOM.getBoundingClientRect(),l=a.top+t.marginTop,c=a.bottom-t.marginBottom;o&&o.top>l&&o.bottom<c&&(s=ot.scrollIntoView(r.main.head,{y:"start",yMargin:o.top-l}))}return n.dispatch(_l(i,r),{effects:s}),!0}const wP=n=>TH(n,!1),rE=n=>TH(n,!0);function Vc(n,e,t){let i=n.lineBlockAt(e.head),r=n.moveToLineBoundary(e,t);if(r.head==e.head&&r.head!=(t?i.to:i.from)&&(r=n.moveToLineBoundary(e,t,!1)),!t&&r.head==i.from&&i.length){let s=/^\s*/.exec(n.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;s&&e.head!=i.from+s&&(r=Ge.cursor(i.from+s))}return r}const V9e=n=>ka(n,e=>Vc(n,e,!0)),W9e=n=>ka(n,e=>Vc(n,e,!1)),j9e=n=>ka(n,e=>Vc(n,e,!zr(n))),X9e=n=>ka(n,e=>Vc(n,e,zr(n))),q9e=n=>ka(n,e=>Ge.cursor(n.lineBlockAt(e.head).from,1)),Y9e=n=>ka(n,e=>Ge.cursor(n.lineBlockAt(e.head).to,-1));function K9e(n,e,t){let i=!1,r=u0(n.selection,s=>{let o=tl(n,s.head,-1)||tl(n,s.head,1)||s.head>0&&tl(n,s.head-1,1)||s.head<n.doc.length&&tl(n,s.head+1,-1);if(!o||!o.end)return s;i=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return t?Ge.range(s.anchor,a):Ge.cursor(a)});return i?(e(_l(n,r)),!0):!1}const J9e=({state:n,dispatch:e})=>K9e(n,e,!1);function ea(n,e){let t=u0(n.state.selection,i=>{let r=e(i);return Ge.range(i.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(_l(n.state,t)),!0)}function bH(n,e){return ea(n,t=>n.moveByChar(t,e))}const IH=n=>bH(n,!zr(n)),RH=n=>bH(n,zr(n));function BH(n,e){return ea(n,t=>n.moveByGroup(t,e))}const $9e=n=>BH(n,!zr(n)),Z9e=n=>BH(n,zr(n)),e7e=n=>ea(n,e=>Lg(n.state,e,!zr(n))),t7e=n=>ea(n,e=>Lg(n.state,e,zr(n)));function kH(n,e){return ea(n,t=>n.moveVertically(t,e))}const PH=n=>kH(n,!1),LH=n=>kH(n,!0);function DH(n,e){return ea(n,t=>n.moveVertically(t,e,MH(n).height))}const _P=n=>DH(n,!1),MP=n=>DH(n,!0),n7e=n=>ea(n,e=>Vc(n,e,!0)),i7e=n=>ea(n,e=>Vc(n,e,!1)),r7e=n=>ea(n,e=>Vc(n,e,!zr(n))),s7e=n=>ea(n,e=>Vc(n,e,zr(n))),o7e=n=>ea(n,e=>Ge.cursor(n.lineBlockAt(e.head).from)),a7e=n=>ea(n,e=>Ge.cursor(n.lineBlockAt(e.head).to)),TP=({state:n,dispatch:e})=>(e(_l(n,{anchor:0})),!0),bP=({state:n,dispatch:e})=>(e(_l(n,{anchor:n.doc.length})),!0),IP=({state:n,dispatch:e})=>(e(_l(n,{anchor:n.selection.main.anchor,head:0})),!0),RP=({state:n,dispatch:e})=>(e(_l(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),l7e=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),c7e=({state:n,dispatch:e})=>{let t=Og(n).map(({from:i,to:r})=>Ge.range(i,Math.min(r+1,n.doc.length)));return e(n.update({selection:Ge.create(t),userEvent:"select"})),!0},u7e=({state:n,dispatch:e})=>{let t=u0(n.selection,i=>{var r;let s=Gr(n).resolveInner(i.head,1);for(;!(s.from<i.from&&s.to>=i.to||s.to>i.to&&s.from<=i.from||!(!((r=s.parent)===null||r===void 0)&&r.parent));)s=s.parent;return Ge.range(s.to,s.from)});return e(_l(n,t)),!0},h7e=({state:n,dispatch:e})=>{let t=n.selection,i=null;return t.ranges.length>1?i=Ge.create([t.main]):t.main.empty||(i=Ge.create([Ge.cursor(t.main.head)])),i?(e(_l(n,i)),!0):!1};function Dg(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:i}=n,r=i.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(o);l<o?(t="delete.backward",l=j6(n,l,!1)):l>o&&(t="delete.forward",l=j6(n,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=j6(n,o,!1),a=j6(n,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:Ge.cursor(o)}});return r.changes.empty?!1:(n.dispatch(i.update(r,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?ot.announce.of(i.phrase("Selection deleted")):void 0})),!0)}function j6(n,e,t){if(n instanceof ot)for(let i of n.state.facet(ot.atomicRanges).map(r=>r(n)))i.between(e,e,(r,s)=>{r<e&&s>e&&(e=t?s:r)});return e}const OH=(n,e)=>Dg(n,t=>{let{state:i}=n,r=i.doc.lineAt(t),s,o;if(!e&&t>r.from&&t<r.from+200&&!/[^ \t]/.test(s=r.text.slice(0,t-r.from))){if(s[s.length-1]=="	")return t-1;let a=c0(s,i.tabSize),l=a%$9(i)||$9(i);for(let c=0;c<l&&s[s.length-1-c]==" ";c++)t--;o=t}else o=Nr(r.text,t-r.from,e,e)+r.from,o==t&&r.number!=(e?i.doc.lines:1)&&(o+=e?1:-1);return o}),sE=n=>OH(n,!1),NH=n=>OH(n,!0),FH=(n,e)=>Dg(n,t=>{let i=t,{state:r}=n,s=r.doc.lineAt(i),o=r.charCategorizer(i);for(let a=null;;){if(i==(e?s.to:s.from)){i==t&&s.number!=(e?r.doc.lines:1)&&(i+=e?1:-1);break}let l=Nr(s.text,i-s.from,e)+s.from,c=s.text.slice(Math.min(i,l)-s.from,Math.max(i,l)-s.from),u=o(c);if(a!=null&&u!=a)break;(c!=" "||i!=t)&&(a=u),i=l}return i}),UH=n=>FH(n,!1),f7e=n=>FH(n,!0),GH=n=>Dg(n,e=>{let t=n.lineBlockAt(e).to;return e<t?t:Math.min(n.state.doc.length,e+1)}),d7e=n=>Dg(n,e=>{let t=n.lineBlockAt(e).from;return e>t?t:Math.max(0,e-1)}),p7e=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:xn.of(["",""])},range:Ge.cursor(i.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},g7e=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>{if(!i.empty||i.from==0||i.from==n.doc.length)return{range:i};let r=i.from,s=n.doc.lineAt(r),o=r==s.from?r-1:Nr(s.text,r-s.from,!1)+s.from,a=r==s.to?r+1:Nr(s.text,r-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:n.doc.slice(r,a).append(n.doc.slice(o,r))},range:Ge.cursor(a)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Og(n){let e=[],t=-1;for(let i of n.selection.ranges){let r=n.doc.lineAt(i.from),s=n.doc.lineAt(i.to);if(!i.empty&&i.to==s.from&&(s=n.doc.lineAt(i.to-1)),t>=r.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(i)}else e.push({from:r.from,to:s.to,ranges:[i]});t=s.number+1}return e}function zH(n,e,t){if(n.readOnly)return!1;let i=[],r=[];for(let s of Og(n)){if(t?s.to==n.doc.length:s.from==0)continue;let o=n.doc.lineAt(t?s.to+1:s.from-1),a=o.length+1;if(t){i.push({from:s.to,to:o.to},{from:s.from,insert:o.text+n.lineBreak});for(let l of s.ranges)r.push(Ge.range(Math.min(n.doc.length,l.anchor+a),Math.min(n.doc.length,l.head+a)))}else{i.push({from:o.from,to:s.from},{from:s.to,insert:n.lineBreak+o.text});for(let l of s.ranges)r.push(Ge.range(l.anchor-a,l.head-a))}}return i.length?(e(n.update({changes:i,scrollIntoView:!0,selection:Ge.create(r,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const m7e=({state:n,dispatch:e})=>zH(n,e,!1),A7e=({state:n,dispatch:e})=>zH(n,e,!0);function QH(n,e,t){if(n.readOnly)return!1;let i=[];for(let r of Og(n))t?i.push({from:r.from,insert:n.doc.slice(r.from,r.to)+n.lineBreak}):i.push({from:r.to,insert:n.lineBreak+n.doc.slice(r.from,r.to)});return e(n.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const v7e=({state:n,dispatch:e})=>QH(n,e,!1),y7e=({state:n,dispatch:e})=>QH(n,e,!0),x7e=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(Og(e).map(({from:r,to:s})=>(r>0?r--:s<e.doc.length&&s++,{from:r,to:s}))),i=u0(e.selection,r=>n.moveVertically(r,!0)).map(t);return n.dispatch({changes:t,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function S7e(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Gr(n).resolveInner(e),i=t.childBefore(e),r=t.childAfter(e),s;return i&&r&&i.to<=e&&r.from>=e&&(s=i.type.prop($t.closedBy))&&s.indexOf(r.name)>-1&&n.doc.lineAt(i.to).from==n.doc.lineAt(r.from).from&&!/\S/.test(n.sliceDoc(i.to,r.from))?{from:i.to,to:r.from}:null}const E7e=HH(!1),C7e=HH(!0);function HH(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange(r=>{let{from:s,to:o}=r,a=e.doc.lineAt(s),l=!n&&s==o&&S7e(e,s);n&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let c=new Rg(e,{simulateBreak:s,simulateDoubleBreak:!!l}),u=qw(c,s);for(u==null&&(u=c0(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let h=["",m4(e,u)];return l&&h.push(m4(e,c.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:xn.of(h)},range:Ge.cursor(s+1+h[1].length)}});return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function Zw(n,e){let t=-1;return n.changeByRange(i=>{let r=[];for(let o=i.from;o<=i.to;){let a=n.doc.lineAt(o);a.number>t&&(i.empty||i.to>a.from)&&(e(a,r,i),t=a.number),o=a.to+1}let s=n.changes(r);return{changes:r,range:Ge.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}})}const w7e=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),i=new Rg(n,{overrideIndentation:s=>{let o=t[s];return o??-1}}),r=Zw(n,(s,o,a)=>{let l=qw(i,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let c=/^\s*/.exec(s.text)[0],u=m4(n,l);(c!=u||a.from<s.from+c.length)&&(t[s.from]=l,o.push({from:s.from,to:s.from+c.length,insert:u}))});return r.changes.empty||e(n.update(r,{userEvent:"indent"})),!0},VH=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Zw(n,(t,i)=>{i.push({from:t.from,insert:n.facet(Ig)})}),{userEvent:"input.indent"})),!0),WH=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Zw(n,(t,i)=>{let r=/^\s*/.exec(t.text)[0];if(!r)return;let s=c0(r,n.tabSize),o=0,a=m4(n,Math.max(0,s-$9(n)));for(;o<r.length&&o<a.length&&r.charCodeAt(o)==a.charCodeAt(o);)o++;i.push({from:t.from+o,to:t.from+r.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),_7e=[{key:"Ctrl-b",run:xH,shift:IH,preventDefault:!0},{key:"Ctrl-f",run:SH,shift:RH},{key:"Ctrl-p",run:wH,shift:PH},{key:"Ctrl-n",run:_H,shift:LH},{key:"Ctrl-a",run:q9e,shift:o7e},{key:"Ctrl-e",run:Y9e,shift:a7e},{key:"Ctrl-d",run:NH},{key:"Ctrl-h",run:sE},{key:"Ctrl-k",run:GH},{key:"Ctrl-Alt-h",run:UH},{key:"Ctrl-o",run:p7e},{key:"Ctrl-t",run:g7e},{key:"Ctrl-v",run:rE}],M7e=[{key:"ArrowLeft",run:xH,shift:IH,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:U9e,shift:$9e,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:j9e,shift:r7e,preventDefault:!0},{key:"ArrowRight",run:SH,shift:RH,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:G9e,shift:Z9e,preventDefault:!0},{mac:"Cmd-ArrowRight",run:X9e,shift:s7e,preventDefault:!0},{key:"ArrowUp",run:wH,shift:PH,preventDefault:!0},{mac:"Cmd-ArrowUp",run:TP,shift:IP},{mac:"Ctrl-ArrowUp",run:wP,shift:_P},{key:"ArrowDown",run:_H,shift:LH,preventDefault:!0},{mac:"Cmd-ArrowDown",run:bP,shift:RP},{mac:"Ctrl-ArrowDown",run:rE,shift:MP},{key:"PageUp",run:wP,shift:_P},{key:"PageDown",run:rE,shift:MP},{key:"Home",run:W9e,shift:i7e,preventDefault:!0},{key:"Mod-Home",run:TP,shift:IP},{key:"End",run:V9e,shift:n7e,preventDefault:!0},{key:"Mod-End",run:bP,shift:RP},{key:"Enter",run:E7e},{key:"Mod-a",run:l7e},{key:"Backspace",run:sE,shift:sE},{key:"Delete",run:NH},{key:"Mod-Backspace",mac:"Alt-Backspace",run:UH},{key:"Mod-Delete",mac:"Alt-Delete",run:f7e},{mac:"Mod-Backspace",run:d7e},{mac:"Mod-Delete",run:GH}].concat(_7e.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),T7e=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Q9e,shift:e7e},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:H9e,shift:t7e},{key:"Alt-ArrowUp",run:m7e},{key:"Shift-Alt-ArrowUp",run:v7e},{key:"Alt-ArrowDown",run:A7e},{key:"Shift-Alt-ArrowDown",run:y7e},{key:"Escape",run:h7e},{key:"Mod-Enter",run:C7e},{key:"Alt-l",mac:"Ctrl-l",run:c7e},{key:"Mod-i",run:u7e,preventDefault:!0},{key:"Mod-[",run:WH},{key:"Mod-]",run:VH},{key:"Mod-Alt-\\",run:w7e},{key:"Shift-Mod-k",run:x7e},{key:"Shift-Mod-\\",run:J9e},{key:"Mod-/",run:y9e},{key:"Alt-A",run:S9e}].concat(M7e),b7e={key:"Tab",run:VH,shift:WH};function Ln(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i];typeof r=="string"?n.setAttribute(i,r):r!=null&&(n[i]=r)}e++}for(;e<arguments.length;e++)jH(n,arguments[e]);return n}function jH(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)jH(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}const BP=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class H2{constructor(e,t,i=0,r=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,r),this.bufferStart=i,this.normalize=s?a=>s(BP(a)):BP,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return dr(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=Pw(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=Oo(e);let r=this.normalize(t);for(let s=0,o=i;;s++){let a=r.charCodeAt(s),l=this.match(a,o);if(s==r.length-1){if(l)return this.value=l,this;break}o==i&&s<t.length&&t.charCodeAt(s)==a&&o++}}}match(e,t){let i=null;for(let r=0;r<this.matches.length;r+=2){let s=this.matches[r],o=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?i={from:this.matches[r+1],to:t+1}:(this.matches[r]++,o=!0)),o||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:t+1}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferPos)&&(i=null),i}}typeof Symbol<"u"&&(H2.prototype[Symbol.iterator]=function(){return this});const XH={from:-1,to:-1,match:/.*/.exec("")},e_="gm"+(/x/.unicode==null?"":"u");class qH{constructor(e,t,i,r=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=XH,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new YH(e,t,i,r,s);this.re=new RegExp(t,e_+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.iter=e.iter();let o=e.lineAt(r);this.curLineStart=o.from,this.matchPos=n7(e,r),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let i=this.curLineStart+t.index,r=i+t[0].length;if(this.matchPos=n7(this.text,r+(i==r?1:0)),i==this.curLineStart+this.curLine.length&&this.nextLine(),(i<r||i>this.value.to)&&(!this.test||this.test(i,r,t)))return this.value={from:i,to:r,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Vv=new WeakMap;class m2{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,i){let r=Vv.get(e);if(!r||r.from>=i||r.to<=t){let a=new m2(t,e.sliceString(t,i));return Vv.set(e,a),a}if(r.from==t&&r.to==i)return r;let{text:s,from:o}=r;return o>t&&(s=e.sliceString(t,o)+s,o=t),r.to<i&&(s+=e.sliceString(r.to,i)),Vv.set(e,new m2(o,s)),new m2(t,s.slice(t-o,i-o))}}class YH{constructor(e,t,i,r,s){this.text=e,this.to=s,this.done=!1,this.value=XH,this.matchPos=n7(e,r),this.re=new RegExp(t,e_+(i!=null&&i.ignoreCase?"i":"")),this.test=i==null?void 0:i.test,this.flat=m2.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let i=this.flat.from+t.index,r=i+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(i,r,t)))return this.value={from:i,to:r,match:t},this.matchPos=n7(this.text,r+(i==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=m2.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(qH.prototype[Symbol.iterator]=YH.prototype[Symbol.iterator]=function(){return this});function I7e(n){try{return new RegExp(n,e_),!0}catch{return!1}}function n7(n,e){if(e>=n.length)return e;let t=n.lineAt(e),i;for(;e<t.to&&(i=t.text.charCodeAt(e-t.from))>=56320&&i<57344;)e++;return e}function oE(n){let e=Ln("input",{class:"cm-textfield",name:"line"}),t=Ln("form",{class:"cm-gotoLine",onkeydown:r=>{r.keyCode==27?(r.preventDefault(),n.dispatch({effects:i7.of(!1)}),n.focus()):r.keyCode==13&&(r.preventDefault(),i())},onsubmit:r=>{r.preventDefault(),i()}},Ln("label",n.state.phrase("Go to line"),": ",e)," ",Ln("button",{class:"cm-button",type:"submit"},n.state.phrase("go")));function i(){let r=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!r)return;let{state:s}=n,o=s.doc.lineAt(s.selection.main.head),[,a,l,c,u]=r,h=c?+c.slice(1):0,f=l?+l:o.number;if(l&&u){let S=f/100;a&&(S=S*(a=="-"?-1:1)+o.number/s.doc.lines),f=Math.round(s.doc.lines*S)}else l&&a&&(f=f*(a=="-"?-1:1)+o.number);let p=s.doc.line(Math.max(1,Math.min(s.doc.lines,f))),m=Ge.cursor(p.from+Math.max(0,Math.min(h,p.length)));n.dispatch({effects:[i7.of(!1),ot.scrollIntoView(m.from,{y:"center"})],selection:m}),n.focus()}return{dom:t}}const i7=Xt.define(),kP=xr.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(i7)&&(n=t.value);return n},provide:n=>g4.from(n,e=>e?oE:null)}),R7e=n=>{let e=p4(n,oE);if(!e){let t=[i7.of(!0)];n.state.field(kP,!1)==null&&t.push(Xt.appendConfig.of([kP,B7e])),n.dispatch({effects:t}),e=p4(n,oE)}return e&&e.dom.querySelector("input").focus(),!0},B7e=ot.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),k7e={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},KH=gt.define({combine(n){return wl(n,k7e,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function P7e(n){let e=[F7e,N7e];return n&&e.push(KH.of(n)),e}const L7e=Tt.mark({class:"cm-selectionMatch"}),D7e=Tt.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function PP(n,e,t,i){return(t==0||n(e.sliceDoc(t-1,t))!=Yn.Word)&&(i==e.doc.length||n(e.sliceDoc(i,i+1))!=Yn.Word)}function O7e(n,e,t,i){return n(e.sliceDoc(t,t+1))==Yn.Word&&n(e.sliceDoc(i-1,i))==Yn.Word}const N7e=Li.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(KH),{state:t}=n,i=t.selection;if(i.ranges.length>1)return Tt.none;let r=i.main,s,o=null;if(r.empty){if(!e.highlightWordAroundCursor)return Tt.none;let l=t.wordAt(r.head);if(!l)return Tt.none;o=t.charCategorizer(r.head),s=t.sliceDoc(l.from,l.to)}else{let l=r.to-r.from;if(l<e.minSelectionLength||l>200)return Tt.none;if(e.wholeWords){if(s=t.sliceDoc(r.from,r.to),o=t.charCategorizer(r.head),!(PP(o,t,r.from,r.to)&&O7e(o,t,r.from,r.to)))return Tt.none}else if(s=t.sliceDoc(r.from,r.to).trim(),!s)return Tt.none}let a=[];for(let l of n.visibleRanges){let c=new H2(t.doc,s,l.from,l.to);for(;!c.next().done;){let{from:u,to:h}=c.value;if((!o||PP(o,t,u,h))&&(r.empty&&u<=r.from&&h>=r.to?a.push(D7e.range(u,h)):(u>=r.to||h<=r.from)&&a.push(L7e.range(u,h)),a.length>e.maxMatches))return Tt.none}}return Tt.set(a)}},{decorations:n=>n.decorations}),F7e=ot.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),U7e=({state:n,dispatch:e})=>{let{selection:t}=n,i=Ge.create(t.ranges.map(r=>n.wordAt(r.head)||Ge.cursor(r.head)),t.mainIndex);return i.eq(t)?!1:(e(n.update({selection:i})),!0)};function G7e(n,e){let{main:t,ranges:i}=n.selection,r=n.wordAt(t.head),s=r&&r.from==t.from&&r.to==t.to;for(let o=!1,a=new H2(n.doc,e,i[i.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new H2(n.doc,e,0,Math.max(0,i[i.length-1].from-1)),o=!0}else{if(o&&i.some(l=>l.from==a.value.from))continue;if(s){let l=n.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const z7e=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(s=>s.from===s.to))return U7e({state:n,dispatch:e});let i=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(s=>n.sliceDoc(s.from,s.to)!=i))return!1;let r=G7e(n,i);return r?(e(n.update({selection:n.selection.addRange(Ge.range(r.from,r.to),!1),effects:ot.scrollIntoView(r.to)})),!0):!1},h0=gt.define({combine(n){return wl(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Z7e(e),scrollToMatch:e=>ot.scrollIntoView(e)})}});class JH{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||I7e(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new W7e(this):new H7e(this)}getCursor(e,t=0,i){let r=e.doc?e:sn.create({doc:e});return i==null&&(i=r.doc.length),this.regexp?bh(this,r,t,i):Th(this,r,t,i)}}class $H{constructor(e){this.spec=e}}function Th(n,e,t,i){return new H2(e.doc,n.unquoted,t,i,n.caseSensitive?void 0:r=>r.toLowerCase(),n.wholeWord?Q7e(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function Q7e(n,e){return(t,i,r,s)=>((s>t||s+r.length<i)&&(s=Math.max(0,t-2),r=n.sliceString(s,Math.min(n.length,i+2))),(e(r7(r,t-s))!=Yn.Word||e(s7(r,t-s))!=Yn.Word)&&(e(s7(r,i-s))!=Yn.Word||e(r7(r,i-s))!=Yn.Word))}class H7e extends $H{constructor(e){super(e)}nextMatch(e,t,i){let r=Th(this.spec,e,i,e.doc.length).nextOverlapping();return r.done&&(r=Th(this.spec,e,0,t).nextOverlapping()),r.done?null:r.value}prevMatchInRange(e,t,i){for(let r=i;;){let s=Math.max(t,r-1e4-this.spec.unquoted.length),o=Th(this.spec,e,s,r),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==t)return null;r-=1e4}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let i=Th(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let s=Th(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}function bh(n,e,t,i){return new qH(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?V7e(e.charCategorizer(e.selection.main.head)):void 0},t,i)}function r7(n,e){return n.slice(Nr(n,e,!1),e)}function s7(n,e){return n.slice(e,Nr(n,e))}function V7e(n){return(e,t,i)=>!i[0].length||(n(r7(i.input,i.index))!=Yn.Word||n(s7(i.input,i.index))!=Yn.Word)&&(n(s7(i.input,i.index+i[0].length))!=Yn.Word||n(r7(i.input,i.index+i[0].length))!=Yn.Word)}class W7e extends $H{nextMatch(e,t,i){let r=bh(this.spec,e,i,e.doc.length).next();return r.done&&(r=bh(this.spec,e,0,t).next()),r.done?null:r.value}prevMatchInRange(e,t,i){for(let r=1;;r++){let s=Math.max(t,i-r*1e4),o=bh(this.spec,e,s,i),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==t||a.from>s+10))return a;if(s==t)return null}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(t,i)=>i=="$"?"$":i=="&"?e.match[0]:i!="0"&&+i<e.match.length?e.match[i]:t))}matchAll(e,t){let i=bh(this.spec,e,0,e.doc.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let s=bh(this.spec,e,Math.max(0,t-250),Math.min(i+250,e.doc.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}const A4=Xt.define(),t_=Xt.define(),mc=xr.define({create(n){return new Wv(aE(n).create(),null)},update(n,e){for(let t of e.effects)t.is(A4)?n=new Wv(t.value.create(),n.panel):t.is(t_)&&(n=new Wv(n.query,t.value?n_:null));return n},provide:n=>g4.from(n,e=>e.panel)});class Wv{constructor(e,t){this.query=e,this.panel=t}}const j7e=Tt.mark({class:"cm-searchMatch"}),X7e=Tt.mark({class:"cm-searchMatch cm-searchMatch-selected"}),q7e=Li.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(mc))}update(n){let e=n.state.field(mc);(e!=n.startState.field(mc)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return Tt.none;let{view:t}=this,i=new bc;for(let r=0,s=t.visibleRanges,o=s.length;r<o;r++){let{from:a,to:l}=s[r];for(;r<o-1&&l>s[r+1].from-2*250;)l=s[++r].to;n.highlight(t.state,a,l,(c,u)=>{let h=t.state.selection.ranges.some(f=>f.from==c&&f.to==u);i.add(c,u,h?X7e:j7e)})}return i.finish()}},{decorations:n=>n.decorations});function d5(n){return e=>{let t=e.state.field(mc,!1);return t&&t.query.spec.valid?n(e,t):tV(e)}}const o7=d5((n,{query:e})=>{let{to:t}=n.state.selection.main,i=e.nextMatch(n.state,t,t);if(!i)return!1;let r=Ge.single(i.from,i.to),s=n.state.facet(h0);return n.dispatch({selection:r,effects:[i_(n,i),s.scrollToMatch(r.main,n)],userEvent:"select.search"}),eV(n),!0}),a7=d5((n,{query:e})=>{let{state:t}=n,{from:i}=t.selection.main,r=e.prevMatch(t,i,i);if(!r)return!1;let s=Ge.single(r.from,r.to),o=n.state.facet(h0);return n.dispatch({selection:s,effects:[i_(n,r),o.scrollToMatch(s.main,n)],userEvent:"select.search"}),eV(n),!0}),Y7e=d5((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:Ge.create(t.map(i=>Ge.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),K7e=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:i,to:r}=t.main,s=[],o=0;for(let a=new H2(n.doc,n.sliceDoc(i,r));!a.next().done;){if(s.length>1e3)return!1;a.value.from==i&&(o=s.length),s.push(Ge.range(a.value.from,a.value.to))}return e(n.update({selection:Ge.create(s,o),userEvent:"select.search.matches"})),!0},LP=d5((n,{query:e})=>{let{state:t}=n,{from:i,to:r}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,i,i);if(!s)return!1;let o=[],a,l,c=[];if(s.from==i&&s.to==r&&(l=t.toText(e.getReplacement(s)),o.push({from:s.from,to:s.to,insert:l}),s=e.nextMatch(t,s.from,s.to),c.push(ot.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(i).number)+"."))),s){let u=o.length==0||o[0].from>=s.to?0:s.to-s.from-l.length;a=Ge.single(s.from-u,s.to-u),c.push(i_(n,s)),c.push(t.facet(h0).scrollToMatch(a.main,n))}return n.dispatch({changes:o,selection:a,effects:c,userEvent:"input.replace"}),!0}),J7e=d5((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(r=>{let{from:s,to:o}=r;return{from:s,to:o,insert:e.getReplacement(r)}});if(!t.length)return!1;let i=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:ot.announce.of(i),userEvent:"input.replace.all"}),!0});function n_(n){return n.state.facet(h0).createPanel(n)}function aE(n,e){var t,i,r,s,o;let a=n.selection.main,l=a.empty||a.to>a.from+100?"":n.sliceDoc(a.from,a.to);if(e&&!l)return e;let c=n.facet(h0);return new JH({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(i=e==null?void 0:e.caseSensitive)!==null&&i!==void 0?i:c.caseSensitive,literal:(r=e==null?void 0:e.literal)!==null&&r!==void 0?r:c.literal,regexp:(s=e==null?void 0:e.regexp)!==null&&s!==void 0?s:c.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:c.wholeWord})}function ZH(n){let e=p4(n,n_);return e&&e.dom.querySelector("[main-field]")}function eV(n){let e=ZH(n);e&&e==n.root.activeElement&&e.select()}const tV=n=>{let e=n.state.field(mc,!1);if(e&&e.panel){let t=ZH(n);if(t&&t!=n.root.activeElement){let i=aE(n.state,e.query.spec);i.valid&&n.dispatch({effects:A4.of(i)}),t.focus(),t.select()}}else n.dispatch({effects:[t_.of(!0),e?A4.of(aE(n.state,e.query.spec)):Xt.appendConfig.of(tge)]});return!0},nV=n=>{let e=n.state.field(mc,!1);if(!e||!e.panel)return!1;let t=p4(n,n_);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:t_.of(!1)}),!0},$7e=[{key:"Mod-f",run:tV,scope:"editor search-panel"},{key:"F3",run:o7,shift:a7,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:o7,shift:a7,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:nV,scope:"editor search-panel"},{key:"Mod-Shift-l",run:K7e},{key:"Alt-g",run:R7e},{key:"Mod-d",run:z7e,preventDefault:!0}];class Z7e{constructor(e){this.view=e;let t=this.query=e.state.field(mc).query.spec;this.commit=this.commit.bind(this),this.searchField=Ln("input",{value:t.search,placeholder:Vs(e,"Find"),"aria-label":Vs(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Ln("input",{value:t.replace,placeholder:Vs(e,"Replace"),"aria-label":Vs(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Ln("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=Ln("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=Ln("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function i(r,s,o){return Ln("button",{class:"cm-button",name:r,onclick:s,type:"button"},o)}this.dom=Ln("div",{onkeydown:r=>this.keydown(r),class:"cm-search"},[this.searchField,i("next",()=>o7(e),[Vs(e,"next")]),i("prev",()=>a7(e),[Vs(e,"previous")]),i("select",()=>Y7e(e),[Vs(e,"all")]),Ln("label",null,[this.caseField,Vs(e,"match case")]),Ln("label",null,[this.reField,Vs(e,"regexp")]),Ln("label",null,[this.wordField,Vs(e,"by word")]),...e.state.readOnly?[]:[Ln("br"),this.replaceField,i("replace",()=>LP(e),[Vs(e,"replace")]),i("replaceAll",()=>J7e(e),[Vs(e,"replace all")])],Ln("button",{name:"close",onclick:()=>nV(e),"aria-label":Vs(e,"close"),type:"button"},[""])])}commit(){let e=new JH({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:A4.of(e)}))}keydown(e){p6e(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?a7:o7)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),LP(this.view))}update(e){for(let t of e.transactions)for(let i of t.effects)i.is(A4)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(h0).top}}function Vs(n,e){return n.state.phrase(e)}const X6=30,q6=/[\s\.,:;?!]/;function i_(n,{from:e,to:t}){let i=n.state.doc.lineAt(e),r=n.state.doc.lineAt(t).to,s=Math.max(i.from,e-X6),o=Math.min(r,t+X6),a=n.state.sliceDoc(s,o);if(s!=i.from){for(let l=0;l<X6;l++)if(!q6.test(a[l+1])&&q6.test(a[l])){a=a.slice(l);break}}if(o!=r){for(let l=a.length-1;l>a.length-X6;l--)if(!q6.test(a[l-1])&&q6.test(a[l])){a=a.slice(0,l);break}}return ot.announce.of(`${n.state.phrase("current match")}. ${a} ${n.state.phrase("on line")} ${i.number}.`)}const ege=ot.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),tge=[mc,l0.low(q7e),ege];class iV{constructor(e,t,i){this.state=e,this.pos=t,this.explicit=i,this.abortListeners=[]}tokenBefore(e){let t=Gr(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),i=Math.max(t.from,this.pos-250),r=t.text.slice(i-t.from,this.pos-t.from),s=r.search(rV(e,!1));return s<0?null:{from:i+s,to:this.pos,text:r.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t){e=="abort"&&this.abortListeners&&this.abortListeners.push(t)}}function DP(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function nge(n){let e=Object.create(null),t=Object.create(null);for(let{label:r}of n){e[r[0]]=!0;for(let s=1;s<r.length;s++)t[r[s]]=!0}let i=DP(e)+DP(t)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function ige(n){let e=n.map(r=>typeof r=="string"?{label:r}:r),[t,i]=e.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:nge(e);return r=>{let s=r.matchBefore(i);return s||r.explicit?{from:s?s.from:r.pos,options:e,validFor:t}:null}}class OP{constructor(e,t,i,r){this.completion=e,this.source=t,this.match=i,this.score=r}}function Ac(n){return n.selection.main.from}function rV(n,e){var t;let{source:i}=n,r=e&&i[0]!="^",s=i[i.length-1]!="$";return!r&&!s?n:new RegExp(`${r?"^":""}(?:${i})${s?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const rge=Cl.define();function sge(n,e,t,i){let{main:r}=n.selection,s=t-r.from,o=i-r.from;return Object.assign(Object.assign({},n.changeByRange(a=>a!=r&&t!=i&&n.sliceDoc(a.from+s,a.from+o)!=n.sliceDoc(t,i)?{range:a}:{changes:{from:a.from+s,to:i==r.from?a.to:a.from+o,insert:e},range:Ge.cursor(a.from+s+e.length)})),{userEvent:"input.complete"})}const NP=new WeakMap;function oge(n){if(!Array.isArray(n))return n;let e=NP.get(n);return e||NP.set(n,e=ige(n)),e}const r_=Xt.define(),v4=Xt.define();class age{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let i=dr(e,t),r=Oo(i);this.chars.push(i);let s=e.slice(t,t+r),o=s.toUpperCase();this.folded.push(dr(o==s?s.toLowerCase():o,0)),t+=r}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,!0}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return!1;let{chars:t,folded:i,any:r,precise:s,byWord:o}=this;if(t.length==1){let y=dr(e,0),x=Oo(y),C=x==e.length?0:-100;if(y!=t[0])if(y==i[0])C+=-200;else return!1;return this.ret(C,[0,x])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=t.length,c=0;if(a<0){for(let y=0,x=Math.min(e.length,200);y<x&&c<l;){let C=dr(e,y);(C==t[c]||C==i[c])&&(r[c++]=y),y+=Oo(C)}if(c<l)return!1}let u=0,h=0,f=!1,p=0,m=-1,S=-1,v=/[a-z]/.test(e),A=!0;for(let y=0,x=Math.min(e.length,200),C=0;y<x&&h<l;){let w=dr(e,y);a<0&&(u<l&&w==t[u]&&(s[u++]=y),p<l&&(w==t[p]||w==i[p]?(p==0&&(m=y),S=y+1,p++):p=0));let M,T=w<255?w>=48&&w<=57||w>=97&&w<=122?2:w>=65&&w<=90?1:0:(M=Pw(w))!=M.toLowerCase()?1:M!=M.toUpperCase()?2:0;(!y||T==1&&v||C==0&&T!=0)&&(t[h]==w||i[h]==w&&(f=!0)?o[h++]=y:o.length&&(A=!1)),C=T,y+=Oo(w)}return h==l&&o[0]==0&&A?this.result(-100+(f?-200:0),o,e):p==l&&m==0?this.ret(-200-e.length+(S==e.length?0:-100),[0,S]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):p==l?this.ret(-200+-700-e.length,[m,S]):h==l?this.result(-100+(f?-200:0)+-700+(A?0:-1100),o,e):t.length==2?!1:this.result((r[0]?-700:0)+-200+-1100,r,e)}result(e,t,i){let r=[],s=0;for(let o of t){let a=o+(this.astral?Oo(dr(i,o)):1);s&&r[s-1]==o?r[s-1]=a:(r[s++]=o,r[s++]=a)}return this.ret(e-i.length,r)}}const Ms=gt.define({combine(n){return wl(n,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:lge,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>i=>FP(e(i),t(i)),optionClass:(e,t)=>i=>FP(e(i),t(i)),addToOptions:(e,t)=>e.concat(t)})}});function FP(n,e){return n?e?n+" "+e:n:e}function lge(n,e,t,i,r){let s=n.textDirection==ii.RTL,o=s,a=!1,l="top",c,u,h=e.left-r.left,f=r.right-e.right,p=i.right-i.left,m=i.bottom-i.top;if(o&&h<Math.min(p,f)?o=!1:!o&&f<Math.min(p,h)&&(o=!0),p<=(o?h:f))c=Math.max(r.top,Math.min(t.top,r.bottom-m))-e.top,u=Math.min(400,o?h:f);else{a=!0,u=Math.min(400,(s?e.right:r.right-e.left)-30);let S=r.bottom-e.bottom;S>=m||S>e.top?c=t.bottom-e.top:(l="bottom",c=e.bottom-t.top)}return{style:`${l}: ${c}px; max-width: ${u}px`,class:"cm-completionInfo-"+(a?s?"left-narrow":"right-narrow":o?"left":"right")}}function cge(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),t.type&&i.classList.add(...t.type.split(/\s+/g).map(r=>"cm-completionIcon-"+r)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(t,i,r){let s=document.createElement("span");s.className="cm-completionLabel";let o=t.displayLabel||t.label,a=0;for(let l=0;l<r.length;){let c=r[l++],u=r[l++];c>a&&s.appendChild(document.createTextNode(o.slice(a,c)));let h=s.appendChild(document.createElement("span"));h.appendChild(document.createTextNode(o.slice(c,u))),h.className="cm-completionMatchedText",a=u}return a<o.length&&s.appendChild(document.createTextNode(o.slice(a))),s},position:50},{render(t){if(!t.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=t.detail,i},position:80}),e.sort((t,i)=>t.position-i.position).map(t=>t.render)}function UP(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let r=Math.floor(e/t);return{from:r*t,to:(r+1)*t}}let i=Math.floor((n-e)/t);return{from:n-(i+1)*t,to:n-i*t}}class uge{constructor(e,t,i){this.view=e,this.stateField=t,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let r=e.state.field(t),{options:s,selected:o}=r.open,a=e.state.facet(Ms);this.optionContent=cge(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=UP(s.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{for(let c=l.target,u;c&&c!=this.dom;c=c.parentNode)if(c.nodeName=="LI"&&(u=/-(\d+)$/.exec(c.id))&&+u[1]<s.length){this.applyCompletion(e,s[+u[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(Ms).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:v4.of(null)})}),this.list=this.dom.appendChild(this.createListBox(s,r.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}mount(){this.updateSel()}update(e){var t,i,r;let s=e.state.field(this.stateField),o=e.startState.field(this.stateField);this.updateTooltipClass(e.state),s!=o&&(this.updateSel(),((t=s.open)===null||t===void 0?void 0:t.disabled)!=((i=o.open)===null||i===void 0?void 0:i.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!(!((r=s.open)===null||r===void 0)&&r.disabled)))}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let i of this.currentClass.split(" "))i&&this.dom.classList.remove(i);for(let i of t.split(" "))i&&this.dom.classList.add(i);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=UP(t.options.length,t.selected,this.view.state.facet(Ms).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t.options,e.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:i}=t.options[t.selected],{info:r}=i;if(!r)return;let s=typeof r=="string"?document.createTextNode(r):r(i);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,i)}).catch(o=>Vo(this.view.state,o,"completion info")):this.addInfoPane(s,i)}}addInfoPane(e,t){this.destroyInfo();let i=this.info=document.createElement("div");if(i.className="cm-tooltip cm-completionInfo",e.nodeType!=null)i.appendChild(e),this.infoDestroy=null;else{let{dom:r,destroy:s}=e;i.appendChild(r),this.infoDestroy=s||null}this.dom.appendChild(i),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let i=this.list.firstChild,r=this.range.from;i;i=i.nextSibling,r++)i.nodeName!="LI"||!i.id?r--:r==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),t=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return t&&fge(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.defaultView||window;s={left:0,top:0,right:o.innerWidth,bottom:o.innerHeight}}return r.top>Math.min(s.bottom,t.bottom)-10||r.bottom<Math.max(s.top,t.top)+10?null:this.view.state.facet(Ms).positionInfo(this.view,t,r,i,s)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,i){const r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));let s=null;for(let o=i.from;o<i.to;o++){let{completion:a,match:l}=e[o],{section:c}=a;if(c){let f=typeof c=="string"?c:c.name;if(f!=s&&(o>i.from||i.from==0))if(s=f,typeof c!="string"&&c.header)r.appendChild(c.header(c));else{let p=r.appendChild(document.createElement("completion-section"));p.textContent=f}}const u=r.appendChild(document.createElement("li"));u.id=t+"-"+o,u.setAttribute("role","option");let h=this.optionClass(a);h&&(u.className=h);for(let f of this.optionContent){let p=f(a,this.view.state,l);p&&u.appendChild(p)}}return i.from&&r.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function hge(n,e){return t=>new uge(t,n,e)}function fge(n,e){let t=n.getBoundingClientRect(),i=e.getBoundingClientRect();i.top<t.top?n.scrollTop-=t.top-i.top:i.bottom>t.bottom&&(n.scrollTop+=i.bottom-t.bottom)}function GP(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function dge(n,e){let t=[],i=null,r=l=>{t.push(l);let{section:c}=l.completion;if(c){i||(i=[]);let u=typeof c=="string"?c:c.name;i.some(h=>h.name==u)||i.push(typeof c=="string"?{name:u}:c)}};for(let l of n)if(l.hasResult()){let c=l.result.getMatch;if(l.result.filter===!1)for(let u of l.result.options)r(new OP(u,l.source,c?c(u):[],1e9-t.length));else{let u=new age(e.sliceDoc(l.from,l.to));for(let h of l.result.options)if(u.match(h.label)){let f=h.displayLabel?c?c(h,u.matched):[]:u.matched;r(new OP(h,l.source,f,u.score+(h.boost||0)))}}}if(i){let l=Object.create(null),c=0,u=(h,f)=>{var p,m;return((p=h.rank)!==null&&p!==void 0?p:1e9)-((m=f.rank)!==null&&m!==void 0?m:1e9)||(h.name<f.name?-1:1)};for(let h of i.sort(u))c-=1e5,l[h.name]=c;for(let h of t){let{section:f}=h.completion;f&&(h.score+=l[typeof f=="string"?f:f.name])}}let s=[],o=null,a=e.facet(Ms).compareCompletions;for(let l of t.sort((c,u)=>u.score-c.score||a(c.completion,u.completion))){let c=l.completion;!o||o.label!=c.label||o.detail!=c.detail||o.type!=null&&c.type!=null&&o.type!=c.type||o.apply!=c.apply||o.boost!=c.boost?s.push(l):GP(l.completion)>GP(o)&&(s[s.length-1]=l),o=l.completion}return s}class Zh{constructor(e,t,i,r,s,o){this.options=e,this.attrs=t,this.tooltip=i,this.timestamp=r,this.selected=s,this.disabled=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Zh(this.options,zP(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,i,r,s){let o=dge(e,t);if(!o.length)return r&&e.some(l=>l.state==1)?new Zh(r.options,r.attrs,r.tooltip,r.timestamp,r.selected,!0):null;let a=t.facet(Ms).selectOnOpen?0:-1;if(r&&r.selected!=a&&r.selected!=-1){let l=r.options[r.selected].completion;for(let c=0;c<o.length;c++)if(o[c].completion==l){a=c;break}}return new Zh(o,zP(i,a),{pos:e.reduce((l,c)=>c.hasResult()?Math.min(l,c.from):l,1e8),create:hge(Ys,aV),above:s.aboveCursor},r?r.timestamp:Date.now(),a,!1)}map(e){return new Zh(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class l7{constructor(e,t,i){this.active=e,this.id=t,this.open=i}static start(){return new l7(mge,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,i=t.facet(Ms),s=(i.override||t.languageDataAt("autocomplete",Ac(t)).map(oge)).map(a=>(this.active.find(c=>c.source==a)||new Cs(a,this.active.some(c=>c.state!=0)?1:0)).update(e,i));s.length==this.active.length&&s.every((a,l)=>a==this.active[l])&&(s=this.active);let o=this.open;o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(a=>a.hasResult()&&e.changes.touchesRange(a.from,a.to))||!pge(s,this.active)?o=Zh.build(s,t,this.id,o,i):o&&o.disabled&&!s.some(a=>a.state==1)&&(o=null),!o&&s.every(a=>a.state!=1)&&s.some(a=>a.hasResult())&&(s=s.map(a=>a.hasResult()?new Cs(a.source,0):a));for(let a of e.effects)a.is(oV)&&(o=o&&o.setSelected(a.value,this.id));return s==this.active&&o==this.open?this:new l7(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:gge}}function pge(n,e){if(n==e)return!0;for(let t=0,i=0;;){for(;t<n.length&&!n[t].hasResult;)t++;for(;i<e.length&&!e[i].hasResult;)i++;let r=t==n.length,s=i==e.length;if(r||s)return r==s;if(n[t++].result!=e[i++].result)return!1}}const gge={"aria-autocomplete":"list"};function zP(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const mge=[];function lE(n){return n.isUserEvent("input.type")?"input":n.isUserEvent("delete.backward")?"delete":null}class Cs{constructor(e,t,i=-1){this.source=e,this.state=t,this.explicitPos=i}hasResult(){return!1}update(e,t){let i=lE(e),r=this;i?r=r.handleUserEvent(e,i,t):e.docChanged?r=r.handleChange(e):e.selection&&r.state!=0&&(r=new Cs(r.source,0));for(let s of e.effects)if(s.is(r_))r=new Cs(r.source,1,s.value?Ac(e.state):-1);else if(s.is(v4))r=new Cs(r.source,0);else if(s.is(sV))for(let o of s.value)o.source==r.source&&(r=o);return r}handleUserEvent(e,t,i){return t=="delete"||!i.activateOnTyping?this.map(e.changes):new Cs(this.source,1)}handleChange(e){return e.changes.touchesRange(Ac(e.startState))?new Cs(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new Cs(this.source,this.state,e.mapPos(this.explicitPos))}}class A2 extends Cs{constructor(e,t,i,r,s){super(e,2,t),this.result=i,this.from=r,this.to=s}hasResult(){return!0}handleUserEvent(e,t,i){var r;let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=Ac(e.state);if((this.explicitPos<0?a<=s:a<this.from)||a>o||t=="delete"&&Ac(e.startState)==this.from)return new Cs(this.source,t=="input"&&i.activateOnTyping?1:0);let l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),c;return Age(this.result.validFor,e.state,s,o)?new A2(this.source,l,this.result,s,o):this.result.update&&(c=this.result.update(this.result,s,o,new iV(e.state,a,l>=0)))?new A2(this.source,l,c,c.from,(r=c.to)!==null&&r!==void 0?r:Ac(e.state)):new Cs(this.source,1,l)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new Cs(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new A2(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function Age(n,e,t,i){if(!n)return!1;let r=e.sliceDoc(t,i);return typeof n=="function"?n(r,t,i,e):rV(n,!0).test(r)}const sV=Xt.define({map(n,e){return n.map(t=>t.map(e))}}),oV=Xt.define(),Ys=xr.define({create(){return l7.start()},update(n,e){return n.update(e)},provide:n=>[Qw.from(n,e=>e.tooltip),ot.contentAttributes.from(n,e=>e.attrs)]});function aV(n,e){const t=e.completion.apply||e.completion.label;let i=n.state.field(Ys).active.find(r=>r.source==e.source);return i instanceof A2?(typeof t=="string"?n.dispatch(Object.assign(Object.assign({},sge(n.state,t,i.from,i.to)),{annotations:rge.of(e.completion)})):t(n,e.completion,i.from,i.to),!0):!1}function Y6(n,e="option"){return t=>{let i=t.state.field(Ys,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<t.state.facet(Ms).interactionDelay)return!1;let r=1,s;e=="page"&&(s=zQ(t,i.open.tooltip))&&(r=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=i.open.options,a=i.open.selected>-1?i.open.selected+r*(n?1:-1):n?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),t.dispatch({effects:oV.of(a)}),!0}}const vge=n=>{let e=n.state.field(Ys,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(Ms).interactionDelay?!1:aV(n,e.open.options[e.open.selected])},yge=n=>n.state.field(Ys,!1)?(n.dispatch({effects:r_.of(!0)}),!0):!1,xge=n=>{let e=n.state.field(Ys,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:v4.of(null)}),!0)};class Sge{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const QP=50,Ege=50,Cge=1e3,wge=Li.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of n.state.field(Ys).active)e.state==1&&this.startQuery(e)}update(n){let e=n.state.field(Ys);if(!n.selectionSet&&!n.docChanged&&n.startState.field(Ys)==e)return;let t=n.transactions.some(i=>(i.selection||i.docChanged)&&!lE(i));for(let i=0;i<this.running.length;i++){let r=this.running[i];if(t||r.updates.length+n.transactions.length>Ege&&Date.now()-r.time>Cge){for(let s of r.context.abortListeners)try{s()}catch(o){Vo(this.view.state,o)}r.context.abortListeners=null,this.running.splice(i--,1)}else r.updates.push(...n.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(i=>i.state==1&&!this.running.some(r=>r.active.source==i.source))?setTimeout(()=>this.startUpdate(),QP):-1,this.composing!=0)for(let i of n.transactions)lE(i)=="input"?this.composing=2:this.composing==2&&i.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:n}=this.view,e=n.field(Ys);for(let t of e.active)t.state==1&&!this.running.some(i=>i.active.source==t.source)&&this.startQuery(t)}startQuery(n){let{state:e}=this.view,t=Ac(e),i=new iV(e,t,n.explicitPos==t),r=new Sge(n,i);this.running.push(r),Promise.resolve(n.source(i)).then(s=>{r.context.aborted||(r.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:v4.of(null)}),Vo(this.view.state,s)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),QP))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(Ms);for(let i=0;i<this.running.length;i++){let r=this.running[i];if(r.done===void 0)continue;if(this.running.splice(i--,1),r.done){let o=new A2(r.active.source,r.active.explicitPos,r.done,r.done.from,(n=r.done.to)!==null&&n!==void 0?n:Ac(r.updates.length?r.updates[0].startState:this.view.state));for(let a of r.updates)o=o.update(a,t);if(o.hasResult()){e.push(o);continue}}let s=this.view.state.field(Ys).active.find(o=>o.source==r.active.source);if(s&&s.state==1)if(r.done==null){let o=new Cs(r.active.source,0);for(let a of r.updates)o=o.update(a,t);o.state!=1&&e.push(o)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:sV.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(Ys,!1);if(e&&e.tooltip&&this.view.state.facet(Ms).closeOnBlur){let t=e.open&&zQ(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&this.view.dispatch({effects:v4.of(null)})}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:r_.of(!1)}),20),this.composing=0}}}),_ge=ot.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),y4={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Hu=Xt.define({map(n,e){let t=e.mapPos(n,-1,is.TrackAfter);return t??void 0}}),s_=new class extends A3{};s_.startSide=1;s_.endSide=-1;const lV=xr.define({create(){return Sn.empty},update(n,e){if(e.selection){let t=e.state.doc.lineAt(e.selection.main.head).from,i=e.startState.doc.lineAt(e.startState.selection.main.head).from;t!=e.changes.mapPos(i,-1)&&(n=Sn.empty)}n=n.map(e.changes);for(let t of e.effects)t.is(Hu)&&(n=n.update({add:[s_.range(t.value,t.value+1)]}));return n}});function Mge(){return[bge,lV]}const jv="()[]{}<>";function cV(n){for(let e=0;e<jv.length;e+=2)if(jv.charCodeAt(e)==n)return jv.charAt(e+1);return Pw(n<128?n:n+1)}function uV(n,e){return n.languageDataAt("closeBrackets",e)[0]||y4}const Tge=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),bge=ot.inputHandler.of((n,e,t,i)=>{if((Tge?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let r=n.state.selection.main;if(i.length>2||i.length==2&&Oo(dr(i,0))==1||e!=r.from||t!=r.to)return!1;let s=Bge(n.state,i);return s?(n.dispatch(s),!0):!1}),Ige=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let i=uV(n,n.selection.main.head).brackets||y4.brackets,r=null,s=n.changeByRange(o=>{if(o.empty){let a=kge(n.doc,o.head);for(let l of i)if(l==a&&Ng(n.doc,o.head)==cV(dr(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:Ge.cursor(o.head-l.length)}}return{range:r=o}});return r||e(n.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!r},Rge=[{key:"Backspace",run:Ige}];function Bge(n,e){let t=uV(n,n.selection.main.head),i=t.brackets||y4.brackets;for(let r of i){let s=cV(dr(r,0));if(e==r)return s==r?Dge(n,r,i.indexOf(r+r+r)>-1,t):Pge(n,r,s,t.before||y4.before);if(e==s&&hV(n,n.selection.main.from))return Lge(n,r,s)}return null}function hV(n,e){let t=!1;return n.field(lV).between(0,n.doc.length,i=>{i==e&&(t=!0)}),t}function Ng(n,e){let t=n.sliceString(e,e+2);return t.slice(0,Oo(dr(t,0)))}function kge(n,e){let t=n.sliceString(e-2,e);return Oo(dr(t,0))==t.length?t:t.slice(1)}function Pge(n,e,t,i){let r=null,s=n.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:t,from:o.to}],effects:Hu.of(o.to+e.length),range:Ge.range(o.anchor+e.length,o.head+e.length)};let a=Ng(n.doc,o.head);return!a||/\s/.test(a)||i.indexOf(a)>-1?{changes:{insert:e+t,from:o.head},effects:Hu.of(o.head+e.length),range:Ge.cursor(o.head+e.length)}:{range:r=o}});return r?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function Lge(n,e,t){let i=null,r=n.changeByRange(s=>s.empty&&Ng(n.doc,s.head)==t?{changes:{from:s.head,to:s.head+t.length,insert:t},range:Ge.cursor(s.head+t.length)}:i={range:s});return i?null:n.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function Dge(n,e,t,i){let r=i.stringPrefixes||y4.stringPrefixes,s=null,o=n.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:Hu.of(a.to+e.length),range:Ge.range(a.anchor+e.length,a.head+e.length)};let l=a.head,c=Ng(n.doc,l),u;if(c==e){if(HP(n,l))return{changes:{insert:e+e,from:l},effects:Hu.of(l+e.length),range:Ge.cursor(l+e.length)};if(hV(n,l)){let f=t&&n.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+f.length,insert:f},range:Ge.cursor(l+f.length)}}}else{if(t&&n.sliceDoc(l-2*e.length,l)==e+e&&(u=VP(n,l-2*e.length,r))>-1&&HP(n,u))return{changes:{insert:e+e+e+e,from:l},effects:Hu.of(l+e.length),range:Ge.cursor(l+e.length)};if(n.charCategorizer(l)(c)!=Yn.Word&&VP(n,l,r)>-1&&!Oge(n,l,e,r))return{changes:{insert:e+e,from:l},effects:Hu.of(l+e.length),range:Ge.cursor(l+e.length)}}return{range:s=a}});return s?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function HP(n,e){let t=Gr(n).resolveInner(e+1);return t.parent&&t.from==e}function Oge(n,e,t,i){let r=Gr(n).resolveInner(e,-1),s=i.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=n.sliceDoc(r.from,Math.min(r.to,r.from+t.length+s)),l=a.indexOf(t);if(!l||l>-1&&i.indexOf(a.slice(0,l))>-1){let u=r.firstChild;for(;u&&u.from==r.from&&u.to-u.from>t.length+l;){if(n.sliceDoc(u.to-t.length,u.to)==t)return!1;u=u.firstChild}return!0}let c=r.to==e&&r.parent;if(!c)break;r=c}return!1}function VP(n,e,t){let i=n.charCategorizer(e);if(i(n.sliceDoc(e-1,e))!=Yn.Word)return e;for(let r of t){let s=e-r.length;if(n.sliceDoc(s,e)==r&&i(n.sliceDoc(s-1,s))!=Yn.Word)return s}return-1}function Nge(n={}){return[Ys,Ms.of(n),wge,Fge,_ge]}const fV=[{key:"Ctrl-Space",run:yge},{key:"Escape",run:xge},{key:"ArrowDown",run:Y6(!0)},{key:"ArrowUp",run:Y6(!1)},{key:"PageDown",run:Y6(!0,"page")},{key:"PageUp",run:Y6(!1,"page")},{key:"Enter",run:vge}],Fge=l0.highest(bg.computeN([Ms],n=>n.facet(Ms).defaultKeymap?[fV]:[]));class Uge{constructor(e,t,i){this.from=e,this.to=t,this.diagnostic=i}}class Bu{constructor(e,t,i){this.diagnostics=e,this.panel=t,this.selected=i}static init(e,t,i){let r=e,s=i.facet(gV).markerFilter;s&&(r=s(r));let o=Tt.set(r.map(a=>a.from==a.to||a.from==a.to-1&&i.doc.lineAt(a.from).to==a.from?Tt.widget({widget:new qge(a),diagnostic:a}).range(a.from):Tt.mark({attributes:{class:"cm-lintRange cm-lintRange-"+a.severity+(a.markClass?" "+a.markClass:"")},diagnostic:a}).range(a.from,a.to)),!0);return new Bu(o,t,V2(o))}}function V2(n,e=null,t=0){let i=null;return n.between(t,1e9,(r,s,{spec:o})=>{if(!(e&&o.diagnostic!=e))return i=new Uge(r,s,o.diagnostic),!1}),i}function Gge(n,e){let t=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(i=>i.is(dV))||n.changes.touchesRange(t.from,t.to))}function zge(n,e){return n.field(to,!1)?e:e.concat(Xt.appendConfig.of(Jge))}const dV=Xt.define(),o_=Xt.define(),pV=Xt.define(),to=xr.define({create(){return new Bu(Tt.none,null,null)},update(n,e){if(e.docChanged){let t=n.diagnostics.map(e.changes),i=null;if(n.selected){let r=e.changes.mapPos(n.selected.from,1);i=V2(t,n.selected.diagnostic,r)||V2(t,null,r)}n=new Bu(t,n.panel,i)}for(let t of e.effects)t.is(dV)?n=Bu.init(t.value,n.panel,e.state):t.is(o_)?n=new Bu(n.diagnostics,t.value?Fg.open:null,n.selected):t.is(pV)&&(n=new Bu(n.diagnostics,n.panel,t.value));return n},provide:n=>[g4.from(n,e=>e.panel),ot.decorations.from(n,e=>e.diagnostics)]}),Qge=Tt.mark({class:"cm-lintRange cm-lintRange-active"});function Hge(n,e,t){let{diagnostics:i}=n.state.field(to),r=[],s=2e8,o=0;i.between(e-(t<0?1:0),e+(t>0?1:0),(l,c,{spec:u})=>{e>=l&&e<=c&&(l==c||(e>l||t>0)&&(e<c||t<0))&&(r.push(u.diagnostic),s=Math.min(l,s),o=Math.max(c,o))});let a=n.state.facet(gV).tooltipFilter;return a&&(r=a(r)),r.length?{pos:s,end:o,above:n.state.doc.lineAt(s).to<o,create(){return{dom:Vge(n,r)}}}:null}function Vge(n,e){return Ln("ul",{class:"cm-tooltip-lint"},e.map(t=>AV(n,t,!1)))}const Wge=n=>{let e=n.state.field(to,!1);(!e||!e.panel)&&n.dispatch({effects:zge(n.state,[o_.of(!0)])});let t=p4(n,Fg.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},WP=n=>{let e=n.state.field(to,!1);return!e||!e.panel?!1:(n.dispatch({effects:o_.of(!1)}),!0)},jge=n=>{let e=n.state.field(to,!1);if(!e)return!1;let t=n.state.selection.main,i=e.diagnostics.iter(t.to+1);return!i.value&&(i=e.diagnostics.iter(0),!i.value||i.from==t.from&&i.to==t.to)?!1:(n.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},Xge=[{key:"Mod-Shift-m",run:Wge,preventDefault:!0},{key:"F8",run:jge}],gV=gt.define({combine(n){return Object.assign({sources:n.map(e=>e.source)},wl(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,t)=>e?t?i=>e(i)||t(i):e:t}))}});function mV(n){let e=[];if(n)e:for(let{name:t}of n){for(let i=0;i<t.length;i++){let r=t[i];if(/[a-zA-Z]/.test(r)&&!e.some(s=>s.toLowerCase()==r.toLowerCase())){e.push(r);continue e}}e.push("")}return e}function AV(n,e,t){var i;let r=t?mV(e.actions):[];return Ln("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Ln("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(i=e.actions)===null||i===void 0?void 0:i.map((s,o)=>{let a=!1,l=f=>{if(f.preventDefault(),a)return;a=!0;let p=V2(n.state.field(to).diagnostics,e);p&&s.apply(n,p.from,p.to)},{name:c}=s,u=r[o]?c.indexOf(r[o]):-1,h=u<0?c:[c.slice(0,u),Ln("u",c.slice(u,u+1)),c.slice(u+1)];return Ln("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${u<0?"":` (access key "${r[o]})"`}.`},h)}),e.source&&Ln("div",{class:"cm-diagnosticSource"},e.source))}class qge extends S1{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return Ln("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class jP{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=AV(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Fg{constructor(e){this.view=e,this.items=[];let t=r=>{if(r.keyCode==27)WP(this.view),this.view.focus();else if(r.keyCode==38||r.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(r.keyCode==40||r.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(r.keyCode==36)this.moveSelection(0);else if(r.keyCode==35)this.moveSelection(this.items.length-1);else if(r.keyCode==13)this.view.focus();else if(r.keyCode>=65&&r.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=mV(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==r.keyCode){let l=V2(this.view.state.field(to).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}else return;r.preventDefault()},i=r=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(r.target)&&this.moveSelection(s)};this.list=Ln("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:i}),this.dom=Ln("div",{class:"cm-panel-lint"},this.list,Ln("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>WP(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(to).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(to),i=0,r=!1,s=null;for(e.between(0,this.view.state.doc.length,(o,a,{spec:l})=>{let c=-1,u;for(let h=i;h<this.items.length;h++)if(this.items[h].diagnostic==l.diagnostic){c=h;break}c<0?(u=new jP(this.view,l.diagnostic),this.items.splice(i,0,u),r=!0):(u=this.items[c],c>i&&(this.items.splice(i,c-i),r=!0)),t&&u.diagnostic==t.diagnostic?u.dom.hasAttribute("aria-selected")||(u.dom.setAttribute("aria-selected","true"),s=u):u.dom.hasAttribute("aria-selected")&&u.dom.removeAttribute("aria-selected"),i++});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();this.items.length==0&&(this.items.push(new jP(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:a})=>{o.top<a.top?this.list.scrollTop-=a.top-o.top:o.bottom>a.bottom&&(this.list.scrollTop+=o.bottom-a.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function t(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(to),i=V2(t.diagnostics,this.items[e].diagnostic);i&&this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:pV.of(i)})}static open(e){return new Fg(e)}}function Yge(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function K6(n){return Yge(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Kge=ot.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:K6("#d11")},".cm-lintRange-warning":{backgroundImage:K6("orange")},".cm-lintRange-info":{backgroundImage:K6("#999")},".cm-lintRange-hint":{backgroundImage:K6("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),Jge=[to,ot.decorations.compute([to],n=>{let{selected:e,panel:t}=n.field(to);return!e||!t||e.from==e.to?Tt.none:Tt.set([Qge.range(e.from,e.to)])}),t8e(Hge,{hideOn:Gge}),Kge];var XP=function(e){e===void 0&&(e={});var t=[];e.closeBracketsKeymap!==!1&&(t=t.concat(Rge)),e.defaultKeymap!==!1&&(t=t.concat(T7e)),e.searchKeymap!==!1&&(t=t.concat($7e)),e.historyKeymap!==!1&&(t=t.concat(F9e)),e.foldKeymap!==!1&&(t=t.concat(J8e)),e.completionKeymap!==!1&&(t=t.concat(fV)),e.lintKeymap!==!1&&(t=t.concat(Xge));var i=[];return e.lineNumbers!==!1&&i.push(u8e()),e.highlightActiveLineGutter!==!1&&i.push(d8e()),e.highlightSpecialChars!==!1&&i.push(B6e()),e.history!==!1&&i.push(I9e()),e.foldGutter!==!1&&i.push(t9e()),e.drawSelection!==!1&&i.push(x6e()),e.dropCursor!==!1&&i.push(_6e()),e.allowMultipleSelections!==!1&&i.push(sn.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&i.push(z8e()),e.syntaxHighlighting!==!1&&i.push(cH(s9e,{fallback:!0})),e.bracketMatching!==!1&&i.push(f9e()),e.closeBrackets!==!1&&i.push(Mge()),e.autocompletion!==!1&&i.push(Nge()),e.rectangularSelection!==!1&&i.push(W6e()),e.crosshairCursor!==!1&&i.push(q6e()),e.highlightActiveLine!==!1&&i.push(N6e()),e.highlightSelectionMatches!==!1&&i.push(P7e()),e.tabSize&&typeof e.tabSize=="number"&&i.push(Ig.of(" ".repeat(e.tabSize))),i.concat([bg.of(t.flat())]).filter(Boolean)};const $ge="#e5c07b",qP="#e06c75",Zge="#56b6c2",eme="#ffffff",N8="#abb2bf",cE="#7d8799",tme="#61afef",nme="#98c379",YP="#d19a66",ime="#c678dd",rme="#21252b",KP="#2c313a",JP="#282c34",Xv="#353a42",sme="#3E4451",$P="#528bff",ome=ot.theme({"&":{color:N8,backgroundColor:JP},".cm-content":{caretColor:$P},".cm-cursor, .cm-dropCursor":{borderLeftColor:$P},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:sme},".cm-panels":{backgroundColor:rme,color:N8},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:JP,color:cE,border:"none"},".cm-activeLineGutter":{backgroundColor:KP},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Xv},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Xv,borderBottomColor:Xv},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:KP,color:N8}}},{dark:!0}),ame=f5.define([{tag:ke.keyword,color:ime},{tag:[ke.name,ke.deleted,ke.character,ke.propertyName,ke.macroName],color:qP},{tag:[ke.function(ke.variableName),ke.labelName],color:tme},{tag:[ke.color,ke.constant(ke.name),ke.standard(ke.name)],color:YP},{tag:[ke.definition(ke.name),ke.separator],color:N8},{tag:[ke.typeName,ke.className,ke.number,ke.changed,ke.annotation,ke.modifier,ke.self,ke.namespace],color:$ge},{tag:[ke.operator,ke.operatorKeyword,ke.url,ke.escape,ke.regexp,ke.link,ke.special(ke.string)],color:Zge},{tag:[ke.meta,ke.comment],color:cE},{tag:ke.strong,fontWeight:"bold"},{tag:ke.emphasis,fontStyle:"italic"},{tag:ke.strikethrough,textDecoration:"line-through"},{tag:ke.link,color:cE,textDecoration:"underline"},{tag:ke.heading,fontWeight:"bold",color:qP},{tag:[ke.atom,ke.bool,ke.special(ke.variableName)],color:YP},{tag:[ke.processingInstruction,ke.string,ke.inserted],color:nme},{tag:ke.invalid,color:eme}]),lme=[ome,cH(ame)];var cme=ot.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),ume=function(e){e===void 0&&(e={});var{indentWithTab:t=!0,editable:i=!0,readOnly:r=!1,theme:s="light",placeholder:o="",basicSetup:a=!0}=e,l=[];switch(t&&l.unshift(bg.of([b7e])),a&&(typeof a=="boolean"?l.unshift(XP()):l.unshift(XP(a))),o&&l.unshift(z6e(o)),s){case"light":l.push(cme);break;case"dark":l.push(lme);break;case"none":break;default:l.push(s);break}return i===!1&&l.push(ot.editable.of(!1)),r&&l.push(sn.readOnly.of(!0)),[...l]},hme=n=>({line:n.state.doc.lineAt(n.state.selection.main.from),lineCount:n.state.doc.lines,lineBreak:n.state.lineBreak,length:n.state.doc.length,readOnly:n.state.readOnly,tabSize:n.state.tabSize,selection:n.state.selection,selectionAsSingle:n.state.selection.asSingle().main,ranges:n.state.selection.ranges,selectionCode:n.state.sliceDoc(n.state.selection.main.from,n.state.selection.main.to),selections:n.state.selection.ranges.map(e=>n.state.sliceDoc(e.from,e.to)),selectedText:n.state.selection.ranges.some(e=>!e.empty)}),ZP=Cl.define(),fme=[];function dme(n){var{value:e,selection:t,onChange:i,onStatistics:r,onCreateEditor:s,onUpdate:o,extensions:a=fme,autoFocus:l,theme:c="light",height:u=null,minHeight:h=null,maxHeight:f=null,width:p=null,minWidth:m=null,maxWidth:S=null,placeholder:v="",editable:A=!0,readOnly:y=!1,indentWithTab:x=!0,basicSetup:C=!0,root:w,initialState:M}=n,[T,R]=ne.useState(),[b,B]=ne.useState(),[P,O]=ne.useState(),G=ot.theme({"&":{height:u,minHeight:h,maxHeight:f,width:p,minWidth:m,maxWidth:S},"& .cm-scroller":{height:"100% !important"}}),H=ot.updateListener.of(J=>{if(J.docChanged&&typeof i=="function"&&!J.transactions.some(F=>F.annotation(ZP))){var L=J.state.doc,D=L.toString();i(D,J)}r&&r(hme(J))}),j=ume({theme:c,editable:A,readOnly:y,placeholder:v,indentWithTab:x,basicSetup:C}),q=[H,G,...j];return o&&typeof o=="function"&&q.push(ot.updateListener.of(o)),q=q.concat(a),ne.useEffect(()=>{if(T&&!P){var J={doc:e,selection:t,extensions:q},L=M?sn.fromJSON(M.json,J,M.fields):sn.create(J);if(O(L),!b){var D=new ot({state:L,parent:T,root:w});B(D),s&&s(D,L)}}return()=>{b&&(O(void 0),B(void 0))}},[T,P]),ne.useEffect(()=>R(n.container),[n.container]),ne.useEffect(()=>()=>{b&&(b.destroy(),B(void 0))},[b]),ne.useEffect(()=>{l&&b&&b.focus()},[l,b]),ne.useEffect(()=>{b&&b.dispatch({effects:Xt.reconfigure.of(q)})},[c,a,u,h,f,p,m,S,v,A,y,x,C,i,o]),ne.useEffect(()=>{if(e!==void 0){var J=b?b.state.doc.toString():"";b&&e!==J&&b.dispatch({changes:{from:0,to:J.length,insert:e||""},annotations:[ZP.of(!0)]})}},[e,b]),{state:P,setState:O,view:b,setView:B,container:T,setContainer:R}}var pme=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],vV=ne.forwardRef((n,e)=>{var{className:t,value:i="",selection:r,extensions:s=[],onChange:o,onStatistics:a,onCreateEditor:l,onUpdate:c,autoFocus:u,theme:h="light",height:f,minHeight:p,maxHeight:m,width:S,minWidth:v,maxWidth:A,basicSetup:y,placeholder:x,indentWithTab:C,editable:w,readOnly:M,root:T,initialState:R}=n,b=C5e(n,pme),B=ne.useRef(null),{state:P,view:O,container:G}=dme({container:B.current,root:T,value:i,autoFocus:u,theme:h,height:f,minHeight:p,maxHeight:m,width:S,minWidth:v,maxWidth:A,basicSetup:y,placeholder:x,indentWithTab:C,editable:w,readOnly:M,selection:r,onChange:o,onStatistics:a,onCreateEditor:l,onUpdate:c,extensions:s,initialState:R});if(ne.useImperativeHandle(e,()=>({editor:B.current,state:P,view:O}),[B,G,P,O]),typeof i!="string")throw new Error("value must be typeof string but got "+typeof i);var H=typeof h=="string"?"cm-theme-"+h:"cm-theme";return te.jsx("div",h3({ref:B,className:""+H+(t?" "+t:"")},b))});vV.displayName="CodeMirror";class c7{constructor(e,t,i,r,s,o,a,l,c,u=0,h){this.p=e,this.stack=t,this.state=i,this.reducePos=r,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=u,this.parent=h}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let r=e.parser.context;return new c7(e,[],t,i,i,0,[],0,r?new eL(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let i=e>>19,r=e&65535,{parser:s}=this.p,o=s.dynamicPrecedence(r);if(o&&(this.score+=o),i==0){this.pushState(s.getGoto(this.state,r,!0),this.reducePos),r<s.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,4,!0),this.reduceContext(r,this.reducePos);return}let a=this.stack.length-(i-1)*3-(e&262144?6:0),l=a?this.stack[a-2]:this.p.ranges[0].from,c=this.reducePos-l;c>=2e3&&!(!((t=this.p.parser.nodeSet.types[r])===null||t===void 0)&&t.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=c));let u=a?this.stack[a-1]:0,h=this.bufferBase+this.buffer.length-u;if(r<s.minRepeatTerm||e&131072){let f=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,l,f,h+4,!0)}if(e&262144)this.state=this.stack[a];else{let f=this.stack[a-3];this.state=s.getGoto(f,r,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(r,l)}storeNode(e,t,i,r=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(t==i)return;if(o.buffer[a-2]>=t){o.buffer[a-2]=i;return}}}if(!s||this.pos==i)this.buffer.push(e,t,i,r);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0)for(;o>0&&this.buffer[o-2]>i;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,r>4&&(r-=4);this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=i,this.buffer[o+3]=r}}shift(e,t,i){let r=this.pos;if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,i,4);else{let s=e,{parser:o}=this.p;(i>this.pos||t<=o.maxNode)&&(this.pos=i,o.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,r),this.shiftContext(t,r),t<=o.maxNode&&this.buffer.push(t,r,i,4)}}apply(e,t,i){e&65536?this.reduce(e):this.shift(e,t,i)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(i,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),r=e.bufferBase+t;for(;e&&r==e.bufferBase;)e=e.parent;return new c7(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new gme(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(i==0)return!1;if(!(i&65536))return!0;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let r=[];for(let s=0,o;s<t.length;s+=2)(o=t[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&r.push(t[s],o);if(this.stack.length<120)for(let s=0;r.length<8&&s<t.length;s+=2){let o=t[s+1];r.some((a,l)=>l&1&&a==o)||r.push(t[s],o)}t=r}let i=[];for(let r=0;r<t.length&&i.length<4;r+=2){let s=t[r+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[r],this.pos),o.score-=200,i.push(o)}return i}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let i=t>>19,r=t&65535,s=this.stack.length-i*3;if(s<0||e.getGoto(this.stack[s],r,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;t=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],i=(r,s)=>{if(!t.includes(r))return t.push(r),e.allActions(r,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,c=this.stack.length-a*3;if(c>=0&&e.getGoto(this.stack[c],l,!1)>=0)return a<<19|65536|l}}else{let a=i(o,s+1);if(a!=null)return a}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new eL(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class eL{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class gme{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}class u7{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new u7(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new u7(this.stack,this.pos,this.index)}}function J6(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let i=0,r=0;i<n.length;){let s=0;for(;;){let o=n.charCodeAt(i++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}t?t[r++]=s:t=new e(s)}return t}class F8{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const tL=new F8;class mme{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=tL,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,r=this.rangeIndex,s=this.pos+e;for(;s<i.from;){if(!r)return null;let o=this.ranges[--r];s-=i.from-o.to,i=o}for(;t<0?s>i.to:s>=i.to;){if(r==this.ranges.length-1)return null;let o=this.ranges[++r];s+=o.from-i.to,i=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,i,r;if(t>=0&&t<this.chunk.length)i=this.pos+e,r=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(i=s,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=i;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-i)),r=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),r}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=tL,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let r of this.ranges){if(r.from>=t)break;r.to>e&&(i+=this.input.read(Math.max(r.from,e),Math.min(r.to,t)))}return i}}class v2{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:i}=t.p;Ame(this.data,e,t,this.id,i.data,i.tokenPrecTable)}}v2.prototype.contextual=v2.prototype.fallback=v2.prototype.extend=!1;v2.prototype.fallback=v2.prototype.extend=!1;function Ame(n,e,t,i,r,s){let o=0,a=1<<i,{dialect:l}=t.p.parser;e:for(;a&n[o];){let c=n[o+1];for(let p=o+3;p<c;p+=2)if((n[p+1]&a)>0){let m=n[p];if(l.allows(m)&&(e.token.value==-1||e.token.value==m||vme(m,e.token.value,r,s))){e.acceptToken(m);break}}let u=e.next,h=0,f=n[o+2];if(e.next<0&&f>h&&n[c+f*3-3]==65535&&n[c+f*3-3]==65535){o=n[c+f*3-1];continue e}for(;h<f;){let p=h+f>>1,m=c+p+(p<<1),S=n[m],v=n[m+1]||65536;if(u<S)f=p;else if(u>=v)h=p+1;else{o=n[m+2],e.advance();continue e}}break}}function nL(n,e,t){for(let i=e,r;(r=n[i])!=65535;i++)if(r==t)return i-e;return-1}function vme(n,e,t,i){let r=nL(t,i,e);return r<0||nL(t,i,n)<r}const Ws=typeof process<"u"&&process.env&&/\bparse\b/.test({}.LOG);let qv=null;function iL(n,e,t){let i=n.cursor(ir.IncludeAnonymous);for(i.moveTo(e);;)if(!(t<0?i.childBefore(e):i.childAfter(e)))for(;;){if((t<0?i.to<e:i.from>e)&&!i.type.isError)return t<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(n.length,Math.max(i.from+1,e+25));if(t<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return t<0?0:n.length}}class yme{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?iL(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?iL(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],r=this.index[t];if(r==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[r],o=this.start[t]+i.positions[r];if(o>e)return this.nextStart=o,null;if(s instanceof Pi){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop($t.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[t]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+s.length}}}class xme{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new F8)}getActions(e){let t=0,i=null,{parser:r}=e.p,{tokenizers:s}=r,o=r.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<s.length;c++){if(!(1<<c&o))continue;let u=s[c],h=this.tokens[c];if(!(i&&!u.fallback)&&((u.contextual||h.start!=e.pos||h.mask!=o||h.context!=a)&&(this.updateCachedToken(h,u,e),h.mask=o,h.context=a),h.lookAhead>h.end+25&&(l=Math.max(h.lookAhead,l)),h.value!=0)){let f=t;if(h.extended>-1&&(t=this.addActions(e,h.extended,h.end,t)),t=this.addActions(e,h.value,h.end,t),!u.extend&&(i=h,t>f))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),!i&&e.pos==this.stream.end&&(i=new F8,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new F8,{pos:i,p:r}=e;return t.start=i,t.end=Math.min(i+1,r.stream.end),t.value=i==r.stream.end?r.parser.eofTerm:0,t}updateCachedToken(e,t,i){let r=this.stream.clipPos(i.pos);if(t.token(this.stream.reset(r,e),i),e.value>-1){let{parser:s}=i.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),i);if(a>=0&&i.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}putAction(e,t,i,r){for(let s=0;s<r;s+=3)if(this.actions[s]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=i,r}addActions(e,t,i,r){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let c=o.stateSlot(s,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=jl(a,c+2);else{r==0&&a[c+1]==2&&(r=this.putAction(jl(a,c+2),t,i,r));break}a[c]==t&&(r=this.putAction(jl(a,c+1),t,i,r))}return r}}class Sme{constructor(e,t,i,r){this.parser=e,this.input=t,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new mme(t,r),this.tokens=new xme(e,this.stream),this.topTerm=e.top[1];let{from:s}=r[0];this.stacks=[c7.start(this,e.top[0],s)],this.fragments=i.length&&this.stream.end-s>e.bufferLength*4?new yme(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,i=this.stacks=[],r,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>t)i.push(a);else{if(this.advanceStack(a,i,e))continue;{r||(r=[],s=[]),r.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!i.length){let o=r&&Cme(r);if(o)return Ws&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw Ws&&r&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&r){let o=this.stoppedAt!=null&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,s,i);if(o)return Ws&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(i.length>o)for(i.sort((a,l)=>l.score-a.score);i.length>o;)i.pop();i.some(a=>a.reducePos>t)&&this.recovering--}else if(i.length>1){e:for(let o=0;o<i.length-1;o++){let a=i[o];for(let l=o+1;l<i.length;l++){let c=i[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)i.splice(l--,1);else{i.splice(o--,1);continue e}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let o=1;o<i.length;o++)i[o].pos<this.minStackPos&&(this.minStackPos=i[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let r=e.pos,{parser:s}=this,o=Ws?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,u=c?e.curContext.hash:0;for(let h=this.fragments.nodeAt(r);h;){let f=this.parser.nodeSet.types[h.type.id]==h.type?s.getGoto(e.state,h.type.id):-1;if(f>-1&&h.length&&(!c||(h.prop($t.contextHash)||0)==u))return e.useNode(h,f),Ws&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(h.type.id)})`),!0;if(!(h instanceof Pi)||h.children.length==0||h.positions[0]>0)break;let p=h.children[0];if(p instanceof Pi&&h.positions[0]==0)h=p;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),Ws&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let u=l[c++],h=l[c++],f=l[c++],p=c==l.length||!i,m=p?e:e.split();if(m.apply(u,h,f),Ws&&console.log(o+this.stackID(m)+` (via ${u&65536?`reduce of ${s.getName(u&65535)}`:"shift"} for ${s.getName(h)} @ ${r}${m==e?"":", split"})`),p)return!0;m.pos>r?t.push(m):i.push(m)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return rL(e,t),!0}}runRecovery(e,t,i){let r=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=t[o<<1],c=t[(o<<1)+1],u=Ws?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),Ws&&console.log(u+this.stackID(a)+" (restarted)"),this.advanceFully(a,i))))continue;let h=a.split(),f=u;for(let p=0;h.forceReduce()&&p<10&&(Ws&&console.log(f+this.stackID(h)+" (via force-reduce)"),!this.advanceFully(h,i));p++)Ws&&(f=this.stackID(h)+" -> ");for(let p of a.recoverByInsert(l))Ws&&console.log(u+this.stackID(p)+" (via recover-insert)"),this.advanceFully(p,i);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),Ws&&console.log(u+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),rL(a,i)):(!r||r.score<a.score)&&(r=a)}return r}stackToTree(e){return e.close(),Pi.build({buffer:u7.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(qv||(qv=new WeakMap)).get(e);return t||qv.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function rL(n,e){for(let t=0;t<e.length;t++){let i=e[t];if(i.pos==n.pos&&i.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class Eme{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}class h7 extends qQ{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let a=0;a<e.repeatNodeCount;a++)t.push("");let i=Object.keys(e.topRules).map(a=>e.topRules[a][1]),r=[];for(let a=0;a<t.length;a++)r.push([]);function s(a,l,c){r[a].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=$t[l]);for(let c=1;c<a.length;){let u=a[c++];if(u>=0)s(u,l,a[c++]);else{let h=a[c+-u];for(let f=-u;f>0;f--)s(a[c++],l,h);c++}}}this.nodeSet=new Vw(t.map((a,l)=>Ps.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:r[l],top:i.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=WQ;let o=J6(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(sL),this.states=J6(e.states,Uint32Array),this.data=J6(e.stateData),this.goto=J6(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new v2(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let r=new Sme(this,e,t,i);for(let s of this.wrappers)r=s(r,e,t,i);return r}getGoto(e,t,i=!1){let r=this.goto;if(t>=r[0])return-1;for(let s=r[t+1];;){let o=r[s++],a=o&1,l=r[s++];if(a&&i)return l;for(let c=s+(o>>1);s<c;s++)if(r[s]==e)return l;if(a)return-1}}hasAction(e,t){let i=this.data;for(let r=0;r<2;r++)for(let s=this.stateSlot(e,r?2:1),o;;s+=3){if((o=i[s])==65535)if(i[s+1]==1)o=i[s=jl(i,s+2)];else{if(i[s+1]==2)return jl(i,s+2);break}if(o==t||o==0)return jl(i,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,i=>i==t?!0:null)}allActions(e,t){let i=this.stateSlot(e,4),r=i?t(i):void 0;for(let s=this.stateSlot(e,1);r==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=jl(this.data,s+2);else break;r=t(jl(this.data,s+1))}return r}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=jl(this.data,i+2);else break;if(!(this.data[i+2]&1)){let r=this.data[i+1];t.some((s,o)=>o&1&&s==r)||t.push(this.data[i],r)}}return t}configure(e){let t=Object.assign(Object.create(h7.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(i=>{let r=e.tokenizers.find(s=>s.from==i);return r?r.to:i})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((i,r)=>{let s=e.specializers.find(a=>a.from==i.external);if(!s)return i;let o=Object.assign(Object.assign({},i),{external:s.to});return t.specializers[r]=sL(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map(()=>!1);if(e)for(let s of e.split(" ")){let o=t.indexOf(s);o>=0&&(i[o]=!0)}let r=null;for(let s=0;s<t.length;s++)if(!i[s])for(let o=this.dialects[t[s]],a;(a=this.data[o++])!=65535;)(r||(r=new Uint8Array(this.maxTerm+1)))[a]=1;return new Eme(e,i,r)}static deserialize(e){return new h7(e)}}function jl(n,e){return n[e]|n[e+1]<<16}function Cme(n){let e=null;for(let t of n){let i=t.p.stoppedAt;(t.pos==t.p.stream.end||i!=null&&t.pos>i)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function sL(n){if(n.external){let e=n.extend?1:0;return(t,i)=>n.external(t,i)<<1|e}return n.get}const wme=YQ({String:ke.string,Number:ke.number,"True False":ke.bool,PropertyName:ke.propertyName,Null:ke.null,",":ke.separator,"[ ]":ke.squareBracket,"{ }":ke.brace}),_me=h7.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:" JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[["openedBy",7,"{",12,"["],["closedBy",8,"}",13,"]"]],propSources:[wme],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oc~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Oe~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zOh~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yOg~~'OO]~~'TO[~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),Mme=K9.define({name:"json",parser:_me.configure({props:[ZQ.add({Object:xP({except:/^\s*\}/}),Array:xP({except:/^\s*\]/})}),tH.add({"Object Array":H8e})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function Tme(){return new B8e(Mme)}function bme({geoJsonData:n}){const[e,t]=ne.useState(null);return ne.useEffect(()=>{n&&t(n),console.log("useEffect triggered by json change")},[n]),te.jsx(te.Fragment,{children:e?e.features.map((i,r)=>te.jsx("lineSegments",{geometry:new yz(i.geometry,100,1),children:te.jsx("lineBasicMaterial",{color:"#ff0000"})},r)):null})}const Ime="FeatureCollection",Rme=[{type:"Feature",id:0,properties:{STATE_CODE:"1",STATE_NAME:"New South Wales"},geometry:{type:"MultiPolygon",coordinates:[[[[159.10542,-31.563994],[159.074599,-31.597285],[159.06874,-31.595697],[159.077238,-31.543533],[159.038463,-31.522425],[159.03796,-31.512156],[159.10542,-31.563994]]],[[[151.14555,-33.824079],[151.169325,-33.839309],[151.180206,-33.836165],[151.148783,-33.839386],[151.133837,-33.844837],[151.070345,-33.816445],[151.051336,-33.823662],[151.122305,-33.856994],[151.11907,-33.864711],[151.144434,-33.843531],[151.154043,-33.84207],[151.141168,-33.869844],[151.15087,-33.872265],[151.18549,-33.846008],[151.173504,-33.871203],[151.189337,-33.87584],[151.277581,-33.85109],[151.281068,-33.832821],[151.257087,-33.95232],[151.265965,-33.96803],[151.251185,-33.978936],[151.249211,-34.001814],[151.192722,-33.973925],[151.186067,-33.952356],[151.168033,-33.949774],[151.139781,-34.003281],[151.13074,-33.983977],[151.118302,-33.990491],[151.107858,-34.014364],[151.109517,-34.022705],[151.126957,-34.009899],[151.137635,-34.037053],[151.157393,-34.013218],[151.162119,-34.000028],[151.158315,-34.014511],[151.159558,-34.023258],[151.231455,-34.011663],[151.230295,-34.026401],[151.15588,-34.051861],[151.153407,-34.073152],[151.129658,-34.069298],[151.111637,-34.072455],[151.112134,-34.043153],[151.105231,-34.042091],[151.088837,-34.065546],[151.061128,-34.064351],[151.105556,-34.079512],[151.078582,-34.089316],[151.168974,-34.074918],[151.171761,-34.086503],[150.988696,-34.231862],[150.928023,-34.316624],[150.894896,-34.451032],[150.884085,-34.457706],[150.913644,-34.4648],[150.921906,-34.493851],[150.891364,-34.506365],[150.87457,-34.538312],[150.886605,-34.491595],[150.832395,-34.486299],[150.813506,-34.534186],[150.796795,-34.546199],[150.837573,-34.542704],[150.862037,-34.537457],[150.875128,-34.589351],[150.904456,-34.596968],[150.866629,-34.604505],[150.855877,-34.614649],[150.854772,-34.663378],[150.864679,-34.671917],[150.822899,-34.773159],[150.825135,-34.782505],[150.760547,-34.820646],[150.749538,-34.85516],[150.776325,-34.947837],[150.784718,-34.986574],[150.829846,-35.002907],[150.849715,-35.012891],[150.842983,-35.050636],[150.833758,-35.074355],[150.805821,-35.094438],[150.786259,-35.072542],[150.776154,-35.083012],[150.778271,-35.002448],[150.750987,-34.990845],[150.692061,-35.014115],[150.67113,-35.037153],[150.691608,-35.083161],[150.701604,-35.122862],[150.563048,-35.093674],[150.549499,-35.10304],[150.565456,-35.102507],[150.568716,-35.112856],[150.54138,-35.118777],[150.544818,-35.12293],[150.586461,-35.120235],[150.598912,-35.127192],[150.591249,-35.172472],[150.59742,-35.190064],[150.572751,-35.193035],[150.540543,-35.215675],[150.545226,-35.248436],[150.478024,-35.291824],[150.474882,-35.356554],[150.492479,-35.366331],[150.423084,-35.420975],[150.410745,-35.436522],[150.401584,-35.506192],[150.406331,-35.533928],[150.280941,-35.703348],[150.2766,-35.723524],[150.210273,-35.702356],[150.177263,-35.703075],[150.211872,-35.75999],[150.234944,-35.771762],[150.224934,-35.827793],[150.235278,-35.835527],[150.199136,-35.828596],[150.186699,-35.833116],[150.169215,-35.86252],[150.150243,-35.891139],[150.142489,-36.217796],[150.148569,-36.266969],[150.089788,-36.353992],[150.066831,-36.398525],[150.06764,-36.41941],[150.08476,-36.429194],[150.055537,-36.540206],[150.068288,-36.554137],[149.919697,-36.895441],[149.904788,-36.914648],[149.913436,-36.944592],[149.945918,-36.94913],[149.930788,-37.007831],[149.947732,-37.017556],[149.939898,-37.031216],[149.944652,-37.053996],[149.901876,-37.069158],[149.872514,-37.083208],[149.926203,-37.100315],[149.953789,-37.100888],[149.987616,-37.141124],[150.004869,-37.141269],[150.030825,-37.23786],[150.051842,-37.262255],[149.966025,-37.249843],[149.944008,-37.277729],[149.97541,-37.44545],[149.976679,-37.50506],[148.194946,-36.796253],[148.120152,-36.806079],[148.108888,-36.800865],[148.170243,-36.712799],[148.211171,-36.650519],[148.202781,-36.611915],[148.217563,-36.598239],[148.150489,-36.558336],[148.13341,-36.566921],[148.119093,-36.481884],[148.124663,-36.464713],[148.058163,-36.400804],[148.037583,-36.390225],[148.051243,-36.324557],[148.058941,-36.320046],[148.035011,-36.310577],[148.035191,-36.152536],[148.037726,-36.140797],[148.002388,-36.140057],[147.989467,-36.068478],[147.999692,-36.046204],[147.958994,-36.040974],[147.934261,-36.047637],[147.908543,-36.001473],[147.912342,-35.995198],[147.718672,-35.945513],[147.708415,-35.928545],[147.591893,-35.969859],[147.549115,-35.96455],[147.584027,-35.984648],[147.551873,-36.004095],[147.511421,-35.962412],[147.494112,-35.943549],[147.450685,-35.960804],[147.404631,-35.943495],[147.352825,-36.031749],[147.319949,-36.060987],[147.127391,-36.018047],[147.123357,-35.994498],[147.061812,-36.066155],[147.052963,-36.107881],[146.972589,-36.082113],[146.956824,-36.078061],[146.952498,-36.110788],[146.943705,-36.115989],[146.730065,-36.044724],[146.731645,-36.023725],[146.695002,-36.034315],[146.685812,-36.040576],[146.618716,-35.975937],[146.61252,-35.972858],[146.555958,-35.989182],[146.549581,-35.992457],[146.519681,-35.960604],[146.502585,-35.958235],[146.502134,-35.983188],[146.499726,-35.99087],[146.437159,-35.967015],[146.421673,-35.965831],[146.387557,-36.035639],[146.368684,-36.050862],[146.300963,-36.03659],[146.299009,-36.047859],[146.278803,-36.01585],[146.282895,-36.011048],[146.199244,-36.027453],[146.185976,-36.042071],[146.14065,-36.008954],[146.134761,-36.002547],[146.005866,-36.003569],[145.97207,-36.015747],[145.944304,-35.966495],[145.953701,-35.9615],[145.910314,-35.955962],[145.902693,-35.952496],[145.81668,-35.9882],[145.811662,-35.991769],[145.685852,-35.930615],[145.673992,-35.925924],[145.541889,-35.808905],[145.535398,-35.801983],[145.38715,-35.850142],[145.3554,-35.867067],[145.260717,-35.835426],[145.246178,-35.830321],[145.136636,-35.83427],[145.127683,-35.820716],[145.018998,-35.856647],[144.992263,-35.852338],[144.931005,-35.96847],[144.923606,-35.988768],[144.985932,-36.056509],[144.981909,-36.072316],[144.932614,-36.067049],[144.86346,-36.059112],[144.813362,-36.113912],[144.80787,-36.123628],[144.740569,-36.107576],[144.726379,-36.117781],[144.717445,-36.112113],[144.725675,-36.089438],[144.683907,-36.095138],[144.689004,-36.061417],[144.628221,-36.065259],[144.61767,-36.077192],[144.617551,-36.046904],[144.615473,-36.031593],[144.598917,-36.037411],[144.590991,-36.043318],[144.553661,-36.002984],[144.51614,-35.995438],[144.512009,-35.988895],[144.521099,-35.970266],[144.424381,-35.900194],[144.407927,-35.904013],[144.401926,-35.86802],[144.411388,-35.859003],[144.351546,-35.785069],[144.349111,-35.767142],[144.29606,-35.737091],[144.264496,-35.751403],[144.117546,-35.625926],[144.105015,-35.59078],[144.0468,-35.563141],[144.039215,-35.549257],[144.009646,-35.563307],[143.989865,-35.554663],[143.972536,-35.509249],[143.970101,-35.500078],[143.87138,-35.477828],[143.858784,-35.479978],[143.768823,-35.401809],[143.751004,-35.387835],[143.633019,-35.383467],[143.620416,-35.387682],[143.598448,-35.352111],[143.562074,-35.337244],[143.580984,-35.220036],[143.570828,-35.206905],[143.518322,-35.21162],[143.471482,-35.219293],[143.449486,-35.189112],[143.394677,-35.192377],[143.328679,-35.0459],[143.322081,-35.036727],[143.347559,-34.807302],[143.347876,-34.791635],[143.286873,-34.794985],[143.276736,-34.79226],[143.25213,-34.772803],[143.274016,-34.752685],[143.228775,-34.747789],[143.224384,-34.758733],[143.213847,-34.738496],[143.218847,-34.729471],[143.121272,-34.687401],[143.112525,-34.680819],[143.040422,-34.685888],[143.039468,-34.702611],[142.922267,-34.656482],[142.923844,-34.647856],[142.900176,-34.671464],[142.886815,-34.679808],[142.855209,-34.639522],[142.868177,-34.627306],[142.797919,-34.597628],[142.787687,-34.590178],[142.810104,-34.560855],[142.791428,-34.546389],[142.784068,-34.580393],[142.748291,-34.576759],[142.763405,-34.590436],[142.759173,-34.600136],[142.714821,-34.600442],[142.69998,-34.59938],[142.708607,-34.662167],[142.710754,-34.675769],[142.684144,-34.670884],[142.684489,-34.714057],[142.699406,-34.724474],[142.637334,-34.735043],[142.618316,-34.728751],[142.646364,-34.763315],[142.639323,-34.780272],[142.53356,-34.753067],[142.524215,-34.75938],[142.49906,-34.700026],[142.51417,-34.690931],[142.479002,-34.673551],[142.471582,-34.666869],[142.483644,-34.636435],[142.452327,-34.633498],[142.472705,-34.576695],[142.467968,-34.564295],[142.458747,-34.581498],[142.451622,-34.584265],[142.378183,-34.532145],[142.367695,-34.530446],[142.400571,-34.522747],[142.374942,-34.515284],[142.394681,-34.493484],[142.369722,-34.503819],[142.359576,-34.498779],[142.364268,-34.484715],[142.384163,-34.478091],[142.379267,-34.466704],[142.353334,-34.469582],[142.360695,-34.411768],[142.350969,-34.396629],[142.397,-34.343802],[142.396566,-34.337749],[142.253057,-34.306139],[142.235894,-34.306973],[142.23313,-34.214407],[142.220713,-34.182046],[142.183613,-34.175672],[142.167293,-34.183487],[142.166629,-34.153134],[142.14829,-34.148718],[142.119613,-34.174909],[142.08277,-34.173545],[142.075638,-34.131418],[142.027564,-34.122981],[142.042265,-34.105298],[142.037535,-34.099426],[142.012927,-34.105246],[142.022207,-34.12495],[141.945003,-34.119477],[141.934053,-34.138257],[141.929784,-34.12579],[141.922592,-34.11457],[141.888789,-34.124415],[141.876627,-34.137418],[141.708284,-34.096352],[141.67745,-34.101225],[141.60458,-34.149115],[141.583902,-34.151965],[141.604947,-34.183933],[141.603285,-34.191228],[141.533863,-34.210697],[141.510071,-34.216479],[141.518744,-34.18091],[141.496794,-34.155523],[141.450241,-34.161077],[141.444539,-34.168015],[141.407404,-34.1464],[141.408248,-34.127856],[141.346407,-34.124348],[141.324937,-34.138782],[141.247217,-34.073209],[141.241808,-34.061315],[141.193531,-34.089576],[141.184951,-34.091951],[141.153443,-34.064189],[141.153111,-34.054521],[141.097587,-34.070035],[141.089218,-34.076696],[141.036145,-34.03605],[141.024324,-34.059906],[141.002957,-34.022537],[140.999278,-28.999103],[148.958308,-28.999064],[149.009223,-28.956919],[149.032686,-28.955958],[149.080061,-28.858362],[149.080762,-28.841801],[149.358975,-28.68433],[149.387389,-28.695803],[149.439518,-28.612053],[149.452554,-28.594867],[149.502704,-28.580399],[149.502977,-28.574351],[149.568553,-28.571079],[149.587938,-28.572815],[149.666654,-28.631859],[149.703104,-28.633712],[149.7039,-28.616464],[149.721169,-28.609183],[149.936331,-28.610132],[149.941892,-28.617922],[150.138555,-28.565316],[150.15228,-28.55021],[150.192465,-28.566742],[150.212287,-28.574181],[150.236053,-28.55381],[150.289648,-28.537157],[150.429277,-28.651122],[150.445551,-28.665141],[150.625827,-28.668979],[150.632541,-28.676572],[150.728255,-28.63449],[150.752343,-28.633464],[150.874008,-28.693797],[150.906384,-28.687706],[150.938189,-28.730938],[151.01065,-28.740805],[151.037362,-28.827649],[151.045321,-28.844482],[151.083206,-28.83438],[151.102759,-28.836369],[151.243908,-28.924297],[151.274808,-28.938926],[151.275509,-29.077791],[151.279649,-29.100769],[151.33931,-29.177266],[151.393784,-29.177893],[151.486066,-29.088818],[151.502292,-29.070805],[151.49149,-29.056244],[151.49823,-29.019909],[151.536094,-28.980619],[151.545566,-28.952998],[151.674758,-28.907595],[151.706536,-28.871784],[151.73386,-28.871578],[151.770227,-28.955846],[151.777834,-28.959885],[151.813804,-28.959374],[151.832232,-28.959829],[151.837909,-28.916547],[151.849363,-28.90785],[151.900358,-28.914966],[151.916048,-28.929307],[152.00109,-28.90973],[152.009703,-28.907663],[152.038126,-28.864696],[152.025956,-28.858253],[152.015064,-28.850626],[152.042726,-28.731623],[152.076049,-28.708175],[152.03915,-28.664448],[152.010168,-28.664951],[151.957677,-28.563409],[151.955645,-28.518904],[151.982893,-28.503395],[151.988951,-28.525613],[152.016864,-28.525281],[152.067033,-28.48559],[152.0702,-28.468003],[152.190266,-28.433948],[152.217189,-28.449236],[152.288432,-28.393151],[152.309659,-28.363168],[152.355946,-28.361197],[152.38616,-28.368554],[152.442877,-28.290442],[152.463586,-28.259373],[152.508643,-28.249249],[152.534221,-28.262631],[152.525981,-28.30625],[152.568635,-28.323575],[152.579242,-28.338976],[152.600303,-28.283836],[152.614517,-28.269555],[152.624513,-28.298204],[152.638288,-28.310997],[152.72288,-28.344096],[152.751062,-28.363914],[152.831138,-28.320265],[152.880013,-28.309607],[153.04606,-28.339455],[153.108829,-28.357543],[153.174911,-28.274777],[153.177921,-28.24752],[153.33958,-28.250311],[153.361237,-28.24835],[153.457134,-28.18054],[153.476931,-28.15702],[153.542419,-28.168567],[153.556101,-28.168449],[153.507945,-28.194172],[153.493754,-28.207082],[153.494688,-28.220227],[153.518655,-28.221669],[153.542877,-28.194353],[153.55437,-28.192899],[153.541272,-28.243385],[153.554731,-28.236006],[153.549948,-28.17138],[153.556465,-28.170067],[153.568614,-28.238466],[153.586296,-28.258206],[153.555192,-28.452871],[153.55335,-28.531179],[153.618008,-28.642001],[153.638727,-28.636102],[153.595813,-28.775189],[153.608834,-28.843251],[153.592039,-28.875592],[153.574869,-28.840165],[153.563443,-28.847083],[153.576789,-28.869838],[153.526945,-28.872891],[153.572912,-28.876931],[153.590086,-28.877612],[153.539511,-28.923112],[153.463999,-29.018714],[153.448568,-29.133389],[153.456659,-29.140191],[153.400519,-29.201378],[153.344322,-29.296579],[153.362896,-29.355398],[153.376682,-29.365596],[153.363994,-29.430211],[153.372774,-29.440342],[153.32059,-29.661397],[153.333974,-29.674551],[153.233366,-29.979753],[153.197084,-30.040577],[153.199564,-30.141272],[153.206858,-30.156386],[153.166987,-30.198029],[153.140185,-30.255886],[153.140125,-30.309882],[153.152929,-30.309492],[153.045956,-30.467008],[153.031711,-30.499017],[152.997491,-30.678914],[152.988454,-30.731967],[152.997264,-30.786115],[153.013744,-30.860782],[153.075491,-30.877935],[153.088672,-30.911293],[153.056592,-30.959548],[153.038958,-31.003181],[153.065814,-31.046969],[153.064737,-31.056619],[153.006635,-31.123408],[152.97736,-31.171432],[152.964537,-31.30634],[152.976418,-31.314141],[152.914979,-31.409392],[152.937829,-31.47576],[152.876935,-31.529605],[152.845329,-31.572928],[152.833993,-31.632314],[152.849523,-31.641347],[152.73665,-31.836518],[152.754557,-31.845077],[152.690985,-31.877659],[152.608794,-31.94714],[152.54789,-32.073587],[152.512818,-32.116957],[152.50565,-32.14506],[152.508886,-32.172395],[152.543249,-32.201587],[152.570872,-32.215633],[152.536688,-32.259276],[152.523695,-32.29441],[152.53638,-32.328984],[152.55169,-32.33461],[152.522735,-32.388081],[152.516316,-32.408505],[152.537527,-32.433604],[152.539907,-32.443464],[152.418854,-32.482549],[152.33563,-32.527079],[152.231255,-32.615845],[152.195678,-32.647922],[152.208707,-32.695583],[152.205043,-32.70122],[152.137652,-32.67098],[152.121898,-32.657751],[152.114385,-32.681105],[152.068787,-32.689564],[152.061384,-32.669615],[152.061467,-32.65],[152.04379,-32.660358],[152.042612,-32.679646],[151.984275,-32.664883],[151.968364,-32.654379],[151.956364,-32.674973],[151.944606,-32.676772],[151.977628,-32.687684],[151.978206,-32.705855],[151.946428,-32.733945],[151.936455,-32.736885],[152.059998,-32.735879],[152.069545,-32.735976],[152.059497,-32.710303],[152.063803,-32.698469],[152.091073,-32.728176],[152.17616,-32.719839],[152.187501,-32.711553],[152.170981,-32.744437],[152.172615,-32.761656],[151.801417,-32.88492],[151.786574,-32.919935],[151.777611,-32.911426],[151.793943,-32.882876],[151.774609,-32.889578],[151.733832,-32.877639],[151.785514,-32.925525],[151.803968,-32.915741],[151.658193,-33.070693],[151.66112,-33.08383],[151.640292,-33.084991],[151.64325,-32.984246],[151.643898,-32.974847],[151.616572,-32.962553],[151.60807,-32.966099],[151.595758,-33.010552],[151.619654,-33.047954],[151.593563,-33.026737],[151.577324,-33.032883],[151.58852,-33.059987],[151.580757,-33.068462],[151.611159,-33.072148],[151.613787,-33.082133],[151.571749,-33.075132],[151.549206,-33.062517],[151.512457,-33.090022],[151.509516,-33.102519],[151.565141,-33.100586],[151.568733,-33.114279],[151.522107,-33.124081],[151.509848,-33.137719],[151.544865,-33.15742],[151.56787,-33.175275],[151.552814,-33.145742],[151.557224,-33.131612],[151.583901,-33.122911],[151.58141,-33.102652],[151.587921,-33.14991],[151.597195,-33.161559],[151.627493,-33.093656],[151.636071,-33.069334],[151.657848,-33.092206],[151.665749,-33.086915],[151.630001,-33.154232],[151.638668,-33.175835],[151.563591,-33.271727],[151.579025,-33.282227],[151.525332,-33.314954],[151.503129,-33.343895],[151.537339,-33.266962],[151.520419,-33.262676],[151.557901,-33.252009],[151.562175,-33.237346],[151.527336,-33.220286],[151.508584,-33.222659],[151.519037,-33.261667],[151.45251,-33.298624],[151.441615,-33.30706],[151.449002,-33.319884],[151.468581,-33.328497],[151.439052,-33.34166],[151.448791,-33.354628],[151.504234,-33.345265],[151.504443,-33.362511],[151.427905,-33.494641],[151.417169,-33.523284],[151.364297,-33.530711],[151.345402,-33.547164],[151.335924,-33.522342],[151.3634,-33.520863],[151.347599,-33.506378],[151.312461,-33.530086],[151.30974,-33.554623],[151.273893,-33.550947],[151.258662,-33.570636],[151.255013,-33.535301],[151.236771,-33.528081],[151.259087,-33.499089],[151.265719,-33.484947],[151.210233,-33.521154],[151.197561,-33.495174],[151.237683,-33.47559],[151.237478,-33.453752],[151.214715,-33.470455],[151.191913,-33.488793],[151.204685,-33.520701],[151.199445,-33.536131],[151.181942,-33.50083],[151.164381,-33.515279],[151.159804,-33.511002],[151.172882,-33.43806],[151.166434,-33.426707],[151.114844,-33.463841],[151.09705,-33.480337],[151.079385,-33.445388],[151.07276,-33.449154],[151.085611,-33.475512],[151.102507,-33.484221],[151.138404,-33.475394],[151.15553,-33.467097],[151.143281,-33.490999],[151.131294,-33.491264],[151.155275,-33.49895],[151.153931,-33.523913],[151.130175,-33.50509],[151.111449,-33.507042],[151.127088,-33.537627],[151.116951,-33.546207],[151.144903,-33.542073],[151.15146,-33.56195],[151.120054,-33.586003],[151.102778,-33.587778],[151.120785,-33.599548],[151.125734,-33.600316],[151.15015,-33.568554],[151.162249,-33.575775],[151.164184,-33.529131],[151.175085,-33.514246],[151.225898,-33.54703],[151.228985,-33.541529],[151.202188,-33.544055],[151.231422,-33.538989],[151.231023,-33.561429],[151.24708,-33.579071],[151.232759,-33.594043],[151.186312,-33.592116],[151.209258,-33.594065],[151.213153,-33.607756],[151.162978,-33.646504],[151.149449,-33.655463],[151.283609,-33.572979],[151.292976,-33.571875],[151.282663,-33.636655],[151.269812,-33.656249],[151.301046,-33.667283],[151.312041,-33.666731],[151.322838,-33.579441],[151.335315,-33.582332],[151.317714,-33.74198],[151.291375,-33.746666],[151.307405,-33.807083],[151.301448,-33.823391],[151.224654,-33.783754],[151.204366,-33.772481],[151.252506,-33.827195],[151.268876,-33.827056],[151.246155,-33.842673],[151.246701,-33.853448],[151.14555,-33.824079]],[[151.145228,-33.819212],[151.145228,-33.819212]],[[151.306067,-33.703855],[151.28119,-33.708689],[151.269693,-33.714981],[151.306067,-33.703855]],[[151.696572,-32.844091],[151.773765,-32.856276],[151.783752,-32.884307],[151.792438,-32.856892],[151.818614,-32.830965],[151.727293,-32.835469],[151.685247,-32.824087],[151.696572,-32.844091]],[[151.700776,-32.851517],[151.711837,-32.871054],[151.732806,-32.879605],[151.700776,-32.851517]],[[151.585876,-33.207801],[151.563648,-33.207493],[151.554302,-33.227804],[151.585876,-33.207801]],[[151.455178,-33.417566],[151.455178,-33.417566]],[[151.435641,-33.456501],[151.435641,-33.456501]],[[151.382814,-33.471893],[151.373431,-33.490622],[151.352561,-33.488875],[151.353753,-33.459686],[151.369466,-33.438742],[151.31861,-33.451542],[151.313467,-33.460629],[151.333613,-33.502023],[151.344635,-33.507517],[151.382814,-33.471893]],[[151.316571,-33.486321],[151.316571,-33.486321]],[[151.033594,-33.984756],[151.03281,-33.992545],[151.066072,-33.991887],[151.039851,-34.005495],[151.048829,-34.02058],[151.109528,-34.006689],[151.11551,-33.997327],[151.033594,-33.984756]],[[151.033626,-33.984447],[151.033626,-33.984447]],[[149.399284,-35.319175],[149.315286,-35.276286],[149.272048,-35.273644],[149.214063,-35.219507],[149.204883,-35.229549],[149.183629,-35.175618],[149.189097,-35.165677],[149.138819,-35.128466],[149.120902,-35.124517],[148.807854,-35.309647],[148.774354,-35.486003],[148.762675,-35.495505],[148.783462,-35.628342],[148.767495,-35.647323],[148.798434,-35.666492],[148.791182,-35.703449],[148.856132,-35.753518],[148.855652,-35.760874],[148.877693,-35.714936],[148.886633,-35.719136],[148.907065,-35.829563],[148.909367,-35.853065],[149.012198,-35.899697],[149.048811,-35.92041],[149.093517,-35.824221],[149.101481,-35.803698],[149.084514,-35.580594],[149.14251,-35.59257],[149.139052,-35.432543],[149.146586,-35.414836],[149.207546,-35.345305],[149.336502,-35.339914],[149.352134,-35.351317],[149.399284,-35.319175]]],[[[152.328627,-32.617406],[152.312026,-32.626782],[152.305258,-32.607247],[152.328627,-32.617406]]],[[[152.2287,-32.687163],[152.2287,-32.687163]]],[[[152.203513,-32.747611],[152.203513,-32.747611]]],[[[151.982089,-32.670746],[151.982089,-32.670746]]],[[[151.975014,-32.679871],[151.975014,-32.679871]]],[[[150.421112,-35.531174],[150.421112,-35.531174]]],[[[150.230948,-36.250533],[150.230948,-36.250533]]]]}},{type:"Feature",id:1,properties:{STATE_CODE:"2",STATE_NAME:"Victoria"},geometry:{type:"MultiPolygon",coordinates:[[[[145.131889,-38.390694],[145.025135,-38.475332],[145.032399,-38.486451],[144.911152,-38.489253],[144.887256,-38.498852],[144.741749,-38.353947],[144.651908,-38.304077],[144.850929,-38.368747],[144.923174,-38.349256],[144.988387,-38.316711],[145.08755,-38.164238],[145.118468,-38.145695],[145.119588,-38.073219],[145.099517,-38.026878],[145.037916,-37.996447],[145.017945,-37.981804],[144.985912,-37.893195],[144.970308,-37.860787],[144.929856,-37.847323],[144.925849,-37.839845],[144.907213,-37.849526],[144.897148,-37.842552],[144.915524,-37.865543],[144.904253,-37.872525],[144.868582,-37.858712],[144.81439,-37.875144],[144.79795,-37.905305],[144.79917,-37.92317],[144.735586,-37.943135],[144.651639,-38.001638],[144.515692,-38.045604],[144.506846,-38.091508],[144.444841,-38.0918],[144.397943,-38.073816],[144.381575,-38.097352],[144.361606,-38.105136],[144.355617,-38.137201],[144.365166,-38.144831],[144.416599,-38.155329],[144.425598,-38.123813],[144.442823,-38.149522],[144.478136,-38.164482],[144.631382,-38.107385],[144.692223,-38.119967],[144.71963,-38.173256],[144.706371,-38.21022],[144.703393,-38.201527],[144.686582,-38.197462],[144.632984,-38.269788],[144.672246,-38.265268],[144.620173,-38.275913],[144.613879,-38.292253],[144.428618,-38.281629],[144.332286,-38.323258],[144.104758,-38.469255],[144.036497,-38.475775],[143.842147,-38.679003],[143.837008,-38.692793],[143.756722,-38.706707],[143.681545,-38.737487],[143.666695,-38.768315],[143.666012,-38.779379],[143.616031,-38.795509],[143.554064,-38.855695],[143.510919,-38.85758],[143.403133,-38.780987],[143.356589,-38.75395],[143.259696,-38.772964],[143.232964,-38.766436],[143.080833,-38.651018],[142.90065,-38.610166],[142.857631,-38.605289],[142.684028,-38.495133],[142.563319,-38.422004],[142.471653,-38.40431],[142.372518,-38.349483],[142.28596,-38.366494],[142.261528,-38.364586],[142.244905,-38.396468],[142.1458,-38.391487],[141.88151,-38.265811],[141.742014,-38.253109],[141.679524,-38.267864],[141.601621,-38.313185],[141.625059,-38.361992],[141.650257,-38.393048],[141.627968,-38.393458],[141.626417,-38.406344],[141.614846,-38.39302],[141.573078,-38.389705],[141.555861,-38.42627],[141.542787,-38.432968],[141.46102,-38.362096],[141.434371,-38.360306],[141.413232,-38.396287],[141.374319,-38.386757],[141.392104,-38.319729],[141.35761,-38.274759],[141.29528,-38.220641],[141.227776,-38.170649],[141.028512,-38.071588],[140.965735,-38.055989],[140.963103,-35.748535],[140.963616,-33.980648],[141.00187,-34.039103],[141.023262,-34.059699],[141.034336,-34.035735],[141.08491,-34.062288],[141.089218,-34.076696],[141.087257,-34.057173],[141.094238,-34.050656],[141.174668,-34.073334],[141.18623,-34.091977],[141.228468,-34.073651],[141.241808,-34.061315],[141.247217,-34.073209],[141.242543,-34.087341],[141.325922,-34.126866],[141.324937,-34.138782],[141.348504,-34.112311],[141.358972,-34.110723],[141.482801,-34.163425],[141.494967,-34.154611],[141.506149,-34.210498],[141.510071,-34.216479],[141.589743,-34.186893],[141.603285,-34.191228],[141.602959,-34.162254],[141.584484,-34.151403],[141.60458,-34.149115],[141.618538,-34.156287],[141.632653,-34.121484],[141.67745,-34.101225],[141.925629,-34.134605],[141.93299,-34.138238],[141.978235,-34.112616],[142.02124,-34.125258],[142.012927,-34.105246],[142.036848,-34.099306],[142.023852,-34.115054],[142.027564,-34.122981],[142.075638,-34.131418],[142.077538,-34.157346],[142.08277,-34.173545],[142.135161,-34.160738],[142.146367,-34.148972],[142.19858,-34.183496],[142.219102,-34.181064],[142.235645,-34.204042],[142.24372,-34.20987],[142.232465,-34.296749],[142.235894,-34.306973],[142.368436,-34.326913],[142.396798,-34.338095],[142.363897,-34.38568],[142.350969,-34.396629],[142.367936,-34.435415],[142.353334,-34.469582],[142.379267,-34.466704],[142.384163,-34.478091],[142.364268,-34.484715],[142.359576,-34.498779],[142.377726,-34.491397],[142.394681,-34.493484],[142.374942,-34.515284],[142.400571,-34.522747],[142.367695,-34.530446],[142.444922,-34.57549],[142.451622,-34.584265],[142.448847,-34.559483],[142.467968,-34.564295],[142.463988,-34.626677],[142.45239,-34.63365],[142.471077,-34.640135],[142.483148,-34.635824],[142.471654,-34.651796],[142.472932,-34.670098],[142.498646,-34.681025],[142.51417,-34.690931],[142.507428,-34.748839],[142.524612,-34.759584],[142.632212,-34.784136],[142.64444,-34.775338],[142.620498,-34.757128],[142.618316,-34.728751],[142.678646,-34.722345],[142.698961,-34.725138],[142.691089,-34.701397],[142.678929,-34.680153],[142.68496,-34.670774],[142.710436,-34.676748],[142.703692,-34.613953],[142.700852,-34.598276],[142.743966,-34.60296],[142.761766,-34.598485],[142.745699,-34.586273],[142.748291,-34.576759],[142.782512,-34.564933],[142.791428,-34.546389],[142.810104,-34.560855],[142.787687,-34.590178],[142.852466,-34.619195],[142.868177,-34.627306],[142.872151,-34.664119],[142.875881,-34.674859],[142.901526,-34.654958],[142.923844,-34.647856],[142.959264,-34.664982],[142.972708,-34.695207],[142.975282,-34.670861],[142.989313,-34.662579],[143.017281,-34.67366],[143.010179,-34.693658],[143.054822,-34.698855],[143.070763,-34.67838],[143.092828,-34.701273],[143.112525,-34.680819],[143.111605,-34.687127],[143.107243,-34.701466],[143.1474,-34.714757],[143.161689,-34.697916],[143.213847,-34.738496],[143.224384,-34.758733],[143.265285,-34.748558],[143.274016,-34.752685],[143.25213,-34.772803],[143.273005,-34.776412],[143.276736,-34.79226],[143.318269,-34.790842],[143.347876,-34.791635],[143.322014,-34.942339],[143.317704,-34.952598],[143.335987,-35.037375],[143.322081,-35.036727],[143.386969,-35.183462],[143.394677,-35.192377],[143.547023,-35.206173],[143.570828,-35.206905],[143.583507,-35.265005],[143.59086,-35.281659],[143.569019,-35.302447],[143.562074,-35.337244],[143.616037,-35.368884],[143.620416,-35.387682],[143.682627,-35.374091],[143.684521,-35.368446],[143.709175,-35.392538],[143.751004,-35.387835],[143.765962,-35.415858],[143.762852,-35.423066],[143.933355,-35.50661],[143.970101,-35.500078],[143.999221,-35.545367],[143.989865,-35.554663],[144.062285,-35.576768],[144.105015,-35.59078],[144.152629,-35.642678],[144.162351,-35.671526],[144.318651,-35.766574],[144.349111,-35.767142],[144.418183,-35.89322],[144.407927,-35.904013],[144.50995,-35.973945],[144.521099,-35.970266],[144.512009,-35.988895],[144.51614,-35.995438],[144.605957,-36.036542],[144.615473,-36.031593],[144.608432,-36.063641],[144.61767,-36.077192],[144.624999,-36.052081],[144.632744,-36.048097],[144.667856,-36.068596],[144.689004,-36.061417],[144.683907,-36.095138],[144.715385,-36.086214],[144.725675,-36.089438],[144.717445,-36.112113],[144.726379,-36.117781],[144.794782,-36.117285],[144.80787,-36.123628],[144.861373,-36.071838],[144.86346,-36.059112],[144.94829,-36.082904],[144.981909,-36.072316],[144.945759,-36.004312],[144.923606,-35.988768],[144.991436,-35.858984],[144.992263,-35.852338],[145.091922,-35.835957],[145.114092,-35.820548],[145.324453,-35.850686],[145.3554,-35.867067],[145.46344,-35.826274],[145.472128,-35.80923],[145.52251,-35.818486],[145.535398,-35.801983],[145.679053,-35.916829],[145.673992,-35.925924],[145.80798,-35.983762],[145.811662,-35.991769],[145.854042,-35.959927],[145.902693,-35.952496],[145.928,-35.973947],[145.953701,-35.9615],[145.971314,-36.005651],[145.97207,-36.015747],[146.016143,-36.006962],[146.031488,-35.994714],[146.173104,-36.019293],[146.185976,-36.042071],[146.244593,-36.01834],[146.257183,-36.012053],[146.291396,-36.038952],[146.299009,-36.047859],[146.33889,-36.026395],[146.368684,-36.050862],[146.425169,-35.973027],[146.421673,-35.965831],[146.500674,-35.979244],[146.502585,-35.958235],[146.532293,-35.984299],[146.549581,-35.992457],[146.584147,-35.974987],[146.61252,-35.972858],[146.675365,-36.028599],[146.685812,-36.040576],[146.708878,-36.029435],[146.731645,-36.023725],[146.752929,-36.042113],[146.749851,-36.061277],[146.825542,-36.070847],[146.825026,-36.088724],[146.926804,-36.097178],[146.943705,-36.115989],[146.952498,-36.110788],[146.956824,-36.078061],[147.042344,-36.104305],[147.052963,-36.107881],[147.111931,-36.000922],[147.123357,-35.994498],[147.127391,-36.018047],[147.144361,-36.037765],[147.285177,-36.039439],[147.319949,-36.060987],[147.390342,-35.949266],[147.404631,-35.943495],[147.481553,-35.949223],[147.494112,-35.943549],[147.521359,-35.986936],[147.551873,-36.004095],[147.584027,-35.984648],[147.547654,-35.978625],[147.549115,-35.96455],[147.591893,-35.969859],[147.601438,-35.979118],[147.68001,-35.944439],[147.708415,-35.928545],[147.895698,-35.993018],[147.912342,-35.995198],[147.923752,-36.035709],[147.923974,-36.042491],[147.99126,-36.052559],[147.999692,-36.046204],[147.982389,-36.077891],[147.980247,-36.086482],[148.002388,-36.140057],[148.037726,-36.140797],[148.045966,-36.367038],[148.037583,-36.390225],[148.087601,-36.451895],[148.124663,-36.464713],[148.124337,-36.550642],[148.13341,-36.566921],[148.20599,-36.586932],[148.217563,-36.598239],[148.219547,-36.619558],[148.211171,-36.650519],[148.126081,-36.759417],[148.097983,-36.787161],[148.194946,-36.796253],[149.976679,-37.50506],[149.819715,-37.544829],[149.775248,-37.557838],[149.682392,-37.664158],[149.677329,-37.685082],[149.495556,-37.768225],[149.484958,-37.775441],[149.292448,-37.78746],[149.275498,-37.803777],[149.246711,-37.780474],[149.124226,-37.777287],[148.749187,-37.797037],[148.727786,-37.815437],[148.448176,-37.80172],[148.289615,-37.810988],[147.951982,-37.894066],[147.788216,-37.955322],[147.642131,-38.036875],[147.476303,-38.15175],[147.067248,-38.475119],[146.883139,-38.634634],[146.887146,-38.620153],[146.925517,-38.594225],[146.882549,-38.604607],[146.844005,-38.604835],[146.87821,-38.626484],[146.815353,-38.648874],[146.670659,-38.66291],[146.65312,-38.642985],[146.59367,-38.684768],[146.582693,-38.698475],[146.576824,-38.692143],[146.572005,-38.6777],[146.514712,-38.694242],[146.494669,-38.679739],[146.410331,-38.711911],[146.411203,-38.721218],[146.380986,-38.685645],[146.350706,-38.67292],[146.231156,-38.695179],[146.212059,-38.692854],[146.204663,-38.735404],[146.210699,-38.737946],[146.192597,-38.728737],[146.18556,-38.74337],[146.233048,-38.809044],[146.272814,-38.806048],[146.287195,-38.894454],[146.292616,-38.904551],[146.393215,-38.850494],[146.414861,-38.852078],[146.435645,-38.795912],[146.43796,-38.778922],[146.467056,-38.780916],[146.478636,-38.79178],[146.48741,-38.894269],[146.489295,-38.910464],[146.445691,-39.003708],[146.431755,-39.010977],[146.437194,-39.021014],[146.475392,-39.025666],[146.47446,-39.05494],[146.48335,-39.061028],[146.455289,-39.054116],[146.43112,-39.065527],[146.424079,-39.114799],[146.42651,-39.129986],[146.374563,-39.136721],[146.345818,-39.125384],[146.342561,-39.1106],[146.321444,-39.087887],[146.342982,-39.060987],[146.352339,-39.058857],[146.274329,-38.996389],[146.248966,-38.99602],[146.267295,-38.991191],[146.269497,-38.97296],[146.189408,-38.873545],[146.133534,-38.837409],[146.083966,-38.815933],[146.033608,-38.813189],[145.997901,-38.846406],[146.006286,-38.87792],[145.940007,-38.896113],[145.921197,-38.90961],[145.818249,-38.712973],[145.765547,-38.666752],[145.729472,-38.64484],[145.714004,-38.645141],[145.638566,-38.672436],[145.606696,-38.678782],[145.537514,-38.61109],[145.483686,-38.556001],[145.423688,-38.536479],[145.372012,-38.536297],[145.41917,-38.51319],[145.43448,-38.493623],[145.433813,-38.434868],[145.416381,-38.406995],[145.515409,-38.415475],[145.548933,-38.371688],[145.497964,-38.274077],[145.488988,-38.233414],[145.410917,-38.228048],[145.347072,-38.21357],[145.324841,-38.242155],[145.298309,-38.248493],[145.271575,-38.222965],[145.254773,-38.223062],[145.225654,-38.272428],[145.22302,-38.306462],[145.199986,-38.293078],[145.192934,-38.296557],[145.213463,-38.365909],[145.221952,-38.377797],[145.196407,-38.366586],[145.183986,-38.374587],[145.215199,-38.383113],[145.234486,-38.409689],[145.131889,-38.390694]],[[146.84068,-38.615832],[146.794402,-38.626652],[146.79191,-38.632399],[146.84068,-38.615832]]],[[[149.918469,-37.568333],[149.918469,-37.568333]]],[[[146.879039,-38.638149],[146.828437,-38.679496],[146.879039,-38.638149]]],[[[146.826421,-38.683449],[146.787947,-38.68068],[146.752869,-38.689586],[146.826421,-38.683449]]],[[[146.815451,-38.659376],[146.786029,-38.669118],[146.815451,-38.659376]]],[[[146.739461,-38.672911],[146.71549,-38.683892],[146.709894,-38.676575],[146.739461,-38.672911]]],[[[146.715739,-38.687077],[146.715739,-38.687077]]],[[[146.685401,-38.677859],[146.685401,-38.677859]]],[[[146.677547,-38.708481],[146.602819,-38.726884],[146.585294,-38.715426],[146.677547,-38.708481]]],[[[146.669254,-38.718406],[146.652636,-38.727206],[146.62974,-38.724665],[146.669254,-38.718406]]],[[[146.620487,-38.75788],[146.597634,-38.759484],[146.54534,-38.790889],[146.494759,-38.774837],[146.464605,-38.739122],[146.495,-38.729122],[146.509663,-38.718527],[146.508177,-38.73723],[146.541851,-38.728365],[146.523886,-38.752655],[146.500179,-38.762913],[146.54172,-38.756131],[146.576886,-38.735022],[146.620487,-38.75788]]],[[[146.623101,-38.757696],[146.667725,-38.747737],[146.623101,-38.757696]]],[[[146.634077,-38.697163],[146.634077,-38.697163]]],[[[146.501883,-38.716446],[146.468395,-38.717321],[146.438615,-38.727515],[146.501883,-38.716446]]],[[[146.329832,-39.141577],[146.329832,-39.141577]]],[[[146.246238,-39.024357],[146.246238,-39.024357]]],[[[146.241476,-39.089053],[146.241476,-39.089053]]],[[[145.503419,-38.354364],[145.363825,-38.405562],[145.352532,-38.419991],[145.272813,-38.409592],[145.265575,-38.402882],[145.289378,-38.284665],[145.297026,-38.282054],[145.351993,-38.311261],[145.45237,-38.306856],[145.503419,-38.354364]]],[[[145.364351,-38.553403],[145.316751,-38.524459],[145.271133,-38.504866],[145.240044,-38.506828],[145.221203,-38.529953],[145.17066,-38.509575],[145.116156,-38.518351],[145.200057,-38.451025],[145.290603,-38.450182],[145.305573,-38.485438],[145.297319,-38.506446],[145.35916,-38.509312],[145.347089,-38.520963],[145.340937,-38.535771],[145.364351,-38.553403]]],[[[145.346151,-38.508609],[145.346151,-38.508609]]],[[[144.702137,-38.243412],[144.672019,-38.264367],[144.663095,-38.252993],[144.702137,-38.243412]]],[[[142.014239,-38.412576],[141.999012,-38.425446],[141.993481,-38.417372],[142.014239,-38.412576]]]]}},{type:"Feature",id:2,properties:{STATE_CODE:"3",STATE_NAME:"Queensland"},geometry:{type:"MultiPolygon",coordinates:[[[[141.663509,-15.003962],[141.590263,-14.857313],[141.553601,-14.592565],[141.52561,-14.487086],[141.552048,-14.375277],[141.601637,-14.242417],[141.593972,-14.155358],[141.599046,-14.101668],[141.468182,-13.923139],[141.467192,-13.864249],[141.523282,-13.572129],[141.682104,-13.302759],[141.69539,-13.270078],[141.588712,-13.017231],[141.583162,-12.996721],[141.599741,-12.952071],[141.63598,-12.90875],[141.710019,-12.87898],[141.739899,-12.85347],[141.795327,-12.72914],[141.803777,-12.67953],[141.854522,-12.68623],[141.863112,-12.69341],[141.877741,-12.67131],[141.839532,-12.66828],[141.827326,-12.64855],[141.886082,-12.61729],[141.893743,-12.593527],[141.879236,-12.5839],[141.819877,-12.60146],[141.760047,-12.539141],[141.709417,-12.518951],[141.695757,-12.533801],[141.694807,-12.556981],[141.600688,-12.571791],[141.591918,-12.558962],[141.81038,-12.048632],[141.85044,-11.984452],[141.87998,-11.954412],[141.90902,-11.955462],[141.89585,-11.964312],[141.8865,-11.985032],[141.944354,-12.148747],[141.915249,-12.165088],[141.929601,-12.167335],[141.947961,-12.151173],[141.928906,-12.104043],[141.932345,-12.070881],[141.957978,-12.042323],[141.994195,-12.059651],[142.012235,-12.039111],[141.942845,-11.976481],[141.942175,-11.945512],[142.097332,-11.445034],[142.119961,-11.368544],[142.126801,-11.268365],[142.116221,-11.224665],[142.1475,-11.138305],[142.157281,-11.121775],[142.125936,-10.981375],[142.132786,-10.948445],[142.313237,-10.901143],[142.315016,-10.915153],[142.365382,-10.846412],[142.390446,-10.826413],[142.422807,-10.727902],[142.438257,-10.708162],[142.498206,-10.716813],[142.530935,-10.687543],[142.583224,-10.733843],[142.609273,-10.749023],[142.549255,-10.831822],[142.517215,-10.843762],[142.500065,-10.954432],[142.482115,-10.978373],[142.542645,-10.902232],[142.557545,-10.874102],[142.592885,-10.875162],[142.589235,-10.868152],[142.609294,-10.933852],[142.614774,-10.941882],[142.698134,-10.977901],[142.716333,-10.961072],[142.756439,-11.042091],[142.786058,-11.074181],[142.783159,-11.22267],[142.793549,-11.27855],[142.840358,-11.319459],[142.868658,-11.381579],[142.832959,-11.433529],[142.826833,-11.476509],[142.852167,-11.586389],[142.859487,-11.635889],[142.847488,-11.823918],[142.856358,-11.845518],[142.945898,-11.900438],[142.974597,-11.932917],[143.093195,-11.904088],[143.098295,-11.892178],[143.161964,-11.954358],[143.167454,-11.973298],[143.224633,-11.954128],[143.244062,-11.968728],[143.216553,-11.974818],[143.185584,-11.990818],[143.092949,-12.157625],[143.078709,-12.159225],[143.081253,-12.288905],[143.078573,-12.337485],[143.128013,-12.347365],[143.180291,-12.343105],[143.2498,-12.390095],[143.266129,-12.394355],[143.273859,-12.407105],[143.27246,-12.507515],[143.418829,-12.615954],[143.438448,-12.611814],[143.357726,-12.798353],[143.351337,-12.899033],[143.533628,-12.838973],[143.544117,-12.842773],[143.512348,-12.903583],[143.498648,-12.949623],[143.515448,-13.007853],[143.503408,-13.109882],[143.515869,-13.259291],[143.533418,-13.341301],[143.580587,-13.371951],[143.598187,-13.42231],[143.54303,-13.719418],[143.53174,-13.754558],[143.622395,-13.967536],[143.681059,-14.014576],[143.745771,-14.333114],[143.781071,-14.399224],[143.81912,-14.441843],[143.88442,-14.482093],[143.960259,-14.484892],[144.029259,-14.481322],[144.196716,-14.339412],[144.196065,-14.260973],[144.315604,-14.308632],[144.343043,-14.307922],[144.396752,-14.273062],[144.436141,-14.258592],[144.49145,-14.166023],[144.51621,-14.166643],[144.576479,-14.247362],[144.596249,-14.260612],[144.581119,-14.306081],[144.58704,-14.360741],[144.644159,-14.348301],[144.651099,-14.358361],[144.621871,-14.44582],[144.618812,-14.47539],[144.693331,-14.553299],[144.692962,-14.567079],[144.715111,-14.561019],[144.77426,-14.545499],[144.782671,-14.593619],[144.838781,-14.614338],[144.910229,-14.614048],[144.950221,-14.677187],[144.956112,-14.744837],[145.021562,-14.782686],[145.024112,-14.795106],[145.188641,-14.837424],[145.229631,-14.831414],[145.220029,-14.882814],[145.264669,-14.926825],[145.282239,-14.955165],[145.340665,-14.945055],[145.351825,-14.951025],[145.289367,-15.042444],[145.23379,-15.139043],[145.263337,-15.251053],[145.271207,-15.258093],[145.339456,-15.226402],[145.356166,-15.276531],[145.329736,-15.278191],[145.285636,-15.316242],[145.240617,-15.460111],[145.228487,-15.461961],[145.251703,-15.457451],[145.2616,-15.459583],[145.272518,-15.51791],[145.272019,-15.541291],[145.304239,-15.551411],[145.322768,-15.570271],[145.31913,-15.632262],[145.31275,-15.646802],[145.361279,-15.719592],[145.368609,-15.762102],[145.35641,-15.890132],[145.35734,-15.910472],[145.382119,-15.924162],[145.413839,-15.951002],[145.464827,-16.066401],[145.476887,-16.076101],[145.451968,-16.141161],[145.439888,-16.141941],[145.478937,-16.267991],[145.488897,-16.276681],[145.447568,-16.289641],[145.418168,-16.338301],[145.404883,-16.433469],[145.410108,-16.45929],[145.442218,-16.47237],[145.468583,-16.479899],[145.564978,-16.643166],[145.581937,-16.687196],[145.651225,-16.729489],[145.670996,-16.737356],[145.782282,-16.916654],[145.779215,-16.940451],[145.810054,-16.909296],[145.848883,-16.871187],[145.86975,-16.906641],[145.919205,-16.864294],[145.95765,-16.896578],[145.900704,-16.981681],[145.889406,-17.057605],[145.929016,-17.117334],[145.949206,-17.130704],[145.961341,-17.190143],[145.971611,-17.242033],[146.050956,-17.384523],[146.073196,-17.394723],[146.077936,-17.478233],[146.076972,-17.504552],[146.032707,-17.512255],[146.027815,-17.550271],[146.060287,-17.511283],[146.068176,-17.510403],[146.140586,-17.639712],[146.149046,-17.648552],[146.113397,-17.692952],[146.111788,-17.771592],[146.090909,-17.799982],[146.106509,-17.852022],[146.119588,-17.855802],[146.091528,-17.95512],[146.101389,-17.976861],[146.008032,-18.120531],[146.016188,-18.245019],[146.133202,-18.368729],[146.141122,-18.364079],[146.188522,-18.460048],[146.189373,-18.473828],[146.313471,-18.521937],[146.337881,-18.526627],[146.338922,-18.606837],[146.319377,-18.646066],[146.339212,-18.623337],[146.338512,-18.630337],[146.273046,-18.860081],[146.289834,-18.891896],[146.396268,-18.998504],[146.454158,-19.073694],[146.619064,-19.166734],[146.678484,-19.190592],[146.736162,-19.180332],[146.767909,-19.184747],[146.842853,-19.274131],[146.882572,-19.303572],[146.942462,-19.295367],[146.95803,-19.308763],[147.021775,-19.215849],[147.016266,-19.182294],[147.046654,-19.274518],[147.039126,-19.296994],[147.110219,-19.3971],[147.1261,-19.422471],[147.410445,-19.42596],[147.441009,-19.421161],[147.455161,-19.395188],[147.417069,-19.333208],[147.421087,-19.322341],[147.600985,-19.646408],[147.615437,-19.6731],[147.586804,-19.725095],[147.601361,-19.757456],[147.663298,-19.809681],[147.671351,-19.828357],[147.703843,-19.836084],[147.738402,-19.847056],[147.766767,-19.81572],[147.780695,-19.817997],[147.767896,-19.783452],[147.744959,-19.769102],[147.752342,-19.706598],[147.82355,-19.709652],[147.864839,-19.850986],[147.917833,-19.908314],[147.99218,-19.927621],[148.026229,-19.894015],[148.080109,-19.881865],[148.097219,-19.924945],[148.111949,-19.941575],[148.255476,-19.986003],[148.260137,-19.976814],[148.266897,-19.985984],[148.267497,-20.023654],[148.228018,-20.035494],[148.230578,-20.045324],[148.338647,-20.139583],[148.352527,-20.162703],[148.441666,-20.149432],[148.465955,-20.138392],[148.441465,-20.074542],[148.452014,-20.059357],[148.495044,-20.088462],[148.513314,-20.093272],[148.540884,-20.076322],[148.562873,-20.066731],[148.582774,-20.181651],[148.582644,-20.197641],[148.599234,-20.201281],[148.619933,-20.176701],[148.614644,-20.220381],[148.630043,-20.219521],[148.628603,-20.190981],[148.639393,-20.170921],[148.652973,-20.21614],[148.677932,-20.17869],[148.667703,-20.23335],[148.662783,-20.24748],[148.685113,-20.2414],[148.673151,-20.282328],[148.708756,-20.262698],[148.738593,-20.281753],[148.752342,-20.23568],[148.769282,-20.23596],[148.777648,-20.274114],[148.801845,-20.277982],[148.766376,-20.286925],[148.769116,-20.299708],[148.825698,-20.337722],[148.840711,-20.351944],[148.831062,-20.384403],[148.816384,-20.384908],[148.839583,-20.391641],[148.838684,-20.430952],[148.88024,-20.472264],[148.902785,-20.467044],[148.890949,-20.477035],[148.884123,-20.488102],[148.919725,-20.51364],[148.930143,-20.533787],[148.884806,-20.523211],[148.85686,-20.527893],[148.800674,-20.423677],[148.790881,-20.415232],[148.785911,-20.430393],[148.75613,-20.41892],[148.782173,-20.464256],[148.763609,-20.479701],[148.692808,-20.441293],[148.684255,-20.436008],[148.715093,-20.49484],[148.662046,-20.585768],[148.71806,-20.642498],[148.727163,-20.633001],[148.730859,-20.644586],[148.706317,-20.670681],[148.732576,-20.688476],[148.730798,-20.716657],[148.82966,-20.776589],[148.84079,-20.791109],[148.80082,-20.806699],[148.787301,-20.816599],[148.82386,-20.821449],[148.83889,-20.824539],[148.847055,-20.855967],[148.843075,-20.875967],[148.874915,-20.862527],[148.884825,-20.848777],[148.89018,-20.877908],[148.915065,-20.891977],[149.029033,-20.897706],[149.046113,-20.903015],[149.046153,-20.919995],[149.058963,-20.928685],[149.028223,-20.923366],[149.011654,-20.935396],[149.019894,-20.975846],[149.014244,-20.991906],[149.067978,-20.984136],[149.085758,-20.989966],[149.064883,-20.974855],[149.088933,-20.975915],[149.128642,-21.006634],[149.122743,-21.033304],[149.132972,-20.996144],[149.158072,-21.000314],[149.205562,-21.076763],[149.227032,-21.062793],[149.223573,-21.118223],[149.222753,-21.147693],[149.209083,-21.131273],[149.216853,-21.122653],[149.163474,-21.132023],[149.152814,-21.143013],[149.172634,-21.134123],[149.215163,-21.145353],[149.185574,-21.198633],[149.173918,-21.198783],[149.214069,-21.241534],[149.181725,-21.274403],[149.179245,-21.284683],[149.224904,-21.263713],[149.255873,-21.244713],[149.273993,-21.277593],[149.298663,-21.273292],[149.318603,-21.369572],[149.317293,-21.392722],[149.283194,-21.394693],[149.276359,-21.400724],[149.331263,-21.410262],[149.338223,-21.426922],[149.312554,-21.426832],[149.297954,-21.426223],[149.289045,-21.491282],[149.290455,-21.506842],[149.334729,-21.486543],[149.339589,-21.474553],[149.350059,-21.509373],[149.395788,-21.493103],[149.373619,-21.535083],[149.449683,-21.578201],[149.443393,-21.593361],[149.468202,-21.534871],[149.484592,-21.531711],[149.453473,-21.602891],[149.438644,-21.639991],[149.458184,-21.708031],[149.449284,-21.713171],[149.470634,-21.708411],[149.479704,-21.74289],[149.425215,-21.743441],[149.42165,-21.771692],[149.430795,-21.745901],[149.455936,-21.8301],[149.471685,-21.83852],[149.459826,-21.90404],[149.465416,-21.92568],[149.603203,-22.271639],[149.597293,-22.281469],[149.656283,-22.336049],[149.658283,-22.354889],[149.731057,-22.347777],[149.766696,-22.371347],[149.743592,-22.421438],[149.752103,-22.436384],[149.784309,-22.380323],[149.811071,-22.382068],[150.018199,-22.639636],[150.046749,-22.661066],[149.976789,-22.473387],[149.912858,-22.342687],[149.961867,-22.343817],[149.932098,-22.333577],[149.971857,-22.329777],[149.914938,-22.321237],[149.915778,-22.295177],[149.917967,-22.274397],[149.931137,-22.264297],[149.955936,-22.185317],[150.030279,-22.136456],[150.042988,-22.126106],[150.065568,-22.152926],[150.080833,-22.151857],[150.092564,-22.217556],[150.151598,-22.259825],[150.178843,-22.340896],[150.177423,-22.360496],[150.293686,-22.403134],[150.300536,-22.397664],[150.439275,-22.512443],[150.44867,-22.534734],[150.483905,-22.534313],[150.497645,-22.560233],[150.4862,-22.521384],[150.491779,-22.521424],[150.502094,-22.537953],[150.544769,-22.561384],[150.53787,-22.572384],[150.5148,-22.557444],[150.538025,-22.598413],[150.548565,-22.617093],[150.537365,-22.590183],[150.547444,-22.576043],[150.559934,-22.603412],[150.551534,-22.566492],[150.588413,-22.559092],[150.597558,-22.559433],[150.556283,-22.477022],[150.533073,-22.450022],[150.534573,-22.445182],[150.590022,-22.464062],[150.575547,-22.451013],[150.539083,-22.442962],[150.539347,-22.351894],[150.561946,-22.316763],[150.62591,-22.327672],[150.64579,-22.345502],[150.640065,-22.363963],[150.617505,-22.347693],[150.6425,-22.379642],[150.618636,-22.389643],[150.610936,-22.388893],[150.630696,-22.399413],[150.64387,-22.391262],[150.646286,-22.423983],[150.627336,-22.441673],[150.650306,-22.439003],[150.666336,-22.454103],[150.650465,-22.368993],[150.667129,-22.346542],[150.716555,-22.443822],[150.753324,-22.446292],[150.730955,-22.485062],[150.723931,-22.518601],[150.685971,-22.492441],[150.678336,-22.473233],[150.674301,-22.494732],[150.644267,-22.474283],[150.688867,-22.544663],[150.679552,-22.573452],[150.717236,-22.553633],[150.724826,-22.563153],[150.718972,-22.600202],[150.732174,-22.623428],[150.694127,-22.606373],[150.707253,-22.636196],[150.748397,-22.635896],[150.758852,-22.626706],[150.748735,-22.633605],[150.738273,-22.624083],[150.762627,-22.552274],[150.774148,-22.552404],[150.754424,-22.523769],[150.783941,-22.529159],[150.779138,-22.577601],[150.777735,-22.638967],[150.812327,-22.679697],[150.835158,-22.684207],[150.771499,-23.055917],[150.749647,-23.128814],[150.82139,-23.235928],[150.828377,-23.236169],[150.789579,-23.309769],[150.767831,-23.303035],[150.810145,-23.406846],[150.871371,-23.480594],[150.79615,-23.501093],[150.789945,-23.510082],[150.878143,-23.552292],[150.876483,-23.565282],[150.834244,-23.553782],[150.866233,-23.575472],[150.857223,-23.620772],[150.874813,-23.576802],[150.934553,-23.543952],[150.959092,-23.553452],[150.959182,-23.598612],[150.92531,-23.622773],[150.968042,-23.605122],[150.975392,-23.555412],[151.026551,-23.572012],[151.046681,-23.629691],[151.040249,-23.636971],[151.109457,-23.661357],[151.121765,-23.671403],[151.144189,-23.770023],[151.17292,-23.815879],[151.29762,-23.860351],[151.318017,-23.85459],[151.302712,-23.873515],[151.304569,-23.900085],[151.324134,-23.875064],[151.366421,-23.93744],[151.426636,-23.987175],[151.435346,-24.058123],[151.437907,-24.076862],[151.440366,-24.035194],[151.443492,-24.026038],[151.484324,-24.07471],[151.493784,-24.067012],[151.441582,-24.015814],[151.440501,-23.992033],[151.467554,-23.994732],[151.543937,-24.029292],[151.526828,-24.035102],[151.501059,-24.045001],[151.547727,-24.089352],[151.545417,-24.113282],[151.560467,-24.073602],[151.580087,-24.087102],[151.564917,-24.036932],[151.573657,-24.035722],[151.67826,-24.1103],[151.682465,-24.104111],[151.684115,-24.088881],[151.664655,-24.060492],[151.685655,-24.067321],[151.677475,-24.049582],[151.604366,-24.008841],[151.610556,-23.979251],[151.697639,-24.01158],[151.730299,-24.022499],[151.704559,-24.03982],[151.720819,-24.06898],[151.715844,-24.087261],[151.744894,-24.032021],[151.738409,-24.003259],[151.753378,-24.018399],[151.764638,-24.015229],[151.786728,-24.117659],[151.771478,-24.129529],[151.875817,-24.171549],[151.849138,-24.218469],[151.882817,-24.175509],[151.886317,-24.149438],[152.057576,-24.511996],[152.044022,-24.52505],[152.092274,-24.566083],[152.148304,-24.626559],[152.346558,-24.732477],[152.37888,-24.732047],[152.377633,-24.768278],[152.38135,-24.796634],[152.384354,-24.763064],[152.421184,-24.775327],[152.468174,-24.816086],[152.486776,-24.93045],[152.486069,-24.970557],[152.536084,-25.0811],[152.533678,-25.089609],[152.546227,-25.073848],[152.577064,-25.119009],[152.633032,-25.151782],[152.540259,-25.190003],[152.54703,-25.205],[152.557037,-25.182103],[152.614968,-25.183275],[152.663543,-25.244018],[152.722444,-25.26961],[152.804595,-25.247609],[152.81388,-25.243491],[152.827847,-25.247807],[152.834364,-25.276345],[152.899632,-25.280881],[152.914399,-25.293372],[152.909563,-25.378182],[152.924357,-25.430789],[152.909435,-25.418816],[152.896511,-25.418902],[152.850713,-25.484874],[152.823736,-25.494003],[152.934231,-25.431864],[152.956344,-25.433649],[152.875293,-25.556387],[152.861913,-25.553437],[152.896449,-25.658074],[152.911482,-25.674799],[152.883661,-25.673677],[152.878424,-25.683629],[152.95667,-25.757463],[152.97329,-25.7623],[152.976007,-25.771169],[152.971981,-25.79412],[152.939799,-25.795193],[152.936701,-25.815048],[152.987162,-25.803433],[153.020496,-25.829565],[153.016583,-25.865548],[152.993584,-25.881116],[153.022094,-25.866297],[153.031811,-25.877608],[153.009335,-25.903938],[153.001382,-25.907307],[152.997193,-25.934884],[153.031298,-25.934041],[152.998456,-25.953359],[153.011199,-25.990006],[153.016521,-25.99732],[153.071615,-25.822673],[153.046437,-25.808007],[153.072249,-25.811775],[153.085906,-25.888748],[153.119893,-25.933571],[153.182262,-25.928339],[153.192335,-25.932922],[153.076557,-26.224779],[153.061367,-26.313167],[153.063427,-26.346903],[153.077224,-26.379318],[153.107715,-26.376908],[153.119947,-26.379249],[153.091911,-26.51765],[153.136998,-26.773419],[153.151353,-26.802186],[153.069828,-26.908013],[153.061082,-26.892914],[153.045258,-26.985946],[153.024597,-26.988098],[153.060155,-26.988809],[153.110051,-27.06225],[153.0989,-27.063962],[153.126057,-27.062782],[153.144158,-27.075363],[153.066494,-27.110509],[153.043352,-27.149381],[153.037897,-27.127727],[153.022017,-27.124097],[153.029627,-27.18267],[153.037481,-27.196644],[153.106349,-27.19087],[153.116631,-27.19826],[153.117923,-27.233565],[153.107842,-27.261695],[153.092921,-27.255942],[153.077528,-27.262641],[153.075715,-27.227985],[153.053859,-27.230291],[153.063699,-27.283303],[153.069598,-27.313956],[153.155628,-27.362939],[153.160525,-27.377412],[153.141523,-27.415904],[153.109678,-27.438948],[153.049781,-27.440183],[153.053307,-27.460432],[153.110598,-27.443217],[153.142465,-27.421564],[153.1773,-27.362169],[153.191259,-27.367309],[153.183347,-27.393561],[153.165137,-27.397288],[153.194716,-27.456362],[153.188581,-27.475775],[153.231516,-27.481781],[153.241007,-27.46503],[153.305318,-27.57489],[153.317869,-27.581545],[153.297344,-27.594969],[153.315871,-27.679951],[153.323032,-27.700306],[153.293164,-27.69175],[153.298842,-27.710656],[153.356505,-27.711694],[153.383078,-27.708796],[153.366053,-27.670557],[153.367568,-27.648676],[153.402865,-27.634174],[153.415913,-27.641576],[153.388259,-27.657371],[153.397494,-27.696919],[153.385484,-27.708533],[153.412276,-27.740923],[153.439283,-27.73576],[153.426636,-27.778544],[153.384271,-27.784379],[153.411637,-27.790509],[153.394902,-27.818661],[153.370365,-27.800907],[153.366521,-27.800769],[153.421281,-27.940901],[153.434598,-27.934002],[153.431462,-28.002705],[153.450361,-28.083606],[153.514318,-28.161019],[153.55214,-28.164275],[153.534643,-28.17763],[153.476931,-28.15702],[153.389527,-28.234935],[153.356812,-28.249619],[153.330213,-28.237064],[153.278912,-28.233636],[153.231833,-28.26511],[153.178049,-28.247458],[153.12989,-28.330665],[153.108829,-28.357543],[152.933856,-28.338311],[152.880013,-28.309607],[152.775455,-28.346625],[152.751062,-28.363914],[152.624513,-28.298204],[152.614517,-28.269555],[152.6017,-28.307381],[152.579242,-28.338976],[152.548142,-28.321019],[152.525981,-28.30625],[152.534221,-28.262631],[152.508643,-28.249249],[152.463586,-28.259373],[152.444831,-28.298822],[152.414572,-28.298101],[152.417259,-28.333089],[152.38616,-28.368554],[152.341582,-28.36786],[152.309659,-28.363168],[152.267606,-28.390047],[152.217189,-28.449236],[152.184519,-28.438872],[152.160504,-28.433123],[152.045672,-28.494966],[152.016864,-28.525281],[151.982893,-28.503395],[151.955645,-28.518904],[151.990804,-28.6244],[152.010168,-28.664951],[152.066079,-28.697454],[152.076049,-28.708175],[152.047714,-28.740329],[152.036326,-28.756992],[152.017057,-28.838514],[152.015064,-28.850626],[152.038126,-28.864696],[152.009703,-28.907663],[151.900358,-28.914966],[151.849363,-28.90785],[151.839557,-28.942665],[151.832232,-28.959829],[151.806394,-28.944636],[151.777834,-28.959885],[151.73386,-28.871578],[151.706536,-28.871784],[151.566806,-28.941731],[151.545566,-28.952998],[151.49149,-29.056244],[151.502292,-29.070805],[151.410638,-29.152566],[151.393784,-29.177893],[151.33931,-29.177266],[151.314762,-29.165531],[151.315471,-29.134499],[151.279649,-29.100769],[151.28234,-28.95408],[151.274808,-28.938926],[151.1044,-28.844291],[151.102759,-28.836369],[151.054835,-28.849373],[151.045321,-28.844482],[151.028277,-28.761415],[151.01065,-28.740805],[150.795757,-28.655236],[150.752343,-28.633464],[150.6734,-28.65018],[150.632541,-28.676572],[150.561392,-28.661817],[150.554094,-28.653064],[150.460085,-28.668912],[150.445551,-28.665141],[150.320591,-28.557182],[150.289648,-28.537157],[150.213149,-28.567549],[150.212287,-28.574181],[150.15409,-28.557155],[150.15228,-28.55021],[150.016091,-28.580656],[149.976953,-28.613464],[149.709917,-28.620299],[149.703104,-28.633712],[149.610654,-28.60088],[149.587938,-28.572815],[149.513949,-28.581674],[149.502977,-28.574351],[149.393867,-28.677292],[149.387389,-28.695803],[149.317964,-28.714058],[149.297081,-28.709947],[149.097078,-28.83168],[149.080762,-28.841801],[149.04832,-28.916989],[149.032686,-28.955958],[148.958308,-28.999064],[140.999278,-28.999103],[140.999394,-25.996376],[137.999054,-25.996867],[138.00118,-16.544509],[138.116737,-16.648019],[138.175687,-16.686169],[138.272896,-16.719388],[138.323615,-16.750458],[138.539991,-16.781957],[138.628959,-16.767936],[138.880648,-16.877314],[138.883798,-16.884774],[138.979207,-16.887294],[139.038676,-16.912443],[139.086716,-16.998513],[139.157926,-17.029233],[139.140556,-17.078693],[139.155047,-17.163892],[139.201159,-17.270472],[139.23767,-17.319781],[139.3058,-17.364841],[139.45049,-17.39383],[139.436441,-17.42251],[139.4525,-17.39551],[139.4769,-17.400899],[139.603281,-17.505418],[139.64669,-17.538138],[139.808928,-17.578087],[139.821768,-17.570617],[139.847208,-17.596047],[139.937737,-17.630976],[139.948817,-17.673796],[140.004377,-17.714575],[140.216683,-17.709174],[140.384571,-17.677883],[140.565939,-17.601542],[140.593629,-17.597832],[140.828816,-17.455171],[140.887415,-17.382311],[140.953912,-17.098541],[140.962232,-17.092841],[140.946891,-17.040591],[140.958021,-16.998141],[141.064849,-16.870241],[141.082288,-16.803161],[141.128817,-16.779761],[141.204446,-16.69199],[141.221186,-16.6561],[141.233035,-16.58798],[141.270655,-16.55775],[141.296484,-16.49621],[141.287214,-16.425691],[141.286073,-16.408171],[141.41237,-16.122771],[141.43277,-16.074761],[141.392669,-15.951202],[141.373379,-15.916912],[141.409308,-15.871292],[141.434677,-15.657593],[141.580264,-15.198752],[141.632334,-15.161722],[141.663509,-15.003962]],[[141.663264,-15.002642],[141.663264,-15.002642]],[[153.418782,-27.983775],[153.418782,-27.983775]],[[153.384533,-27.873611],[153.384533,-27.873611]],[[153.380463,-27.882054],[153.352334,-27.902052],[153.342355,-27.894883],[153.343328,-27.910546],[153.348841,-27.91929],[153.380463,-27.882054]],[[153.380611,-27.858976],[153.36759,-27.848937],[153.360362,-27.84854],[153.380611,-27.858976]],[[153.189041,-27.489295],[153.189041,-27.489295]],[[153.053206,-27.470205],[153.053206,-27.470205]],[[153.034401,-27.468537],[153.003576,-27.474761],[152.994671,-27.48996],[153.0151,-27.492494],[153.020615,-27.500563],[152.997869,-27.514944],[153.008303,-27.520945],[153.015508,-27.490914],[152.996449,-27.488859],[153.034401,-27.468537]],[[153.008332,-27.520989],[152.996948,-27.521667],[152.970607,-27.504557],[152.965751,-27.51441],[152.973545,-27.542577],[152.938563,-27.525358],[152.926836,-27.529063],[152.89318,-27.577266],[152.905339,-27.600726],[152.862014,-27.596959],[152.855671,-27.595594],[152.895854,-27.601917],[152.906082,-27.601893],[152.907246,-27.555607],[152.904281,-27.544945],[152.940604,-27.528123],[152.974146,-27.544639],[152.967828,-27.515666],[152.972495,-27.505962],[153.008332,-27.520989]],[[152.937083,-25.76062],[152.937083,-25.76062]],[[152.525074,-25.071108],[152.525074,-25.071108]],[[150.574294,-22.482161],[150.607817,-22.500843],[150.574294,-22.482161]],[[142.594143,-10.889247],[142.594143,-10.889247]],[[149.451231,-21.729296],[149.451231,-21.729296]],[[151.636498,-24.000305],[151.636498,-24.000305]]],[[[143.587838,-13.53238],[143.587838,-13.53238]]],[[[147.420305,-19.321215],[147.384578,-19.302496],[147.420305,-19.321215]]],[[[153.546708,-27.434827],[153.458708,-27.67062],[153.453997,-27.728758],[153.412751,-27.738998],[153.392899,-27.707127],[153.398836,-27.662602],[153.421663,-27.642054],[153.412537,-27.511639],[153.398385,-27.496423],[153.432456,-27.411206],[153.438495,-27.394897],[153.546708,-27.434827]]],[[[153.468489,-27.028478],[153.434044,-27.131235],[153.419661,-27.20357],[153.437286,-27.333965],[153.427959,-27.36364],[153.421218,-27.331066],[153.365502,-27.201245],[153.370134,-27.103027],[153.3614,-27.061041],[153.468489,-27.028478]]],[[[153.445354,-27.757379],[153.42553,-27.923964],[153.431489,-27.933127],[153.409414,-27.857256],[153.406535,-27.83397],[153.445354,-27.757379]]],[[[153.419051,-27.931575],[153.419051,-27.931575]]],[[[153.397645,-27.823099],[153.397645,-27.823099]]],[[[153.390463,-27.620217],[153.390463,-27.620217]]],[[[153.376281,-27.618272],[153.362416,-27.632403],[153.346774,-27.622307],[153.360837,-27.580348],[153.376281,-27.618272]]],[[[153.374756,-27.498101],[153.345019,-27.51423],[153.336635,-27.498094],[153.374756,-27.498101]]],[[[153.361765,-27.683956],[153.361765,-27.683956]]],[[[152.95018,-25.573919],[153.034132,-25.384775],[153.051422,-25.34532],[153.045751,-25.247605],[153.051534,-25.244659],[152.995353,-25.230323],[152.992301,-25.220705],[153.160286,-25.083602],[153.222258,-24.995656],[153.234004,-24.942465],[153.226223,-24.912011],[153.144138,-24.816753],[153.118924,-24.815058],[153.24973,-24.69762],[153.264622,-24.697089],[153.259634,-24.823713],[153.270255,-24.893474],[153.325286,-24.963937],[153.350721,-24.963441],[153.352266,-24.999593],[153.360352,-25.006351],[153.18822,-25.370615],[153.107901,-25.560023],[153.089358,-25.757713],[153.077662,-25.79234],[153.038935,-25.792544],[153.015095,-25.769062],[152.95018,-25.573919]]],[[[153.352586,-27.632497],[153.352586,-27.632497]]],[[[153.341562,-27.605001],[153.341562,-27.605001]]],[[[153.341439,-27.648566],[153.341439,-27.648566]]],[[[153.339912,-27.690426],[153.327446,-27.694839],[153.31959,-27.680217],[153.339912,-27.690426]]],[[[153.33877,-27.566762],[153.335164,-27.574963],[153.318673,-27.573471],[153.33877,-27.566762]]],[[[153.241558,-27.39114],[153.241558,-27.39114]]],[[[153.207558,-27.081683],[153.197319,-27.096589],[153.16572,-27.099444],[153.098616,-26.985759],[153.079019,-26.972384],[153.090917,-26.944968],[153.0752,-26.920269],[153.129999,-26.874151],[153.129951,-26.814082],[153.207558,-27.081683]]],[[[153.188501,-27.401757],[153.188501,-27.401757]]],[[[153.08553,-27.008147],[153.08553,-27.008147]]],[[[152.993723,-25.334914],[152.959055,-25.302812],[152.943013,-25.272831],[152.993723,-25.334914]]],[[[152.969339,-25.477287],[152.969339,-25.477287]]],[[[152.964241,-25.620138],[152.964241,-25.620138]]],[[[152.955833,-25.494834],[152.915032,-25.529163],[152.909266,-25.499854],[152.955833,-25.494834]]],[[[152.949727,-25.558276],[152.949727,-25.558276]]],[[[152.938475,-25.61055],[152.938475,-25.61055]]],[[[152.930181,-25.618306],[152.930181,-25.618306]]],[[[152.927744,-25.583076],[152.927744,-25.583076]]],[[[152.92185,-25.560239],[152.92185,-25.560239]]],[[[152.912179,-25.549367],[152.912179,-25.549367]]],[[[152.903871,-25.570965],[152.903871,-25.570965]]],[[[152.901002,-25.592536],[152.901002,-25.592536]]],[[[151.664085,-24.047172],[151.664085,-24.047172]]],[[[151.547662,-24.078401],[151.547662,-24.078401]]],[[[151.462018,-24.04397],[151.462018,-24.04397]]],[[[151.439928,-24.047055],[151.439928,-24.047055]]],[[[151.39422,-23.864592],[151.373897,-23.881055],[151.366349,-23.874802],[151.328042,-23.798079],[151.323601,-23.77751],[151.332707,-23.768365],[151.332516,-23.754008],[151.39422,-23.864592]]],[[[151.31528,-23.759224],[151.290901,-23.759258],[151.285269,-23.79742],[151.262054,-23.757379],[151.262094,-23.749114],[151.221974,-23.799438],[151.214545,-23.79437],[151.092083,-23.644795],[151.047671,-23.622893],[150.989632,-23.497612],[150.979467,-23.488793],[151.047941,-23.452463],[151.056971,-23.447673],[151.077851,-23.482802],[151.072741,-23.488362],[151.155149,-23.511312],[151.202419,-23.512072],[151.193119,-23.530982],[151.183389,-23.541312],[151.218528,-23.503502],[151.235158,-23.483652],[151.225618,-23.609492],[151.31528,-23.759224]]],[[[151.288596,-23.805152],[151.288596,-23.805152]]],[[[151.162989,-23.396661],[151.162989,-23.396661]]],[[[150.994716,-23.181226],[150.939011,-23.19829],[150.93178,-23.178545],[150.95624,-23.156287],[150.975542,-23.148842],[150.994716,-23.181226]]],[[[150.975637,-23.215244],[150.975637,-23.215244]]],[[[150.914408,-23.079684],[150.889409,-23.083164],[150.884619,-23.077424],[150.892078,-23.054474],[150.914408,-23.079684]]],[[[150.871819,-23.505923],[150.864524,-23.517002],[150.850544,-23.511742],[150.871819,-23.505923]]],[[[150.865299,-23.527853],[150.846954,-23.532642],[150.837854,-23.521162],[150.865299,-23.527853]]],[[[150.698291,-21.953413],[150.690421,-21.967213],[150.677381,-21.965404],[150.698291,-21.953413]]],[[[150.676942,-22.090083],[150.676942,-22.090083]]],[[[150.662604,-22.334683],[150.662604,-22.334683]]],[[[150.647652,-22.008794],[150.647652,-22.008794]]],[[[150.56079,-22.294982],[150.504797,-22.334274],[150.482958,-22.349334],[150.478482,-22.320653],[150.500037,-22.303084],[150.463972,-22.301153],[150.459157,-22.296624],[150.475472,-22.261113],[150.500496,-22.269634],[150.470236,-22.221624],[150.479211,-22.206573],[150.56079,-22.294982]]],[[[150.528487,-22.373564],[150.528487,-22.373564]]],[[[150.50043,-22.546404],[150.50043,-22.546404]]],[[[150.465407,-22.247854],[150.421668,-22.299374],[150.415543,-22.279583],[150.430468,-22.251084],[150.440702,-22.231533],[150.465407,-22.247854]]],[[[150.450148,-22.314584],[150.450148,-22.314584]]],[[[150.373931,-22.020774],[150.373931,-22.020774]]],[[[150.364129,-21.720525],[150.325355,-21.768746],[150.29978,-21.746385],[150.364129,-21.720525]]],[[[150.350514,-21.667046],[150.340044,-21.674376],[150.325844,-21.658617],[150.350514,-21.667046]]],[[[150.323344,-22.235664],[150.30357,-22.249705],[150.29757,-22.243685],[150.323344,-22.235664]]],[[[150.301974,-21.664917],[150.24306,-21.675306],[150.242585,-21.654277],[150.250415,-21.650997],[150.24732,-21.619046],[150.301974,-21.664917]]],[[[150.282671,-22.351765],[150.259382,-22.363615],[150.251002,-22.364555],[150.282671,-22.351765]]],[[[150.280543,-21.483377],[150.280543,-21.483377]]],[[[150.276454,-21.516627],[150.257514,-21.528507],[150.245184,-21.517197],[150.276454,-21.516627]]],[[[150.186054,-21.977925],[150.16875,-22.004146],[150.151544,-21.971365],[150.186054,-21.977925]]],[[[150.149904,-21.961135],[150.149904,-21.961135]]],[[[150.139395,-21.998185],[150.139395,-21.998185]]],[[[150.120384,-21.918196],[150.120384,-21.918196]]],[[[150.040373,-22.111437],[149.945206,-22.172048],[149.933226,-22.152358],[150.001074,-22.105247],[150.010469,-22.100986],[150.040373,-22.111437]]],[[[150.019029,-22.620936],[150.019029,-22.620936]]],[[[149.931706,-22.187348],[149.931706,-22.187348]]],[[[149.92999,-22.133736],[149.918597,-22.205008],[149.909107,-22.223548],[149.896082,-22.234766],[149.869738,-22.226308],[149.879147,-22.206808],[149.861842,-22.169687],[149.881596,-22.067948],[149.901375,-22.052068],[149.92999,-22.133736]]],[[[149.917109,-21.506599],[149.917109,-21.506599]]],[[[149.915512,-22.235726],[149.915512,-22.235726]]],[[[149.911386,-21.018141],[149.911386,-21.018141]]],[[[149.90977,-22.474037],[149.90977,-22.474037]]],[[[149.900687,-22.235998],[149.900687,-22.235998]]],[[[149.89653,-21.49786],[149.89653,-21.49786]]],[[[149.894853,-22.256316],[149.894853,-22.256316]]],[[[149.892748,-22.247988],[149.892748,-22.247988]]],[[[149.88061,-21.993587],[149.86175,-22.013057],[149.844036,-22.004219],[149.88061,-21.993587]]],[[[149.842112,-21.659429],[149.842112,-21.659429]]],[[[149.837414,-21.379099],[149.837414,-21.379099]]],[[[149.818927,-21.605799],[149.788652,-21.60922],[149.780737,-21.612649],[149.818927,-21.605799]]],[[[149.804274,-21.832029],[149.804274,-21.832029]]],[[[149.763432,-22.405678],[149.763432,-22.405678]]],[[[149.717587,-21.45598],[149.717587,-21.45598]]],[[[149.694666,-21.3239],[149.685572,-21.332441],[149.663957,-21.31059],[149.694666,-21.3239]]],[[[149.664699,-21.97497],[149.664699,-21.97497]]],[[[149.653888,-21.9289],[149.653888,-21.9289]]],[[[149.626443,-20.770392],[149.626443,-20.770392]]],[[[149.626129,-20.868733],[149.59673,-20.885163],[149.57811,-20.869193],[149.6057,-20.864983],[149.603464,-20.846492],[149.626129,-20.868733]]],[[[149.588542,-22.13827],[149.588542,-22.13827]]],[[[149.58253,-21.97444],[149.56622,-21.99205],[149.558565,-21.987569],[149.58253,-21.97444]]],[[[149.50038,-21.829431],[149.4869,-21.836521],[149.46902,-21.821731],[149.50038,-21.829431]]],[[[149.498568,-21.597772],[149.498568,-21.597772]]],[[[149.483695,-20.741003],[149.483695,-20.741003]]],[[[149.469552,-20.928214],[149.469552,-20.928214]]],[[[149.460697,-20.914972],[149.426493,-20.945544],[149.422453,-20.939184],[149.427638,-20.926733],[149.425488,-20.906803],[149.460697,-20.914972]]],[[[149.422713,-20.919684],[149.405488,-20.924243],[149.385858,-20.904113],[149.422713,-20.919684]]],[[[149.412301,-20.772914],[149.397802,-20.779164],[149.390066,-20.769333],[149.412301,-20.772914]]],[[[149.300993,-20.796835],[149.276558,-20.793444],[149.273648,-20.778404],[149.300993,-20.796835]]],[[[149.289968,-20.809974],[149.268254,-20.810095],[149.249279,-20.805914],[149.289968,-20.809974]]],[[[149.209084,-20.690576],[149.209084,-20.690576]]],[[[149.193939,-20.671615],[149.189194,-20.689206],[149.172544,-20.672256],[149.193939,-20.671615]]],[[[149.178166,-20.247617],[149.178166,-20.247617]]],[[[149.166659,-20.683335],[149.138505,-20.694717],[149.136085,-20.686447],[149.145509,-20.673485],[149.154749,-20.662175],[149.166659,-20.683335]]],[[[149.157156,-20.237227],[149.157156,-20.237227]]],[[[149.132848,-20.467096],[149.132848,-20.467096]]],[[[149.126855,-20.348028],[149.126855,-20.348028]]],[[[149.124987,-20.271127],[149.124987,-20.271127]]],[[[149.124414,-20.543977],[149.114959,-20.552936],[149.095989,-20.547206],[149.124414,-20.543977]]],[[[149.111722,-20.274368],[149.111722,-20.274368]]],[[[149.104678,-20.481176],[149.082009,-20.484337],[149.066939,-20.525967],[149.04683,-20.513387],[149.03672,-20.503027],[149.04995,-20.509647],[149.065369,-20.502147],[149.074279,-20.451827],[149.080398,-20.436397],[149.104678,-20.481176]]],[[[149.103562,-20.250888],[149.077132,-20.293298],[149.070243,-20.293108],[149.103562,-20.250888]]],[[[149.089709,-20.522086],[149.089709,-20.522086]]],[[[149.08909,-20.660006],[149.066665,-20.641137],[149.055225,-20.618427],[149.08909,-20.660006]]],[[[149.074593,-20.303888],[149.074593,-20.303888]]],[[[149.064619,-20.453027],[149.034049,-20.460247],[149.024314,-20.441408],[149.064619,-20.453027]]],[[[149.062018,-20.293457],[148.986585,-20.322515],[148.963191,-20.328759],[148.9499,-20.303021],[148.974867,-20.268843],[148.957395,-20.280696],[148.93756,-20.307124],[148.928952,-20.286217],[148.912699,-20.290958],[148.942787,-20.268185],[148.962034,-20.244859],[148.942114,-20.243359],[148.937944,-20.23961],[148.960263,-20.187339],[148.955973,-20.15803],[148.996058,-20.203178],[148.991628,-20.250372],[149.010783,-20.232919],[149.004478,-20.255478],[149.025938,-20.234908],[149.014993,-20.269729],[149.062018,-20.293457]]],[[[149.044232,-20.155939],[149.038652,-20.182929],[149.020662,-20.160819],[149.044232,-20.155939]]],[[[149.036284,-20.397008],[149.036284,-20.397008]]],[[[148.996016,-20.352742],[148.996016,-20.352742]]],[[[148.982644,-20.35187],[148.955269,-20.356846],[148.94488,-20.364437],[148.946392,-20.332614],[148.982644,-20.35187]]],[[[148.967942,-20.06766],[148.937013,-20.1017],[148.951263,-20.15655],[148.931544,-20.17826],[148.930024,-20.13276],[148.902224,-20.16612],[148.915574,-20.12343],[148.887624,-20.16916],[148.881699,-20.161629],[148.902224,-20.07958],[148.906818,-20.071299],[148.967942,-20.06766]]],[[[148.941687,-20.376094],[148.941687,-20.376094]]],[[[148.929134,-20.318732],[148.929134,-20.318732]]],[[[148.927724,-20.852097],[148.927724,-20.852097]]],[[[148.924298,-20.255996],[148.924298,-20.255996]]],[[[148.915139,-20.852698],[148.897579,-20.854978],[148.891499,-20.829298],[148.915139,-20.852698]]],[[[148.898053,-20.05045],[148.898053,-20.05045]]],[[[148.882793,-20.601334],[148.882793,-20.601334]]],[[[148.875858,-20.613492],[148.875858,-20.613492]]],[[[148.875368,-20.38524],[148.851674,-20.381613],[148.844541,-20.335626],[148.875368,-20.38524]]],[[[148.85049,-20.261236],[148.83977,-20.280417],[148.826745,-20.285208],[148.85049,-20.261236]]],[[[148.829856,-20.23581],[148.829856,-20.23581]]],[[[148.614098,-20.148852],[148.614098,-20.148852]]],[[[148.576033,-20.101301],[148.576033,-20.101301]]],[[[148.478544,-20.001782],[148.474689,-20.049703],[148.444535,-20.044432],[148.438,-20.021094],[148.445214,-19.973952],[148.478544,-20.001782]]],[[[148.294237,-20.031863],[148.294237,-20.031863]]],[[[146.883736,-19.1136],[146.850816,-19.160137],[146.846112,-19.18176],[146.804245,-19.161279],[146.779033,-19.129171],[146.883736,-19.1136]]],[[[146.693728,-18.755685],[146.568499,-18.762966],[146.566909,-18.750546],[146.589049,-18.712046],[146.572429,-18.677646],[146.619628,-18.707746],[146.641868,-18.749695],[146.693728,-18.755685]]],[[[146.643071,-19.031949],[146.643071,-19.031949]]],[[[146.621541,-19.031736],[146.59803,-19.035242],[146.621541,-19.031736]]],[[[146.567539,-18.670886],[146.556349,-18.687876],[146.538559,-18.658106],[146.567539,-18.670886]]],[[[146.55102,-18.842345],[146.55102,-18.842345]]],[[[146.52688,-18.672386],[146.51851,-18.684276],[146.50585,-18.659806],[146.52688,-18.672386]]],[[[146.508094,-18.622835],[146.50335,-18.656076],[146.489405,-18.667525],[146.494729,-18.598936],[146.481289,-18.585416],[146.508094,-18.622835]]],[[[146.505109,-18.554046],[146.505109,-18.554046]]],[[[146.237398,-18.282148],[146.224469,-18.213669],[146.223009,-18.19458],[146.231689,-18.219529],[146.250529,-18.237119],[146.298758,-18.231479],[146.305528,-18.241969],[146.285969,-18.271729],[146.275559,-18.317509],[146.318119,-18.351988],[146.331399,-18.362348],[146.32416,-18.400218],[146.358419,-18.418328],[146.323921,-18.486427],[146.301201,-18.494057],[146.247902,-18.488858],[146.224192,-18.478958],[146.206982,-18.397758],[146.191301,-18.366709],[146.101022,-18.28595],[146.070812,-18.24667],[146.103791,-18.23443],[146.127081,-18.23462],[146.237398,-18.282148]]],[[[146.287188,-18.14235],[146.287188,-18.14235]]],[[[146.208762,-18.460688],[146.208762,-18.460688]]],[[[146.179222,-18.396718],[146.195662,-18.418338],[146.192602,-18.429418],[146.167232,-18.404718],[146.145022,-18.358089],[146.179222,-18.396718]]],[[[146.192099,-18.16639],[146.17605,-18.18099],[146.1524,-18.17538],[146.16052,-18.1522],[146.192099,-18.16639]]],[[[146.187042,-18.430448],[146.187042,-18.430448]]],[[[146.180752,-18.419718],[146.180752,-18.419718]]],[[[146.178178,-17.966971],[146.134149,-17.935401],[146.178178,-17.966971]]],[[[146.016754,-17.155424],[146.016754,-17.155424]]],[[[146.005128,-16.924182],[146.005128,-16.924182]]],[[[145.477366,-14.670246],[145.448257,-14.680236],[145.444866,-14.667366],[145.455786,-14.672086],[145.450626,-14.647026],[145.477366,-14.670246]]],[[[144.989702,-14.502708],[144.978802,-14.511518],[144.950633,-14.499318],[144.989702,-14.502708]]],[[[144.817504,-14.431719],[144.817504,-14.431719]]],[[[144.532854,-14.118902],[144.532854,-14.118902]]],[[[144.338099,-14.095325],[144.338099,-14.095325]]],[[[144.338124,-14.095252],[144.338124,-14.095252]]],[[[144.283659,-14.194862],[144.240279,-14.191333],[144.232459,-14.175403],[144.250329,-14.160443],[144.272898,-14.158703],[144.283659,-14.194862]]],[[[144.278709,-14.226112],[144.269759,-14.238612],[144.24539,-14.221042],[144.278709,-14.226112]]],[[[144.268188,-14.148073],[144.245039,-14.151733],[144.20952,-14.184813],[144.228599,-14.154733],[144.231219,-14.132833],[144.268188,-14.148073]]],[[[144.23131,-14.209942],[144.20254,-14.230392],[144.23131,-14.209942]]],[[[144.063809,-9.91276],[144.057899,-9.92374],[144.039199,-9.92315],[144.063809,-9.91276]]],[[[143.78451,-9.577153],[143.760011,-9.597023],[143.759251,-9.580523],[143.78451,-9.577153]]],[[[143.779395,-14.221694],[143.779395,-14.221694]]],[[[143.721987,-13.866067],[143.721987,-13.866067]]],[[[143.501861,-12.526884],[143.475112,-12.521365],[143.454362,-12.504375],[143.501861,-12.526884]]],[[[143.422975,-9.750263],[143.398315,-9.754583],[143.422975,-9.750263]]],[[[143.415166,-12.289466],[143.415166,-12.289466]]],[[[143.401295,-12.868873],[143.401295,-12.868873]]],[[[143.400826,-12.895923],[143.400826,-12.895923]]],[[[143.390646,-12.878563],[143.390646,-12.878563]]],[[[143.388316,-12.869873],[143.388316,-12.869873]]],[[[143.378456,-12.886273],[143.378456,-12.886273]]],[[[143.275986,-11.985288],[143.275986,-11.985288]]],[[[142.977396,-9.80498],[142.977396,-9.80498]]],[[[142.948447,-9.85391],[142.912558,-9.866849],[142.897758,-9.853439],[142.948447,-9.85391]]],[[[142.867649,-10.039029],[142.857599,-10.053148],[142.82604,-10.024858],[142.867649,-10.039029]]],[[[142.800857,-9.375672],[142.743739,-9.419021],[142.70725,-9.428321],[142.609372,-9.414711],[142.596612,-9.403411],[142.603782,-9.383171],[142.646921,-9.364721],[142.800857,-9.375672]]],[[[142.783441,-9.904118],[142.783441,-9.904118]]],[[[142.725479,-9.368282],[142.69885,-9.377342],[142.6673,-9.369791],[142.725479,-9.368282]]],[[[142.705703,-10.953042],[142.666714,-10.936282],[142.651164,-10.923612],[142.651864,-10.914792],[142.690173,-10.920132],[142.705703,-10.953042]]],[[[142.666442,-10.629033],[142.650883,-10.638623],[142.632273,-10.627073],[142.666442,-10.629033]]],[[[142.649234,-9.764488],[142.647984,-9.772568],[142.621995,-9.772588],[142.649234,-9.764488]]],[[[142.639044,-10.920432],[142.639044,-10.920432]]],[[[142.627853,-10.598243],[142.627853,-10.598243]]],[[[142.622543,-10.743163],[142.611903,-10.745413],[142.584394,-10.714403],[142.622543,-10.743163]]],[[[142.551753,-9.419591],[142.531603,-9.435991],[142.528863,-9.410781],[142.551753,-9.419591]]],[[[142.517682,-10.192006],[142.517682,-10.192006]]],[[[142.514652,-10.158086],[142.514652,-10.158086]]],[[[142.490332,-10.243286],[142.490332,-10.243286]]],[[[142.410957,-10.711573],[142.385637,-10.750123],[142.410957,-10.711573]]],[[[142.344168,-10.172237],[142.331609,-10.199197],[142.278669,-10.259777],[142.218088,-10.238878],[142.183887,-10.18948],[142.206037,-10.161699],[142.219837,-10.128859],[142.253827,-10.125449],[142.265887,-10.115789],[142.344168,-10.172237]]],[[[142.326393,-10.611193],[142.267664,-10.642303],[142.236094,-10.607263],[142.257124,-10.579483],[142.306333,-10.570583],[142.326393,-10.611193]]],[[[142.321023,-10.531173],[142.300273,-10.542343],[142.284103,-10.527934],[142.304293,-10.520614],[142.312232,-10.505544],[142.321023,-10.531173]]],[[[142.319433,-9.567913],[142.283773,-9.569863],[142.258312,-9.553914],[142.319433,-9.567913]]],[[[142.304918,-10.721873],[142.290218,-10.733913],[142.281688,-10.716313],[142.304918,-10.721873]]],[[[142.294921,-9.262735],[142.284021,-9.284645],[142.245401,-9.290786],[142.160671,-9.281257],[142.131871,-9.264447],[142.222421,-9.229597],[142.294921,-9.262735]]],[[[142.277423,-10.706483],[142.227404,-10.720703],[142.206854,-10.726433],[142.186313,-10.765974],[142.177863,-10.770874],[142.119103,-10.710815],[142.109633,-10.685085],[142.186914,-10.597964],[142.203704,-10.594844],[142.277423,-10.706483]]],[[[142.250871,-9.229096],[142.250871,-9.229096]]],[[[142.232533,-10.573924],[142.210654,-10.589044],[142.205594,-10.581494],[142.232533,-10.573924]]],[[[142.229863,-10.534034],[142.184063,-10.568354],[142.182853,-10.552644],[142.229863,-10.534034]]],[[[142.201174,-9.948772],[142.178455,-9.972832],[142.164694,-9.951742],[142.201174,-9.948772]]],[[[142.192476,-10.10589],[142.170987,-10.15786],[142.163427,-10.18096],[142.091896,-10.122861],[142.085356,-10.112592],[142.112755,-10.082542],[142.114185,-10.068512],[142.168266,-10.069001],[142.181926,-10.059341],[142.192476,-10.10589]]],[[[142.18843,-9.232797],[142.156401,-9.246727],[142.18843,-9.232797]]],[[[142.178983,-10.585664],[142.169004,-10.605944],[142.146333,-10.595054],[142.178983,-10.585664]]],[[[142.173227,-10.207719],[142.173227,-10.207719]]],[[[142.170973,-10.553585],[142.157783,-10.570035],[142.145653,-10.565665],[142.170973,-10.553585]]],[[[142.140715,-10.373367],[142.140715,-10.373367]]],[[[142.115326,-10.991465],[142.115326,-10.991465]]],[[[142.076853,-10.26538],[142.076853,-10.26538]]],[[[142.060474,-10.353859],[142.060474,-10.353859]]],[[[139.887477,-16.653029],[139.855767,-16.677089],[139.848137,-16.663479],[139.887477,-16.653029]]],[[[139.813616,-16.49131],[139.813616,-16.49131]]],[[[139.734697,-16.477391],[139.709537,-16.490181],[139.701237,-16.474411],[139.717717,-16.450141],[139.726367,-16.450781],[139.734697,-16.477391]]],[[[139.712128,-16.530531],[139.626268,-16.530421],[139.595979,-16.554211],[139.566579,-16.474502],[139.546629,-16.460532],[139.560819,-16.480272],[139.506779,-16.511992],[139.47502,-16.526232],[139.51432,-16.545152],[139.5068,-16.576682],[139.4837,-16.556022],[139.45308,-16.569502],[139.46743,-16.568582],[139.47307,-16.583162],[139.465631,-16.627932],[139.439141,-16.630692],[139.451261,-16.666262],[139.438131,-16.674752],[139.380071,-16.647112],[139.375851,-16.642032],[139.368602,-16.672102],[139.373892,-16.686342],[139.305073,-16.724132],[139.274583,-16.733523],[139.254353,-16.723583],[139.230023,-16.731153],[139.199764,-16.707653],[139.195023,-16.661933],[139.166244,-16.667973],[139.151014,-16.633843],[139.292081,-16.477193],[139.304131,-16.462833],[139.42042,-16.444882],[139.465389,-16.446072],[139.535249,-16.408552],[139.548048,-16.390702],[139.650178,-16.449501],[139.676387,-16.450611],[139.712128,-16.530531]]],[[[139.639482,-17.07442],[139.596492,-17.1329],[139.595112,-17.11222],[139.639482,-17.07442]]],[[[139.472553,-17.09595],[139.427284,-17.105591],[139.439824,-17.135691],[139.434554,-17.139451],[139.411174,-17.122191],[139.394114,-17.082971],[139.468593,-17.029171],[139.461633,-17.025261],[139.486073,-17.036241],[139.490133,-17.044571],[139.492632,-16.996501],[139.494472,-16.979621],[139.543542,-17.03135],[139.556342,-17.03431],[139.554432,-17.06973],[139.577982,-17.09355],[139.514473,-17.11186],[139.518683,-17.12316],[139.472553,-17.09595]],[[139.479806,-17.093717],[139.479806,-17.093717]]],[[[139.560553,-17.11442],[139.560553,-17.11442]]],[[[139.477661,-16.679452],[139.441331,-16.703682],[139.438391,-16.694532],[139.477661,-16.679452]]],[[[139.28366,-16.264043],[139.28366,-16.264043]]],[[[139.279795,-16.993792],[139.279795,-16.993792]]],[[[139.265675,-17.058282],[139.214685,-17.036402],[139.207345,-17.003332],[139.265675,-17.058282]]],[[[139.188754,-16.681543],[139.162344,-16.748893],[139.141354,-16.754083],[139.145954,-16.691933],[139.188754,-16.681543]]],[[[139.152225,-16.821893],[139.094725,-16.843103],[139.090625,-16.826713],[139.094865,-16.812703],[139.132535,-16.797813],[139.152225,-16.821893]]],[[[139.076836,-16.902193],[139.046216,-16.885333],[139.076836,-16.902193]]],[[[139.067596,-16.865003],[139.067596,-16.865003]]]]}},{type:"Feature",id:3,properties:{STATE_CODE:"4",STATE_NAME:"South Australia"},geometry:{type:"MultiPolygon",coordinates:[[[[138.500217,-34.843571],[138.545732,-34.81061],[138.56628,-34.825093],[138.543501,-34.774809],[138.541428,-34.752951],[138.444655,-34.670494],[138.430566,-34.668154],[138.445781,-34.653393],[138.426467,-34.621629],[138.344385,-34.531212],[138.265632,-34.476802],[138.230858,-34.343908],[138.223029,-34.311262],[138.192401,-34.272173],[138.146203,-34.265618],[138.167524,-34.245335],[138.165702,-34.221296],[138.102306,-34.138883],[138.077415,-34.133551],[138.012405,-34.231329],[138.001543,-34.257058],[138.021736,-34.28507],[138.007096,-34.349032],[137.917537,-34.428156],[137.898839,-34.493836],[137.887583,-34.507362],[137.875809,-34.597683],[137.907676,-34.615868],[137.757304,-34.99657],[137.76399,-35.040599],[137.733807,-35.044159],[137.72473,-35.053743],[137.743274,-35.102896],[137.758661,-35.114743],[137.677887,-35.167742],[137.637498,-35.168201],[137.464103,-35.099218],[137.42284,-35.098095],[137.334579,-35.163878],[137.347808,-35.163004],[137.264701,-35.159041],[137.237741,-35.164515],[137.190574,-35.229175],[137.173992,-35.237359],[137.076687,-35.226357],[137.001389,-35.223207],[136.945243,-35.269335],[136.944022,-35.282153],[136.848565,-35.282106],[136.821927,-35.24528],[136.846425,-35.228823],[136.84574,-35.190101],[136.913125,-35.153594],[136.941123,-35.129111],[136.961072,-35.082302],[136.930287,-35.02905],[137.012553,-34.92048],[137.013614,-34.892979],[137.093376,-34.919948],[137.224498,-34.904483],[137.276479,-34.8939],[137.356422,-34.946584],[137.374945,-34.953745],[137.41535,-34.938659],[137.448758,-34.910318],[137.459607,-34.80763],[137.50944,-34.617955],[137.486637,-34.481665],[137.483189,-34.439275],[137.463169,-34.426672],[137.427025,-34.472597],[137.415149,-34.459593],[137.465117,-34.400688],[137.47608,-34.392463],[137.499904,-34.226504],[137.449856,-34.135518],[137.506757,-34.137625],[137.522273,-34.129251],[137.526001,-34.10829],[137.567535,-34.043536],[137.552323,-34.014424],[137.527125,-34.004388],[137.600263,-33.936313],[137.63064,-33.921822],[137.62546,-33.895162],[137.600358,-33.876794],[137.857277,-33.631321],[137.879023,-33.596782],[137.892462,-33.587902],[137.919659,-33.58733],[137.89323,-33.625613],[137.917547,-33.624978],[137.935597,-33.580101],[137.935352,-33.552675],[137.964795,-33.574318],[137.977463,-33.558834],[137.962976,-33.550773],[137.939426,-33.547918],[137.906643,-33.434132],[137.870496,-33.39654],[137.883687,-33.3524],[137.881243,-33.323158],[137.817427,-33.286669],[137.811132,-33.266254],[137.852958,-33.209589],[137.853601,-33.196834],[137.987635,-33.143951],[138.000807,-33.131649],[138.011854,-33.178027],[138.024228,-33.181884],[138.048044,-33.135837],[138.054408,-33.115096],[138.036705,-33.102965],[138.02463,-33.10578],[138.039252,-33.101157],[138.045942,-33.0867],[138.018784,-33.035621],[137.952082,-33.00601],[137.912322,-32.853486],[137.90089,-32.777649],[137.936655,-32.766652],[137.944458,-32.757655],[137.887464,-32.715447],[137.837571,-32.69581],[137.860025,-32.6894],[137.867648,-32.663933],[137.836291,-32.637649],[137.802716,-32.608002],[137.829153,-32.594097],[137.839055,-32.603632],[137.829686,-32.584703],[137.83577,-32.574669],[137.823014,-32.560252],[137.782259,-32.550341],[137.766047,-32.43951],[137.75036,-32.415371],[137.757119,-32.694254],[137.749747,-32.708266],[137.781324,-32.713734],[137.809507,-32.74859],[137.803563,-32.796932],[137.810557,-32.845255],[137.798263,-32.89354],[137.789289,-32.915205],[137.749516,-32.921517],[137.786511,-32.999915],[137.661043,-32.950959],[137.641418,-32.955318],[137.585736,-33.022086],[137.596979,-33.03615],[137.4576,-33.135572],[137.451979,-33.130701],[137.442264,-33.152177],[137.434062,-33.230088],[137.385368,-33.298338],[137.374434,-33.292726],[137.360741,-33.414838],[137.360521,-33.439166],[137.314614,-33.471529],[137.252397,-33.608277],[137.213306,-33.661082],[137.025511,-33.719722],[136.991674,-33.724793],[136.668362,-33.878689],[136.592684,-33.899562],[136.572195,-33.923038],[136.57475,-33.943438],[136.434749,-34.011595],[136.363136,-34.069349],[136.331378,-34.148126],[136.32439,-34.181602],[136.278006,-34.220835],[136.260573,-34.267704],[136.233584,-34.296136],[136.187841,-34.33484],[136.138538,-34.341141],[136.112245,-34.359384],[136.10378,-34.382528],[136.130148,-34.407111],[136.116359,-34.408422],[136.091801,-34.429572],[136.116687,-34.425739],[136.114089,-34.459054],[136.121769,-34.467421],[136.096279,-34.524595],[136.092173,-34.542734],[136.0829,-34.495306],[136.056326,-34.47902],[136.015488,-34.499011],[136.021803,-34.516206],[135.974127,-34.504699],[135.93231,-34.528521],[135.922751,-34.549984],[135.902127,-34.592584],[135.933423,-34.609826],[135.937413,-34.64902],[135.891144,-34.615732],[135.861765,-34.633575],[135.853962,-34.665381],[135.853777,-34.715444],[135.8921,-34.744097],[135.891409,-34.751447],[135.846373,-34.752882],[135.785731,-34.80933],[135.860612,-34.807459],[135.893494,-34.805599],[135.949624,-34.765659],[135.956396,-34.757148],[135.960864,-34.783816],[135.980602,-34.784618],[135.995092,-34.725326],[136.006531,-34.735939],[135.993522,-34.82779],[135.959953,-34.848601],[135.997972,-34.959234],[136.004524,-34.980343],[135.960935,-35.004769],[135.954463,-35.006352],[135.931669,-34.970804],[135.928877,-34.948295],[135.867748,-34.919894],[135.856062,-34.927288],[135.853755,-34.886649],[135.79209,-34.860956],[135.751833,-34.85615],[135.712711,-34.865101],[135.688404,-34.92331],[135.685876,-34.944856],[135.653561,-34.936363],[135.618827,-34.944466],[135.61472,-34.924474],[135.624044,-34.906359],[135.494109,-34.765676],[135.47434,-34.744108],[135.350491,-34.680472],[135.325022,-34.686375],[135.347275,-34.666046],[135.341687,-34.629108],[135.283699,-34.576035],[135.25243,-34.55187],[135.208808,-34.558634],[135.173727,-34.555002],[135.143498,-34.591838],[135.109197,-34.588234],[135.194978,-34.43406],[135.206319,-34.429307],[135.221384,-34.49863],[135.3539,-34.522063],[135.316249,-34.520659],[135.297586,-34.552295],[135.391139,-34.623034],[135.402196,-34.633402],[135.363762,-34.637309],[135.365757,-34.642091],[135.510428,-34.620955],[135.51676,-34.612968],[135.478234,-34.59736],[135.45807,-34.58644],[135.472966,-34.61665],[135.431694,-34.603432],[135.435742,-34.541643],[135.445784,-34.537188],[135.414586,-34.520801],[135.405086,-34.507235],[135.413637,-34.587853],[135.396341,-34.593077],[135.422243,-34.601453],[135.389235,-34.595065],[135.35984,-34.344051],[135.346224,-34.267559],[135.255685,-34.155217],[135.241237,-34.150131],[135.244041,-34.140787],[135.279477,-34.119738],[135.271551,-34.019591],[135.252174,-33.981334],[135.194027,-33.919801],[135.182152,-33.877771],[135.082236,-33.804127],[135.040271,-33.755003],[134.860762,-33.643979],[134.830247,-33.626318],[134.863402,-33.546591],[134.845066,-33.43649],[134.802047,-33.328782],[134.688007,-33.250199],[134.658294,-33.233584],[134.708922,-33.233074],[134.719097,-33.229984],[134.717401,-33.195677],[134.702148,-33.17467],[134.595151,-33.13879],[134.558351,-33.161347],[134.62554,-33.195113],[134.640753,-33.182719],[134.631218,-33.213751],[134.663776,-33.223077],[134.642472,-33.224337],[134.630838,-33.245163],[134.506204,-33.161407],[134.450885,-33.144657],[134.38855,-33.177345],[134.368885,-33.175899],[134.284078,-33.028506],[134.275541,-33.024783],[134.261001,-33.073092],[134.266137,-33.08802],[134.316547,-33.125254],[134.35847,-33.148298],[134.351334,-33.190301],[134.328367,-33.199477],[134.260225,-33.152631],[134.247206,-33.08727],[134.230283,-33.043313],[134.192038,-33.035167],[134.167922,-33.055687],[134.165246,-33.041359],[134.138526,-33.018087],[134.167286,-33.009282],[134.193542,-33.013532],[134.201879,-32.963783],[134.189083,-32.942369],[134.081098,-32.918626],[134.06053,-32.907934],[134.11686,-32.868108],[134.138498,-32.839715],[134.118901,-32.783386],[134.060323,-32.722498],[134.174283,-32.717947],[134.204935,-32.725202],[134.215088,-32.730782],[134.152814,-32.723976],[134.164646,-32.736988],[134.200135,-32.746691],[134.196647,-32.795305],[134.221859,-32.789845],[134.260472,-32.734768],[134.290382,-32.692865],[134.277802,-32.608656],[134.266342,-32.573809],[134.214223,-32.511148],[134.163101,-32.469053],[134.062832,-32.455795],[134.057125,-32.440708],[134.061924,-32.456321],[134.086216,-32.470786],[134.036977,-32.459813],[133.995073,-32.484451],[133.991564,-32.505353],[133.954956,-32.494361],[133.922739,-32.49485],[133.89619,-32.523342],[133.893695,-32.541219],[133.861052,-32.531912],[133.849,-32.541726],[133.867482,-32.420449],[133.866818,-32.399186],[133.897186,-32.399574],[133.887446,-32.423126],[133.919317,-32.428318],[133.94693,-32.411577],[133.951086,-32.388513],[133.827154,-32.242835],[133.821407,-32.23397],[133.808341,-32.243115],[133.769731,-32.263826],[133.762215,-32.224313],[133.756726,-32.205846],[133.714932,-32.194992],[133.679113,-32.202643],[133.692908,-32.15524],[133.648205,-32.152014],[133.642718,-32.144576],[133.670702,-32.134991],[133.666883,-32.103832],[133.613619,-32.086022],[133.592256,-32.087258],[133.555852,-32.158998],[133.553457,-32.169582],[133.519074,-32.135729],[133.525297,-32.127439],[133.511304,-32.153307],[133.496786,-32.150609],[133.489479,-32.10982],[133.47279,-32.100107],[133.398041,-32.156673],[133.392332,-32.159361],[133.491804,-32.195616],[133.487729,-32.206108],[133.485628,-32.196247],[133.44624,-32.17852],[133.275245,-32.194901],[133.253192,-32.21087],[133.230029,-32.190844],[133.164662,-32.170052],[133.147535,-32.194517],[133.125756,-32.208783],[133.138132,-32.174878],[133.088342,-32.127021],[133.006622,-32.083401],[132.979569,-32.106513],[132.98157,-32.081999],[132.963634,-32.065239],[132.826487,-31.981566],[132.746588,-31.949342],[132.595204,-31.934328],[132.531329,-31.934945],[132.478447,-31.946285],[132.446417,-31.970725],[132.461607,-32.010634],[132.473232,-32.030092],[132.415452,-31.998806],[132.271202,-32.033754],[132.200614,-32.02728],[132.072997,-31.91774],[131.758577,-31.72026],[131.244776,-31.492277],[131.148637,-31.463654],[131.026398,-31.537626],[130.806132,-31.60563],[130.275063,-31.573662],[130.152187,-31.576538],[129.05281,-31.67418],[129.00134,-31.687068],[129.001854,-25.998613],[140.999394,-25.996376],[141.002937,-33.99851],[141.002956,-34.021892],[140.969273,-33.997216],[140.963616,-33.980648],[140.973872,-37.462093],[140.965735,-38.055989],[140.716881,-38.051013],[140.662442,-38.061474],[140.454015,-37.935846],[140.39645,-37.919006],[140.178709,-37.617223],[140.112713,-37.578417],[140.131312,-37.556224],[140.12084,-37.530865],[140.049823,-37.478617],[140.011347,-37.493125],[139.993117,-37.48589],[139.761627,-37.199707],[139.74001,-37.182126],[139.743061,-37.155849],[139.788459,-37.157799],[139.795818,-37.137468],[139.740535,-37.021304],[139.669972,-36.957431],[139.787616,-36.894859],[139.842891,-36.839575],[139.863159,-36.753479],[139.861979,-36.692328],[139.851109,-36.647474],[139.782926,-36.458816],[139.52302,-36.043505],[139.37702,-35.892234],[139.211957,-35.754559],[138.883656,-35.55729],[138.762908,-35.520673],[138.684432,-35.538108],[138.631522,-35.543844],[138.565936,-35.608529],[138.52236,-35.642968],[138.156886,-35.658167],[138.096166,-35.625221],[138.108686,-35.592452],[138.12743,-35.555371],[138.24454,-35.500848],[138.294318,-35.468183],[138.341253,-35.392864],[138.441044,-35.349994],[138.493568,-35.084609],[138.517614,-35.03213],[138.510356,-34.969695],[138.47606,-34.856766],[138.477997,-34.78294],[138.496325,-34.764612],[138.500217,-34.843571]]],[[[138.546309,-34.799042],[138.518591,-34.805594],[138.522502,-34.769668],[138.514615,-34.756904],[138.546309,-34.799042]]],[[[138.544072,-34.80597],[138.544072,-34.80597]]],[[[138.134901,-35.841399],[138.110893,-35.848409],[138.040822,-35.904274],[137.803232,-35.850616],[137.741097,-35.853115],[137.660289,-35.884899],[137.611978,-35.913111],[137.620444,-35.978592],[137.602643,-36.00929],[137.48278,-36.065675],[137.460723,-36.074971],[137.379444,-36.013892],[137.371018,-35.998416],[137.257945,-35.982221],[137.20949,-35.973988],[137.145803,-36.020706],[137.130947,-36.033985],[137.036082,-36.027651],[136.997279,-36.017338],[136.915453,-36.043576],[136.854045,-36.016575],[136.727088,-36.045071],[136.705236,-36.064064],[136.708435,-36.036926],[136.66562,-35.975745],[136.59835,-35.961762],[136.581743,-35.950849],[136.53441,-35.886475],[136.532942,-35.876557],[136.573788,-35.76589],[136.587436,-35.748857],[136.952722,-35.674107],[137.069652,-35.669155],[137.285143,-35.598036],[137.313489,-35.57924],[137.490998,-35.579767],[137.518809,-35.595531],[137.605438,-35.57151],[137.621661,-35.561188],[137.634199,-35.565733],[137.626677,-35.597161],[137.569625,-35.618675],[137.569756,-35.63243],[137.641217,-35.638891],[137.64369,-35.654125],[137.579197,-35.709027],[137.577915,-35.725671],[137.69626,-35.739791],[137.780334,-35.723932],[137.803452,-35.757605],[137.746078,-35.800946],[137.754379,-35.842984],[137.796662,-35.834287],[137.814758,-35.822033],[137.778092,-35.796203],[137.777351,-35.784445],[137.822554,-35.800182],[137.852159,-35.79495],[137.900608,-35.719757],[137.940728,-35.716206],[138.005581,-35.726301],[138.045983,-35.742821],[138.134901,-35.841399]]],[[[137.381767,-34.497301],[137.340983,-34.52633],[137.338346,-34.488509],[137.361392,-34.462878],[137.381767,-34.497301]]],[[[136.867216,-35.37131],[136.867216,-35.37131]]],[[[136.494692,-35.166527],[136.453071,-35.166073],[136.441521,-35.148699],[136.494692,-35.166527]]],[[[136.359072,-34.663679],[136.344484,-34.682606],[136.329893,-34.658364],[136.359072,-34.663679]]],[[[136.305585,-34.505339],[136.274889,-34.549303],[136.270571,-34.542143],[136.305585,-34.505339]]],[[[136.279752,-34.681504],[136.279752,-34.681504]]],[[[136.204543,-35.052982],[136.176914,-35.061493],[136.163326,-35.05516],[136.159193,-35.020844],[136.156605,-35.006405],[136.089183,-34.956008],[136.078739,-34.952161],[136.082766,-34.94543],[136.107292,-34.93245],[136.204543,-35.052982]]],[[[136.185876,-34.646672],[136.185876,-34.646672]]],[[[136.073126,-35.227388],[136.073126,-35.227388]]],[[[136.069945,-34.962707],[136.069945,-34.962707]]],[[[136.038216,-34.907363],[136.038216,-34.907363]]],[[[136.014585,-34.882591],[136.014585,-34.882591]]],[[[135.983063,-35.033605],[135.983063,-35.033605]]],[[[135.960402,-34.583104],[135.960402,-34.583104]]],[[[135.953064,-34.723721],[135.937263,-34.719738],[135.929026,-34.732851],[135.923401,-34.701869],[135.911382,-34.695469],[135.921373,-34.683079],[135.938574,-34.687447],[135.953064,-34.723721]]],[[[135.626345,-34.982111],[135.626345,-34.982111]]],[[[134.813029,-33.594219],[134.806786,-33.610433],[134.776026,-33.595175],[134.813029,-33.594219]]],[[[134.681803,-33.2081],[134.681803,-33.2081]]],[[[134.547689,-33.721441],[134.496082,-33.745812],[134.446961,-33.772204],[134.467848,-33.733433],[134.471997,-33.690427],[134.483397,-33.694013],[134.527562,-33.677685],[134.547689,-33.721441]]],[[[134.279578,-32.679966],[134.279578,-32.679966]]],[[[133.857514,-32.387369],[133.788077,-32.358797],[133.857514,-32.387369]]],[[[133.835456,-32.359889],[133.835456,-32.359889]]],[[[133.68352,-32.440256],[133.657781,-32.454898],[133.68352,-32.440256]]],[[[133.673997,-32.232494],[133.611962,-32.282841],[133.600296,-32.307921],[133.549729,-32.308098],[133.540236,-32.279],[133.673997,-32.232494]]],[[[133.654949,-32.451097],[133.639648,-32.463219],[133.625508,-32.457157],[133.654949,-32.451097]]],[[[133.530727,-32.304603],[133.501381,-32.318356],[133.530727,-32.304603]]],[[[133.487081,-32.371099],[133.487081,-32.371099]]],[[[133.381916,-32.394907],[133.381916,-32.394907]]],[[[133.311036,-32.510125],[133.283384,-32.511092],[133.267768,-32.50049],[133.311036,-32.510125]]],[[[133.298957,-32.557689],[133.291466,-32.567595],[133.275341,-32.565373],[133.298957,-32.557689]]],[[[133.289921,-32.585392],[133.289921,-32.585392]]]]}},{type:"Feature",id:4,properties:{STATE_CODE:"5",STATE_NAME:"Western Australia"},geometry:{type:"MultiPolygon",coordinates:[[[[113.394175,-26.39303],[113.354662,-26.300853],[113.336382,-26.300353],[113.375871,-26.205202],[113.386501,-26.212652],[113.356979,-26.03327],[113.363739,-26.01748],[113.462211,-26.253382],[113.479871,-26.271092],[113.487802,-26.357043],[113.506592,-26.363913],[113.485333,-26.430584],[113.476963,-26.477054],[113.486493,-26.484834],[113.503293,-26.468814],[113.506003,-26.409143],[113.528272,-26.362212],[113.507072,-26.323982],[113.493912,-26.310342],[113.530451,-26.284381],[113.537211,-26.27952],[113.575554,-26.495823],[113.577194,-26.504623],[113.559825,-26.547154],[113.558225,-26.574004],[113.598086,-26.614194],[113.607105,-26.606204],[113.599215,-26.544634],[113.593394,-26.511933],[113.614084,-26.489423],[113.618465,-26.518418],[113.618064,-26.489683],[113.630553,-26.463272],[113.633505,-26.563643],[113.625615,-26.571213],[113.642026,-26.619454],[113.653905,-26.594623],[113.663695,-26.596193],[113.657807,-26.654165],[113.664009,-26.674456],[113.680928,-26.658415],[113.704918,-26.662085],[113.696146,-26.619244],[113.686806,-26.601673],[113.787617,-26.605053],[113.807717,-26.610972],[113.863654,-26.536721],[113.882864,-26.50847],[113.885442,-26.371449],[113.880661,-26.335378],[113.79775,-26.252269],[113.68805,-26.217539],[113.620809,-26.100899],[113.5803,-26.097219],[113.560576,-25.998749],[113.559108,-25.946398],[113.517617,-25.919578],[113.512917,-25.852117],[113.461056,-25.809357],[113.459465,-25.715606],[113.472435,-25.709316],[113.458624,-25.702856],[113.444665,-25.709476],[113.469346,-25.785457],[113.414475,-25.724737],[113.415234,-25.683786],[113.431983,-25.625725],[113.499732,-25.513773],[113.511082,-25.503303],[113.525233,-25.607794],[113.574684,-25.636894],[113.581314,-25.620774],[113.592765,-25.683625],[113.606655,-25.714325],[113.691116,-25.789215],[113.721766,-25.793645],[113.721717,-25.868086],[113.761857,-25.878595],[113.734327,-26.013658],[113.699924,-26.044962],[113.7249,-26.194689],[113.70321,-26.199769],[113.78998,-26.207408],[113.813279,-26.178818],[113.837649,-26.138657],[113.883738,-26.060216],[113.865247,-25.955965],[113.877217,-25.945125],[113.906417,-25.960115],[113.914427,-25.982435],[113.902487,-25.998745],[113.893518,-26.035146],[113.904588,-26.088906],[113.910849,-26.122376],[113.938879,-26.129846],[113.947559,-26.143006],[113.93431,-26.203947],[113.967251,-26.293926],[113.972862,-26.342507],[114.072592,-26.452337],[114.076792,-26.466587],[114.215901,-26.341546],[114.237651,-26.312765],[114.19189,-26.203644],[114.18829,-26.180263],[114.210679,-26.157803],[114.223509,-26.119022],[114.241339,-26.165863],[114.254709,-26.144892],[114.209147,-26.031612],[114.194667,-25.983571],[114.245047,-25.992551],[114.265307,-25.982131],[114.247036,-25.936501],[114.266835,-25.88774],[114.227045,-25.862],[114.205395,-25.85302],[114.01965,-25.632347],[114.004183,-25.618519],[113.839617,-25.216997],[113.817067,-25.173566],[113.712426,-25.103316],[113.665985,-25.022706],[113.679944,-24.932985],[113.691924,-24.928535],[113.665146,-24.895891],[113.652354,-24.905115],[113.666133,-24.861964],[113.706889,-24.850707],[113.646983,-24.864515],[113.617533,-24.858645],[113.632723,-24.797444],[113.623242,-24.746034],[113.406958,-24.484176],[113.399528,-24.411406],[113.406196,-24.303065],[113.390165,-24.223995],[113.409115,-24.223505],[113.443343,-24.181694],[113.428122,-24.080733],[113.422151,-24.042933],[113.446941,-24.032173],[113.4587,-24.013642],[113.464999,-23.925572],[113.470308,-23.898561],[113.614153,-23.646688],[113.613213,-23.630908],[113.75326,-23.528236],[113.778119,-23.478055],[113.788108,-23.365153],[113.794447,-23.296052],[113.770855,-23.13065],[113.760475,-23.1213],[113.789665,-23.10674],[113.812495,-23.082769],[113.819755,-22.977056],[113.826185,-22.956016],[113.793804,-22.842664],[113.755254,-22.756224],[113.677123,-22.723044],[113.670493,-22.717134],[113.673612,-22.596863],[113.654082,-22.578773],[113.78031,-22.37676],[113.820809,-22.305849],[113.933246,-21.998885],[113.933596,-21.973225],[113.995084,-21.875463],[114.023922,-21.851153],[114.165205,-21.785761],[114.191014,-21.814581],[114.148873,-21.866652],[114.138063,-21.957822],[114.080266,-22.154135],[114.084757,-22.191275],[114.133007,-22.261584],[114.117078,-22.314915],[114.115818,-22.331156],[114.149498,-22.301463],[114.178468,-22.305374],[114.178218,-22.353442],[114.128189,-22.407806],[114.122099,-22.415806],[114.14391,-22.506699],[114.14381,-22.538059],[114.24117,-22.459207],[114.28237,-22.433786],[114.31744,-22.440617],[114.33896,-22.492117],[114.34032,-22.516307],[114.38356,-22.464757],[114.40383,-22.469407],[114.393369,-22.390967],[114.42333,-22.395737],[114.396409,-22.382957],[114.40129,-22.359597],[114.4366,-22.357147],[114.45164,-22.362576],[114.42314,-22.345967],[114.40872,-22.331167],[114.43362,-22.294967],[114.46088,-22.329296],[114.43726,-22.289326],[114.42976,-22.275436],[114.45038,-22.259655],[114.47257,-22.264406],[114.458602,-22.245694],[114.48187,-22.251497],[114.45222,-22.235045],[114.4532,-22.207968],[114.48899,-22.219118],[114.500461,-22.220498],[114.4536,-22.166098],[114.45566,-22.159548],[114.49952,-22.162957],[114.50799,-22.183507],[114.520239,-22.082714],[114.517339,-22.066464],[114.542519,-22.060823],[114.551599,-22.066463],[114.601358,-21.98772],[114.605908,-22.00686],[114.619328,-21.944779],[114.621497,-21.935879],[114.651637,-21.922518],[114.664297,-21.910538],[114.642507,-21.909328],[114.648076,-21.844517],[114.693166,-21.839366],[114.685247,-21.867827],[114.683356,-21.828996],[114.698796,-21.813726],[114.903446,-21.705314],[114.914256,-21.688344],[115.029496,-21.686713],[115.040396,-21.692212],[115.057116,-21.675882],[115.108956,-21.631741],[115.131686,-21.659842],[115.142186,-21.659042],[115.193786,-21.620291],[115.210136,-21.627892],[115.186866,-21.612421],[115.229977,-21.592561],[115.242317,-21.576801],[115.244677,-21.588201],[115.298207,-21.594131],[115.438168,-21.529608],[115.457316,-21.508477],[115.444495,-21.537976],[115.446529,-21.543788],[115.460388,-21.531728],[115.467747,-21.514737],[115.491459,-21.537397],[115.49243,-21.545807],[115.480899,-21.530127],[115.475037,-21.505767],[115.510698,-21.509527],[115.510869,-21.524847],[115.495158,-21.501457],[115.491127,-21.495497],[115.516477,-21.483476],[115.528267,-21.464786],[115.506267,-21.474406],[115.509716,-21.457936],[115.558646,-21.437695],[115.565447,-21.457255],[115.562156,-21.435905],[115.550914,-21.413065],[115.592693,-21.397865],[115.597464,-21.410855],[115.595733,-21.389515],[115.588783,-21.379895],[115.627454,-21.354744],[115.618084,-21.345684],[115.783794,-21.256743],[115.779274,-21.288553],[115.808864,-21.248903],[115.831246,-21.251437],[115.889342,-21.112682],[115.918152,-21.078751],[116.069422,-21.017038],[116.097092,-21.000447],[116.093712,-21.024268],[116.105226,-21.037917],[116.095522,-21.024498],[116.103222,-21.001127],[116.130452,-20.997017],[116.146142,-21.012727],[116.176822,-20.977626],[116.188102,-20.967896],[116.189741,-20.901295],[116.226741,-20.883454],[116.19103,-20.888425],[116.20459,-20.833754],[116.259561,-20.867633],[116.255571,-20.880183],[116.366911,-20.841922],[116.399031,-20.822181],[116.453791,-20.844471],[116.459009,-20.842679],[116.453162,-20.840171],[116.442401,-20.824181],[116.532098,-20.767851],[116.525909,-20.752861],[116.597554,-20.74567],[116.605204,-20.75382],[116.573714,-20.708299],[116.579034,-20.692129],[116.628384,-20.683609],[116.636794,-20.674709],[116.647994,-20.682339],[116.602277,-20.728017],[116.662944,-20.733249],[116.663774,-20.741369],[116.663514,-20.732049],[116.642074,-20.721939],[116.684744,-20.723029],[116.688884,-20.705779],[116.644934,-20.714529],[116.642474,-20.704719],[116.740594,-20.641238],[116.765153,-20.633147],[116.746393,-20.621328],[116.804531,-20.541537],[116.811161,-20.529187],[116.867491,-20.526156],[116.819273,-20.606307],[116.808093,-20.606417],[116.799803,-20.680658],[116.828193,-20.708718],[116.927533,-20.725087],[116.919903,-20.740687],[116.976262,-20.668966],[116.990212,-20.658155],[117.038022,-20.659494],[117.038802,-20.667574],[117.084502,-20.636063],[117.094351,-20.623993],[117.105332,-20.654783],[117.128192,-20.654393],[117.171421,-20.593562],[117.182811,-20.592332],[117.181592,-20.639662],[117.156852,-20.657153],[117.200422,-20.666552],[117.171942,-20.700593],[117.187154,-20.695515],[117.195172,-20.680332],[117.217282,-20.713322],[117.216423,-20.724842],[117.211932,-20.697732],[117.223092,-20.695142],[117.302672,-20.726802],[117.347532,-20.735652],[117.349652,-20.763033],[117.349702,-20.778983],[117.366722,-20.745742],[117.362752,-20.734332],[117.377051,-20.758842],[117.381762,-20.784363],[117.387441,-20.744782],[117.395171,-20.730592],[117.441422,-20.745352],[117.457401,-20.757222],[117.434562,-20.740502],[117.442572,-20.730602],[117.573301,-20.694031],[117.594911,-20.703641],[117.589961,-20.679771],[117.630731,-20.663771],[117.618871,-20.678851],[117.616571,-20.687271],[117.651362,-20.703931],[117.656312,-20.715471],[117.666782,-20.679391],[117.680432,-20.666601],[117.700652,-20.68677],[117.704112,-20.69455],[117.793421,-20.6793],[117.809731,-20.67417],[117.794851,-20.67534],[117.774281,-20.66354],[117.867469,-20.581939],[117.897989,-20.585259],[117.871029,-20.571759],[117.881738,-20.551958],[117.915899,-20.567298],[117.912169,-20.576598],[117.912258,-20.555528],[117.919848,-20.543578],[117.934539,-20.558548],[117.941779,-20.566988],[117.970579,-20.544407],[117.975049,-20.550487],[117.942168,-20.510907],[117.940918,-20.479916],[117.965299,-20.491116],[118.160907,-20.357893],[118.181566,-20.336413],[118.184127,-20.356003],[118.199827,-20.368943],[118.169527,-20.368983],[118.165128,-20.382943],[118.205457,-20.376413],[118.196158,-20.403754],[118.224707,-20.370553],[118.215487,-20.370943],[118.314806,-20.356053],[118.318336,-20.365403],[118.288766,-20.348633],[118.346126,-20.329892],[118.359136,-20.358723],[118.363596,-20.373963],[118.368666,-20.351432],[118.510725,-20.330641],[118.506386,-20.348781],[118.548125,-20.310611],[118.557315,-20.31361],[118.526265,-20.305361],[118.561962,-20.294396],[118.563285,-20.329571],[118.552016,-20.346311],[118.576025,-20.33779],[118.578566,-20.357681],[118.608505,-20.3316],[118.629555,-20.33437],[118.591016,-20.308092],[118.597995,-20.286556],[118.674455,-20.33228],[118.665685,-20.34286],[118.822624,-20.276008],[118.845254,-20.286293],[118.829794,-20.258898],[118.842063,-20.230647],[118.869544,-20.253377],[118.882655,-20.261126],[118.860273,-20.225447],[118.896502,-20.167756],[118.959141,-20.127025],[118.99383,-20.035794],[119.068349,-20.015393],[119.088349,-19.970373],[119.099709,-19.959323],[119.16842,-20.015163],[119.20707,-20.023673],[119.21056,-20.017253],[119.17215,-20.007733],[119.17159,-19.956573],[119.218269,-19.953213],[119.466093,-20.013336],[119.471004,-20.005676],[119.562789,-20.078977],[119.569339,-20.080347],[119.655498,-20.046535],[119.680508,-20.003815],[119.700867,-19.995104],[119.696675,-20.03502],[119.704818,-20.037234],[119.752745,-19.983716],[119.730067,-19.976184],[119.772538,-19.969753],[119.764148,-19.955563],[119.861547,-19.962162],[119.866227,-19.969592],[120.133206,-19.912429],[120.195936,-19.913908],[120.981888,-19.621038],[121.113922,-19.538571],[121.412999,-19.237982],[121.511139,-19.093872],[121.564597,-18.96926],[121.553177,-18.94346],[121.578207,-18.95089],[121.600087,-18.940679],[121.575957,-18.94738],[121.600707,-18.903179],[121.602727,-18.869179],[121.651446,-18.819059],[121.653186,-18.835929],[121.645466,-18.79588],[121.655526,-18.767209],[121.619796,-18.742019],[121.618145,-18.706309],[121.737335,-18.696819],[121.741115,-18.704738],[121.788186,-18.660788],[121.793046,-18.657178],[121.790825,-18.609258],[121.729385,-18.575678],[121.795278,-18.518299],[121.817024,-18.491818],[121.788974,-18.484188],[121.815214,-18.451138],[121.872013,-18.471687],[121.903643,-18.464057],[122.083382,-18.327636],[122.130022,-18.307426],[122.204913,-18.217376],[122.214613,-18.204036],[122.315051,-18.172326],[122.370266,-18.116445],[122.372597,-17.993713],[122.378069,-17.989814],[122.301692,-17.973614],[122.250641,-17.952334],[122.207141,-18.008875],[122.175331,-17.974005],[122.204931,-17.945275],[122.21287,-17.873734],[122.172549,-17.601233],[122.145169,-17.560353],[122.162007,-17.341572],[122.173206,-17.263592],[122.282035,-17.14512],[122.318985,-17.15895],[122.317205,-17.15127],[122.288145,-17.13957],[122.317864,-17.12968],[122.311984,-17.12709],[122.253805,-17.13172],[122.253195,-17.11985],[122.369773,-17.008089],[122.366353,-16.997639],[122.469652,-16.936298],[122.443472,-16.980528],[122.431033,-16.983388],[122.472122,-16.976958],[122.481052,-16.981348],[122.476892,-16.921707],[122.480221,-16.894587],[122.519782,-16.933687],[122.507952,-16.954367],[122.602102,-16.971297],[122.612161,-16.965257],[122.543501,-16.861427],[122.533801,-16.836947],[122.56781,-16.829056],[122.57123,-16.836156],[122.56949,-16.771426],[122.57943,-16.762136],[122.62014,-16.794666],[122.63741,-16.800705],[122.734458,-16.777653],[122.757428,-16.746053],[122.764968,-16.752013],[122.742698,-16.772203],[122.792097,-16.760602],[122.781597,-16.747423],[122.813617,-16.770112],[122.845567,-16.792031],[122.821407,-16.756982],[122.838417,-16.744482],[122.790807,-16.733722],[122.775687,-16.735473],[122.785297,-16.704153],[122.784137,-16.695973],[122.743868,-16.700123],[122.741798,-16.683403],[122.778997,-16.584943],[122.771287,-16.590313],[122.861415,-16.519102],[122.884225,-16.530251],[122.861255,-16.509952],[122.853885,-16.512692],[122.884095,-16.508041],[122.904375,-16.488521],[122.901524,-16.434981],[122.925294,-16.389451],[122.992024,-16.38755],[122.982414,-16.4059],[122.991634,-16.38009],[123.038893,-16.35921],[123.034884,-16.4002],[123.014754,-16.40577],[123.043074,-16.43986],[123.076683,-16.440339],[123.047244,-16.462969],[123.045014,-16.473789],[123.015404,-16.45175],[122.982984,-16.46513],[122.997494,-16.48581],[122.971064,-16.51611],[123.006694,-16.5222],[123.008024,-16.528429],[122.968734,-16.56188],[122.954425,-16.58014],[122.986564,-16.607089],[122.996504,-16.601849],[122.988314,-16.625609],[122.995744,-16.640849],[123.027104,-16.617049],[123.038664,-16.621359],[123.036184,-16.671528],[123.050614,-16.690788],[123.078734,-16.693248],[123.083754,-16.664818],[123.084883,-16.698287],[123.094023,-16.709127],[123.126613,-16.711067],[123.138833,-16.688477],[123.107823,-16.772587],[123.102533,-16.783717],[123.134833,-16.790736],[123.156963,-16.805666],[123.153544,-16.878438],[123.149104,-16.924718],[123.234835,-16.969948],[123.263354,-17.011833],[123.394348,-17.280663],[123.392728,-17.316253],[123.48328,-17.397063],[123.51426,-17.418462],[123.57239,-17.555842],[123.58035,-17.584192],[123.582759,-17.424752],[123.564479,-17.405802],[123.641706,-17.193651],[123.646226,-17.183951],[123.590635,-17.100991],[123.583544,-17.03326],[123.600693,-17.010619],[123.647972,-16.999738],[123.679143,-17.045069],[123.680253,-17.059229],[123.704423,-17.042679],[123.740863,-17.068349],[123.786093,-17.138809],[123.789214,-17.152289],[123.888704,-17.221728],[123.912493,-17.211858],[123.834243,-17.118049],[123.796449,-17.004007],[123.951508,-16.867516],[123.959268,-16.852416],[123.949288,-16.836416],[123.951418,-16.818116],[123.883959,-16.877897],[123.79612,-16.911838],[123.717589,-16.784868],[123.711529,-16.752718],[123.681509,-16.751687],[123.61776,-16.679497],[123.523001,-16.667826],[123.502801,-16.658826],[123.602002,-16.582145],[123.589242,-16.567454],[123.619432,-16.573783],[123.615142,-16.554332],[123.578622,-16.549843],[123.526052,-16.544414],[123.533852,-16.550474],[123.542202,-16.572025],[123.517742,-16.566135],[123.511602,-16.597756],[123.460392,-16.524605],[123.468072,-16.518225],[123.428532,-16.511196],[123.428542,-16.498866],[123.445302,-16.509875],[123.496582,-16.514535],[123.461443,-16.477015],[123.473462,-16.470005],[123.584313,-16.517452],[123.643023,-16.53004],[123.588483,-16.510472],[123.582963,-16.498562],[123.648273,-16.479889],[123.651363,-16.474949],[123.505342,-16.419995],[123.497942,-16.409865],[123.502772,-16.407085],[123.582213,-16.427682],[123.518632,-16.389254],[123.509122,-16.380235],[123.629572,-16.422992],[123.665523,-16.43663],[123.681483,-16.43269],[123.697213,-16.414851],[123.647942,-16.385393],[123.629232,-16.356753],[123.681402,-16.375382],[123.716902,-16.372392],[123.640321,-16.308693],[123.627141,-16.290494],[123.598751,-16.322803],[123.550201,-16.283154],[123.58388,-16.260614],[123.59929,-16.264084],[123.576061,-16.245294],[123.61663,-16.261804],[123.58225,-16.233704],[123.5637,-16.216245],[123.60112,-16.216364],[123.57246,-16.192125],[123.55669,-16.177745],[123.67575,-16.163214],[123.66535,-16.151204],[123.70098,-16.169474],[123.70141,-16.190264],[123.71363,-16.167543],[123.70311,-16.153894],[123.72846,-16.156813],[123.703089,-16.128683],[123.750909,-16.157443],[123.770559,-16.170593],[123.80665,-16.206143],[123.81461,-16.219653],[123.78907,-16.223643],[123.77159,-16.216153],[123.79503,-16.238833],[123.79694,-16.263033],[123.74296,-16.253123],[123.740651,-16.263273],[123.784441,-16.303063],[123.796371,-16.316123],[123.843921,-16.315043],[123.86594,-16.327873],[123.865791,-16.362233],[123.878831,-16.371253],[123.851431,-16.371734],[123.836461,-16.354373],[123.85409,-16.435165],[123.8711,-16.447055],[123.88837,-16.409534],[123.89997,-16.422833],[123.88435,-16.353663],[123.90897,-16.362923],[123.88572,-16.342823],[123.91702,-16.352203],[123.89281,-16.333713],[123.8838,-16.304033],[123.98384,-16.379503],[123.98759,-16.370433],[123.94933,-16.304383],[123.93358,-16.297723],[123.960979,-16.279823],[124.000079,-16.291832],[123.915949,-16.231473],[123.909909,-16.210293],[124.002819,-16.254562],[123.999819,-16.264722],[124.124538,-16.288902],[124.179728,-16.309581],[124.210088,-16.397011],[124.201848,-16.404761],[124.311227,-16.420161],[124.324957,-16.414921],[124.308098,-16.455421],[124.319158,-16.468691],[124.373397,-16.442741],[124.390137,-16.445191],[124.406438,-16.533871],[124.410298,-16.543251],[124.448047,-16.496081],[124.468217,-16.498551],[124.419097,-16.485221],[124.402777,-16.469661],[124.401897,-16.429011],[124.388797,-16.415221],[124.346447,-16.424751],[124.336527,-16.418821],[124.365657,-16.378731],[124.387487,-16.34562],[124.449537,-16.38862],[124.449227,-16.41091],[124.745415,-16.389979],[124.840514,-16.43432],[124.917184,-16.420818],[124.922285,-16.391137],[124.947665,-16.393327],[124.953335,-16.371327],[124.917735,-16.388077],[124.901265,-16.416048],[124.830524,-16.40907],[124.814465,-16.416409],[124.715185,-16.355839],[124.693485,-16.344719],[124.457436,-16.35284],[124.424167,-16.35958],[124.405937,-16.33421],[124.394547,-16.33853],[124.398967,-16.27402],[124.407867,-16.25067],[124.378747,-16.22702],[124.379037,-16.21663],[124.400967,-16.18272],[124.398577,-16.169479],[124.427696,-16.182809],[124.434656,-16.178809],[124.448916,-16.110279],[124.444346,-16.065389],[124.464066,-16.071809],[124.477236,-16.078539],[124.479966,-16.094139],[124.458426,-16.102519],[124.516776,-16.177439],[124.508166,-16.206029],[124.541436,-16.157619],[124.560716,-16.119458],[124.599256,-16.127398],[124.646945,-16.098108],[124.607146,-16.113428],[124.592446,-16.116078],[124.595486,-16.027418],[124.579456,-16.000528],[124.591275,-15.997678],[124.588885,-15.973497],[124.634041,-15.99857],[124.642635,-15.988417],[124.615545,-15.964507],[124.598445,-15.967607],[124.621185,-15.906097],[124.605295,-15.898437],[124.668465,-15.862727],[124.681575,-15.888916],[124.704515,-15.814056],[124.741585,-15.822276],[124.702985,-15.766496],[124.704344,-15.750216],[124.678965,-15.769706],[124.704784,-15.741066],[124.633865,-15.790477],[124.632785,-15.778957],[124.516376,-15.979718],[124.498596,-15.998068],[124.508266,-15.946368],[124.512456,-15.934418],[124.487306,-15.920408],[124.476696,-15.941578],[124.478906,-15.893378],[124.499406,-15.889778],[124.459346,-15.817708],[124.476646,-15.820258],[124.461202,-15.802971],[124.443376,-15.809198],[124.417516,-15.876798],[124.409286,-15.863848],[124.410286,-15.805898],[124.385946,-15.717558],[124.419216,-15.723958],[124.437256,-15.711468],[124.409026,-15.710998],[124.397346,-15.726028],[124.375976,-15.680098],[124.368816,-15.671878],[124.412666,-15.681428],[124.414366,-15.637228],[124.429656,-15.664268],[124.443686,-15.669738],[124.436506,-15.643498],[124.433775,-15.623017],[124.482955,-15.618837],[124.500625,-15.636687],[124.459585,-15.608557],[124.453875,-15.591877],[124.416035,-15.620168],[124.404585,-15.615128],[124.430075,-15.560787],[124.417525,-15.549247],[124.461995,-15.532067],[124.465785,-15.536897],[124.473045,-15.503557],[124.486525,-15.497277],[124.496185,-15.516547],[124.510425,-15.525127],[124.498575,-15.505807],[124.492535,-15.486177],[124.461595,-15.498187],[124.446375,-15.506277],[124.508594,-15.470327],[124.518254,-15.468737],[124.614444,-15.519576],[124.628764,-15.525666],[124.633404,-15.436696],[124.645724,-15.424696],[124.645674,-15.434136],[124.642194,-15.463116],[124.677064,-15.478196],[124.674194,-15.498086],[124.678184,-15.411636],[124.676174,-15.400686],[124.727203,-15.363405],[124.744773,-15.361785],[124.666774,-15.361946],[124.661984,-15.354946],[124.656463,-15.336876],[124.661913,-15.324886],[124.691033,-15.333196],[124.707193,-15.320805],[124.672843,-15.269046],[124.674673,-15.255036],[124.701373,-15.278375],[124.705033,-15.253395],[124.770573,-15.302065],[124.736123,-15.343165],[124.753253,-15.354425],[124.783853,-15.311885],[124.783233,-15.294465],[124.822163,-15.311885],[124.846793,-15.299055],[124.840523,-15.340645],[124.847663,-15.353175],[124.888623,-15.356435],[124.907062,-15.360235],[124.971323,-15.420935],[124.978842,-15.409605],[125.003773,-15.440144],[125.002983,-15.448394],[124.958033,-15.479725],[124.952943,-15.489225],[124.982983,-15.484275],[124.996233,-15.476995],[124.995973,-15.500835],[124.999513,-15.510445],[125.011283,-15.480144],[125.018333,-15.471494],[125.011343,-15.528575],[125.017103,-15.544665],[125.062622,-15.460934],[125.088652,-15.463214],[125.305398,-15.622804],[125.421186,-15.696025],[125.087702,-15.441514],[125.070032,-15.440244],[125.088822,-15.369454],[125.090851,-15.354984],[125.159121,-15.335264],[125.164091,-15.330574],[125.154771,-15.317424],[125.157741,-15.306144],[125.118781,-15.328894],[125.088561,-15.337704],[125.107671,-15.263074],[125.118921,-15.255614],[125.105101,-15.261394],[125.100321,-15.285924],[125.086621,-15.264394],[125.077451,-15.247674],[125.094301,-15.292044],[125.081251,-15.314354],[125.034942,-15.288194],[125.030672,-15.274794],[124.920082,-15.356465],[124.897912,-15.339925],[124.880122,-15.310485],[124.876132,-15.302025],[124.933372,-15.231134],[124.927432,-15.229224],[124.981512,-15.224204],[125.005642,-15.241934],[125.060211,-15.180784],[125.056031,-15.164434],[125.022781,-15.156164],[125.013821,-15.154504],[125.014251,-15.175854],[124.992821,-15.197844],[124.978281,-15.168174],[124.970141,-15.164254],[124.961052,-15.195574],[124.971102,-15.208304],[124.939892,-15.197104],[124.935172,-15.187414],[124.907942,-15.245664],[124.875772,-15.261915],[124.891822,-15.230334],[124.868842,-15.243635],[124.864272,-15.194945],[124.896372,-15.173444],[124.844662,-15.173195],[124.837712,-15.183155],[124.845792,-15.162704],[124.833912,-15.157965],[124.906811,-15.115854],[124.910381,-15.106804],[124.981151,-15.126474],[124.985051,-15.133284],[125.011141,-15.093504],[125.029861,-15.113284],[125.02517,-14.992374],[125.01197,-14.983164],[125.05448,-14.988094],[125.07429,-14.975763],[125.09283,-14.988153],[125.05901,-15.028274],[125.08347,-15.040613],[125.07237,-15.064904],[125.10552,-15.033183],[125.12567,-15.043503],[125.14502,-15.134713],[125.16324,-15.151363],[125.22701,-15.113823],[125.22545,-15.103433],[125.27102,-15.113733],[125.2811,-15.097543],[125.28972,-15.099653],[125.2823,-15.143623],[125.32534,-15.152463],[125.33493,-15.162923],[125.443089,-15.148722],[125.481329,-15.154802],[125.380459,-15.112322],[125.357649,-15.108373],[125.373079,-15.103322],[125.401919,-15.084662],[125.367399,-15.062462],[125.375479,-15.052712],[125.474788,-15.004772],[125.481598,-14.998582],[125.420979,-15.021652],[125.408979,-14.998582],[125.409369,-15.025102],[125.385939,-15.032552],[125.365369,-14.991422],[125.295459,-14.995933],[125.285599,-14.999193],[125.295989,-14.976633],[125.304639,-14.961642],[125.265069,-14.976143],[125.254389,-14.978403],[125.262409,-14.945913],[125.257649,-14.943753],[125.222459,-14.970493],[125.213719,-14.969813],[125.232979,-14.931573],[125.230709,-14.919133],[125.255039,-14.926583],[125.256299,-14.899833],[125.287209,-14.928732],[125.294689,-14.937972],[125.316739,-14.887622],[125.333978,-14.881312],[125.295889,-14.875282],[125.286669,-14.852972],[125.250949,-14.872263],[125.235519,-14.867573],[125.249119,-14.834542],[125.244139,-14.831702],[125.223559,-14.866613],[125.210099,-14.864883],[125.186169,-14.837353],[125.184119,-14.826953],[125.205169,-14.791023],[125.201709,-14.785133],[125.150789,-14.775103],[125.141429,-14.747673],[125.159799,-14.732123],[125.188979,-14.747033],[125.182908,-14.726913],[125.179848,-14.709853],[125.201138,-14.697972],[125.211478,-14.721712],[125.210558,-14.692252],[125.212858,-14.668662],[125.245558,-14.675562],[125.262108,-14.693082],[125.279288,-14.653672],[125.308418,-14.649942],[125.288448,-14.623222],[125.228338,-14.658452],[125.204228,-14.651462],[125.335667,-14.555772],[125.347587,-14.564732],[125.342057,-14.521583],[125.364136,-14.505743],[125.368927,-14.563561],[125.354587,-14.584062],[125.394427,-14.565111],[125.400087,-14.572811],[125.399597,-14.547181],[125.410267,-14.545631],[125.427157,-14.630582],[125.429947,-14.641492],[125.467386,-14.559241],[125.466526,-14.535531],[125.480456,-14.532192],[125.491386,-14.560332],[125.495646,-14.530434],[125.488606,-14.519234],[125.515286,-14.512984],[125.520306,-14.500245],[125.541376,-14.509891],[125.560606,-14.514799],[125.529916,-14.546101],[125.534786,-14.563911],[125.569426,-14.55828],[125.599326,-14.56264],[125.572466,-14.547679],[125.600125,-14.517499],[125.613705,-14.510638],[125.602375,-14.498308],[125.588215,-14.505729],[125.616884,-14.395855],[125.622704,-14.385715],[125.608014,-14.374955],[125.588564,-14.369935],[125.583923,-14.260127],[125.573683,-14.261647],[125.605922,-14.242996],[125.596212,-14.237326],[125.649142,-14.259596],[125.648562,-14.243426],[125.695303,-14.292425],[125.703273,-14.304065],[125.717913,-14.277455],[125.730063,-14.280985],[125.710864,-14.327676],[125.697204,-14.325386],[125.717564,-14.334116],[125.726354,-14.341815],[125.669514,-14.331757],[125.663374,-14.335537],[125.682415,-14.469369],[125.688726,-14.499406],[125.652015,-14.60205],[125.646906,-14.648196],[125.669335,-14.60922],[125.708916,-14.486577],[125.765385,-14.47224],[125.774405,-14.47971],[125.797984,-14.44532],[125.806095,-14.44432],[125.816165,-14.45167],[125.802565,-14.47908],[125.852075,-14.45669],[125.859125,-14.47498],[125.828055,-14.48092],[125.817205,-14.49759],[125.849884,-14.53591],[125.835584,-14.56806],[125.830574,-14.58509],[125.894764,-14.62309],[125.910034,-14.66159],[125.932689,-14.645013],[125.936734,-14.64297],[125.919144,-14.58281],[125.902694,-14.57649],[125.920684,-14.5521],[125.920584,-14.53724],[126.041913,-14.53672],[126.050933,-14.52964],[126.024763,-14.4578],[126.019604,-14.41138],[125.985464,-14.41953],[125.976674,-14.3933],[126.081902,-14.358909],[126.088431,-14.351209],[126.073041,-14.297769],[126.053401,-14.254209],[126.093932,-14.243999],[126.13322,-14.231448],[126.147759,-14.209168],[126.160189,-14.176488],[126.141279,-14.157778],[126.169718,-14.146188],[126.126217,-14.09693],[126.104427,-14.07575],[126.064057,-14.07335],[126.032518,-14.0951],[126.004138,-14.069511],[125.993078,-14.068211],[125.972917,-13.998672],[125.983847,-13.989812],[126.005357,-14.040031],[126.010148,-14.065431],[126.029287,-14.034671],[126.026707,-14.016721],[126.034767,-14.0383],[126.055987,-14.0266],[126.038526,-13.991581],[126.038186,-13.981531],[126.083056,-14.03467],[126.102616,-14.04084],[126.086406,-13.98768],[126.107235,-13.97675],[126.021126,-13.939281],[126.011206,-13.925722],[126.065075,-13.927261],[126.094815,-13.89534],[126.100705,-13.90008],[126.085315,-13.92095],[126.107865,-13.91906],[126.085635,-13.94568],[126.104965,-13.9256],[126.132355,-13.94449],[126.134225,-13.91897],[126.158385,-13.91504],[126.141355,-13.95985],[126.158695,-13.97014],[126.110075,-14.01383],[126.109766,-14.02829],[126.187035,-13.968129],[126.215825,-13.967579],[126.221025,-13.987908],[126.157755,-13.9978],[126.144305,-14.01499],[126.220415,-14.017498],[126.224715,-14.026419],[126.160256,-14.05754],[126.149526,-14.06751],[126.159126,-14.06873],[126.191856,-14.066269],[126.178147,-14.091379],[126.214206,-14.076488],[126.216517,-14.120878],[126.179398,-14.130359],[126.208928,-14.136488],[126.185969,-14.166938],[126.204649,-14.185188],[126.243279,-14.175718],[126.233399,-14.203647],[126.216,-14.236568],[126.24097,-14.223397],[126.25363,-14.239177],[126.339398,-14.192717],[126.360798,-14.189937],[126.304048,-14.138817],[126.297568,-14.138837],[126.314457,-14.097326],[126.345006,-14.098007],[126.343836,-14.058816],[126.334326,-14.050036],[126.371905,-14.045167],[126.394325,-14.051776],[126.387615,-14.037886],[126.396554,-14.014916],[126.425344,-14.012066],[126.438364,-13.982726],[126.446014,-14.002306],[126.454354,-14.005216],[126.511483,-13.964726],[126.536992,-13.934446],[126.565248,-13.944527],[126.565932,-13.954755],[126.508963,-14.008846],[126.491033,-14.008576],[126.483544,-14.047366],[126.449465,-14.083736],[126.454675,-14.103526],[126.478804,-14.109646],[126.513734,-14.075496],[126.525444,-14.081666],[126.499484,-14.100186],[126.499154,-14.130286],[126.555814,-14.151036],[126.569774,-14.139795],[126.575465,-14.228705],[126.601665,-14.235825],[126.660983,-14.114764],[126.644843,-14.077095],[126.685593,-14.103694],[126.689353,-14.091244],[126.686294,-14.131034],[126.693834,-14.134724],[126.723133,-14.065204],[126.762732,-14.050093],[126.757773,-14.016353],[126.753993,-14.011363],[126.738623,-14.013934],[126.723313,-14.029374],[126.695932,-13.999014],[126.706052,-13.973334],[126.728763,-13.996574],[126.751553,-13.991793],[126.750702,-13.972143],[126.817372,-13.982073],[126.838291,-13.971073],[126.882141,-13.998573],[126.905371,-13.985232],[126.839461,-13.927693],[126.805571,-13.930473],[126.760452,-13.808213],[126.743302,-13.791753],[126.794021,-13.776413],[126.81874,-13.769352],[126.826231,-13.808542],[126.84232,-13.816982],[126.84737,-13.797762],[126.87294,-13.799002],[126.85159,-13.774482],[126.87049,-13.751392],[126.881,-13.748662],[126.92047,-13.768332],[126.921769,-13.776122],[126.944399,-13.767592],[126.91439,-13.741232],[126.954289,-13.747572],[126.963289,-13.741672],[127.03664,-13.832081],[127.047079,-13.805722],[127.04578,-13.833411],[127.04432,-13.848891],[127.06857,-13.835941],[127.08142,-13.839971],[127.07666,-13.869811],[127.06058,-13.907921],[127.06935,-13.896161],[127.10285,-13.884301],[127.10076,-13.914021],[127.09386,-13.927381],[127.1272,-13.965691],[127.14288,-13.982251],[127.16981,-13.91064],[127.190729,-13.90401],[127.19875,-13.94477],[127.20775,-13.97359],[127.235169,-13.90781],[127.246709,-13.90042],[127.290699,-13.93381],[127.318129,-13.96116],[127.334408,-13.963249],[127.345758,-13.954949],[127.321859,-13.9147],[127.347398,-13.906579],[127.410758,-13.961389],[127.430068,-13.942949],[127.459268,-14.035099],[127.452509,-14.058779],[127.477548,-14.062309],[127.482908,-14.085069],[127.514428,-14.066278],[127.523668,-14.069278],[127.508498,-14.087828],[127.537568,-14.086318],[127.523918,-14.119788],[127.549568,-14.110468],[127.556778,-14.104638],[127.634228,-14.179437],[127.669848,-14.190547],[127.737617,-14.287785],[127.762677,-14.303185],[127.765877,-14.352134],[127.760697,-14.367134],[127.782117,-14.350534],[127.834657,-14.451954],[127.850137,-14.484474],[127.880247,-14.470844],[127.902097,-14.505064],[127.929266,-14.502854],[127.940227,-14.543374],[127.927367,-14.557995],[127.953527,-14.570555],[127.952637,-14.586036],[127.984806,-14.579635],[127.993046,-14.556164],[128.069336,-14.620711],[128.069376,-14.650229],[128.201207,-14.706468],[128.221707,-14.721238],[128.225111,-14.740276],[128.218437,-14.754568],[128.200627,-14.737549],[128.183877,-14.744259],[128.193996,-14.828048],[128.192446,-14.838658],[128.151186,-14.841889],[128.118506,-14.86134],[128.122946,-14.87104],[128.139096,-14.870769],[128.092127,-15.070924],[128.074948,-15.103994],[128.083549,-15.152394],[128.098879,-15.167344],[128.081921,-15.258505],[128.092781,-15.281025],[128.044771,-15.288255],[128.040359,-15.292772],[128.08663,-15.366225],[128.08936,-15.390305],[128.07736,-15.433896],[128.05241,-15.479496],[127.99553,-15.514146],[127.99878,-15.518106],[128.0964,-15.467166],[128.11433,-15.427996],[128.11008,-15.209634],[128.128299,-15.183684],[128.188169,-15.228784],[128.258018,-15.306325],[128.327369,-15.505114],[128.341638,-15.501284],[128.324288,-15.483854],[128.299139,-15.460205],[128.292298,-15.363675],[128.300758,-15.319724],[128.239588,-15.247524],[128.220238,-15.203753],[128.221067,-15.130853],[128.194027,-15.093513],[128.228166,-15.003152],[128.265466,-14.982582],[128.289216,-14.974082],[128.324676,-15.036072],[128.331196,-15.035402],[128.295856,-14.937371],[128.313916,-14.925681],[128.328045,-14.974102],[128.361855,-15.066602],[128.364115,-15.040862],[128.358105,-14.991272],[128.378605,-15.000572],[128.410375,-15.032072],[128.349105,-14.967962],[128.358205,-14.885031],[128.429984,-14.980532],[128.448614,-15.002052],[128.402385,-14.878961],[128.421665,-14.881731],[128.511423,-15.013612],[128.518983,-15.014752],[128.477134,-14.911612],[128.466974,-14.889092],[128.380945,-14.8234],[128.393426,-14.80445],[128.528475,-14.779962],[128.550455,-14.767932],[128.588494,-14.797402],[128.587074,-14.807682],[128.613484,-14.787402],[128.678874,-14.795782],[128.777203,-14.847483],[128.787763,-14.860493],[129.001242,-14.879473],[129.00134,-31.687068],[128.494827,-31.911905],[128.314269,-31.979367],[127.452078,-32.222294],[127.32596,-32.256526],[126.73424,-32.305883],[126.672789,-32.308371],[126.422025,-32.284084],[126.203139,-32.232277],[126.037052,-32.268591],[125.95101,-32.290542],[125.801225,-32.366725],[125.53206,-32.549232],[125.439021,-32.582893],[125.315272,-32.607915],[125.102415,-32.715398],[125.026186,-32.728859],[124.894578,-32.832831],[124.814039,-32.872863],[124.305384,-32.98091],[124.238655,-33.017591],[124.154307,-33.096063],[124.101189,-33.176154],[123.998,-33.426375],[123.97602,-33.558606],[123.930731,-33.586658],[123.875072,-33.599018],[123.866822,-33.618738],[123.877712,-33.633178],[123.810233,-33.664769],[123.774417,-33.698186],[123.749193,-33.78314],[123.764154,-33.79524],[123.639134,-33.877],[123.573375,-33.887731],[123.553025,-33.927792],[123.534286,-33.940132],[123.412296,-33.893833],[123.371446,-33.895893],[123.303027,-33.961144],[123.286897,-33.979874],[123.212948,-34.001854],[123.163068,-34.016635],[123.162437,-33.968564],[123.161067,-33.945934],[123.083117,-33.871534],[123.022718,-33.856644],[122.979058,-33.887415],[122.975888,-33.902315],[122.812679,-33.889385],[122.773819,-33.877735],[122.64927,-33.897436],[122.61869,-33.892836],[122.59165,-33.909656],[122.58165,-33.916316],[122.58263,-33.958037],[122.57153,-33.961417],[122.444431,-33.919227],[122.364201,-33.913517],[122.326281,-33.928908],[122.274502,-33.959478],[122.280641,-33.989818],[122.277312,-34.000749],[122.136743,-34.006599],[122.113573,-34.017199],[122.093293,-34.002839],[122.093193,-33.993929],[122.118982,-33.980029],[122.085382,-33.902798],[122.030782,-33.844979],[122.001002,-33.829299],[121.829272,-33.888879],[121.789874,-33.909049],[121.674814,-33.874485],[121.644684,-33.898179],[121.627666,-33.86931],[121.546584,-33.82799],[121.428551,-33.830231],[121.361874,-33.815443],[121.198696,-33.844581],[121.177135,-33.877608],[121.172767,-33.867086],[121.099835,-33.848509],[120.639,-33.891729],[120.593472,-33.886246],[120.447181,-33.963548],[120.43657,-33.971882],[120.315466,-33.942267],[120.231065,-33.932406],[120.126592,-33.954487],[120.042168,-33.923368],[119.967498,-33.95607],[119.944395,-33.977887],[119.850753,-33.969836],[119.81637,-33.983476],[119.640269,-34.11263],[119.597462,-34.134587],[119.534915,-34.221382],[119.503722,-34.288015],[119.482109,-34.279528],[119.45712,-34.289075],[119.486654,-34.295244],[119.503207,-34.29035],[119.499148,-34.330005],[119.507448,-34.359128],[119.569888,-34.376625],[119.576278,-34.387181],[119.54744,-34.389647],[119.502718,-34.411473],[119.441935,-34.366471],[119.415734,-34.373289],[119.402417,-34.4525],[119.418618,-34.458921],[119.39019,-34.459595],[119.382143,-34.485365],[119.346392,-34.446224],[119.289851,-34.45198],[119.288592,-34.493436],[119.284847,-34.513085],[119.257808,-34.51887],[119.25449,-34.5346],[119.222245,-34.531332],[119.217883,-34.497961],[119.180712,-34.485889],[118.960905,-34.451277],[118.911791,-34.462878],[118.905782,-34.496859],[118.914168,-34.503178],[118.811598,-34.509473],[118.755351,-34.545573],[118.745441,-34.593669],[118.781709,-34.609001],[118.745957,-34.638323],[118.722385,-34.656893],[118.519837,-34.717451],[118.440144,-34.760757],[118.400428,-34.823854],[118.397075,-34.876645],[118.422406,-34.881459],[118.427747,-34.898744],[118.402601,-34.905161],[118.403425,-34.916704],[118.331264,-34.898061],[118.334039,-34.891437],[118.210999,-34.943949],[118.175323,-34.940093],[118.190393,-34.967373],[118.2107,-34.978845],[118.194646,-35.023122],[118.187455,-35.024623],[118.167453,-34.995229],[118.108758,-34.985902],[117.998839,-35.010009],[117.961875,-35.01313],[117.976718,-34.951961],[117.94893,-34.94365],[117.939387,-34.985854],[117.948679,-34.998172],[117.918679,-35.016578],[117.919537,-35.035785],[117.859596,-35.026856],[117.848248,-35.044897],[117.887888,-35.077541],[117.90929,-35.084445],[117.910393,-35.053563],[117.920354,-35.04087],[117.934674,-35.075488],[117.943593,-35.091664],[118.00226,-35.087523],[118.021209,-35.107929],[117.904428,-35.11468],[117.898808,-35.123447],[117.699847,-35.051865],[117.685596,-35.043346],[117.644602,-35.062122],[117.629383,-35.127747],[117.611236,-35.133337],[117.605589,-35.115308],[117.548633,-35.082535],[117.512349,-35.083117],[117.48526,-35.08897],[117.362834,-35.01957],[117.332467,-35.022812],[117.356851,-35.005152],[117.395747,-34.998141],[117.428481,-35.021619],[117.465766,-35.020544],[117.471867,-34.975857],[117.455199,-34.966957],[117.404886,-34.973502],[117.369155,-34.969487],[117.348802,-34.987004],[117.334227,-34.993712],[117.337031,-35.034639],[117.326067,-35.043897],[117.247599,-35.029324],[117.195241,-35.017104],[117.153613,-35.047796],[117.150469,-35.06148],[117.018925,-35.035512],[116.956844,-35.019364],[116.934394,-35.034983],[116.921228,-35.064349],[116.810454,-35.025767],[116.768273,-35.014721],[116.645501,-35.047159],[116.630374,-35.060835],[116.574846,-35.024375],[116.532847,-35.004438],[116.498432,-35.015451],[116.481664,-35.016156],[116.289466,-34.899747],[116.261291,-34.879922],[116.029668,-34.836755],[116.002145,-34.842218],[115.962426,-34.743911],[115.94719,-34.720824],[115.669869,-34.480925],[115.577862,-34.422088],[115.478856,-34.38174],[115.41791,-34.342289],[115.262563,-34.306793],[115.168887,-34.321749],[115.16529,-34.301376],[115.201944,-34.277636],[115.165207,-34.273688],[115.176676,-34.265659],[115.160423,-34.294769],[115.143848,-34.289482],[115.164672,-34.32284],[115.172977,-34.322976],[115.140164,-34.368932],[115.133997,-34.376086],[115.033996,-34.259112],[115.02375,-34.253029],[115.02441,-34.222803],[115.039132,-34.198194],[115.019226,-34.139158],[114.991097,-34.098468],[114.992227,-33.932673],[114.97595,-33.864183],[115.000101,-33.794171],[114.975079,-33.698053],[115.019396,-33.656495],[115.028268,-33.634152],[115.011321,-33.556435],[115.003732,-33.530913],[115.065085,-33.558402],[115.088836,-33.568289],[115.104741,-33.605905],[115.123254,-33.623884],[115.299974,-33.654816],[115.367242,-33.639391],[115.42754,-33.608303],[115.573649,-33.453763],[115.639797,-33.31873],[115.66626,-33.322086],[115.681022,-33.275255],[115.687753,-33.108628],[115.632637,-32.833887],[115.608247,-32.666719],[115.700593,-32.520285],[115.710538,-32.520568],[115.717609,-32.557609],[115.645158,-32.608198],[115.641006,-32.618505],[115.692719,-32.767689],[115.712431,-32.78772],[115.72587,-32.781745],[115.726835,-32.753347],[115.667165,-32.634585],[115.666353,-32.615729],[115.724219,-32.63188],[115.747016,-32.646339],[115.770639,-32.617785],[115.7775,-32.596343],[115.755304,-32.564816],[115.718518,-32.564406],[115.7379,-32.501939],[115.750188,-32.43962],[115.743892,-32.40349],[115.712858,-32.370174],[115.736117,-32.362418],[115.74334,-32.333568],[115.701971,-32.282413],[115.684747,-32.265981],[115.706381,-32.275911],[115.736703,-32.269668],[115.755697,-32.223666],[115.774567,-32.193807],[115.765778,-32.140146],[115.73734,-32.134952],[115.755948,-32.129549],[115.762755,-32.109293],[115.740895,-32.05698],[115.732237,-32.055678],[115.846419,-32.001719],[115.860631,-32.045816],[115.857253,-32.031184],[115.845083,-31.965227],[115.89873,-31.953675],[115.914832,-31.951167],[115.958636,-31.895333],[115.974023,-31.893722],[115.908899,-31.934846],[115.914072,-31.95032],[115.884725,-31.938378],[115.883369,-31.966952],[115.786605,-31.991033],[115.773792,-31.989209],[115.758386,-32.038878],[115.724374,-32.054056],[115.750832,-32.022301],[115.729627,-31.765771],[115.685783,-31.653709],[115.539123,-31.40829],[115.441094,-31.277796],[115.328329,-31.010648],[115.312809,-30.973147],[115.204504,-30.823381],[115.189756,-30.82495],[115.07514,-30.517769],[115.057946,-30.510248],[115.042,-30.337814],[115.020472,-30.317383],[115.046093,-30.291215],[115.042629,-30.273825],[115.028083,-30.23742],[114.994298,-30.231289],[114.998686,-30.182588],[115.00622,-30.159243],[114.965309,-30.054523],[114.954846,-30.048851],[114.977788,-29.945078],[114.982742,-29.911024],[114.959298,-29.770488],[114.957949,-29.683704],[114.997224,-29.513595],[114.997569,-29.493548],[114.920793,-29.255486],[114.872084,-29.116741],[114.831984,-29.066018],[114.637438,-28.87771],[114.612243,-28.795347],[114.576178,-28.784586],[114.605975,-28.774909],[114.614754,-28.762725],[114.596573,-28.611563],[114.533698,-28.494488],[114.341731,-28.267219],[114.323321,-28.233061],[114.197237,-28.126849],[114.174711,-28.110972],[114.144551,-27.972384],[114.105399,-27.850373],[114.163386,-27.706981],[114.104253,-27.503189],[113.965158,-27.230748],[113.783098,-26.929048],[113.584357,-26.671426],[113.296693,-26.400195],[113.294223,-26.363865],[113.299632,-26.342435],[113.236421,-26.233494],[113.15627,-26.151674],[113.260891,-26.191223],[113.269961,-26.241773],[113.284619,-26.040081],[113.299268,-26.015961],[113.331212,-26.329154],[113.326702,-26.337274],[113.338722,-26.347434],[113.356012,-26.330974],[113.369893,-26.383654],[113.368383,-26.399225],[113.394175,-26.39303]],[[113.39456,-26.393282],[113.39456,-26.393282]],[[117.976842,-34.951647],[117.976842,-34.951647]],[[125.035068,-15.518022],[125.035068,-15.518022]],[[121.794599,-18.520144],[121.794599,-18.520144]],[[118.850525,-20.288689],[118.850525,-20.288689]],[[117.549725,-20.718291],[117.549725,-20.718291]],[[117.175305,-20.666749],[117.175305,-20.666749]],[[116.986246,-20.67194],[116.986246,-20.67194]],[[116.675721,-20.732565],[116.675721,-20.732565]],[[116.652363,-20.735693],[116.652363,-20.735693]],[[116.64762,-20.745267],[116.64762,-20.745267]],[[116.635949,-20.741603],[116.635949,-20.741603]],[[116.467914,-20.827356],[116.467914,-20.827356]],[[116.475066,-20.849566],[116.475066,-20.849566]],[[116.105599,-21.038434],[116.105599,-21.038434]],[[115.856421,-21.194944],[115.856421,-21.194944]],[[115.837066,-21.252095],[115.837066,-21.252095]],[[115.796082,-21.265486],[115.796082,-21.265486]],[[115.745603,-21.281369],[115.745603,-21.281369]],[[115.330103,-21.587178],[115.330103,-21.587178]],[[113.618798,-26.520622],[113.618798,-26.520622]],[[115.916775,-21.092912],[115.916775,-21.092912]],[[116.54043,-20.766632],[116.54043,-20.766632]],[[117.173242,-20.6312],[117.173242,-20.6312]],[[117.339756,-20.759099],[117.339756,-20.759099]],[[122.293413,-17.119248],[122.293413,-17.119248]],[[124.461531,-15.798338],[124.461531,-15.798338]],[[115.877589,-32.027661],[115.877589,-32.027661]]],[[[126.565501,-13.944357],[126.565501,-13.944357]]],[[[128.473074,-14.909232],[128.466514,-14.928312],[128.448335,-14.904182],[128.445495,-14.879882],[128.473074,-14.909232]]],[[[128.442715,-14.878632],[128.442715,-14.878632]]],[[[128.334215,-14.75838],[128.297097,-14.745699],[128.294696,-14.73552],[128.334215,-14.75838]]],[[[128.201837,-15.140613],[128.193878,-15.166403],[128.197088,-15.193993],[128.126268,-15.156214],[128.114008,-15.121604],[128.125237,-15.095523],[128.124787,-15.040363],[128.201837,-15.140613]]],[[[128.113189,-15.171674],[128.113189,-15.171674]]],[[[127.874997,-14.454995],[127.850857,-14.479504],[127.838567,-14.457404],[127.853527,-14.435674],[127.863297,-14.430414],[127.874997,-14.454995]]],[[[127.823297,-14.366694],[127.823297,-14.366694]]],[[[127.716148,-14.237427],[127.716148,-14.237427]]],[[[127.175689,-13.90361],[127.175689,-13.90361]]],[[[126.882891,-13.990389],[126.832251,-13.961483],[126.819291,-13.960263],[126.869491,-13.967983],[126.866481,-13.955883],[126.882891,-13.990389]]],[[[126.882947,-13.990749],[126.882947,-13.990749]]],[[[126.897513,-13.986188],[126.897513,-13.986188]]],[[[126.824461,-13.945683],[126.824461,-13.945683]]],[[[126.700442,-13.943074],[126.676642,-13.961404],[126.700442,-13.943074]]],[[[126.634981,-13.871325],[126.620552,-13.882635],[126.614971,-13.862425],[126.634981,-13.871325]]],[[[126.619282,-13.890545],[126.617802,-13.908055],[126.608682,-13.913715],[126.513832,-13.906686],[126.502832,-13.886356],[126.504902,-13.869076],[126.522702,-13.866126],[126.619282,-13.890545]]],[[[126.608022,-13.945115],[126.608022,-13.945115]]],[[[126.593125,-14.215295],[126.593125,-14.215295]]],[[[126.586905,-14.223455],[126.586905,-14.223455]]],[[[126.403784,-13.989066],[126.384284,-14.011456],[126.362484,-13.982636],[126.403784,-13.989066]]],[[[126.321075,-13.942087],[126.314825,-13.961857],[126.299795,-13.967608],[126.321075,-13.942087]]],[[[126.318984,-13.886197],[126.318984,-13.886197]]],[[[126.317374,-13.909457],[126.317374,-13.909457]]],[[[126.299029,-14.163357],[126.299029,-14.163357]]],[[[126.295165,-13.941298],[126.283835,-13.945698],[126.272154,-13.927738],[126.295165,-13.941298]]],[[[126.243438,-14.148258],[126.243438,-14.148258]]],[[[126.194915,-13.935049],[126.164605,-13.96359],[126.155925,-13.96054],[126.194915,-13.935049]]],[[[126.152473,-13.75244],[126.152473,-13.75244]]],[[[126.046801,-14.327979],[126.023412,-14.32847],[126.017662,-14.35322],[125.998272,-14.32516],[125.985082,-14.3133],[125.986611,-14.28927],[126.008991,-14.28094],[126.046801,-14.327979]]],[[[126.043171,-14.233439],[126.006511,-14.24932],[125.993481,-14.24369],[126.043171,-14.233439]]],[[[126.004694,-14.43818],[125.994703,-14.44816],[125.982774,-14.44646],[126.004694,-14.43818]]],[[[125.995333,-14.37651],[125.984294,-14.38883],[125.971004,-14.38822],[125.995333,-14.37651]]],[[[125.994222,-14.32166],[125.994222,-14.32166]]],[[[125.970583,-14.34692],[125.944484,-14.388761],[125.924224,-14.377221],[125.952653,-14.32659],[125.959372,-14.32219],[125.970583,-14.34692]]],[[[125.79419,-14.160684],[125.79419,-14.160684]]],[[[125.773283,-14.326554],[125.773283,-14.326554]]],[[[125.756964,-14.45101],[125.736515,-14.476589],[125.717745,-14.477008],[125.721525,-14.44101],[125.727955,-14.409532],[125.756964,-14.45101]]],[[[125.739871,-14.183934],[125.739871,-14.183934]]],[[[125.720544,-14.351845],[125.720544,-14.351845]]],[[[125.70549,-14.135555],[125.70549,-14.135555]]],[[[125.683201,-14.168455],[125.683201,-14.168455]]],[[[125.681354,-14.370387],[125.681354,-14.370387]]],[[[125.644138,-13.946925],[125.644138,-13.946925]]],[[[125.584894,-14.357516],[125.584894,-14.357516]]],[[[125.562656,-14.48625],[125.523526,-14.467294],[125.511285,-14.454954],[125.511425,-14.444453],[125.529795,-14.422604],[125.562656,-14.48625]]],[[[125.560821,-14.105266],[125.560821,-14.105266]]],[[[125.520985,-14.425064],[125.516085,-14.434874],[125.500805,-14.430424],[125.520985,-14.425064]]],[[[125.505796,-14.508106],[125.505796,-14.508106]]],[[[125.497126,-14.499057],[125.451116,-14.496881],[125.444556,-14.481282],[125.497126,-14.499057]]],[[[125.443567,-14.574971],[125.443567,-14.574971]]],[[[125.441706,-14.53963],[125.441706,-14.53963]]],[[[125.435636,-14.55395],[125.435636,-14.55395]]],[[[125.414346,-14.539891],[125.414346,-14.539891]]],[[[125.411194,-14.336557],[125.411194,-14.336557]]],[[[125.367019,-15.078622],[125.367019,-15.078622]]],[[[125.366769,-15.010392],[125.366769,-15.010392]]],[[[125.345986,-14.493265],[125.345986,-14.493265]]],[[[125.330117,-14.553492],[125.330117,-14.553492]]],[[[125.320404,-14.267368],[125.320404,-14.267368]]],[[[125.310294,-14.276588],[125.310294,-14.276588]]],[[[125.306299,-15.069983],[125.306299,-15.069983]]],[[[125.278637,-14.581192],[125.267707,-14.587812],[125.254407,-14.577592],[125.278637,-14.581192]]],[[[125.273006,-14.478315],[125.264806,-14.470716],[125.248106,-14.472005],[125.273006,-14.478315]]],[[[125.271636,-14.414625],[125.256086,-14.418634],[125.245306,-14.418925],[125.271636,-14.414625]]],[[[125.25442,-15.085573],[125.24699,-15.095033],[125.22786,-15.096083],[125.25442,-15.085573]]],[[[125.253459,-14.977953],[125.232469,-14.996953],[125.228769,-14.991073],[125.253459,-14.977953]]],[[[125.244016,-14.422425],[125.244016,-14.422425]]],[[[125.23087,-15.070653],[125.21662,-15.105393],[125.19623,-15.120613],[125.16444,-15.082783],[125.1445,-15.041743],[125.1564,-15.026103],[125.1666,-15.020533],[125.17846,-15.048163],[125.17651,-15.066243],[125.23087,-15.070653]]],[[[125.229669,-14.908543],[125.229669,-14.908543]]],[[[125.229005,-14.300197],[125.229005,-14.300197]]],[[[125.216127,-14.495703],[125.184238,-14.551122],[125.180488,-14.559682],[125.210428,-14.591432],[125.214278,-14.607242],[125.147568,-14.635873],[125.152118,-14.655543],[125.135078,-14.651963],[125.136108,-14.628263],[125.108088,-14.642813],[125.092618,-14.625923],[125.102508,-14.568373],[125.096118,-14.546213],[125.142898,-14.564152],[125.151588,-14.565772],[125.146658,-14.525662],[125.149587,-14.519242],[125.117638,-14.507133],[125.118047,-14.493923],[125.160467,-14.471193],[125.151167,-14.452742],[125.216127,-14.495703]]],[[[125.208469,-14.952713],[125.200839,-14.966503],[125.188339,-14.962123],[125.208469,-14.952713]]],[[[125.189519,-14.870783],[125.189519,-14.870783]]],[[[125.147098,-14.663083],[125.147098,-14.663083]]],[[[125.145279,-14.761083],[125.145279,-14.761083]]],[[[125.134169,-14.752003],[125.134169,-14.752003]]],[[[125.053062,-15.309484],[125.053062,-15.309484]]],[[[125.036382,-15.327504],[124.995482,-15.375774],[124.992842,-15.357024],[125.036382,-15.327504]]],[[[125.032029,-14.782033],[125.032029,-14.782033]]],[[[125.015991,-15.206014],[125.015991,-15.206014]]],[[[125.014792,-15.430614],[125.014792,-15.430614]]],[[[124.999898,-14.516733],[124.979556,-14.524204],[124.976755,-14.507024],[124.990016,-14.498614],[124.990436,-14.484504],[124.999898,-14.516733]]],[[[124.995535,-14.440154],[124.979514,-14.444024],[124.972482,-14.437215],[124.995535,-14.440154]]],[[[124.985909,-14.395155],[124.983332,-14.424285],[124.973269,-14.397575],[124.959339,-14.401686],[124.985909,-14.395155]]],[[[124.984961,-15.055514],[124.971241,-15.086854],[124.952331,-15.098544],[124.955951,-15.070634],[124.969101,-15.042004],[124.984961,-15.055514]]],[[[124.984292,-15.343044],[124.980372,-15.352214],[124.950852,-15.364285],[124.984292,-15.343044]]],[[[124.962261,-15.044964],[124.944811,-15.075294],[124.939781,-15.067174],[124.962261,-15.044964]]],[[[124.959291,-15.029154],[124.939721,-15.049214],[124.913811,-14.996124],[124.920641,-14.980224],[124.883361,-14.996865],[124.876791,-14.986335],[124.898121,-14.974814],[124.921541,-14.967274],[124.91722,-14.922394],[124.92661,-14.926624],[124.94616,-14.965454],[124.930281,-15.007664],[124.959291,-15.029154]]],[[[124.932023,-14.521355],[124.932023,-14.521355]]],[[[124.92724,-14.895464],[124.92724,-14.895464]]],[[[124.890821,-14.948914],[124.890821,-14.948914]]],[[[124.872741,-14.939674],[124.872741,-14.939674]]],[[[124.866401,-15.023084],[124.854461,-15.031144],[124.844441,-15.024615],[124.866401,-15.023084]]],[[[124.863282,-15.286805],[124.860803,-15.313025],[124.841723,-15.314545],[124.863282,-15.286805]]],[[[124.858813,-15.342855],[124.858813,-15.342855]]],[[[124.857362,-15.256205],[124.811783,-15.306145],[124.790783,-15.287335],[124.799743,-15.260125],[124.809582,-15.229095],[124.857362,-15.256205]]],[[[124.807562,-15.216445],[124.801532,-15.222565],[124.783483,-15.218875],[124.807562,-15.216445]]],[[[124.789892,-15.013104],[124.789892,-15.013104]]],[[[124.779958,-14.949326],[124.779958,-14.949326]]],[[[124.762606,-14.954537],[124.762606,-14.954537]]],[[[124.748464,-14.910178],[124.748464,-14.910178]]],[[[124.732153,-14.860388],[124.732153,-14.860388]]],[[[124.720185,-16.376959],[124.691966,-16.377899],[124.679485,-16.368609],[124.720185,-16.376959]]],[[[124.703176,-16.356879],[124.691196,-16.364699],[124.672976,-16.356169],[124.703176,-16.356879]]],[[[124.694165,-14.953678],[124.694165,-14.953678]]],[[[124.671904,-14.945068],[124.671904,-14.945068]]],[[[124.655675,-15.788517],[124.648465,-15.799037],[124.628885,-15.804497],[124.655675,-15.788517]]],[[[124.654744,-15.397336],[124.566554,-15.444256],[124.524634,-15.448387],[124.520404,-15.431097],[124.513764,-15.426367],[124.589804,-15.381926],[124.591044,-15.369026],[124.537314,-15.375936],[124.527974,-15.357357],[124.522184,-15.378897],[124.535234,-15.383166],[124.516154,-15.392687],[124.507194,-15.397557],[124.512384,-15.365227],[124.498114,-15.369697],[124.486404,-15.403187],[124.475814,-15.405037],[124.466914,-15.372887],[124.461124,-15.355297],[124.500272,-15.336587],[124.517102,-15.333808],[124.515209,-15.313589],[124.535558,-15.303619],[124.504378,-15.30433],[124.494807,-15.29222],[124.558047,-15.2498],[124.571307,-15.245379],[124.568717,-15.29533],[124.556209,-15.314279],[124.571429,-15.313179],[124.589939,-15.312249],[124.589402,-15.336427],[124.580033,-15.342687],[124.654744,-15.397336]]],[[[124.649573,-15.167056],[124.649573,-15.167056]]],[[[124.649556,-16.349799],[124.564936,-16.34417],[124.649556,-16.349799]]],[[[124.640042,-15.281537],[124.618059,-15.290728],[124.612108,-15.283619],[124.640042,-15.281537]]],[[[124.620814,-15.432536],[124.602074,-15.441376],[124.594394,-15.441616],[124.620814,-15.432536]]],[[[124.596685,-15.910887],[124.557336,-15.964968],[124.532026,-15.966558],[124.596685,-15.910887]]],[[[124.577047,-15.268419],[124.577047,-15.268419]]],[[[124.547187,-15.23162],[124.547187,-15.23162]]],[[[124.515977,-15.21188],[124.515977,-15.21188]]],[[[124.500764,-15.456317],[124.500764,-15.456317]]],[[[124.495897,-15.20772],[124.495897,-15.20772]]],[[[124.485236,-15.967748],[124.485236,-15.967748]]],[[[124.4812,-15.318149],[124.4812,-15.318149]]],[[[124.476936,-15.987438],[124.476936,-15.987438]]],[[[124.470356,-16.004588],[124.470356,-16.004588]]],[[[124.470006,-15.914168],[124.455506,-15.955468],[124.449006,-15.984638],[124.470006,-15.914168]]],[[[124.464676,-16.35581],[124.435217,-16.37342],[124.433257,-16.36809],[124.464676,-16.35581]]],[[[124.461438,-15.30074],[124.352571,-15.322219],[124.342849,-15.30983],[124.417487,-15.26388],[124.441057,-15.24977],[124.461438,-15.30074]]],[[[124.455956,-15.860358],[124.455956,-15.860358]]],[[[124.455566,-15.875828],[124.455566,-15.875828]]],[[[124.404655,-15.530977],[124.404655,-15.530977]]],[[[124.401214,-15.342458],[124.401214,-15.342458]]],[[[124.399517,-15.22758],[124.399517,-15.22758]]],[[[124.395807,-16.32091],[124.395807,-16.32091]]],[[[124.374885,-15.390807],[124.366655,-15.398858],[124.337664,-15.376048],[124.374885,-15.390807]]],[[[124.367487,-16.365071],[124.367487,-16.365071]]],[[[124.358567,-16.346941],[124.358567,-16.346941]]],[[[124.351247,-16.359221],[124.351247,-16.359221]]],[[[124.349922,-15.330469],[124.318151,-15.35686],[124.303549,-15.351781],[124.349922,-15.330469]]],[[[124.286928,-15.301911],[124.241709,-15.319702],[124.231809,-15.318722],[124.232548,-15.297482],[124.266018,-15.282451],[124.286928,-15.301911]]],[[[124.259448,-16.384971],[124.223418,-16.380921],[124.216088,-16.354321],[124.259448,-16.384971]]],[[[124.235186,-15.968719],[124.201066,-15.965],[124.185326,-15.92455],[124.235186,-15.968719]]],[[[124.229576,-15.938239],[124.229576,-15.938239]]],[[[124.229139,-15.320422],[124.229139,-15.320422]]],[[[124.220096,-15.946089],[124.220096,-15.946089]]],[[[124.208339,-15.330552],[124.208339,-15.330552]]],[[[124.187286,-15.95343],[124.187286,-15.95343]]],[[[124.146301,-33.843288],[124.146301,-33.843288]]],[[[124.144068,-16.249811],[124.109728,-16.258302],[124.097608,-16.251112],[124.114068,-16.239792],[124.113078,-16.229162],[124.144068,-16.249811]]],[[[124.103397,-16.120371],[124.103397,-16.120371]]],[[[124.099247,-16.094241],[124.076967,-16.103932],[124.058717,-16.105732],[124.076517,-16.093842],[124.069147,-16.081432],[124.099247,-16.094241]]],[[[124.098587,-16.158092],[124.066688,-16.153372],[124.066397,-16.144892],[124.098587,-16.158092]]],[[[124.094238,-16.230632],[124.094238,-16.230632]]],[[[124.084958,-16.167502],[124.084958,-16.167502]]],[[[124.080308,-16.248622],[124.080308,-16.248622]]],[[[123.940059,-16.276973],[123.897149,-16.256993],[123.86151,-16.236163],[123.940059,-16.276973]]],[[[123.892899,-16.186323],[123.892899,-16.186323]]],[[[123.891156,-34.102025],[123.891156,-34.102025]]],[[[123.890659,-16.202923],[123.877589,-16.199543],[123.867479,-16.191333],[123.890659,-16.202923]]],[[[123.88644,-16.280093],[123.86355,-16.273593],[123.8574,-16.253203],[123.88644,-16.280093]]],[[[123.88518,-16.319723],[123.86483,-16.289883],[123.88518,-16.319723]]],[[[123.883869,-16.173713],[123.883869,-16.173713]]],[[[123.874299,-16.201783],[123.874299,-16.201783]]],[[[123.85708,-16.278523],[123.85708,-16.278523]]],[[[123.84502,-16.235593],[123.84502,-16.235593]]],[[[123.842349,-16.189003],[123.842349,-16.189003]]],[[[123.83545,-16.246713],[123.81795,-16.269303],[123.80411,-16.245233],[123.83133,-16.235033],[123.83107,-16.223673],[123.83545,-16.246713]]],[[[123.81997,-16.208163],[123.81997,-16.208163]]],[[[123.813379,-16.199013],[123.813379,-16.199013]]],[[[123.808799,-16.200053],[123.79137,-16.200253],[123.771889,-16.165513],[123.808799,-16.200053]]],[[[123.797439,-16.145363],[123.776589,-16.160263],[123.766099,-16.158573],[123.705399,-16.118983],[123.682889,-16.112013],[123.777599,-16.112543],[123.788699,-16.113653],[123.797439,-16.145363]]],[[[123.754498,-16.263279],[123.754498,-16.263279]]],[[[123.702957,-15.940013],[123.702957,-15.940013]]],[[[123.698311,-16.355403],[123.698311,-16.355403]]],[[[123.683302,-17.034349],[123.683302,-17.034349]]],[[[123.672201,-16.356203],[123.672201,-16.356203]]],[[[123.665822,-16.416291],[123.648352,-16.417952],[123.622162,-16.400552],[123.665822,-16.416291]]],[[[123.658141,-16.344673],[123.630121,-16.335963],[123.658141,-16.344673]]],[[[123.639979,-16.099334],[123.625179,-16.106674],[123.585069,-16.081454],[123.639979,-16.099334]]],[[[123.629252,-16.354043],[123.606411,-16.342883],[123.600111,-16.327793],[123.629252,-16.354043]]],[[[123.627372,-16.420602],[123.620393,-16.428342],[123.606902,-16.417832],[123.627372,-16.420602]]],[[[123.5951,-16.160564],[123.5951,-16.160564]]],[[[123.58008,-16.241364],[123.564521,-16.241345],[123.547171,-16.219825],[123.58008,-16.241364]]],[[[123.576361,-16.263834],[123.576361,-16.263834]]],[[[123.572981,-16.249674],[123.565961,-16.261934],[123.546281,-16.251925],[123.572981,-16.249674]]],[[[123.564059,-16.078104],[123.52563,-16.086694],[123.522529,-16.069034],[123.564059,-16.078104]]],[[[123.561677,-34.337796],[123.533998,-34.378066],[123.533847,-34.368826],[123.561677,-34.337796]]],[[[123.559471,-16.605066],[123.559471,-16.605066]]],[[[123.553747,-17.264932],[123.553747,-17.264932]]],[[[123.551969,-16.046464],[123.530189,-16.050444],[123.508429,-16.024304],[123.551969,-16.046464]]],[[[123.551777,-17.305272],[123.551777,-17.305272]]],[[[123.547791,-16.265395],[123.525681,-16.277285],[123.503391,-16.258435],[123.547791,-16.265395]]],[[[123.546407,-17.297342],[123.546407,-17.297342]]],[[[123.54628,-16.202865],[123.54628,-16.202865]]],[[[123.538491,-16.592456],[123.522781,-16.604856],[123.517852,-16.580845],[123.538491,-16.592456]]],[[[123.536827,-34.009693],[123.536827,-34.009693]]],[[[123.535228,-17.321252],[123.535228,-17.321252]]],[[[123.53494,-16.152795],[123.53494,-16.152795]]],[[[123.531241,-16.258465],[123.497041,-16.249675],[123.506631,-16.274295],[123.489791,-16.284765],[123.479781,-16.244095],[123.447401,-16.228875],[123.457311,-16.208955],[123.479011,-16.214355],[123.531241,-16.258465]]],[[[123.531181,-16.609346],[123.480531,-16.633756],[123.456542,-16.617146],[123.531181,-16.609346]]],[[[123.526168,-17.344372],[123.526168,-17.344372]]],[[[123.52516,-16.147515],[123.52516,-16.147515]]],[[[123.521711,-16.275895],[123.521711,-16.275895]]],[[[123.493402,-16.600296],[123.493402,-16.600296]]],[[[123.460991,-16.167835],[123.428301,-16.162225],[123.460991,-16.167835]]],[[[123.459381,-16.269815],[123.438251,-16.278296],[123.434571,-16.271026],[123.459381,-16.269815]]],[[[123.457898,-17.335873],[123.457898,-17.335873]]],[[[123.455532,-16.530435],[123.429332,-16.524876],[123.455532,-16.530435]]],[[[123.446,-16.088115],[123.44212,-16.113625],[123.42449,-16.087795],[123.446,-16.088115]]],[[[123.435441,-16.277706],[123.435441,-16.277706]]],[[[123.430001,-16.283646],[123.430001,-16.283646]]],[[[123.423888,-17.322183],[123.403658,-17.319363],[123.399528,-17.300693],[123.423888,-17.322183]]],[[[123.42252,-16.131755],[123.40027,-16.134485],[123.38934,-16.129065],[123.39351,-16.109665],[123.40135,-16.108835],[123.42252,-16.131755]]],[[[123.422142,-16.343036],[123.422142,-16.343036]]],[[[123.41937,-16.084585],[123.40632,-16.080165],[123.38924,-16.069825],[123.41937,-16.084585]]],[[[123.403002,-16.372136],[123.403002,-16.372136]]],[[[123.400362,-16.527766],[123.387832,-16.527196],[123.380082,-16.517176],[123.400362,-16.527766]]],[[[123.391252,-16.582626],[123.387972,-16.604636],[123.362992,-16.583596],[123.348152,-16.544906],[123.391252,-16.582626]]],[[[123.37639,-16.058285],[123.37639,-16.058285]]],[[[123.361102,-16.427126],[123.361102,-16.427126]]],[[[123.357412,-16.361407],[123.335932,-16.358717],[123.334682,-16.332817],[123.357412,-16.361407]]],[[[123.350751,-16.162046],[123.335841,-16.166986],[123.319851,-16.152916],[123.350751,-16.162046]]],[[[123.327591,-16.139886],[123.327591,-16.139886]]],[[[123.318522,-16.322257],[123.318522,-16.322257]]],[[[123.316771,-16.134916],[123.301891,-16.137596],[123.289971,-16.125946],[123.316771,-16.134916]]],[[[123.31376,-16.033365],[123.29492,-16.045956],[123.27753,-16.043406],[123.31376,-16.033365]]],[[[123.305812,-16.306977],[123.305812,-16.306977]]],[[[123.297452,-16.300787],[123.297452,-16.300787]]],[[[123.225803,-16.407458],[123.213343,-16.422588],[123.199383,-16.424708],[123.225803,-16.407458]]],[[[123.216378,-34.088235],[123.207209,-34.119455],[123.161119,-34.116876],[123.157479,-34.110326],[123.216378,-34.088235]]],[[[123.211453,-16.392728],[123.176563,-16.433508],[123.166583,-16.425149],[123.178863,-16.406059],[123.168163,-16.389109],[123.211453,-16.392728]]],[[[123.188488,-34.078365],[123.188488,-34.078365]]],[[[123.167983,-16.405039],[123.167983,-16.405039]]],[[[123.166635,-15.528529],[123.166635,-15.528529]]],[[[123.158473,-16.397139],[123.158473,-16.397139]]],[[[123.135823,-16.400859],[123.135823,-16.400859]]],[[[123.129223,-16.434929],[123.104123,-16.437479],[123.090913,-16.425919],[123.129223,-16.434929]]],[[[122.862299,-33.982616],[122.813979,-34.003036],[122.862299,-33.982616]]],[[[122.813069,-34.008576],[122.813069,-34.008576]]],[[[122.65492,-33.996987],[122.65492,-33.996987]]],[[[122.261105,-34.12415],[122.249174,-34.145101],[122.246334,-34.161311],[122.239143,-34.126411],[122.231214,-34.126531],[122.261105,-34.12415]]],[[[122.151673,-34.033439],[122.128523,-34.029409],[122.151673,-34.033439]]],[[[122.126503,-16.85257],[122.112663,-16.85845],[122.092593,-16.854631],[122.126503,-16.85257]]],[[[122.109584,-34.06435],[122.109584,-34.06435]]],[[[122.059017,-34.145891],[122.038627,-34.141572],[122.059017,-34.145891]]],[[[122.026873,-33.96346],[122.004353,-33.97092],[122.002263,-33.95806],[122.026873,-33.96346]]],[[[122.011284,-34.024181],[121.993355,-34.042161],[121.982475,-34.036721],[122.011284,-34.024181]]],[[[122.004794,-33.98727],[122.004794,-33.98727]]],[[[121.992693,-33.97312],[121.992693,-33.97312]]],[[[121.984127,-34.117533],[121.984127,-34.117533]]],[[[121.979725,-34.049472],[121.953565,-34.055912],[121.979725,-34.049472]]],[[[121.910222,-33.917719],[121.910222,-33.917719]]],[[[121.883822,-33.920179],[121.883822,-33.920179]]],[[[121.803543,-33.924811],[121.803543,-33.924811]]],[[[121.689596,-34.005122],[121.669176,-34.002433],[121.689596,-34.005122]]],[[[121.616807,-34.018844],[121.605967,-34.039344],[121.593107,-34.028943],[121.616807,-34.018844]]],[[[119.613867,-34.375885],[119.613867,-34.375885]]],[[[118.527655,-20.312141],[118.510665,-20.323751],[118.499545,-20.318621],[118.527655,-20.312141]]],[[[118.486712,-34.921999],[118.466729,-34.935495],[118.43686,-34.910698],[118.486712,-34.921999]]],[[[118.069948,-35.064917],[118.044119,-35.066411],[118.039712,-35.059841],[118.069948,-35.064917]]],[[[117.874168,-20.516177],[117.862358,-20.532148],[117.845238,-20.539198],[117.874168,-20.516177]]],[[[117.744051,-20.62725],[117.734171,-20.65371],[117.711371,-20.64298],[117.717111,-20.60756],[117.744051,-20.62725]]],[[[117.089441,-20.616303],[117.058322,-20.638793],[117.037842,-20.635984],[117.089441,-20.616303]]],[[[117.084729,-20.446752],[117.084729,-20.446752]]],[[[116.975219,-20.439783],[116.975219,-20.439783]]],[[[116.952899,-20.420053],[116.849338,-20.378805],[116.831809,-20.354075],[116.952899,-20.420053]]],[[[116.886349,-20.480536],[116.837001,-20.520006],[116.816122,-20.517866],[116.854348,-20.445166],[116.885701,-20.423638],[116.869809,-20.480076],[116.860889,-20.489386],[116.886349,-20.480536]]],[[[116.844128,-20.457306],[116.844128,-20.457306]]],[[[116.838758,-20.426296],[116.825078,-20.458326],[116.798329,-20.472587],[116.838758,-20.426296]]],[[[116.820204,-20.416699],[116.820204,-20.416699]]],[[[116.827288,-20.465986],[116.799342,-20.518307],[116.786862,-20.515777],[116.827288,-20.465986]]],[[[116.697464,-20.644838],[116.675484,-20.661878],[116.674544,-20.651818],[116.697464,-20.644838]]],[[[116.692212,-20.505437],[116.692212,-20.505437]]],[[[116.680673,-20.584068],[116.649934,-20.621248],[116.635363,-20.632378],[116.680673,-20.584068]]],[[[116.676393,-20.548978],[116.635343,-20.607768],[116.605703,-20.604778],[116.597172,-20.602749],[116.676393,-20.548978]]],[[[116.671183,-20.518177],[116.671183,-20.518177]]],[[[116.662114,-20.675499],[116.662114,-20.675499]]],[[[116.650012,-20.548878],[116.650012,-20.548878]]],[[[116.635012,-20.458967],[116.635012,-20.458967]]],[[[116.619152,-20.473828],[116.588972,-20.500838],[116.566062,-20.485748],[116.609222,-20.453887],[116.619152,-20.473828]]],[[[116.586122,-20.575539],[116.560861,-20.609339],[116.552761,-20.62089],[116.501421,-20.62154],[116.463222,-20.609611],[116.586122,-20.575539]]],[[[116.505132,-35.027943],[116.505132,-35.027943]]],[[[116.451572,-20.664521],[116.451572,-20.664521]]],[[[116.248732,-20.813223],[116.248732,-20.813223]]],[[[116.179151,-20.945226],[116.179151,-20.945226]]],[[[116.157821,-20.937576],[116.157821,-20.937576]]],[[[115.902311,-20.955348],[115.88163,-20.949709],[115.902311,-20.955348]]],[[[115.700388,-32.22636],[115.680808,-32.244161],[115.660534,-32.156225],[115.700388,-32.22636]]],[[[115.694669,-32.305286],[115.694669,-32.305286]]],[[[115.585513,-20.403446],[115.570543,-20.401956],[115.546023,-20.381486],[115.585513,-20.403446]]],[[[115.583248,-20.661117],[115.583248,-20.661117]]],[[[115.558403,-32.003453],[115.507593,-32.012964],[115.449783,-32.026185],[115.477243,-32.013764],[115.511343,-31.987614],[115.558403,-32.003453]]],[[[115.551205,-20.442445],[115.551205,-20.442445]]],[[[115.549115,-20.432686],[115.549115,-20.432686]]],[[[115.547284,-21.387085],[115.547284,-21.387085]]],[[[115.531971,-20.478538],[115.531971,-20.478538]]],[[[115.526096,-20.410539],[115.526096,-20.410539]]],[[[115.539503,-20.371706],[115.512763,-20.364835],[115.539503,-20.371706]]],[[[115.529804,-20.423036],[115.529804,-20.423036]]],[[[115.525987,-20.399742],[115.525987,-20.399742]]],[[[115.476919,-20.733548],[115.42452,-20.83807],[115.420731,-20.8637],[115.321031,-20.891581],[115.306821,-20.860441],[115.32154,-20.808271],[115.433089,-20.666898],[115.468679,-20.680238],[115.476919,-20.733548]]],[[[115.465286,-21.493407],[115.437428,-21.528148],[115.420108,-21.520118],[115.465286,-21.493407]]],[[[115.361458,-21.485118],[115.361458,-21.485118]]],[[[115.337102,-20.966192],[115.324002,-20.973882],[115.316621,-20.948202],[115.337102,-20.966192]]],[[[115.335951,-20.905681],[115.335951,-20.905681]]],[[[115.248307,-21.568981],[115.212386,-21.599761],[115.248307,-21.568981]]],[[[115.024964,-21.45828],[115.016784,-21.4652],[114.971534,-21.45938],[115.024964,-21.45828]]],[[[114.766554,-21.522192],[114.766554,-21.522192]]],[[[114.697414,-21.625864],[114.687744,-21.620234],[114.663904,-21.592164],[114.697414,-21.625864]]],[[[114.582488,-21.9909],[114.582488,-21.9909]]],[[[114.539751,-22.052841],[114.533689,-22.061613],[114.500758,-22.012392],[114.510348,-21.993762],[114.540818,-22.007431],[114.539751,-22.052841]]],[[[114.491409,-22.118596],[114.491409,-22.118596]]],[[[114.48995,-22.147037],[114.48995,-22.147037]]],[[[114.392474,-21.628267],[114.369784,-21.651857],[114.358194,-21.651177],[114.392474,-21.628267]]],[[[114.351554,-21.665957],[114.334524,-21.675208],[114.306014,-21.711648],[114.351554,-21.665957]]],[[[114.188829,-22.422416],[114.188829,-22.422416]]],[[[114.172859,-22.447197],[114.166589,-22.473808],[114.1476,-22.489439],[114.172859,-22.447197]]],[[[114.005403,-28.90065],[113.962024,-28.985081],[113.954074,-28.977151],[114.005403,-28.90065]]],[[[113.921806,-25.883864],[113.873556,-25.871034],[113.853716,-25.846234],[113.855826,-25.810704],[113.880736,-25.800773],[113.921806,-25.883864]]],[[[113.878802,-26.029192],[113.837327,-26.002146],[113.878802,-26.029192]]],[[[113.880375,-26.030403],[113.880375,-26.030403]]],[[[113.87216,-26.064486],[113.87216,-26.064486]]],[[[113.868412,-26.38413],[113.868412,-26.38413]]],[[[113.787881,-28.71395],[113.787881,-28.71395]]],[[[113.775116,-26.543621],[113.775116,-26.543621]]],[[[113.74466,-28.426357],[113.71939,-28.445377],[113.71808,-28.430017],[113.74466,-28.426357]]],[[[113.720956,-26.06162],[113.720956,-26.06162]]],[[[113.70848,-28.462717],[113.68579,-28.485128],[113.68207,-28.454007],[113.70848,-28.462717]]],[[[113.641118,-24.886206],[113.634714,-24.886565],[113.619694,-24.872405],[113.641118,-24.886206]]],[[[113.603089,-28.297866],[113.603089,-28.297866]]],[[[113.340322,-26.322034],[113.340322,-26.322034]]],[[[113.2369,-26.104322],[113.22908,-26.143573],[113.21628,-26.162503],[113.135968,-26.022343],[113.048587,-25.931073],[112.929794,-25.6432],[112.921124,-25.58819],[112.928673,-25.526509],[112.970672,-25.480388],[112.986462,-25.497298],[113.022632,-25.498978],[113.005593,-25.535998],[113.009403,-25.561188],[113.121127,-25.880431],[113.156007,-25.887821],[113.126497,-25.922432],[113.136678,-25.977432],[113.150727,-25.941282],[113.168057,-25.943272],[113.2369,-26.104322]]],[[[113.166282,-24.78089],[113.133574,-24.952212],[113.118985,-24.986862],[113.124404,-24.887552],[113.127983,-24.844101],[113.157122,-24.7546],[113.166282,-24.78089]]],[[[113.128236,-25.060023],[113.076049,-25.273245],[113.069298,-25.231425],[113.094766,-25.121114],[113.087656,-25.069843],[113.116485,-25.016173],[113.118365,-24.992162],[113.128236,-25.060023]]]]}},{type:"Feature",id:5,properties:{STATE_CODE:"6",STATE_NAME:"Tasmania"},geometry:{type:"MultiPolygon",coordinates:[[[[148.481887,-40.43493],[148.377985,-40.47656],[148.350555,-40.492835],[148.336025,-40.464909],[148.309927,-40.426733],[148.274015,-40.436305],[148.226774,-40.466084],[148.195969,-40.435512],[148.151251,-40.453808],[148.140784,-40.460478],[148.127716,-40.43969],[148.085808,-40.457369],[147.989826,-40.406039],[147.983558,-40.402756],[148.060493,-40.358765],[148.081524,-40.339214],[148.183895,-40.344876],[148.191856,-40.356219],[148.207251,-40.342389],[148.210703,-40.317825],[148.243538,-40.325385],[148.266865,-40.340703],[148.331004,-40.299877],[148.32979,-40.290762],[148.424169,-40.371445],[148.45149,-40.376693],[148.481887,-40.43493]]],[[[148.363358,-39.947817],[148.363358,-39.947817]]],[[[144.754462,-41.061823],[144.638921,-41.045355],[144.60734,-41.008782],[144.625825,-41.004986],[144.63284,-40.993842],[144.612249,-40.944652],[144.611738,-40.935732],[144.649198,-40.900148],[144.683765,-40.907252],[144.698764,-40.862325],[144.711558,-40.858335],[144.686043,-40.672218],[144.725587,-40.64169],[144.771754,-40.705922],[144.76588,-40.743571],[144.778436,-40.713336],[144.785517,-40.708478],[144.92797,-40.758715],[144.979247,-40.743338],[145.118606,-40.828989],[145.12138,-40.837964],[145.164147,-40.825593],[145.167158,-40.818999],[145.112783,-40.801398],[145.110431,-40.794288],[145.187798,-40.804082],[145.25692,-40.78985],[145.216107,-40.810913],[145.241386,-40.8137],[145.258989,-40.80576],[145.252619,-40.715537],[145.26034,-40.712323],[145.294779,-40.754827],[145.308672,-40.764172],[145.266141,-40.79791],[145.269072,-40.811055],[145.293602,-40.826904],[145.28008,-40.793723],[145.311445,-40.842656],[145.321458,-40.849701],[145.446687,-40.886104],[145.43537,-40.894268],[145.502628,-40.851704],[145.511598,-40.853572],[145.537742,-40.891482],[145.546148,-40.909124],[145.653703,-40.940308],[145.72934,-40.944952],[145.741271,-40.985375],[145.696461,-40.974734],[145.829824,-41.050013],[145.836074,-41.056969],[145.841021,-41.038702],[145.877089,-41.036858],[145.924255,-41.06655],[145.923258,-41.078016],[145.9249,-41.066182],[145.958099,-41.063036],[146.154381,-41.154331],[146.15236,-41.161853],[146.250711,-41.174882],[146.250678,-41.196567],[146.255419,-41.15182],[146.33269,-41.156626],[146.316034,-41.182843],[146.33651,-41.16028],[146.35686,-41.158478],[146.35619,-41.203896],[146.347735,-41.217352],[146.384725,-41.228853],[146.388562,-41.238242],[146.369695,-41.193808],[146.369814,-41.167473],[146.519351,-41.136185],[146.531894,-41.118429],[146.572988,-41.239339],[146.565167,-41.25103],[146.583418,-41.222754],[146.585031,-41.20509],[146.593914,-41.251432],[146.606795,-41.259365],[146.59548,-41.209322],[146.578055,-41.197681],[146.595022,-41.164375],[146.609586,-41.15845],[146.566707,-41.163766],[146.564451,-41.146471],[146.713516,-41.075036],[146.707594,-41.063722],[146.744522,-41.084775],[146.768439,-41.078863],[146.810304,-41.130746],[146.820089,-41.137656],[146.763244,-41.149663],[146.770639,-41.165274],[146.790177,-41.146078],[146.806961,-41.140575],[146.829891,-41.186615],[146.839009,-41.200033],[146.857579,-41.19303],[146.834072,-41.163131],[146.877814,-41.149989],[146.92315,-41.169772],[146.907239,-41.206215],[146.897505,-41.202552],[146.945779,-41.260201],[146.97473,-41.251689],[146.970107,-41.297668],[146.97063,-41.30922],[147.004923,-41.321225],[147.033772,-41.3558],[147.058436,-41.335689],[147.076859,-41.340994],[147.068964,-41.354366],[147.073927,-41.383968],[147.127813,-41.437589],[147.121852,-41.443637],[147.145933,-41.417212],[147.156018,-41.417372],[147.1421,-41.429361],[147.12702,-41.432141],[147.040017,-41.318655],[146.978166,-41.30878],[147.013751,-41.28358],[147.015391,-41.276387],[146.945667,-41.228867],[146.944659,-41.20656],[146.921478,-41.220309],[146.911996,-41.211971],[146.937295,-41.181782],[146.96542,-41.19006],[146.900329,-41.136987],[146.850922,-41.139972],[146.827795,-41.136306],[146.803965,-41.069733],[146.786601,-41.054124],[146.893736,-41.029678],[146.959263,-41.027492],[146.996952,-40.984845],[147.020898,-40.980265],[147.154308,-41.022045],[147.157889,-41.0314],[147.249447,-40.953479],[147.279843,-40.941692],[147.302561,-40.957694],[147.345618,-40.939475],[147.401375,-41.011332],[147.434541,-41.011899],[147.397054,-41.002901],[147.441482,-41.002915],[147.490728,-40.979349],[147.62682,-40.84502],[147.669685,-40.821027],[147.70646,-40.860312],[147.757456,-40.857606],[147.751958,-40.875958],[147.873879,-40.882913],[147.904155,-40.877669],[147.885044,-40.877794],[147.887073,-40.863556],[147.9329,-40.815249],[147.947832,-40.791051],[147.942752,-40.752717],[147.93876,-40.739958],[147.958594,-40.746525],[147.974703,-40.737601],[148.057849,-40.771625],[148.079273,-40.769059],[148.140873,-40.830521],[148.175264,-40.82965],[148.111816,-40.828161],[148.12618,-40.836042],[148.197595,-40.839431],[148.222758,-40.84604],[148.323833,-40.987847],[148.349459,-40.992895],[148.301579,-41.029206],[148.296827,-41.061945],[148.293865,-41.028949],[148.249497,-41.051097],[148.28219,-41.052229],[148.298152,-41.063829],[148.269515,-41.126026],[148.2849,-41.168601],[148.25287,-41.190939],[148.329319,-41.248609],[148.338352,-41.259955],[148.309885,-41.288513],[148.307776,-41.302225],[148.295442,-41.282706],[148.281601,-41.276556],[148.247498,-41.327717],[148.235763,-41.322759],[148.27158,-41.339573],[148.356003,-41.273877],[148.359084,-41.279556],[148.29374,-41.369317],[148.279124,-41.371733],[148.266477,-41.462171],[148.271,-41.502425],[148.253898,-41.477769],[148.249273,-41.486025],[148.316653,-41.575378],[148.320296,-41.621392],[148.284295,-41.757798],[148.264411,-41.807216],[148.319268,-41.903099],[148.32359,-41.917201],[148.289377,-41.982665],[148.284634,-42.038985],[148.333105,-42.10552],[148.340522,-42.102683],[148.324203,-42.149314],[148.297735,-42.166374],[148.345442,-42.183595],[148.357126,-42.180358],[148.308013,-42.266702],[148.314562,-42.275988],[148.26135,-42.254341],[148.251453,-42.242275],[148.277914,-42.173142],[148.259352,-42.165458],[148.297604,-42.140164],[148.298424,-42.12564],[148.268426,-42.109987],[148.247575,-42.116841],[148.224647,-42.076886],[148.221071,-42.068837],[148.18697,-42.077836],[148.157191,-42.074206],[148.242997,-42.002619],[148.24331,-41.988302],[148.217545,-42.002982],[148.197438,-42.020801],[148.170989,-41.997075],[148.163207,-41.997963],[148.146047,-42.041537],[148.133264,-42.043949],[148.157816,-42.049836],[148.165017,-42.051771],[148.093656,-42.081067],[148.093054,-42.080769],[148.211365,-42.084914],[148.235198,-42.097901],[148.123932,-42.092425],[148.046666,-42.118418],[148.070034,-42.112076],[148.085092,-42.125511],[148.07129,-42.15419],[148.083882,-42.167915],[148.013583,-42.23935],[148.015615,-42.285468],[148.000346,-42.309933],[147.93579,-42.336659],[147.93113,-42.343481],[147.954982,-42.343902],[147.962057,-42.35733],[147.996058,-42.311551],[148.018485,-42.315007],[148.015516,-42.32777],[148.026889,-42.349507],[147.987756,-42.389042],[147.980497,-42.405386],[147.998904,-42.43318],[147.976956,-42.441039],[148.010295,-42.441393],[147.997042,-42.501569],[148.010483,-42.510352],[147.968728,-42.520332],[147.94897,-42.55323],[147.914208,-42.516288],[147.923733,-42.496786],[147.913282,-42.530651],[147.91337,-42.548512],[147.888446,-42.54526],[147.875079,-42.554772],[147.91726,-42.590013],[147.945502,-42.606319],[147.957712,-42.652588],[147.92975,-42.644901],[147.953484,-42.66107],[147.962992,-42.669542],[147.869535,-42.818752],[147.884098,-42.84552],[147.870476,-42.83687],[147.864558,-42.814657],[147.835115,-42.86094],[147.844716,-42.874234],[147.791443,-42.89262],[147.790526,-42.903081],[147.721994,-42.886558],[147.669116,-42.901907],[147.647453,-42.892773],[147.640092,-42.879568],[147.684198,-42.864377],[147.70095,-42.871601],[147.653331,-42.87877],[147.605973,-42.869225],[147.603343,-42.798117],[147.594183,-42.781572],[147.537323,-42.783209],[147.539103,-42.771505],[147.539722,-42.80117],[147.53521,-42.805304],[147.445127,-42.783309],[147.434631,-42.774071],[147.471699,-42.820715],[147.481114,-42.826743],[147.578578,-42.825114],[147.613374,-42.845948],[147.529161,-42.847302],[147.503627,-42.86429],[147.511077,-42.87607],[147.494968,-42.911283],[147.541801,-42.959318],[147.554079,-42.985644],[147.5288,-43.006036],[147.520732,-43.021104],[147.418833,-43.050494],[147.408385,-43.046474],[147.40407,-42.984539],[147.391983,-42.9757],[147.408787,-42.962914],[147.452226,-43.032634],[147.468801,-43.026716],[147.468829,-42.999289],[147.478482,-42.982108],[147.445379,-42.978391],[147.44606,-42.964527],[147.491424,-42.927146],[147.485493,-42.912981],[147.479007,-42.90631],[147.435127,-42.908656],[147.421401,-42.939748],[147.40893,-42.938809],[147.417327,-42.908852],[147.404688,-42.884267],[147.365664,-42.870159],[147.352402,-42.875777],[147.350539,-42.860591],[147.358626,-42.84868],[147.284152,-42.777749],[147.264677,-42.778498],[147.265584,-42.738953],[147.262597,-42.730198],[147.252229,-42.751215],[147.256732,-42.757012],[147.198991,-42.725319],[147.139875,-42.767072],[147.114552,-42.773108],[147.154535,-42.752804],[147.198323,-42.74044],[147.252635,-42.786616],[147.283207,-42.789994],[147.262415,-42.81166],[147.255703,-42.814863],[147.305266,-42.826403],[147.322112,-42.832089],[147.332239,-42.90022],[147.360963,-42.914127],[147.32415,-43.006165],[147.344282,-43.051679],[147.314057,-43.059471],[147.284934,-43.008305],[147.270527,-43.024591],[147.265438,-43.021382],[147.27992,-43.026748],[147.255547,-43.073251],[147.279037,-43.074919],[147.301233,-43.087908],[147.269388,-43.121944],[147.246385,-43.122312],[147.255438,-43.188368],[147.260974,-43.223517],[147.240448,-43.256604],[147.242512,-43.268099],[147.188996,-43.276249],[147.167749,-43.283386],[147.142102,-43.253558],[147.151165,-43.241125],[147.100029,-43.245309],[147.088927,-43.243168],[147.091474,-43.219886],[147.117825,-43.2106],[147.09641,-43.17169],[147.08251,-43.16295],[147.063161,-43.217345],[147.061925,-43.2251],[147.010348,-43.190295],[146.984409,-43.189432],[147.044775,-43.047391],[147.029687,-43.058653],[146.959536,-43.156129],[146.949969,-43.16384],[147.097614,-43.280188],[147.100133,-43.290217],[147.080573,-43.292427],[147.06533,-43.332813],[147.045042,-43.312302],[147.00416,-43.335497],[146.982438,-43.330102],[147.032711,-43.34795],[147.059306,-43.353063],[147.012442,-43.42207],[147.026432,-43.435817],[146.947603,-43.43434],[146.923638,-43.415583],[146.920564,-43.438301],[146.915635,-43.447067],[146.996446,-43.461872],[147.001794,-43.479652],[146.972545,-43.468638],[146.942028,-43.478121],[146.943704,-43.512025],[146.976749,-43.487591],[146.954158,-43.51181],[146.952825,-43.532988],[146.9241,-43.530301],[146.917257,-43.546296],[146.910848,-43.514149],[146.900596,-43.51622],[146.889195,-43.553185],[146.87737,-43.558031],[146.923853,-43.580994],[146.920965,-43.600042],[146.844807,-43.633052],[146.826624,-43.643092],[146.831278,-43.615117],[146.785144,-43.60029],[146.711246,-43.626075],[146.705475,-43.633411],[146.670225,-43.594409],[146.660118,-43.60772],[146.610038,-43.559801],[146.599361,-43.561932],[146.578282,-43.485135],[146.559389,-43.464884],[146.551411,-43.510393],[146.596074,-43.543486],[146.367572,-43.520236],[146.344725,-43.512831],[146.317811,-43.536247],[146.290137,-43.54466],[146.272905,-43.49845],[146.216007,-43.485565],[146.209782,-43.506969],[146.209618,-43.534836],[146.161542,-43.516419],[146.159132,-43.499961],[146.142256,-43.504229],[146.147154,-43.52828],[146.110436,-43.523627],[146.109879,-43.557075],[146.046171,-43.552375],[146.031119,-43.570953],[146.027455,-43.488205],[146.029154,-43.464307],[146.000932,-43.437706],[145.997379,-43.406945],[145.934257,-43.390884],[145.921467,-43.381296],[145.968754,-43.35985],[145.977466,-43.355573],[145.983727,-43.388246],[145.993652,-43.394252],[145.975078,-43.349155],[145.986817,-43.329322],[146.071152,-43.366087],[146.083506,-43.371526],[146.091597,-43.36448],[146.058308,-43.344498],[146.101272,-43.345942],[146.130541,-43.355464],[146.140057,-43.406634],[146.14448,-43.408668],[146.143864,-43.408139],[146.134626,-43.376545],[146.176766,-43.382146],[146.155376,-43.362813],[146.20907,-43.375634],[146.223327,-43.389074],[146.222831,-43.332528],[146.231605,-43.322462],[146.189056,-43.315211],[146.176365,-43.326664],[146.176098,-43.298348],[146.168445,-43.291051],[146.136408,-43.345624],[146.111866,-43.348394],[146.065661,-43.297668],[146.064467,-43.289388],[146.049175,-43.321093],[146.058972,-43.333562],[146.028734,-43.342392],[146.00377,-43.335344],[145.963553,-43.285668],[145.953416,-43.281066],[145.968161,-43.24758],[145.979953,-43.234805],[145.93247,-43.21255],[145.917305,-43.211356],[145.924841,-43.224941],[145.928463,-43.24519],[145.87567,-43.273186],[145.862489,-43.273027],[145.901083,-43.26546],[145.923948,-43.267433],[145.920125,-43.291979],[145.926633,-43.300487],[145.850545,-43.306778],[145.84123,-43.315266],[145.796684,-43.219055],[145.807892,-43.209456],[145.768731,-43.185621],[145.761563,-43.193252],[145.724969,-43.122477],[145.736226,-43.116731],[145.683356,-43.100387],[145.673376,-43.106727],[145.68453,-43.068549],[145.682228,-43.050468],[145.561365,-42.9711],[145.494879,-42.991523],[145.492197,-42.955964],[145.504398,-42.948712],[145.451969,-42.897817],[145.436027,-42.873448],[145.365816,-42.689161],[145.36621,-42.656512],[145.285383,-42.632372],[145.262948,-42.621623],[145.299221,-42.577243],[145.304412,-42.571212],[145.267469,-42.528593],[145.252826,-42.522088],[145.223181,-42.355295],[145.196129,-42.327835],[145.213811,-42.298368],[145.213726,-42.277729],[145.173943,-42.209927],[145.165516,-42.196975],[145.208754,-42.207399],[145.207299,-42.200093],[145.256062,-42.267325],[145.253472,-42.288472],[145.299572,-42.296653],[145.317507,-42.285349],[145.310036,-42.320457],[145.415589,-42.371743],[145.453279,-42.404432],[145.461906,-42.500602],[145.473909,-42.525843],[145.464043,-42.442595],[145.473877,-42.440561],[145.452654,-42.442002],[145.458028,-42.434789],[145.60815,-42.453045],[145.618204,-42.445481],[145.524527,-42.443517],[145.513056,-42.434502],[145.54256,-42.369195],[145.557614,-42.357028],[145.530178,-42.372616],[145.512366,-42.374196],[145.49946,-42.332343],[145.494117,-42.321867],[145.492642,-42.355928],[145.480852,-42.36448],[145.377435,-42.251744],[145.364827,-42.251677],[145.356292,-42.1941],[145.372907,-42.195406],[145.325976,-42.160731],[145.333926,-42.15176],[145.307823,-42.148906],[145.30357,-42.15281],[145.315747,-42.15776],[145.318164,-42.176185],[145.290158,-42.196647],[145.289682,-42.227293],[145.249216,-42.220926],[145.223136,-42.218705],[145.25957,-42.168154],[145.263729,-42.112306],[145.196877,-41.948587],[145.204115,-41.936815],[145.109202,-41.877107],[145.07146,-41.854712],[144.980118,-41.739562],[144.985053,-41.735538],[144.927021,-41.720933],[144.91122,-41.691228],[145.051069,-41.608013],[145.050574,-41.601303],[144.974744,-41.628734],[144.920865,-41.667596],[144.78528,-41.445714],[144.745887,-41.421491],[144.789891,-41.39513],[144.705924,-41.254754],[144.683526,-41.234829],[144.678073,-41.079778],[144.65934,-41.057356],[144.68122,-41.050207],[144.68396,-41.038485],[144.754462,-41.061823]],[[144.779333,-41.0795],[144.779333,-41.0795]],[[144.777341,-41.070091],[144.777341,-41.070091]],[[144.796219,-41.055736],[144.796219,-41.055736]],[[144.79154,-41.084969],[144.79154,-41.084969]],[[145.064125,-41.634036],[145.081232,-41.657116],[145.103775,-41.655895],[145.064125,-41.634036]],[[145.388656,-42.196644],[145.411219,-42.198418],[145.414992,-42.196811],[145.388656,-42.196644]],[[145.430958,-42.190011],[145.487023,-42.186916],[145.499953,-42.176319],[145.430958,-42.190011]],[[146.156535,-43.414211],[146.156535,-43.414211]],[[147.535871,-42.960446],[147.518198,-42.963502],[147.509146,-42.967315],[147.528667,-42.985174],[147.535871,-42.960446]],[[148.301216,-41.251273],[148.301216,-41.251273]],[[147.201143,-40.999743],[147.201143,-40.999743]],[[146.151654,-41.162045],[146.131761,-41.157267],[146.120766,-41.155706],[146.151654,-41.162045]],[[145.120845,-40.838941],[145.091374,-40.847701],[145.120845,-40.838941]],[[148.248756,-41.459656],[148.248756,-41.459656]],[[148.229653,-41.44264],[148.229653,-41.44264]],[[148.21989,-41.44558],[148.21989,-41.44558]],[[148.204248,-41.443691],[148.204248,-41.443691]],[[148.075841,-42.067087],[148.075841,-42.067087]],[[147.05231,-43.041767],[147.034041,-43.010891],[147.002317,-43.01687],[147.05231,-43.041767]],[[146.917754,-43.436894],[146.917754,-43.436894]],[[145.917851,-43.21031],[145.921338,-43.163191],[145.940454,-43.150439],[145.917851,-43.21031]],[[145.613883,-42.437439],[145.648221,-42.435776],[145.671991,-42.444866],[145.666151,-42.538227],[145.670983,-42.562363],[145.729697,-42.582795],[145.741359,-42.591139],[145.701175,-42.571647],[145.671843,-42.560717],[145.67875,-42.502002],[145.673267,-42.44273],[145.613883,-42.437439]],[[145.246202,-42.030615],[145.253247,-42.019488],[145.267714,-42.022905],[145.246202,-42.030615]]],[[[148.349737,-40.517405],[148.340391,-40.517047],[148.327874,-40.501534],[148.349737,-40.517405]]],[[[148.347729,-39.950922],[148.322896,-39.959535],[148.315224,-39.946672],[148.347729,-39.950922]]],[[[148.345979,-42.341687],[148.236565,-42.317678],[148.236136,-42.306489],[148.27924,-42.302213],[148.298482,-42.292461],[148.345979,-42.341687]]],[[[148.334277,-40.208333],[148.283291,-40.231378],[148.258928,-40.209863],[148.210283,-40.210695],[148.185396,-40.249854],[148.122105,-40.274035],[148.059975,-40.247765],[148.04611,-40.249506],[148.019666,-40.136914],[148.007019,-40.105369],[147.964487,-40.088787],[147.95365,-40.099005],[147.951703,-40.061202],[147.93385,-40.034647],[147.874749,-40.021282],[147.859016,-40.023392],[147.885864,-40.000581],[147.897245,-39.999015],[147.899184,-39.942768],[147.880012,-39.907311],[147.757223,-39.890618],[147.748199,-39.873759],[147.803657,-39.835362],[147.84384,-39.837056],[147.86822,-39.77429],[147.847978,-39.75067],[147.862703,-39.747156],[147.884186,-39.761323],[147.941776,-39.719554],[147.963439,-39.72707],[147.955958,-39.74494],[147.966735,-39.772864],[147.967512,-39.759154],[147.990705,-39.779275],[147.967557,-39.74183],[147.960671,-39.730132],[148.170978,-39.942589],[148.177245,-39.952059],[148.260195,-39.96687],[148.291135,-39.965118],[148.279268,-40.008597],[148.286257,-40.067923],[148.238306,-40.101529],[148.223281,-40.121045],[148.234069,-40.12771],[148.279159,-40.116428],[148.281833,-40.080679],[148.287652,-40.080784],[148.334277,-40.208333]]],[[[148.325802,-40.287476],[148.306275,-40.292821],[148.278335,-40.284192],[148.288077,-40.278676],[148.295423,-40.257441],[148.325802,-40.287476]]],[[[148.318491,-40.501004],[148.318491,-40.501004]]],[[[148.266784,-40.252596],[148.233843,-40.25469],[148.227773,-40.240908],[148.266784,-40.252596]]],[[[148.261927,-40.228468],[148.261927,-40.228468]]],[[[148.248432,-40.487771],[148.194755,-40.569098],[148.198465,-40.590122],[148.125657,-40.572343],[148.113324,-40.564875],[148.121528,-40.537112],[148.095831,-40.531738],[148.248432,-40.487771]]],[[[148.215104,-40.254906],[148.215104,-40.254906]]],[[[148.169014,-42.64868],[148.112098,-42.659731],[148.081273,-42.661757],[148.096308,-42.711196],[148.093028,-42.720886],[148.047965,-42.722658],[148.013573,-42.741864],[148.057269,-42.68559],[148.06632,-42.676954],[148.025478,-42.668188],[148.009322,-42.661187],[148.052767,-42.5851],[148.067397,-42.570657],[148.089799,-42.585044],[148.120142,-42.585011],[148.169014,-42.64868]]],[[[148.166054,-40.291935],[148.131932,-40.297874],[148.166054,-40.291935]]],[[[148.127743,-40.734296],[148.108142,-40.742853],[148.089824,-40.740085],[148.127743,-40.734296]]],[[[148.116053,-40.302946],[148.116053,-40.302946]]],[[[148.082002,-40.48878],[148.047732,-40.474074],[148.082002,-40.48878]]],[[[148.025111,-40.354577],[147.994764,-40.369337],[147.980622,-40.367635],[148.025111,-40.354577]]],[[[148.011504,-43.221681],[147.916506,-43.189563],[147.89663,-43.190994],[147.888164,-43.142676],[147.894681,-43.138209],[147.86729,-43.129281],[147.863332,-43.107856],[147.866474,-43.197929],[147.874616,-43.206364],[147.860838,-43.20822],[147.844472,-43.187533],[147.799729,-43.24234],[147.785615,-43.237973],[147.746035,-43.197569],[147.711578,-43.194282],[147.698166,-43.14569],[147.685138,-43.13873],[147.747515,-43.112124],[147.742079,-43.094904],[147.673726,-43.088687],[147.65074,-43.089445],[147.628333,-43.040258],[147.619071,-43.006636],[147.66752,-42.999909],[147.679341,-42.991801],[147.664409,-42.943582],[147.678878,-42.934545],[147.725528,-42.949394],[147.731363,-42.957165],[147.726912,-43.018714],[147.718453,-43.027975],[147.806686,-43.046425],[147.813794,-43.06061],[147.845436,-43.030682],[147.86034,-43.057314],[147.872443,-43.023363],[147.924995,-43.015889],[147.84686,-43.013058],[147.837899,-42.991561],[147.856779,-42.982517],[147.822602,-42.976101],[147.811311,-42.962254],[147.853799,-42.945877],[147.865873,-42.947044],[147.833264,-42.934657],[147.814891,-42.937869],[147.821825,-42.907884],[147.802901,-42.893233],[147.895002,-42.894433],[147.907805,-42.908754],[147.903957,-42.882359],[147.861124,-42.874994],[147.87963,-42.853645],[147.891706,-42.842525],[147.939856,-42.877176],[147.970888,-42.864223],[147.983432,-42.94126],[147.99951,-42.964206],[147.930506,-43.009893],[147.926429,-43.021228],[147.972237,-43.13483],[148.005817,-43.139058],[147.983168,-43.156111],[147.96369,-43.191683],[148.011504,-43.221681]]],[[[148.011137,-39.648628],[147.991378,-39.663382],[147.964916,-39.660639],[148.011137,-39.648628]]],[[[148.009528,-43.23655],[148.009528,-43.23655]]],[[[147.98663,-40.186005],[147.98663,-40.186005]]],[[[147.946602,-39.69718],[147.890644,-39.700362],[147.887686,-39.687877],[147.946602,-39.69718]]],[[[147.937714,-40.270009],[147.927698,-40.28189],[147.91109,-40.278657],[147.937714,-40.270009]]],[[[147.917208,-40.186277],[147.890374,-40.190523],[147.917208,-40.186277]]],[[[147.908873,-40.301612],[147.904735,-40.31709],[147.881166,-40.325954],[147.856143,-40.308088],[147.836332,-40.303464],[147.908873,-40.301612]]],[[[147.893182,-40.09728],[147.893182,-40.09728]]],[[[147.803156,-40.31395],[147.803156,-40.31395]]],[[[147.7875,-40.042051],[147.726294,-40.103138],[147.725647,-40.0912],[147.756423,-40.058756],[147.764212,-40.028643],[147.7875,-40.042051]]],[[[147.778852,-39.908975],[147.778852,-39.908975]]],[[[147.675423,-43.135705],[147.675423,-43.135705]]],[[[147.648942,-42.954184],[147.648942,-42.954184]]],[[[147.644205,-40.787921],[147.634164,-40.80714],[147.617007,-40.813388],[147.644205,-40.787921]]],[[[147.490874,-43.062006],[147.490874,-43.062006]]],[[[147.2028,-43.436981],[147.187056,-43.481337],[147.182837,-43.488863],[147.159387,-43.483351],[147.146534,-43.496781],[147.093898,-43.428398],[147.097146,-43.412367],[147.160375,-43.464404],[147.179878,-43.458298],[147.185854,-43.387657],[147.179097,-43.352555],[147.198643,-43.379384],[147.212788,-43.382357],[147.286104,-43.265938],[147.290857,-43.241789],[147.317638,-43.294773],[147.357883,-43.255799],[147.355732,-43.229079],[147.341157,-43.219082],[147.386307,-43.187863],[147.378961,-43.176046],[147.300954,-43.168462],[147.276007,-43.166545],[147.352864,-43.131178],[147.355908,-43.140758],[147.361158,-43.113575],[147.330082,-43.114881],[147.306633,-43.113562],[147.326723,-43.089238],[147.32252,-43.084433],[147.351249,-43.063933],[147.367631,-43.071824],[147.426676,-43.206252],[147.43327,-43.231539],[147.345626,-43.273404],[147.322286,-43.304035],[147.340009,-43.366941],[147.334431,-43.367735],[147.367013,-43.350292],[147.381959,-43.37178],[147.320875,-43.469109],[147.323921,-43.502643],[147.294719,-43.516165],[147.263146,-43.487887],[147.246569,-43.492733],[147.255796,-43.457721],[147.245864,-43.440396],[147.2028,-43.436981]],[[147.202672,-43.434106],[147.225905,-43.433909],[147.241973,-43.425713],[147.202672,-43.434106]]],[[[147.361331,-39.465221],[147.349277,-39.485543],[147.351315,-39.497497],[147.305587,-39.483653],[147.303987,-39.475222],[147.361331,-39.465221]]],[[[147.304836,-39.451472],[147.289884,-39.477292],[147.26039,-39.479499],[147.293386,-39.462158],[147.27475,-39.443508],[147.304836,-39.451472]]],[[[147.148378,-43.286161],[147.148378,-43.286161]]],[[[147.134308,-43.257362],[147.134308,-43.257362]]],[[[147.105801,-43.396061],[147.105801,-43.396061]]],[[[147.087857,-41.380311],[147.087857,-41.380311]]],[[[147.041416,-43.05334],[147.041416,-43.05334]]],[[[147.020219,-43.090946],[147.013419,-43.102483],[146.999908,-43.12072],[147.020219,-43.090946]]],[[[146.996233,-39.221031],[146.996233,-39.221031]]],[[[146.657957,-39.463161],[146.640237,-39.480157],[146.637765,-39.473738],[146.657957,-39.463161]]],[[[146.39519,-39.230963],[146.39519,-39.230963]]],[[[146.377578,-43.596385],[146.351368,-43.607305],[146.336781,-43.59187],[146.377578,-43.596385]]],[[[146.297123,-43.61968],[146.297123,-43.61968]]],[[[146.286411,-43.651435],[146.286411,-43.651435]]],[[[145.971353,-43.418402],[145.971353,-43.418402]]],[[[145.104473,-40.793663],[145.045964,-40.782596],[145.04007,-40.774177],[145.044247,-40.751168],[145.104473,-40.793663]]],[[[144.929092,-40.622398],[144.919959,-40.613082],[144.927522,-40.577381],[144.949955,-40.62121],[144.929548,-40.622863],[144.93738,-40.649773],[144.967983,-40.658739],[144.954757,-40.629474],[145.044316,-40.689174],[145.06788,-40.714365],[144.919415,-40.728478],[144.893737,-40.74048],[144.876441,-40.710768],[144.87183,-40.678599],[144.929092,-40.622398]]],[[[144.969885,-40.426237],[144.951601,-40.460038],[144.896639,-40.483856],[144.850925,-40.45246],[144.834773,-40.44306],[144.87902,-40.39278],[144.887152,-40.388676],[144.913897,-40.397452],[144.954617,-40.391235],[144.969885,-40.426237]]],[[[144.841326,-40.695521],[144.841326,-40.695521]]],[[[144.792726,-40.417558],[144.771284,-40.533477],[144.775962,-40.581231],[144.757535,-40.605984],[144.735489,-40.592882],[144.722219,-40.517046],[144.709542,-40.510031],[144.792726,-40.417558]]],[[[144.723282,-40.606018],[144.723282,-40.606018]]],[[[144.698287,-40.633742],[144.698287,-40.633742]]],[[[144.138222,-39.933819],[144.100807,-40.028812],[144.105457,-40.044375],[143.929769,-40.146124],[143.925725,-40.157964],[143.904426,-40.121394],[143.875275,-40.116764],[143.872038,-40.083458],[143.858082,-40.062372],[143.879926,-40.062694],[143.890037,-40.053929],[143.885039,-39.998922],[143.891671,-39.993511],[143.845164,-39.925474],[143.833303,-39.915546],[143.854139,-39.851258],[143.867172,-39.833486],[143.854673,-39.737523],[143.84424,-39.715568],[143.891328,-39.698318],[143.922707,-39.668873],[143.935747,-39.594632],[143.94575,-39.580467],[144.051478,-39.625462],[144.109657,-39.669979],[144.113522,-39.819308],[144.093287,-39.792317],[144.106877,-39.819945],[144.110947,-39.798983],[144.127809,-39.821289],[144.106584,-39.866197],[144.105013,-39.891295],[144.138222,-39.933819]]],[[[143.837861,-39.669329],[143.837861,-39.669329]]],[[[143.835897,-39.687897],[143.835897,-39.687897]]]]}},{type:"Feature",id:6,properties:{STATE_CODE:"7",STATE_NAME:"Northern Territory"},geometry:{type:"MultiPolygon",coordinates:[[[[130.517887,-12.731048],[130.511416,-12.710256],[130.520625,-12.703496],[130.535765,-12.719026],[130.557274,-12.701995],[130.583254,-12.719245],[130.569915,-12.743776],[130.629534,-12.727795],[130.62497,-12.769403],[130.643554,-12.743695],[130.616973,-12.711755],[130.621453,-12.705205],[130.679753,-12.745255],[130.689143,-12.751495],[130.707332,-12.716514],[130.738762,-12.710544],[130.706062,-12.710984],[130.690192,-12.719814],[130.679132,-12.713504],[130.701951,-12.690484],[130.674062,-12.707854],[130.597243,-12.670764],[130.585863,-12.684445],[130.573402,-12.652244],[130.545662,-12.634304],[130.582821,-12.622974],[130.586502,-12.660454],[130.588232,-12.629414],[130.609031,-12.604423],[130.642891,-12.625183],[130.641181,-12.644164],[130.589231,-12.592123],[130.60394,-12.578393],[130.573591,-12.596763],[130.566791,-12.581523],[130.5887,-12.501273],[130.60576,-12.501452],[130.58843,-12.452802],[130.623239,-12.447762],[130.58725,-12.425232],[130.57816,-12.406593],[130.6116,-12.393123],[130.6193,-12.381373],[130.749838,-12.427111],[130.765148,-12.437371],[130.757389,-12.482231],[130.727069,-12.526232],[130.761649,-12.482451],[130.778888,-12.474751],[130.769419,-12.527071],[130.774399,-12.545592],[130.729289,-12.581592],[130.73203,-12.596932],[130.749029,-12.584042],[130.778559,-12.559142],[130.77992,-12.619472],[130.79185,-12.621902],[130.788199,-12.548282],[130.810159,-12.539891],[130.805109,-12.563512],[130.814199,-12.582022],[130.816059,-12.558182],[130.841469,-12.555322],[130.876589,-12.628802],[130.86976,-12.658733],[130.879809,-12.631282],[130.898737,-12.662486],[130.90818,-12.656432],[130.89042,-12.641772],[130.882289,-12.606202],[130.952497,-12.635161],[130.966849,-12.629782],[130.923079,-12.579912],[130.884649,-12.574792],[130.893359,-12.560531],[130.901419,-12.556261],[130.873858,-12.528031],[130.862118,-12.526251],[130.907068,-12.516451],[130.908039,-12.540741],[130.910408,-12.517461],[130.922618,-12.509251],[130.949449,-12.539641],[130.953849,-12.555131],[130.930578,-12.486691],[130.946728,-12.47105],[130.897348,-12.487661],[130.891918,-12.472761],[130.916948,-12.45768],[130.867018,-12.4406],[130.850049,-12.438844],[130.83261,-12.459755],[130.82111,-12.461886],[130.819608,-12.41458],[130.816378,-12.40713],[130.861147,-12.37578],[130.896007,-12.33006],[131.034867,-12.360879],[131.055047,-12.347789],[131.028017,-12.317819],[131.028447,-12.305499],[131.017697,-12.326879],[131.012977,-12.323279],[131.030457,-12.231509],[130.995967,-12.168649],[131.030606,-12.146439],[131.157555,-12.168839],[131.169055,-12.173219],[131.175956,-12.192099],[131.222045,-12.227179],[131.221966,-12.278009],[131.225006,-12.285039],[131.233995,-12.266339],[131.206986,-12.263139],[131.212316,-12.240189],[131.250875,-12.220029],[131.231075,-12.214389],[131.228875,-12.207279],[131.266356,-12.076929],[131.297126,-12.042609],[131.314055,-12.165679],[131.322765,-12.193429],[131.426776,-12.275411],[131.472295,-12.283712],[131.7753,-12.268231],[131.879259,-12.214551],[131.939408,-12.272931],[132.069714,-12.30354],[132.224352,-12.194571],[132.238192,-12.169761],[132.264283,-12.203021],[132.278463,-12.224211],[132.353164,-12.198823],[132.389393,-12.236413],[132.417583,-12.195333],[132.442013,-12.146473],[132.554812,-12.098304],[132.556212,-12.085774],[132.578382,-12.105474],[132.629281,-12.085415],[132.640803,-11.901335],[132.655323,-11.889815],[132.647873,-11.858235],[132.636523,-11.822025],[132.594944,-11.805325],[132.580704,-11.786005],[132.648944,-11.722446],[132.654704,-11.685646],[132.630954,-11.720466],[132.594684,-11.730045],[132.518965,-11.687615],[132.499845,-11.682115],[132.507376,-11.635725],[132.576175,-11.655195],[132.616644,-11.654786],[132.594465,-11.639686],[132.547825,-11.608665],[132.549116,-11.574226],[132.553086,-11.554926],[132.499766,-11.509546],[132.494157,-11.482506],[132.399207,-11.454915],[132.353457,-11.441274],[132.301928,-11.465094],[132.238798,-11.455203],[132.122609,-11.526422],[132.113829,-11.539922],[132.05541,-11.496502],[132.03388,-11.482132],[132.05095,-11.460212],[132.05936,-11.432142],[131.96243,-11.411111],[131.94243,-11.399891],[131.98057,-11.383502],[131.98901,-11.373342],[131.97561,-11.351772],[131.96591,-11.342492],[131.916901,-11.357502],[131.94354,-11.319862],[131.914691,-11.324762],[131.859751,-11.292782],[131.773282,-11.325042],[131.762662,-11.315752],[131.806471,-11.283142],[131.794391,-11.268323],[131.840211,-11.286402],[131.855191,-11.276743],[131.836891,-11.247673],[131.814801,-11.211703],[131.867961,-11.219313],[131.879361,-11.234923],[131.875591,-11.193144],[131.882481,-11.181534],[131.92751,-11.235043],[131.92996,-11.259883],[131.94476,-11.244463],[131.96121,-11.253053],[131.98645,-11.218593],[131.96242,-11.176664],[131.98243,-11.180094],[131.99353,-11.175744],[131.970311,-11.134234],[131.992971,-11.124244],[132.04718,-11.191263],[132.04611,-11.199493],[132.06831,-11.175794],[132.0755,-11.179554],[132.098559,-11.231943],[132.113539,-11.211133],[132.107269,-11.315323],[132.099979,-11.329053],[132.108799,-11.328533],[132.122649,-11.349273],[132.125019,-11.313043],[132.136779,-11.296163],[132.164259,-11.412643],[132.170359,-11.420423],[132.180799,-11.416293],[132.175969,-11.396853],[132.199109,-11.417433],[132.208129,-11.413403],[132.182889,-11.365383],[132.190289,-11.350963],[132.231338,-11.363003],[132.236468,-11.339893],[132.197519,-11.301203],[132.172569,-11.323443],[132.199399,-11.237304],[132.202469,-11.226814],[132.14345,-11.133824],[132.13561,-11.122384],[132.18681,-11.130314],[132.265338,-11.263814],[132.283548,-11.276724],[132.273989,-11.199374],[132.265069,-11.175394],[132.338898,-11.140365],[132.333289,-11.115725],[132.382308,-11.207975],[132.373688,-11.295455],[132.385698,-11.296865],[132.397367,-11.299155],[132.433927,-11.211325],[132.451037,-11.218075],[132.476747,-11.258415],[132.506787,-11.272276],[132.497247,-11.282176],[132.486817,-11.299486],[132.510137,-11.292736],[132.519897,-11.345406],[132.514157,-11.349896],[132.528497,-11.340466],[132.547046,-11.342006],[132.585446,-11.394547],[132.622016,-11.410267],[132.637815,-11.477527],[132.669005,-11.515587],[132.714525,-11.523307],[132.732875,-11.519077],[132.823154,-11.404687],[132.842194,-11.395137],[132.885853,-11.429826],[132.896403,-11.425896],[132.909183,-11.384706],[132.880463,-11.347456],[132.865023,-11.340066],[132.897893,-11.339925],[132.917953,-11.331725],[133.045962,-11.502846],[133.076861,-11.520985],[133.149872,-11.702237],[133.190651,-11.728637],[133.28159,-11.740646],[133.252581,-11.730766],[133.29552,-11.702806],[133.343359,-11.693715],[133.354458,-11.717905],[133.340569,-11.727155],[133.320389,-11.719556],[133.309839,-11.758176],[133.320889,-11.769845],[133.385618,-11.752065],[133.402837,-11.732084],[133.398677,-11.767785],[133.410367,-11.779555],[133.448097,-11.790435],[133.459107,-11.801975],[133.501157,-11.781224],[133.533786,-11.760334],[133.528917,-11.791094],[133.530127,-11.812984],[133.565596,-11.806804],[133.602136,-11.809164],[133.595156,-11.833724],[133.611086,-11.842784],[133.678026,-11.788633],[133.692006,-11.794073],[133.664616,-11.779583],[133.670126,-11.773943],[133.690646,-11.782773],[133.738465,-11.782583],[133.808654,-11.733792],[133.793905,-11.724672],[133.899394,-11.754191],[133.915564,-11.742441],[133.927604,-11.764141],[133.940344,-11.770351],[133.823085,-11.838102],[133.829615,-11.864992],[133.912395,-11.906891],[133.907715,-11.927621],[134.004474,-11.86378],[134.030774,-11.85497],[134.063914,-11.89223],[134.078374,-11.8982],[134.065995,-11.93432],[134.074835,-11.94182],[134.104514,-11.912889],[134.127154,-11.897279],[134.181065,-12.014979],[134.194245,-12.028678],[134.162236,-12.100449],[134.168416,-12.114769],[134.253515,-12.034148],[134.245784,-11.984748],[134.492834,-12.071605],[134.490904,-12.077235],[134.605064,-12.048994],[134.655863,-12.015103],[134.687823,-11.962833],[134.739702,-11.959872],[134.747592,-11.949342],[134.779523,-12.003402],[134.798173,-12.047782],[134.831653,-12.055511],[134.844233,-12.061611],[134.841944,-12.112171],[134.856814,-12.131031],[134.935374,-12.14251],[134.971594,-12.15839],[135.004564,-12.21296],[135.056034,-12.263609],[135.137764,-12.242839],[135.144674,-12.236739],[135.164264,-12.264819],[135.213054,-12.295298],[135.159844,-12.231789],[135.161584,-12.225009],[135.207484,-12.234528],[135.267043,-12.224928],[135.313074,-12.260258],[135.342493,-12.246377],[135.256723,-12.207958],[135.223323,-12.188688],[135.284473,-12.164008],[135.302962,-12.162898],[135.304252,-12.135758],[135.305992,-12.124338],[135.352982,-12.105957],[135.366211,-12.084717],[135.396871,-12.082027],[135.422581,-12.083057],[135.405231,-12.101817],[135.415332,-12.113917],[135.507861,-12.085906],[135.519041,-12.059806],[135.544871,-12.087636],[135.570011,-12.100746],[135.64364,-12.053385],[135.65355,-12.039505],[135.886568,-11.965704],[135.909888,-11.952393],[135.869689,-11.975744],[135.831679,-11.984284],[135.650052,-12.168475],[135.652002,-12.201705],[135.720723,-12.281165],[135.710377,-12.312562],[135.798352,-12.212044],[135.803621,-12.198924],[135.86584,-12.158624],[135.88122,-12.150694],[135.881591,-12.177374],[135.894921,-12.184934],[135.91223,-12.149754],[135.95001,-12.151293],[135.95908,-12.151953],[136.034629,-12.066262],[136.045759,-12.063082],[135.94226,-12.199343],[135.928041,-12.222093],[135.962222,-12.269643],[135.950052,-12.279043],[136.049241,-12.231752],[136.061201,-12.240882],[135.975683,-12.369223],[135.970893,-12.386763],[135.996073,-12.400053],[136.015493,-12.397082],[136.003624,-12.453512],[135.988914,-12.462353],[136.015354,-12.457342],[136.014474,-12.484922],[136.021374,-12.486152],[136.046274,-12.457062],[136.063703,-12.430012],[136.073623,-12.448082],[136.085823,-12.457442],[136.159603,-12.444401],[136.158394,-12.470521],[136.249394,-12.44544],[136.259704,-12.45644],[136.362771,-12.257499],[136.35914,-12.230379],[136.33437,-12.202979],[136.337,-12.195659],[136.28821,-12.20536],[136.22827,-12.213191],[136.21891,-12.187331],[136.23211,-12.182661],[136.19056,-12.195531],[136.17218,-12.192061],[136.176039,-12.168771],[136.167409,-12.163021],[136.246869,-12.11051],[136.267088,-12.06501],[136.331808,-12.059089],[136.339388,-12.059179],[136.382387,-11.997449],[136.414836,-11.958678],[136.548246,-11.923347],[136.561355,-11.917507],[136.557645,-11.886307],[136.562955,-11.876607],[136.581815,-11.902866],[136.580405,-11.915526],[136.472096,-11.960318],[136.472827,-11.996588],[136.456057,-11.978868],[136.448947,-11.987458],[136.490457,-12.030818],[136.488997,-12.040088],[136.512256,-11.987997],[136.531076,-11.991437],[136.580688,-12.091146],[136.587238,-12.084486],[136.577748,-12.146067],[136.59931,-12.202296],[136.64644,-12.235496],[136.647501,-12.269716],[136.72629,-12.276085],[136.74227,-12.271824],[136.76612,-12.235054],[136.698689,-12.190325],[136.67708,-12.205625],[136.727099,-12.172425],[136.782358,-12.159094],[136.884471,-12.243666],[136.905089,-12.245954],[136.933899,-12.333872],[136.921119,-12.344243],[136.965258,-12.340802],[136.978918,-12.345442],[136.779003,-12.525274],[136.772733,-12.555524],[136.760713,-12.525694],[136.795842,-12.492214],[136.794432,-12.449754],[136.735403,-12.478564],[136.720943,-12.458235],[136.733443,-12.536144],[136.748393,-12.533914],[136.675844,-12.581205],[136.669265,-12.590565],[136.747443,-12.551644],[136.761883,-12.577404],[136.735424,-12.579174],[136.690575,-12.632275],[136.699046,-12.704105],[136.693856,-12.711095],[136.652776,-12.711355],[136.617426,-12.689846],[136.608447,-12.814925],[136.621747,-12.839455],[136.567477,-12.763796],[136.549817,-12.740376],[136.531238,-12.801876],[136.542848,-12.806756],[136.467878,-12.780167],[136.463708,-12.772047],[136.487978,-12.801577],[136.478618,-12.841577],[136.625398,-12.952945],[136.638077,-12.950715],[136.644898,-12.990475],[136.667967,-13.004314],[136.654497,-13.015825],[136.629238,-13.017395],[136.627538,-12.974625],[136.617648,-12.967605],[136.580068,-13.001335],[136.584458,-13.018435],[136.564399,-12.981386],[136.558679,-12.964996],[136.531909,-12.982216],[136.531769,-12.991926],[136.474329,-12.977386],[136.455209,-12.978237],[136.510659,-13.016026],[136.535289,-13.018976],[136.532889,-13.051946],[136.566709,-13.058835],[136.538979,-13.110765],[136.53117,-13.154425],[136.50087,-13.141846],[136.47931,-13.169676],[136.47559,-13.234315],[136.46778,-13.247545],[136.454161,-13.224436],[136.439651,-13.217386],[136.343012,-13.325876],[136.331362,-13.324706],[136.338092,-13.276606],[136.328142,-13.250027],[136.367581,-13.252696],[136.388071,-13.227066],[136.36265,-13.092567],[136.37143,-13.070447],[136.33547,-13.044857],[136.33342,-13.034147],[136.306511,-13.093507],[136.291481,-13.107577],[136.311651,-13.108887],[136.321181,-13.120107],[136.306681,-13.144797],[136.315631,-13.159627],[136.283082,-13.168097],[136.259222,-13.132768],[136.252562,-13.121288],[136.243382,-13.145588],[136.218042,-13.138268],[136.235272,-13.187578],[136.245162,-13.212467],[136.238812,-13.204558],[136.218492,-13.203788],[136.213422,-13.233248],[136.201372,-13.246988],[136.174902,-13.232988],[136.161943,-13.242088],[136.183853,-13.274708],[136.181633,-13.280798],[136.147752,-13.218888],[136.134172,-13.207299],[136.153092,-13.145699],[136.145152,-13.120549],[136.064193,-13.226329],[136.053193,-13.234409],[136.062073,-13.263149],[136.047214,-13.309849],[136.030433,-13.243239],[136.012103,-13.21491],[135.979143,-13.22264],[135.963624,-13.29479],[135.948314,-13.25344],[135.918654,-13.26843],[135.886634,-13.32368],[135.879975,-13.36307],[135.919085,-13.40444],[135.926455,-13.417749],[135.965165,-13.410479],[135.972985,-13.402329],[135.935726,-13.458239],[135.931246,-13.466819],[135.872605,-13.4289],[135.859726,-13.44024],[135.865047,-13.53144],[135.869277,-13.561739],[135.835287,-13.59083],[135.843037,-13.612979],[135.871228,-13.656649],[135.880628,-13.669089],[135.907398,-13.658179],[135.921638,-13.675979],[135.879388,-13.712039],[135.914498,-13.747239],[135.956238,-13.743358],[135.978168,-13.731618],[136.051416,-13.644778],[136.083056,-13.655457],[135.941039,-13.953747],[135.909739,-13.990438],[135.87877,-14.166827],[135.90359,-14.190517],[135.791151,-14.231517],[135.794031,-14.226067],[135.736252,-14.281947],[135.702532,-14.271368],[135.730142,-14.296677],[135.667743,-14.399167],[135.670323,-14.424377],[135.628103,-14.427567],[135.619613,-14.423108],[135.555184,-14.536258],[135.536614,-14.561138],[135.518414,-14.625477],[135.539544,-14.642547],[135.541054,-14.652717],[135.440485,-14.694137],[135.416335,-14.735027],[135.393335,-14.719188],[135.382075,-14.725738],[135.412355,-14.848547],[135.410935,-14.873137],[135.478818,-14.97606],[135.579954,-15.045305],[135.639733,-15.044445],[135.657323,-15.052535],[135.925168,-15.249212],[135.981527,-15.286991],[136.207122,-15.401138],[136.239712,-15.416088],[136.263172,-15.496728],[136.270412,-15.535779],[136.317261,-15.589609],[136.317491,-15.625989],[136.341321,-15.613408],[136.41207,-15.626158],[136.558397,-15.742148],[136.555458,-15.750398],[136.621007,-15.706167],[136.644067,-15.672446],[136.704537,-15.696756],[136.724127,-15.696345],[136.682667,-15.777916],[136.642787,-15.769127],[136.674567,-15.814487],[136.713767,-15.856807],[136.690797,-15.903408],[136.706377,-15.931228],[136.729497,-15.932397],[136.771487,-15.889446],[136.773207,-15.906387],[136.760737,-15.916267],[136.795857,-15.904506],[136.822947,-15.899236],[136.944306,-15.932914],[136.953246,-15.938334],[136.918756,-15.917084],[136.912706,-15.899684],[136.966306,-15.861563],[136.977986,-15.850953],[137.003525,-15.873103],[137.048095,-15.922252],[137.204085,-15.999341],[137.254414,-16.01235],[137.354344,-16.114999],[137.372604,-16.133349],[137.680621,-16.222322],[137.729671,-16.232252],[137.862021,-16.42271],[138.00118,-16.544509],[137.999054,-25.996867],[129.000584,-25.998613],[129.001242,-14.879473],[129.11272,-14.934444],[129.10842,-14.989234],[129.12264,-14.953124],[129.13069,-14.948973],[129.15817,-14.969313],[129.188919,-14.987173],[129.169509,-15.051533],[129.195399,-15.102657],[129.200549,-15.12261],[129.15752,-15.184362],[129.15819,-15.197602],[129.19563,-15.159303],[129.2312,-15.175933],[129.215479,-15.153844],[129.249409,-15.091536],[129.236489,-15.06779],[129.251469,-15.055972],[129.256039,-15.033953],[129.261929,-15.038413],[129.256339,-15.061991],[129.292969,-15.041763],[129.301618,-15.036533],[129.265129,-15.032903],[129.233489,-15.008293],[129.221738,-14.855403],[129.228428,-14.839373],[129.435317,-14.921391],[129.482478,-14.94106],[129.556113,-15.048727],[129.603903,-15.108006],[129.557244,-15.170536],[129.563584,-15.179916],[129.611663,-15.153736],[129.626233,-15.138026],[129.670853,-15.148547],[129.684983,-15.142667],[129.640532,-15.042167],[129.663332,-15.028097],[129.621082,-14.998587],[129.623012,-14.953257],[129.599517,-14.970359],[129.593247,-14.967069],[129.500257,-14.803219],[129.499707,-14.790109],[129.570007,-14.847559],[129.592117,-14.891009],[129.618391,-14.875607],[129.574046,-14.806769],[129.577546,-14.798299],[129.632051,-14.843867],[129.771701,-14.848977],[129.802541,-14.858017],[129.88255,-14.799428],[129.90283,-14.773218],[129.835941,-14.813298],[129.812691,-14.822878],[129.756541,-14.823598],[129.749481,-14.809698],[129.80403,-14.769418],[129.81005,-14.760318],[129.734401,-14.793968],[129.672401,-14.763468],[129.580675,-14.637929],[129.583625,-14.616239],[129.69238,-14.612789],[129.773869,-14.547569],[129.771549,-14.538709],[129.66934,-14.580489],[129.55692,-14.550809],[129.526271,-14.55229],[129.488235,-14.50334],[129.523065,-14.465559],[129.506885,-14.471739],[129.482675,-14.50095],[129.462615,-14.45106],[129.453995,-14.44639],[129.474455,-14.49099],[129.453185,-14.50506],[129.379285,-14.41941],[129.356765,-14.42363],[129.373895,-14.35473],[129.367015,-14.3381],[129.411594,-14.27946],[129.409294,-14.23594],[129.507143,-14.133229],[129.512033,-14.127049],[129.486323,-14.07847],[129.478982,-14.04793],[129.491382,-14.047399],[129.515832,-14.075369],[129.525072,-14.052339],[129.535592,-14.058359],[129.527663,-14.129999],[129.541991,-14.144528],[129.554812,-14.111869],[129.567152,-14.083859],[129.594868,-14.091231],[129.609288,-14.069591],[129.590638,-14.032861],[129.598097,-14.011061],[129.609277,-14.035611],[129.640877,-14.0472],[129.721306,-14.01343],[129.746045,-13.975139],[129.745905,-13.946999],[129.747265,-13.919199],[129.716925,-13.89629],[129.715525,-13.87888],[129.781754,-13.789429],[129.794833,-13.789519],[129.827732,-13.51814],[129.817322,-13.50176],[129.873241,-13.49909],[129.885301,-13.50323],[129.869401,-13.47977],[129.897431,-13.44041],[129.900511,-13.4986],[129.909891,-13.51434],[129.95684,-13.535809],[130.008369,-13.533339],[130.125227,-13.466197],[130.141607,-13.457117],[130.235484,-13.339676],[130.277914,-13.334866],[130.284054,-13.305756],[130.225204,-13.249197],[130.164195,-13.178029],[130.130515,-13.176539],[130.116176,-13.164139],[130.128194,-12.973699],[130.141114,-12.933458],[130.175793,-12.910277],[130.193763,-12.910507],[130.247122,-12.948377],[130.33824,-12.890117],[130.346309,-12.715227],[130.352029,-12.670337],[130.378858,-12.677677],[130.404108,-12.701477],[130.396468,-12.680147],[130.393578,-12.662287],[130.444666,-12.645516],[130.460885,-12.639176],[130.492105,-12.667286],[130.513574,-12.667765],[130.517887,-12.731048]],[[136.493656,-13.13719],[136.493656,-13.13719]],[[136.920057,-12.345105],[136.87916,-12.366323],[136.87282,-12.380653],[136.920057,-12.345105]],[[136.484882,-12.038282],[136.481587,-12.050148],[136.464817,-12.050908],[136.484882,-12.038282]],[[134.46031,-12.07059],[134.46031,-12.07059]],[[130.624928,-12.769794],[130.624928,-12.769794]],[[131.018004,-12.362999],[131.018004,-12.362999]]],[[[137.106124,-15.772531],[137.074255,-15.846262],[137.039845,-15.835522],[136.982385,-15.749552],[136.969665,-15.749093],[136.982825,-15.723572],[136.978375,-15.712422],[136.941585,-15.725573],[136.929805,-15.726463],[136.939285,-15.690113],[136.918305,-15.683763],[136.949345,-15.658282],[136.961025,-15.640102],[136.983955,-15.674462],[136.994454,-15.664532],[136.991374,-15.584462],[137.019914,-15.594871],[137.063104,-15.652701],[137.081664,-15.655771],[137.083034,-15.747911],[137.073434,-15.745851],[137.106124,-15.772531]]],[[[137.074485,-15.854732],[137.074485,-15.854732]]],[[[136.964126,-14.165254],[136.940156,-14.189194],[136.934276,-14.203714],[136.947946,-14.276214],[136.964576,-14.282604],[136.899007,-14.297104],[136.904367,-14.310504],[136.809449,-14.270695],[136.75546,-14.258056],[136.670382,-14.287047],[136.649892,-14.296217],[136.450787,-14.20394],[136.437348,-14.1963],[136.3247,-14.246111],[136.324461,-14.213321],[136.421029,-14.142321],[136.442608,-14.123471],[136.408151,-13.976332],[136.436141,-13.890793],[136.408042,-13.845313],[136.409232,-13.830973],[136.46276,-13.834503],[136.49563,-13.840832],[136.523819,-13.791532],[136.531889,-13.785022],[136.560248,-13.815262],[136.566188,-13.829942],[136.574167,-13.798552],[136.624416,-13.790771],[136.638016,-13.783551],[136.574237,-13.694262],[136.577777,-13.687402],[136.618906,-13.688692],[136.636356,-13.688511],[136.617066,-13.706002],[136.632126,-13.720561],[136.678505,-13.680081],[136.693774,-13.652191],[136.715263,-13.665941],[136.728553,-13.65216],[136.730973,-13.68702],[136.719883,-13.71774],[136.686044,-13.727151],[136.681074,-13.739421],[136.697054,-13.77492],[136.735352,-13.77096],[136.718303,-13.8358],[136.725352,-13.842279],[136.754461,-13.832359],[136.807348,-13.856016],[136.837318,-13.842907],[136.845488,-13.815048],[136.837278,-13.802438],[136.813719,-13.812068],[136.796999,-13.834188],[136.839308,-13.780308],[136.840528,-13.745188],[136.905216,-13.764127],[136.924406,-13.806527],[136.858486,-13.893216],[136.857806,-13.912836],[136.793188,-13.914027],[136.778908,-13.934017],[136.762279,-14.000987],[136.807518,-14.018116],[136.807558,-14.035856],[136.74788,-14.066527],[136.75222,-14.086937],[136.73662,-14.065527],[136.72059,-14.069917],[136.715591,-14.142247],[136.707081,-14.168987],[136.72625,-14.189167],[136.785429,-14.193116],[136.788569,-14.151586],[136.800339,-14.146966],[136.853918,-14.206475],[136.865778,-14.210775],[136.914747,-14.171475],[136.911297,-14.137615],[136.964126,-14.165254]]],[[[136.962484,-13.626417],[136.950334,-13.643497],[136.925485,-13.644537],[136.962484,-13.626417]]],[[[136.949935,-15.772453],[136.949935,-15.772453]]],[[[136.937355,-13.662817],[136.937355,-13.662817]]],[[[136.913436,-13.662858],[136.900606,-13.678008],[136.886987,-13.676088],[136.913436,-13.662858]]],[[[136.904895,-15.588552],[136.881905,-15.613483],[136.880825,-15.636743],[136.845486,-15.647193],[136.851696,-15.624733],[136.829906,-15.618373],[136.860455,-15.532703],[136.867255,-15.507522],[136.904895,-15.588552]]],[[[136.840575,-15.577173],[136.781596,-15.582384],[136.773566,-15.578634],[136.793056,-15.560034],[136.833155,-15.555473],[136.840575,-15.577173]]],[[[136.837568,-11.664256],[136.824818,-11.676206],[136.809578,-11.673236],[136.837568,-11.664256]]],[[[136.836326,-15.686594],[136.804276,-15.685254],[136.791066,-15.684344],[136.798166,-15.703364],[136.804436,-15.723814],[136.732167,-15.758026],[136.728487,-15.734745],[136.740996,-15.672875],[136.735426,-15.646665],[136.780196,-15.648224],[136.794656,-15.644974],[136.836326,-15.686594]]],[[[136.829616,-15.730744],[136.807077,-15.746075],[136.800787,-15.742225],[136.829616,-15.730744]]],[[[136.827308,-12.129923],[136.800208,-12.132934],[136.796247,-12.106054],[136.797077,-12.088774],[136.823977,-12.072784],[136.827308,-12.129923]]],[[[136.819096,-15.603223],[136.790056,-15.608824],[136.777236,-15.608004],[136.819096,-15.603223]]],[[[136.766169,-11.02851],[136.714661,-11.17652],[136.720001,-11.19382],[136.666802,-11.22487],[136.684022,-11.24876],[136.633343,-11.27766],[136.625083,-11.28433],[136.623764,-11.30363],[136.627134,-11.32872],[136.537658,-11.426099],[136.537578,-11.440329],[136.483889,-11.45655],[136.474369,-11.4491],[136.565955,-11.33532],[136.582935,-11.32464],[136.622882,-11.21006],[136.627012,-11.20498],[136.687261,-11.19272],[136.706671,-11.16791],[136.70666,-11.12509],[136.69374,-11.11974],[136.72215,-11.10987],[136.70068,-11.0923],[136.7271,-11.09723],[136.734059,-11.06064],[136.71279,-11.054701],[136.766169,-11.02851]]],[[[136.762108,-11.004551],[136.747889,-11.020101],[136.736599,-11.007311],[136.762108,-11.004551]]],[[[136.753982,-13.69057],[136.733483,-13.6957],[136.753982,-13.69057]]],[[[136.71275,-12.217115],[136.71275,-12.217115]]],[[[136.702274,-13.620411],[136.702274,-13.620411]]],[[[136.688384,-13.634971],[136.688384,-13.634971]]],[[[136.688153,-11.821446],[136.669764,-11.836656],[136.643024,-11.839746],[136.688153,-11.821446]]],[[[136.682624,-13.658801],[136.665975,-13.684711],[136.659665,-13.679681],[136.682624,-13.658801]]],[[[136.681306,-15.605335],[136.673946,-15.612206],[136.646446,-15.606156],[136.681306,-15.605335]]],[[[136.656735,-13.655251],[136.656735,-13.655251]]],[[[136.641666,-13.664142],[136.641666,-13.664142]]],[[[136.630207,-12.863185],[136.630207,-12.863185]]],[[[136.627212,-11.740267],[136.579823,-11.788737],[136.511514,-11.804927],[136.534313,-11.776627],[136.533783,-11.760238],[136.557623,-11.767427],[136.572103,-11.778677],[136.627212,-11.740267]]],[[[136.617327,-15.555366],[136.594287,-15.626017],[136.589687,-15.645317],[136.522848,-15.654398],[136.494748,-15.643548],[136.525658,-15.538397],[136.525328,-15.530947],[136.566817,-15.530606],[136.578647,-15.510876],[136.617327,-15.555366]]],[[[136.602557,-13.657002],[136.591257,-13.667532],[136.575547,-13.667042],[136.602557,-13.657002]]],[[[136.584137,-13.723062],[136.584137,-13.723062]]],[[[136.579127,-13.775322],[136.579127,-13.775322]]],[[[136.541648,-13.771392],[136.520229,-13.792622],[136.4904,-13.759243],[136.469211,-13.746533],[136.509829,-13.698513],[136.530929,-13.703463],[136.541648,-13.771392]]],[[[136.499804,-11.797268],[136.468366,-11.896948],[136.457885,-11.889858],[136.499804,-11.797268]]],[[[136.473819,-11.46797],[136.46606,-11.50526],[136.44901,-11.53193],[136.374201,-11.56564],[136.366511,-11.53469],[136.381191,-11.55039],[136.473819,-11.46797]]],[[[136.459196,-11.904748],[136.453816,-11.917408],[136.434886,-11.919348],[136.459196,-11.904748]]],[[[136.431975,-11.879018],[136.385996,-11.906609],[136.366946,-11.902899],[136.409726,-11.878468],[136.408095,-11.855188],[136.431975,-11.879018]]],[[[136.419932,-13.631644],[136.396723,-13.627855],[136.419932,-13.631644]]],[[[136.400763,-13.714154],[136.384133,-13.711174],[136.380243,-13.694565],[136.400763,-13.714154]]],[[[136.383432,-13.313576],[136.383432,-13.313576]]],[[[136.377082,-11.58349],[136.316692,-11.61752],[136.296873,-11.64159],[136.289763,-11.62228],[136.264663,-11.621041],[136.272233,-11.639],[136.261463,-11.66216],[136.231193,-11.655611],[136.223743,-11.652901],[136.172494,-11.694251],[136.159534,-11.693002],[136.168143,-11.656512],[136.169523,-11.641032],[136.209983,-11.641831],[136.230733,-11.645671],[136.239793,-11.600361],[136.265112,-11.572561],[136.281282,-11.603181],[136.315092,-11.60385],[136.296752,-11.591881],[136.295482,-11.580131],[136.321042,-11.58577],[136.340642,-11.58871],[136.358161,-11.56011],[136.360791,-11.54949],[136.377082,-11.58349]]],[[[136.373053,-13.825564],[136.368853,-13.841814],[136.335423,-13.843754],[136.354713,-13.810264],[136.373053,-13.825564]]],[[[136.335427,-11.958279],[136.335427,-11.958279]]],[[[136.147129,-12.053861],[136.131358,-12.039642],[136.132938,-12.025741],[136.192508,-12.027091],[136.189238,-12.000751],[136.199848,-12.021981],[136.217628,-12.035931],[136.271527,-12.00238],[136.281837,-11.97524],[136.312377,-11.985739],[136.317197,-11.992519],[136.197738,-12.060081],[136.194678,-12.076601],[136.161018,-12.065591],[136.128318,-12.073682],[136.118308,-12.061262],[136.119438,-12.050862],[136.147129,-12.053861]]],[[[136.301774,-13.734425],[136.266165,-13.737465],[136.253875,-13.747706],[136.275505,-13.777935],[136.283685,-13.787005],[136.273495,-13.793175],[136.259995,-13.784215],[136.244675,-13.838445],[136.247865,-13.850025],[136.199396,-13.853816],[136.192176,-13.773396],[136.185656,-13.768176],[136.150076,-13.776706],[136.144727,-13.785386],[136.169226,-13.820606],[136.168246,-13.834606],[136.127887,-13.835816],[136.105647,-13.815847],[136.109777,-13.764347],[136.112917,-13.731267],[136.145216,-13.747427],[136.173646,-13.748326],[136.181396,-13.677657],[136.199615,-13.665286],[136.221805,-13.662426],[136.254355,-13.673716],[136.301774,-13.734425]]],[[[136.272863,-13.460176],[136.244334,-13.461887],[136.238744,-13.442667],[136.272863,-13.460176]]],[[[136.248265,-13.594626],[136.225165,-13.600656],[136.219295,-13.588427],[136.248265,-13.594626]]],[[[136.209983,-11.634031],[136.209983,-11.634031]]],[[[136.205914,-13.454747],[136.151024,-13.468317],[136.142125,-13.470317],[136.156245,-13.491267],[136.167725,-13.509837],[136.149985,-13.557897],[136.140525,-13.564187],[136.127034,-13.374578],[136.089224,-13.364708],[136.140784,-13.386437],[136.150504,-13.384667],[136.205914,-13.454747]]],[[[136.15581,-12.189161],[136.11385,-12.199192],[136.10442,-12.189712],[136.1216,-12.167972],[136.15581,-12.189161]]],[[[136.155414,-11.696282],[136.130864,-11.725312],[136.125254,-11.711182],[136.155414,-11.696282]]],[[[136.122792,-11.544183],[136.122792,-11.544183]]],[[[136.108895,-13.464088],[136.082655,-13.471998],[136.074755,-13.482588],[136.082195,-13.443638],[136.108895,-13.464088]]],[[[136.104595,-11.746202],[136.074655,-11.771272],[136.104595,-11.746202]]],[[[136.095613,-13.298418],[136.095613,-13.298418]]],[[[136.090453,-11.582703],[136.090453,-11.582703]]],[[[136.071371,-12.276932],[136.048332,-12.310882],[136.048061,-12.284882],[136.071371,-12.276932]]],[[[136.067733,-11.635683],[136.067733,-11.635683]]],[[[136.056024,-11.653073],[135.981455,-11.714943],[135.950175,-11.696043],[136.009834,-11.648413],[136.024164,-11.639043],[136.056024,-11.653073]]],[[[136.050906,-11.786292],[136.028756,-11.812382],[136.050906,-11.786292]]],[[[136.047429,-12.101182],[136.028,-12.159433],[136.026079,-12.103583],[136.047429,-12.101182]]],[[[135.992587,-11.851112],[135.945968,-11.904633],[135.942087,-11.879653],[135.992587,-11.851112]]],[[[135.978115,-11.737083],[135.940016,-11.763943],[135.937276,-11.749253],[135.978115,-11.737083]]],[[[135.975744,-13.343869],[135.975744,-13.343869]]],[[[135.735321,-11.936628],[135.883537,-11.804114],[135.900167,-11.808203],[135.864886,-11.767594],[135.876486,-11.755624],[135.928196,-11.775003],[135.937917,-11.802593],[135.857988,-11.878434],[135.797619,-11.964684],[135.741819,-11.975565],[135.734859,-12.001675],[135.59206,-12.055526],[135.564621,-12.069766],[135.581489,-11.961246],[135.594139,-11.950766],[135.615569,-11.970466],[135.632079,-11.975025],[135.669789,-11.945945],[135.666829,-11.935655],[135.735321,-11.936628]]],[[[135.768161,-14.875195],[135.764091,-14.901775],[135.707962,-14.912915],[135.686912,-14.903775],[135.709522,-14.851966],[135.725882,-14.834766],[135.768161,-14.875195]]],[[[135.735122,-14.287987],[135.735122,-14.287987]]],[[[135.630353,-14.496197],[135.607973,-14.516337],[135.603083,-14.490337],[135.630353,-14.496197]]],[[[135.169809,-11.702139],[135.169809,-11.702139]]],[[[135.122481,-11.927419],[135.056951,-11.95451],[135.047021,-11.94068],[135.122481,-11.927419]]],[[[135.002893,-12.09141],[134.989573,-12.09383],[134.976433,-12.06569],[135.002893,-12.09141]]],[[[134.990602,-12.03525],[134.958853,-12.05308],[134.960463,-12.0646],[134.910913,-12.033971],[134.908513,-12.023371],[134.990602,-12.03525]]],[[[134.959263,-12.08315],[134.959263,-12.08315]]],[[[134.931963,-12.06193],[134.931963,-12.06193]]],[[[134.929253,-12.09067],[134.904654,-12.137371],[134.869064,-12.125941],[134.866133,-12.070681],[134.847613,-12.042931],[134.929253,-12.09067]]],[[[134.865363,-12.025011],[134.851123,-12.037691],[134.826853,-12.020282],[134.865363,-12.025011]]],[[[134.831323,-12.044541],[134.798153,-12.033082],[134.798003,-12.016802],[134.831323,-12.044541]]],[[[134.222104,-11.953928],[134.222104,-11.953928]]],[[[134.185286,-12.096108],[134.185286,-12.096108]]],[[[133.493357,-11.511193],[133.416458,-11.526773],[133.383088,-11.543123],[133.401578,-11.506193],[133.390018,-11.488443],[133.423588,-11.490613],[133.466588,-11.464312],[133.493357,-11.511193]]],[[[133.481727,-11.615863],[133.426567,-11.629274],[133.421377,-11.645304],[133.415157,-11.625234],[133.388328,-11.633404],[133.396017,-11.673544],[133.370208,-11.681545],[133.364858,-11.642774],[133.349518,-11.623434],[133.392998,-11.603254],[133.409407,-11.584394],[133.481727,-11.615863]]],[[[133.016762,-11.067574],[132.994182,-11.087524],[132.977682,-11.043774],[133.016762,-11.067574]]],[[[132.919843,-11.168825],[132.871923,-11.156055],[132.857293,-11.146075],[132.876753,-11.146695],[132.917283,-11.139894],[132.919843,-11.168825]]],[[[132.876663,-11.046594],[132.870213,-11.060475],[132.852374,-11.058625],[132.876663,-11.046594]]],[[[132.832344,-10.973844],[132.832344,-10.973844]]],[[[132.803154,-11.388587],[132.780134,-11.389427],[132.775364,-11.375857],[132.803154,-11.388587]]],[[[132.733055,-11.285586],[132.733055,-11.285586]]],[[[132.681965,-11.188286],[132.660375,-11.211146],[132.643096,-11.210186],[132.681965,-11.188286]]],[[[132.587027,-10.987207],[132.602336,-11.117766],[132.614416,-11.129726],[132.587846,-11.139406],[132.579996,-11.160046],[132.624806,-11.172846],[132.631276,-11.186196],[132.615146,-11.186146],[132.602716,-11.204746],[132.599746,-11.300066],[132.587976,-11.355817],[132.543256,-11.252306],[132.469817,-11.156935],[132.491797,-11.155216],[132.509937,-11.138226],[132.513306,-11.092496],[132.509346,-11.082536],[132.485687,-11.078386],[132.462417,-11.032556],[132.527226,-11.042626],[132.545246,-11.052496],[132.556756,-10.994316],[132.564476,-10.979186],[132.587027,-10.987207]]],[[[132.462976,-11.621425],[132.462976,-11.621425]]],[[[132.421983,-12.116853],[132.411263,-12.138293],[132.387504,-12.138923],[132.350944,-12.108923],[132.336074,-12.085743],[132.377534,-12.072953],[132.401394,-12.076163],[132.421983,-12.116853]]],[[[132.360224,-12.170493],[132.360224,-12.170493]]],[[[132.339558,-11.524334],[132.339558,-11.524334]]],[[[132.324278,-11.581283],[132.314678,-11.600213],[132.295728,-11.586683],[132.303518,-11.563803],[132.324278,-11.581283]]],[[[132.174529,-11.584052],[132.174529,-11.584052]]],[[[132.149329,-11.606282],[132.13397,-11.627202],[132.1111,-11.620522],[132.11364,-11.575942],[132.121939,-11.564812],[132.149329,-11.606282]]],[[[131.96489,-11.483821],[131.96489,-11.483821]]],[[[130.402355,-11.363409],[130.391048,-11.366734],[130.384008,-11.346304],[130.409028,-11.318104],[130.407079,-11.301731],[130.370058,-11.264865],[130.363498,-11.251205],[130.372588,-11.170955],[130.401657,-11.166135],[130.499926,-11.271953],[130.496286,-11.278583],[130.553795,-11.266443],[130.594844,-11.289212],[130.603774,-11.321361],[130.556485,-11.383171],[130.568295,-11.397611],[130.641083,-11.35631],[130.656573,-11.33596],[130.703491,-11.494226],[130.705871,-11.513636],[130.714151,-11.493166],[130.722781,-11.470286],[130.810789,-11.538514],[130.823969,-11.538364],[130.740141,-11.442487],[130.733711,-11.427647],[130.696882,-11.426658],[130.704562,-11.385318],[130.848272,-11.354036],[130.897309,-11.308917],[130.990237,-11.354544],[131.031607,-11.367293],[131.051097,-11.343004],[131.040937,-11.317754],[131.091947,-11.303684],[131.089277,-11.331794],[131.103037,-11.306114],[131.110817,-11.308194],[131.087617,-11.300384],[131.112677,-11.259065],[131.147747,-11.249875],[131.168366,-11.313453],[131.187596,-11.334903],[131.208096,-11.310943],[131.209336,-11.344062],[131.227736,-11.305483],[131.215336,-11.304763],[131.190736,-11.303063],[131.197776,-11.269554],[131.204016,-11.236045],[131.260306,-11.210955],[131.277136,-11.189525],[131.288206,-11.193865],[131.315275,-11.228214],[131.296205,-11.268113],[131.305105,-11.274583],[131.328875,-11.255953],[131.353275,-11.249963],[131.370865,-11.283693],[131.380814,-11.298202],[131.401304,-11.258303],[131.435824,-11.265902],[131.464174,-11.41249],[131.456474,-11.41957],[131.487973,-11.38717],[131.500233,-11.38361],[131.532403,-11.42471],[131.543133,-11.4522],[131.484023,-11.48766],[131.464973,-11.49786],[131.470333,-11.586739],[131.469803,-11.608099],[131.402844,-11.588839],[131.369105,-11.580943],[131.333964,-11.679259],[131.280395,-11.739789],[131.181905,-11.791749],[131.081916,-11.836209],[130.976437,-11.93315],[130.949287,-11.9401],[130.919377,-11.90045],[130.862288,-11.854651],[130.72496,-11.802673],[130.686341,-11.796444],[130.675321,-11.780444],[130.679811,-11.761714],[130.529015,-11.679468],[130.492625,-11.654929],[130.486235,-11.589519],[130.493805,-11.564078],[130.452086,-11.51674],[130.431867,-11.502561],[130.402355,-11.363409]],[[131.368928,-11.580902],[131.368928,-11.580902]],[[130.40278,-11.361488],[130.40278,-11.361488]]],[[[131.355625,-12.101729],[131.355625,-12.101729]]],[[[131.135234,-12.012368],[131.111884,-12.023833],[131.072878,-12.01497],[131.135234,-12.012368]]],[[[131.126716,-12.059459],[131.105986,-12.075329],[131.061766,-12.069439],[131.126716,-12.059459]]],[[[131.064796,-12.037579],[131.032466,-12.058319],[131.001917,-12.052389],[131.064796,-12.037579]]],[[[131.048206,-12.112169],[131.036536,-12.127899],[131.012397,-12.118239],[131.048206,-12.112169]]],[[[130.872399,-12.548151],[130.872399,-12.548151]]],[[[130.660881,-11.814464],[130.660881,-11.814464]]],[[[130.212679,-11.712187],[130.206531,-11.693834],[130.223001,-11.670414],[130.2951,-11.725763],[130.305919,-11.733012],[130.258451,-11.675194],[130.26554,-11.661733],[130.209861,-11.642644],[130.191281,-11.642675],[130.192021,-11.536685],[130.195611,-11.516175],[130.25531,-11.537304],[130.26149,-11.571044],[130.26735,-11.546474],[130.2833,-11.539854],[130.23342,-11.497955],[130.23087,-11.484735],[130.23159,-11.497845],[130.208801,-11.511555],[130.156601,-11.491206],[130.147981,-11.482066],[130.254829,-11.376545],[130.251679,-11.346485],[130.302879,-11.341405],[130.337428,-11.318615],[130.340843,-11.324449],[130.322339,-11.333345],[130.394388,-11.416103],[130.400138,-11.425023],[130.380838,-11.494443],[130.376168,-11.507003],[130.452576,-11.56702],[130.463716,-11.575009],[130.464676,-11.629359],[130.468346,-11.666179],[130.617383,-11.733966],[130.641115,-11.756842],[130.612542,-11.821155],[130.603662,-11.827085],[130.545793,-11.819007],[130.503384,-11.830348],[130.367818,-11.780131],[130.312259,-11.770892],[130.064924,-11.818515],[130.048854,-11.824076],[130.023794,-11.797326],[130.020444,-11.778906],[130.033154,-11.756296],[130.080754,-11.768806],[130.061484,-11.750936],[130.076503,-11.669096],[130.157252,-11.705065],[130.202311,-11.649434],[130.212679,-11.712187]],[[130.212108,-11.709274],[130.212108,-11.709274]]],[[[130.342921,-11.327712],[130.342921,-11.327712]]],[[[130.544335,-12.704475],[130.494903,-12.596405],[130.484753,-12.580365],[130.508112,-12.574204],[130.517302,-12.557594],[130.510072,-12.590704],[130.502953,-12.610255],[130.544335,-12.704475]]],[[[130.434365,-12.579846],[130.416766,-12.592066],[130.405366,-12.573876],[130.434365,-12.579846]]],[[[130.416196,-12.595006],[130.400667,-12.601807],[130.391797,-12.587107],[130.416196,-12.595006]]],[[[130.408387,-12.608127],[130.401827,-12.615137],[130.385017,-12.602487],[130.408387,-12.608127]]],[[[130.396427,-12.626567],[130.368478,-12.642067],[130.364898,-12.624997],[130.396427,-12.626567]]],[[[130.109606,-13.220099],[130.097606,-13.221249],[130.085006,-13.209869],[130.090966,-13.192789],[130.101936,-13.194009],[130.109606,-13.220099]]],[[[130.075006,-13.17124],[130.020437,-13.17982],[130.018477,-13.11122],[130.027657,-13.15087],[130.075006,-13.17124]]],[[[129.732061,-14.804138],[129.698121,-14.809508],[129.670741,-14.784378],[129.732061,-14.804138]]]]}},{type:"Feature",id:7,properties:{STATE_CODE:"8",STATE_NAME:"Australian Capital Territory"},geometry:{type:"Polygon",coordinates:[[[149.399284,-35.319175],[149.352134,-35.351317],[149.207546,-35.345305],[149.146586,-35.414836],[149.131376,-35.554173],[149.14251,-35.59257],[149.084514,-35.580594],[149.078043,-35.586127],[149.095379,-35.679285],[149.109483,-35.69664],[149.093517,-35.824221],[149.095682,-35.845716],[149.064408,-35.874932],[149.048811,-35.92041],[148.959133,-35.895456],[148.909367,-35.853065],[148.894087,-35.751288],[148.886633,-35.719136],[148.872491,-35.721422],[148.855652,-35.760874],[148.822423,-35.7209],[148.791182,-35.703449],[148.772364,-35.529329],[148.762675,-35.495505],[148.807854,-35.309647],[149.120902,-35.124517],[149.208568,-35.211501],[149.204883,-35.229549],[149.214063,-35.219507],[149.238597,-35.222127],[149.273132,-35.259287],[149.272048,-35.273644],[149.399284,-35.319175]],[[149.153176,-35.304976],[149.083012,-35.296961],[149.071123,-35.298567],[149.153176,-35.304976]]]}}],Bme={type:Ime,features:Rme};function kme({onGeoJsonChange:n,onMercator:e}){const[t,i]=ne.useState(JSON.stringify(Bme)),r=ns.useCallback((o,a)=>{i(o)},[]),s=()=>{let o;try{o=JSON.parse(t)}catch(u){return alert("That JSON syntax doesnt look quite right! Try the console for further details."),console.error(u)}const a=JSON.stringify(o),l=Pme(a),c=JSON.parse(l);e(c),n(o)};return te.jsx("div",{className:"panel",children:te.jsxs("div",{className:"playground-container",children:[te.jsx("header",{children:"Add your own .geojson data."}),te.jsx("div",{className:"center-button-container",children:te.jsx("button",{className:"sub-button",onClick:s,children:"Submit"})}),te.jsx("div",{className:"playground-panel",children:te.jsx(vV,{className:"cm-outer-container",value:`<-- insert geojson --> 
 (Default Australia states)`,extensions:[Tme()],onChange:r})})]})})}const Pme=(n,e=1)=>{const t=/-?\d+\.\d+\s*,\s*-?\d+\.\d+/g;return n.replace(t,r=>{const[s,o]=r.split(",").map(Number),[a,l]=Lme(s,o);return`[${a.toFixed(14)}, ${l.toFixed(14)}, 0]`})};function Lme(n,e){const t=(n+180)/360,i=Math.log(Math.tan((e+90)*(Math.PI/360)))/(Math.PI/180);return[t,i]}function Dme({geoJsonData:n,mercatorData:e}){return te.jsxs(te.Fragment,{children:[te.jsx(B4e,{position:"bottom-left"}),te.jsx(ofe,{makeDefault:!0}),te.jsx("directionalLight",{castShadow:!0,position:[1,2,3],intensity:1.5,"shadow-normalBias":.04}),te.jsx("ambientLight",{intensity:.9}),te.jsx(k4e,{}),te.jsx(E5e,{}),te.jsx(bme,{geoJsonData:n}),te.jsx(P4e,{mercatorData:e})]})}function U8({children:n,style:e,className:t,role:i,title:r}){return ns.createElement("div",{role:i,title:r,className:t,style:e},n)}function yV(n,e){return`${n}__${e}`}function B3(n,e){return`${n}--${e}`}const k3="react-split",Ome=B3(k3,"dragging"),Nme=B3(k3,"vertical"),Fme=B3(k3,"horizontal"),oL=B3(k3,"disabled"),Ume=yV(k3,"pane"),Ug=yV(k3,"sash"),Gme=B3(Ug,"vertical"),zme=B3(Ug,"horizontal"),Qme=B3(Ug,"disabled");function ld(...n){const e=[];for(const t of n){if(!t)continue;const i=typeof t;if(i==="string"||i==="number"){e.push(`${t}`);continue}if(i==="object"){if(t.toString!==Object.prototype.toString){e.push(t.toString());continue}for(const r in t)Object.hasOwnProperty.call(t,r)&&t[r]&&e.push(r)}}return e.join(" ")}function Yv(n,e,t=1/0){return typeof n>"u"?t:typeof n=="number"?n:n.endsWith("%")?e*(+n.replace("%","")/100):n.endsWith("px")?+n.replace("px",""):t}var Hme=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function Vme(n){var{className:e,render:t,onDragStart:i,onDragging:r,onDragEnd:s}=n,o=Hme(n,["className","render","onDragStart","onDragging","onDragEnd"]);const a=ne.useRef(null),[l,c]=ne.useState(!1),[u,h]=ne.useState(!1),f=function(m){r(m)},p=function(m){h(!1),s(m),window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",p)};return ns.createElement("div",Object.assign({role:"Resizer",className:ld(Ug,e),onMouseEnter:()=>{a.current=setTimeout(()=>{c(!0)},150)},onMouseLeave:()=>{a.current&&(c(!1),clearTimeout(a.current))},onMouseDown:m=>{h(!0),i(m),window.addEventListener("mousemove",f),window.addEventListener("mouseup",p)}},o),t(u||l))}var Wme=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function jme(n){var{className:e,children:t,active:i,type:r}=n,s=Wme(n,["className","children","active","type"]);return ns.createElement("div",Object.assign({className:ld("split-sash-content",i&&"split-sash-content-active",r&&`split-sash-content-${r}`,e)},s),t)}var Xme=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const qme=n=>{var e,{children:t,sizes:i,allowResize:r=!0,split:s="vertical",className:o,sashRender:a=(L,D)=>ns.createElement(jme,{active:D,type:"vscode"}),resizerSize:l=4,performanceMode:c=!1,onChange:u=()=>null,onDragStart:h=()=>null,onDragEnd:f=()=>null}=n,p=Xme(n,["children","sizes","allowResize","split","className","sashRender","resizerSize","performanceMode","onChange","onDragStart","onDragEnd"]);const m=ne.useRef({x:0,y:0}),S=ne.useRef(null),v=ne.useRef({sizes:[],sashPosSizes:[]}),[A,y]=ne.useState({}),[x,C]=ne.useState(!1);ne.useEffect(()=>{const L=new ResizeObserver(()=>{var D,F;y((F=(D=S==null?void 0:S.current)===null||D===void 0?void 0:D.getBoundingClientRect())!==null&&F!==void 0?F:{})});return L.observe(S.current),()=>{L.disconnect()}},[]);const{sizeName:w,splitPos:M,splitAxis:T}=ne.useMemo(()=>({sizeName:s==="vertical"?"width":"height",splitPos:s==="vertical"?"left":"top",splitAxis:s==="vertical"?"x":"y"}),[s]),R=(e=A[w])!==null&&e!==void 0?e:0,b=ne.useMemo(()=>t.map(L=>{const D=[0,1/0];if(L.type===U8){const{minSize:F,maxSize:z}=L.props;D[0]=Yv(F,R,0),D[1]=Yv(z,R)}return D}),[t,R]),B=ne.useMemo(function(){let L=0,D=0;const F=t.map((z,U)=>{const $=Yv(i[U],R);return $===1/0?L++:D+=$,$});if(D>R||!L&&D<R){const z=(D-R)/D;return F.map(U=>U===1/0?0:U-U*z)}if(L>0){const z=(R-D)/L;return F.map(U=>U===1/0?z:U)}return F},[...i,t.length,R]),P=ne.useMemo(()=>B.reduce((L,D)=>[...L,L[L.length-1]+D],[0]),[...B]),O=ne.useCallback(function(L){var D,F;(F=(D=document==null?void 0:document.body)===null||D===void 0?void 0:D.classList)===null||F===void 0||F.add(oL),m.current={x:L.pageX,y:L.pageY},v.current={sizes:B,sashPosSizes:P},C(!0),h(L)},[h,B,P]),G=ne.useCallback(function(L){var D,F;(F=(D=document==null?void 0:document.body)===null||D===void 0?void 0:D.classList)===null||F===void 0||F.remove(oL),m.current={x:L.pageX,y:L.pageY},v.current={sizes:B,sashPosSizes:P},C(!1),f(L)},[f,B,P]),H=ne.useCallback(function(L,D){let z={x:L.pageX,y:L.pageY}[T]-m.current[T];const U=-Math.min(B[D]-b[D][0],b[D+1][1]-B[D+1]),$=Math.min(B[D+1]-b[D+1][0],b[D][1]-B[D]);z<U&&(z=U),z>$&&(z=$);const ee=[...B];ee[D]+=z,ee[D+1]-=z,u(ee)},[b,u]),j=!(c&&x),q=j?B:v.current.sizes,J=j?P:v.current.sashPosSizes;return ns.createElement("div",Object.assign({className:ld(k3,s==="vertical"&&Nme,s==="horizontal"&&Fme,x&&Ome,o),ref:S},p),t.map((L,D)=>{const F=L.type===U8,z=F?L.props:{};return ns.createElement(U8,{key:D,className:ld(Ume,z.className),style:Object.assign(Object.assign({},z.style),{[w]:q[D],[M]:J[D]})},F?z.children:L)}),P.slice(1,-1).map((L,D)=>ns.createElement(Vme,{key:D,className:ld(!r&&Qme,s==="vertical"?Gme:zme),style:{[w]:l,[M]:L-l/2},render:a.bind(null,D),onDragStart:O,onDragging:F=>H(F,D),onDragEnd:G})))};function Yme(){const[n,e]=ne.useState(null),[t,i]=ne.useState(null),r=c=>{e(c)},s=c=>{console.log("Mercator data updated :)"),i(c)},[o,a]=ne.useState(["80%","auto"]),l={height:"100%",display:"flex",alignItems:"center",justifyContent:"center"};return te.jsx("div",{style:{height:"100%"},children:te.jsxs(qme,{split:"vertical",sizes:o,onChange:a,children:[te.jsx(U8,{minSize:50,maxSize:"99%",children:te.jsx("div",{style:{...l,background:"#ddd"},children:te.jsx(OF,{camera:{fov:45,near:.1,far:1e4,position:[0,0,300]},children:te.jsx(Dme,{geoJsonData:n,mercatorData:t})})})}),te.jsx("div",{style:{...l,background:"#d5d7d9"},children:te.jsx(kme,{onGeoJsonChange:r,onMercator:s})})]})})}const Kme=Kv.createRoot(document.querySelector("#root"));Kme.render(te.jsx(Yme,{}))});export default Jme();
//# sourceMappingURL=index-20ac677b.js.map
